/**
 *	8.2.0
 *	Generation date: 2022-02-18T13:21:32.984Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2023/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
g9BGt[356525]=(function(){var D1t=2;for(;D1t !== 9;){switch(D1t){case 1:return globalThis;break;case 5:var S2K;try{var x05=2;for(;x05 !== 6;){switch(x05){case 9:delete S2K['\u004d\x33\x78\x7a\x49'];var F_x=Object['\u0070\u0072\x6f\u0074\u006f\x74\x79\x70\u0065'];delete F_x['\u006e\x24\x6b\u0044\x57'];x05=6;break;case 3:throw "";x05=9;break;case 4:x05=typeof M3xzI === '\x75\u006e\x64\u0065\x66\x69\x6e\u0065\u0064'?3:9;break;case 5:S2K['\u004d\x33\u0078\u007a\x49']=S2K;x05=4;break;case 2:Object['\u0064\u0065\u0066\x69\u006e\u0065\u0050\x72\x6f\x70\u0065\x72\x74\u0079'](Object['\x70\u0072\u006f\x74\x6f\u0074\x79\x70\u0065'],'\x6e\u0024\u006b\u0044\x57',{'\x67\x65\x74':function(){var k0R=2;for(;k0R !== 1;){switch(k0R){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});S2K=n$kDW;x05=5;break;}}}catch(C4k){S2K=window;}return S2K;break;case 2:D1t=typeof globalThis === '\u006f\x62\x6a\x65\u0063\u0074'?1:5;break;}}})();J$Y(g9BGt[356525]);g9BGt.X$L=function(){return typeof g9BGt[459327].Z7m4YCh === 'function'?g9BGt[459327].Z7m4YCh.apply(g9BGt[459327],arguments):g9BGt[459327].Z7m4YCh;};g9BGt.O90=function(){return typeof g9BGt[459327].Z7m4YCh === 'function'?g9BGt[459327].Z7m4YCh.apply(g9BGt[459327],arguments):g9BGt[459327].Z7m4YCh;};g9BGt.i7j=function(){return typeof g9BGt[50848].w4xZ2A7 === 'function'?g9BGt[50848].w4xZ2A7.apply(g9BGt[50848],arguments):g9BGt[50848].w4xZ2A7;};g9BGt.D8z=function(){return typeof g9BGt[459327].q52sdNp === 'function'?g9BGt[459327].q52sdNp.apply(g9BGt[459327],arguments):g9BGt[459327].q52sdNp;};g9BGt[106140]=646;g9BGt[220353]=446;g9BGt[150036]=(function(){var M4_=2;for(;M4_ !== 9;){switch(M4_){case 3:return y8s[3];break;case 2:var y8s=[arguments];y8s[6]=undefined;y8s[3]={};y8s[3].V3nM4Cy=function(){var P8b=2;for(;P8b !== 90;){switch(P8b){case 37:Z17[88].k0W=function(){var t4u=function(){return String.fromCharCode(0x61);};var J$z=!(/\u0030\u0078\u0036\u0031/).D3uQW(t4u + []);return J$z;};Z17[79]=Z17[88];Z17[6].w0FPH(Z17[5]);P8b=53;break;case 68:P8b=40?68:67;break;case 4:Z17[6]=[];Z17[8]={};Z17[8].d9n=['E9g'];Z17[8].k0W=function(){var u9g=function(){return ('ab').charAt(1);};var G0W=!(/\u0061/).D3uQW(u9g + []);return G0W;};Z17[1]=Z17[8];Z17[9]={};Z17[9].d9n=['E9g'];P8b=13;break;case 76:P8b=Z17[33] < Z17[61][Z17[22]].length?75:70;break;case 67:y8s[6]=25;return 79;break;case 50:Z17[6].w0FPH(Z17[70]);Z17[6].w0FPH(Z17[95]);Z17[6].w0FPH(Z17[7]);Z17[6].w0FPH(Z17[79]);P8b=46;break;case 46:Z17[6].w0FPH(Z17[42]);Z17[6].w0FPH(Z17[2]);Z17[38]=[];Z17[89]='q$_';Z17[80]='V5h';P8b=62;break;case 53:Z17[6].w0FPH(Z17[58]);Z17[6].w0FPH(Z17[21]);Z17[6].w0FPH(Z17[1]);P8b=50;break;case 30:Z17[82]={};Z17[82].d9n=['F8k'];Z17[82].k0W=function(){var a$4=typeof L91BQi === 'function';return a$4;};Z17[70]=Z17[82];Z17[90]={};Z17[90].d9n=['F8k'];Z17[90].k0W=function(){var d17=typeof n5gSWo === 'function';return d17;};P8b=40;break;case 5:return 28;break;case 69:P8b=(function(C3h){var a4p=2;for(;a4p !== 22;){switch(a4p){case 4:W4Q[5]={};W4Q[8]=[];W4Q[2]=0;a4p=8;break;case 20:W4Q[5][W4Q[3][Z17[19]]].h+=true;a4p=19;break;case 5:return;break;case 14:a4p=typeof W4Q[5][W4Q[3][Z17[19]]] === 'undefined'?13:11;break;case 19:W4Q[2]++;a4p=7;break;case 1:a4p=W4Q[0][0].length === 0?5:4;break;case 25:W4Q[7]=true;a4p=24;break;case 17:W4Q[2]=0;a4p=16;break;case 15:W4Q[6]=W4Q[8][W4Q[2]];W4Q[9]=W4Q[5][W4Q[6]].h / W4Q[5][W4Q[6]].t;a4p=26;break;case 18:W4Q[7]=false;a4p=17;break;case 13:W4Q[5][W4Q[3][Z17[19]]]=(function(){var y9M=2;for(;y9M !== 9;){switch(y9M){case 2:var Y7c=[arguments];Y7c[7]={};Y7c[7].h=0;Y7c[7].t=0;return Y7c[7];break;}}}).G3vgZj(this,arguments);a4p=12;break;case 23:return W4Q[7];break;case 6:W4Q[3]=W4Q[0][0][W4Q[2]];a4p=14;break;case 2:var W4Q=[arguments];a4p=1;break;case 8:W4Q[2]=0;a4p=7;break;case 24:W4Q[2]++;a4p=16;break;case 12:W4Q[8].w0FPH(W4Q[3][Z17[19]]);a4p=11;break;case 11:W4Q[5][W4Q[3][Z17[19]]].t+=true;a4p=10;break;case 26:a4p=W4Q[9] >= 0.5?25:24;break;case 10:a4p=W4Q[3][Z17[47]] === Z17[89]?20:19;break;case 7:a4p=W4Q[2] < W4Q[0][0].length?6:18;break;case 16:a4p=W4Q[2] < W4Q[8].length?15:23;break;}}})(Z17[38])?68:67;break;case 57:P8b=Z17[40] < Z17[6].length?56:69;break;case 1:P8b=y8s[6]?5:4;break;case 58:Z17[40]=0;P8b=57;break;case 56:Z17[61]=Z17[6][Z17[40]];try{Z17[44]=Z17[61][Z17[59]]()?Z17[89]:Z17[80];}catch(X2L){Z17[44]=Z17[80];}P8b=77;break;case 32:Z17[41].k0W=function(){var G6z=false;var Y4P=[];try{for(var j3s in console){Y4P.w0FPH(j3s);}G6z=Y4P.length === 0;}catch(L20){}var p9R=G6z;return p9R;};Z17[95]=Z17[41];P8b=30;break;case 17:Z17[3].d9n=['E9g'];Z17[3].k0W=function(){var b1W=function(){return ('aa').charCodeAt(1);};var L8T=(/\x39\x37/).D3uQW(b1W + []);return L8T;};Z17[7]=Z17[3];Z17[66]={};Z17[66].d9n=['E9g'];Z17[66].k0W=function(){var M0U=function(){return unescape('%3D');};var x2Y=(/\u003d/).D3uQW(M0U + []);return x2Y;};P8b=24;break;case 71:Z17[33]++;P8b=76;break;case 75:Z17[11]={};Z17[11][Z17[19]]=Z17[61][Z17[22]][Z17[33]];Z17[11][Z17[47]]=Z17[44];Z17[38].w0FPH(Z17[11]);P8b=71;break;case 24:Z17[58]=Z17[66];Z17[27]={};Z17[27].d9n=['E9g'];Z17[27].k0W=function(){var m7r=function(){return ('c').indexOf('c');};var W1j=!(/['"]/).D3uQW(m7r + []);return W1j;};Z17[42]=Z17[27];Z17[41]={};Z17[41].d9n=['F8k'];P8b=32;break;case 77:Z17[33]=0;P8b=76;break;case 59:Z17[19]='B0P';P8b=58;break;case 40:Z17[21]=Z17[90];Z17[88]={};Z17[88].d9n=['E9g'];P8b=37;break;case 2:var Z17=[arguments];P8b=1;break;case 13:Z17[9].k0W=function(){var Q14=function(){return ('x y').slice(0,1);};var E8A=!(/\u0079/).D3uQW(Q14 + []);return E8A;};Z17[5]=Z17[9];Z17[4]={};Z17[4].d9n=['F8k'];Z17[4].k0W=function(){var F3c=typeof E8itG === 'function';return F3c;};Z17[2]=Z17[4];Z17[3]={};P8b=17;break;case 70:Z17[40]++;P8b=57;break;case 62:Z17[22]='d9n';Z17[47]='X_r';Z17[59]='k0W';P8b=59;break;}}};M4_=3;break;}}})();g9BGt.Z_e=function(){return typeof g9BGt[150036].V3nM4Cy === 'function'?g9BGt[150036].V3nM4Cy.apply(g9BGt[150036],arguments):g9BGt[150036].V3nM4Cy;};function g9BGt(){}g9BGt[356525].J3KK=g9BGt;g9BGt.l9L=function(){return typeof g9BGt[50848].w4xZ2A7 === 'function'?g9BGt[50848].w4xZ2A7.apply(g9BGt[50848],arguments):g9BGt[50848].w4xZ2A7;};function J$Y(k4E){function R$S(D1O){var B51=2;for(;B51 !== 5;){switch(B51){case 2:var e$6=[arguments];B51=1;break;case 1:return e$6[0][0].Function;break;}}}function r7B(D2M){var V0L=2;for(;V0L !== 5;){switch(V0L){case 2:var e8E=[arguments];return e8E[0][0];break;}}}var Q$E=2;for(;Q$E !== 101;){switch(Q$E){case 78:a$i(n$Y,"push",M9n[91],M9n[93]);Q$E=104;break;case 53:M9n[55]="5gSW";M9n[70]="n";M9n[73]="gZj";M9n[87]="";Q$E=49;break;case 44:M9n[92]="__ab";M9n[19]="";M9n[19]="esidual";M9n[85]="";M9n[85]="";M9n[85]="r";Q$E=38;break;case 68:M9n[68]+=M9n[62];M9n[68]+=M9n[7];M9n[45]=M9n[8];M9n[45]+=M9n[79];Q$E=89;break;case 85:M9n[96]=M9n[5];M9n[96]+=M9n[9];M9n[96]+=M9n[6];Q$E=82;break;case 89:M9n[45]+=M9n[3];M9n[32]=M9n[4];M9n[32]+=M9n[2];M9n[32]+=M9n[1];Q$E=85;break;case 80:a$i(d0E,"test",M9n[91],M9n[32]);Q$E=79;break;case 103:a$i(r7B,M9n[48],M9n[99],M9n[84]);Q$E=102;break;case 73:M9n[98]+=M9n[49];M9n[93]=M9n[94];M9n[93]+=M9n[47];M9n[93]+=M9n[18];M9n[68]=M9n[24];Q$E=68;break;case 49:M9n[87]="v";M9n[13]="";M9n[13]="G3";M9n[91]=1;Q$E=45;break;case 62:M9n[36]+=M9n[73];M9n[84]=M9n[70];M9n[84]+=M9n[55];M9n[84]+=M9n[26];Q$E=58;break;case 79:a$i(r7B,M9n[45],M9n[99],M9n[68]);Q$E=78;break;case 45:M9n[99]=1;M9n[99]=0;M9n[36]=M9n[13];M9n[36]+=M9n[87];Q$E=62;break;case 31:M9n[58]="s";M9n[30]="1";M9n[63]="L9";M9n[49]="tract";Q$E=44;break;case 77:M9n[35]+=M9n[30];M9n[35]+=M9n[67];M9n[98]=M9n[92];M9n[98]+=M9n[58];Q$E=73;break;case 3:M9n[9]="";M9n[9]="";M9n[9]="2";M9n[1]="QW";M9n[2]="";M9n[2]="";Q$E=13;break;case 81:a$i(E7d,"charCodeAt",M9n[91],M9n[96]);Q$E=80;break;case 58:M9n[48]=M9n[95];M9n[48]+=M9n[85];M9n[48]+=M9n[19];M9n[35]=M9n[63];Q$E=77;break;case 20:M9n[3]="e";M9n[5]="l";M9n[8]="";M9n[8]="__opti";Q$E=16;break;case 38:M9n[26]="";M9n[95]="__";M9n[26]="o";M9n[70]="";Q$E=53;break;case 104:a$i(r7B,M9n[98],M9n[99],M9n[35]);Q$E=103;break;case 2:var M9n=[arguments];M9n[6]="";M9n[6]="";M9n[6]="vYd";Q$E=3;break;case 21:M9n[94]="w0";M9n[62]="8it";M9n[67]="";M9n[67]="BQi";M9n[18]="PH";Q$E=31;break;case 82:var a$i=function(S$v,r7Y,U_L,g28){var M21=2;for(;M21 !== 5;){switch(M21){case 2:var N1L=[arguments];z8c(M9n[0][0],N1L[0][0],N1L[0][1],N1L[0][2],N1L[0][3]);M21=5;break;}}};Q$E=81;break;case 25:M9n[24]="E";M9n[47]="";M9n[47]="F";M9n[94]="";Q$E=21;break;case 13:M9n[2]="3u";M9n[4]="";M9n[4]="D";M9n[3]="";Q$E=20;break;case 102:a$i(R$S,"apply",M9n[91],M9n[36]);Q$E=101;break;case 16:M9n[7]="";M9n[7]="G";M9n[24]="";M9n[79]="miz";Q$E=25;break;}}function n$Y(X43){var c3M=2;for(;c3M !== 5;){switch(c3M){case 2:var o4R=[arguments];return o4R[0][0].Array;break;}}}function z8c(U$N,s32,f38,o8T,u3X){var Z7x=2;for(;Z7x !== 14;){switch(Z7x){case 3:v38[5]="ePr";v38[8]="defin";v38[7]=true;v38[7]=false;try{var C0b=2;for(;C0b !== 13;){switch(C0b){case 4:C0b=v38[9].hasOwnProperty(v38[0][4]) && v38[9][v38[0][4]] === v38[9][v38[0][2]]?3:9;break;case 9:v38[9][v38[0][4]]=v38[9][v38[0][2]];v38[4].set=function(D_B){var E08=2;for(;E08 !== 5;){switch(E08){case 2:var e2p=[arguments];v38[9][v38[0][2]]=e2p[0][0];E08=5;break;}}};v38[4].get=function(){var U6J=2;for(;U6J !== 13;){switch(U6J){case 6:P24[5]+=P24[1];return typeof v38[9][v38[0][2]] == P24[5]?undefined:v38[9][v38[0][2]];break;case 3:P24[7]="";P24[7]="un";P24[5]=P24[7];P24[5]+=P24[4];U6J=6;break;case 2:var P24=[arguments];P24[1]="";P24[1]="ned";P24[4]="defi";U6J=3;break;}}};C0b=6;break;case 6:v38[4].enumerable=v38[7];try{var l9h=2;for(;l9h !== 3;){switch(l9h){case 2:v38[1]=v38[8];v38[1]+=v38[5];l9h=5;break;case 5:v38[1]+=v38[2];v38[0][0].Object[v38[1]](v38[9],v38[0][4],v38[4]);l9h=3;break;}}}catch(w7A){}C0b=13;break;case 2:v38[4]={};v38[3]=(1,v38[0][1])(v38[0][0]);v38[9]=[v38[3],v38[3].prototype][v38[0][3]];C0b=4;break;case 3:return;break;}}}catch(L0q){}Z7x=14;break;case 2:var v38=[arguments];v38[5]="";v38[2]="operty";v38[5]="";Z7x=3;break;}}}function d0E(G76){var J$l=2;for(;J$l !== 5;){switch(J$l){case 2:var N5a=[arguments];return N5a[0][0].RegExp;break;}}}function E7d(k$V){var k9f=2;for(;k9f !== 5;){switch(k9f){case 2:var N5W=[arguments];return N5W[0][0].String;break;}}}}g9BGt[345871]=g9BGt[50848];g9BGt.t1w=function(){return typeof g9BGt[459327].q52sdNp === 'function'?g9BGt[459327].q52sdNp.apply(g9BGt[459327],arguments):g9BGt[459327].q52sdNp;};g9BGt[459327]=(function(l2r){return {q52sdNp:function(){var r5I,M3S=arguments;switch(l2r){case 71:r5I=(M3S[3] - M3S[0]) / (M3S[2] - M3S[1]);break;case 99:r5I=-(M3S[0] - M3S[3]) * M3S[2] + M3S[1];break;case 60:r5I=-M3S[2] * M3S[1] + M3S[0];break;case 135:r5I=-M3S[1] - M3S[0] + M3S[2] + M3S[3];break;case 186:r5I=M3S[3] + M3S[1] / M3S[0] + M3S[2];break;case 32:r5I=M3S[0] / M3S[2] * M3S[1] + M3S[3];break;case 188:r5I=M3S[0] + (M3S[5] / M3S[2] - M3S[4] / (M3S[3] * M3S[1]));break;case 49:r5I=(M3S[2] - M3S[3]) / M3S[0] + M3S[1];break;case 26:r5I=M3S[2] - M3S[1] * M3S[0];break;case 122:r5I=(-M3S[1] + M3S[0]) / M3S[3] - M3S[2];break;case 133:r5I=M3S[3] * M3S[4] * M3S[0] / M3S[2] + M3S[1];break;case 165:r5I=(M3S[2] + M3S[3] + M3S[1]) / M3S[4] + M3S[0];break;case 31:r5I=M3S[3] * M3S[2] - M3S[0] - M3S[1];break;case 94:r5I=M3S[2] * M3S[1] + M3S[0];break;case 96:r5I=-M3S[0] * M3S[3] * M3S[1] + M3S[2];break;case 139:r5I=-M3S[0] - M3S[2] + M3S[1];break;case 121:r5I=M3S[0] + (M3S[2] << M3S[1]);break;case 97:r5I=M3S[2] + M3S[1] * M3S[0];break;case 169:r5I=M3S[1] > M3S[0];break;case 155:r5I=(M3S[3] + M3S[4]) / M3S[0] * M3S[2] - M3S[1];break;case 162:r5I=(M3S[0] + M3S[1]) / M3S[2] + M3S[3];break;case 78:r5I=M3S[0] + +M3S[1];break;case 102:r5I=(M3S[2] - M3S[0] - M3S[3]) / M3S[1] + M3S[4];break;case 18:r5I=M3S[0] >> M3S[1];break;case 151:r5I=-M3S[3] - M3S[0] + M3S[1] - M3S[2] + M3S[4];break;case 152:r5I=-M3S[4] + M3S[1] + M3S[0] + M3S[3] - M3S[2];break;case 131:r5I=(M3S[3] * M3S[0] - M3S[1]) / M3S[2] - M3S[4];break;case 173:r5I=+M3S[3] * (M3S[1] - M3S[2] % M3S[0]);break;case 30:r5I=M3S[1] - (M3S[0] | M3S[2]);break;case 56:r5I=M3S[0] * M3S[3] * M3S[2] - M3S[1];break;case 55:r5I=-M3S[1] + M3S[2] + M3S[0];break;case 88:r5I=M3S[1] - M3S[3] * (M3S[0] - M3S[2]);break;case 175:r5I=M3S[3] - M3S[1] + (M3S[0] | M3S[2]);break;case 111:r5I=M3S[0] - M3S[3] - (M3S[1] - M3S[2]);break;case 85:r5I=M3S[0] / +M3S[1];break;case 184:r5I=M3S[3] + M3S[2] * M3S[0] + M3S[1];break;case 47:r5I=(M3S[2] + M3S[1]) / (M3S[3] ^ M3S[0]);break;case 61:r5I=-M3S[0] + M3S[3] + M3S[2] - M3S[1];break;case 138:r5I=(M3S[0] - M3S[4] + M3S[3]) / M3S[1] - M3S[2];break;case 48:r5I=(M3S[0] + M3S[1]) / +M3S[2];break;case 75:r5I=+M3S[1] / M3S[0];break;case 79:r5I=M3S[4] * M3S[2] + M3S[3] + M3S[1] - M3S[0];break;case 27:r5I=-M3S[0] / M3S[3] + M3S[1] - M3S[2];break;case 72:r5I=(M3S[0] - M3S[2]) / M3S[3] - M3S[1];break;case 101:r5I=M3S[2] + (M3S[6] - M3S[4]) / (M3S[5] - M3S[0]) * (M3S[3] - M3S[1]);break;case 171:r5I=(M3S[3] * M3S[1] + M3S[2]) / M3S[0] + M3S[4];break;case 161:r5I=(M3S[0] - M3S[3]) * M3S[4] - M3S[2] + M3S[1];break;case 0:r5I=M3S[0] | M3S[1];break;case 98:r5I=(M3S[0] + M3S[2]) / (M3S[1] | M3S[3]);break;case 87:r5I=M3S[1] + (M3S[3] - M3S[2]) / M3S[0];break;case 23:r5I=M3S[1] / M3S[0];break;case 82:r5I=M3S[1] - M3S[3] - M3S[0] - M3S[2];break;case 20:r5I=M3S[1] / M3S[2] + M3S[0] - M3S[3];break;case 28:r5I=M3S[1] / M3S[0] + M3S[2] + M3S[3];break;case 147:r5I=(M3S[4] + M3S[3]) * M3S[1] / M3S[0] - M3S[2];break;case 39:r5I=(M3S[2] + M3S[3]) * M3S[4] - M3S[1] - M3S[0];break;case 100:r5I=(M3S[2] + M3S[3]) / M3S[4] / M3S[0] + M3S[1];break;case 1:r5I=M3S[0] + M3S[1];break;case 160:r5I=-M3S[3] - M3S[4] + M3S[0] + M3S[2] + M3S[1];break;case 140:r5I=-M3S[2] * M3S[0] + M3S[1] + M3S[3];break;case 114:r5I=-M3S[1] * M3S[2] / M3S[0] + M3S[3] + M3S[4];break;case 95:r5I=M3S[0] + M3S[2] + M3S[1];break;case 53:r5I=M3S[2] + M3S[1] / M3S[0];break;case 83:r5I=(M3S[2] + M3S[0] + M3S[4]) * M3S[1] - M3S[3];break;case 183:r5I=M3S[2] - M3S[1] * M3S[3] - M3S[0];break;case 176:r5I=M3S[1] * M3S[3] / M3S[0] - M3S[2];break;case 13:r5I=(M3S[0] / M3S[3] + M3S[2]) * M3S[4] - M3S[1];break;case 76:r5I=(M3S[1] - M3S[2]) * (M3S[5] - M3S[0]) / (M3S[6] - M3S[4]) + M3S[3];break;case 166:r5I=(-M3S[0] + M3S[2]) * M3S[3] + M3S[4] + M3S[1];break;case 103:r5I=(M3S[2] * M3S[3] + M3S[1]) / M3S[0];break;case 17:r5I=(M3S[3] * M3S[4] + M3S[0]) * M3S[2] - M3S[1];break;case 164:r5I=M3S[3] / M3S[4] * M3S[1] * M3S[0] - M3S[2];break;case 19:r5I=(M3S[0] + M3S[3] - M3S[2]) * M3S[1] + M3S[4];break;case 104:r5I=(M3S[3] * M3S[1] + M3S[2]) / +M3S[0];break;case 33:r5I=M3S[0] - (M3S[2] - M3S[1]);break;case 156:r5I=M3S[3] * (M3S[2] / M3S[0] - M3S[1]);break;case 105:r5I=(M3S[2] + M3S[1] * M3S[0]) / +M3S[3];break;case 67:r5I=(M3S[2] + M3S[1]) * M3S[3] - M3S[0];break;case 74:r5I=-M3S[3] - M3S[1] - M3S[0] + M3S[2];break;case 73:r5I=-M3S[1] * M3S[4] + M3S[2] - M3S[3] + M3S[0];break;case 10:r5I=M3S[0] - M3S[3] + M3S[1] + M3S[2];break;case 70:r5I=M3S[0] < M3S[1];break;case 182:r5I=-M3S[3] * M3S[2] - M3S[1] + M3S[0];break;case 134:r5I=M3S[3] + M3S[1] + M3S[4] + M3S[2] + M3S[0];break;case 116:r5I=M3S[1] - M3S[0] + M3S[3] - M3S[2] + M3S[4];break;case 159:r5I=(-M3S[1] + M3S[3]) / M3S[4] + M3S[2] - M3S[0];break;case 54:r5I=M3S[2] - M3S[1] / +M3S[0];break;case 129:r5I=(M3S[0] - M3S[1]) * M3S[3] * M3S[2] - M3S[4];break;case 63:r5I=M3S[0] * M3S[1] * M3S[4] + M3S[3] - M3S[2];break;case 6:r5I=M3S[1] + M3S[2] - M3S[0] - M3S[3];break;case 91:r5I=M3S[4] * (M3S[2] * M3S[1] + M3S[3]) / M3S[0];break;case 93:r5I=(M3S[0] - M3S[2] * M3S[1]) / M3S[3];break;case 90:r5I=M3S[2] * (M3S[4] + (M3S[3] - M3S[0])) / M3S[1];break;case 158:r5I=(M3S[1] - M3S[4]) * M3S[0] + M3S[2] - M3S[3];break;case 81:r5I=M3S[2] + M3S[1] + M3S[3] - M3S[0];break;case 168:r5I=M3S[1] / (M3S[0] * M3S[3]) <= M3S[2];break;case 36:r5I=M3S[2] * M3S[0] - M3S[4] + M3S[3] - M3S[1];break;case 137:r5I=(M3S[4] - M3S[1]) / M3S[2] / M3S[0] + M3S[3];break;case 37:r5I=(-M3S[0] - M3S[2]) / M3S[1] + M3S[3];break;case 130:r5I=(M3S[1] + M3S[0]) * M3S[4] + M3S[3] - M3S[2];break;case 57:r5I=M3S[0] / M3S[1] - M3S[2];break;case 66:r5I=M3S[2] * M3S[0] / M3S[3] + M3S[1];break;case 146:r5I=(M3S[2] << M3S[4]) * M3S[3] / (M3S[1] + M3S[0]);break;case 86:r5I=(M3S[2] << M3S[1]) / M3S[0];break;case 52:r5I=M3S[2] - M3S[1] / M3S[0];break;case 38:r5I=M3S[2] * M3S[0] - M3S[1];break;case 22:r5I=M3S[1] + M3S[0] + M3S[2] + M3S[3] - M3S[4];break;case 16:r5I=(M3S[3] + M3S[2] + M3S[4] + M3S[1]) / +M3S[0];break;case 62:r5I=(M3S[4] / M3S[0] + M3S[1]) / M3S[3] - M3S[2];break;case 8:r5I=M3S[1] * M3S[0];break;case 150:r5I=M3S[2] * M3S[1] * M3S[0];break;case 65:r5I=(M3S[2] - M3S[0]) * M3S[3] - M3S[1];break;case 69:r5I=(M3S[3] << M3S[0]) * M3S[2] - M3S[1];break;case 118:r5I=+M3S[2] * M3S[1] / M3S[0];break;case 144:r5I=M3S[4] * M3S[3] * M3S[2] / M3S[0] - M3S[1];break;case 21:r5I=(M3S[2] + M3S[0] - M3S[4]) * M3S[1] - M3S[3];break;case 167:r5I=(M3S[2] % M3S[3] + M3S[0]) * M3S[1];break;case 157:r5I=M3S[3] + M3S[0] * (M3S[1] - M3S[2]);break;case 109:r5I=M3S[6] + M3S[3] + M3S[4] + M3S[2] + M3S[5] + M3S[0] + M3S[7] + M3S[1];break;case 15:r5I=(M3S[0] + M3S[2]) / M3S[3] - M3S[1];break;case 123:r5I=(M3S[2] + M3S[0]) * M3S[1];break;case 3:r5I=M3S[1] ^ M3S[0];break;case 51:r5I=(-M3S[3] * M3S[2] + M3S[4]) / M3S[1] + M3S[0];break;case 84:r5I=(M3S[1] - M3S[0]) / +M3S[2];break;case 44:r5I=M3S[4] * M3S[0] / M3S[1] - M3S[2] + M3S[3];break;case 59:r5I=(M3S[1] - M3S[0]) / (M3S[4] - M3S[3]) > M3S[2];break;case 149:r5I=(M3S[0] - M3S[1]) * M3S[3] * M3S[4] + M3S[2];break;case 5:r5I=M3S[0] + M3S[2] - M3S[1];break;case 170:r5I=M3S[2] * (M3S[1] + +M3S[0]);break;case 89:r5I=M3S[0] - +M3S[1];break;case 14:r5I=-M3S[2] + M3S[1] - M3S[0];break;case 115:r5I=M3S[2] * M3S[0] + M3S[1] - M3S[3];break;case 24:r5I=(-M3S[4] * M3S[3] - M3S[0]) / M3S[1] + M3S[2];break;case 113:r5I=M3S[2] + M3S[1] + M3S[0] + M3S[3];break;case 34:r5I=(M3S[1] - M3S[2]) / M3S[0];break;case 136:r5I=(-M3S[3] - M3S[0]) / M3S[1] - M3S[2];break;case 25:r5I=M3S[0] + +M3S[1] * M3S[2];break;case 181:r5I=M3S[3] * M3S[2] - M3S[0] - M3S[1] - M3S[4];break;case 148:r5I=M3S[1] / M3S[0] / M3S[4] + M3S[3] - M3S[2];break;case 125:r5I=(M3S[1] + M3S[3] + M3S[0]) / M3S[4] - M3S[2];break;case 7:r5I=M3S[1] - M3S[0];break;case 50:r5I=-M3S[0] + M3S[1];break;case 187:r5I=M3S[0] * M3S[2] / (M3S[1] + M3S[3]);break;case 124:r5I=(-M3S[4] + M3S[1]) / M3S[3] / M3S[2] + M3S[0];break;case 172:r5I=M3S[3] * M3S[2] - M3S[1] / (M3S[0] + M3S[4]);break;case 178:r5I=M3S[0] * -M3S[1];break;case 43:r5I=(M3S[2] - M3S[1]) * M3S[3] + M3S[0];break;case 143:r5I=(M3S[1] - M3S[4] + M3S[0]) / M3S[2] + M3S[3];break;case 12:r5I=M3S[2] / (M3S[1] * M3S[0]);break;case 110:r5I=M3S[0] * (M3S[2] >> M3S[1]);break;case 40:r5I=M3S[0] - M3S[2] - M3S[1];break;case 35:r5I=M3S[1] << M3S[0];break;case 145:r5I=M3S[3] - M3S[1] - M3S[2] + M3S[0] + M3S[4];break;case 58:r5I=M3S[2] + M3S[1] + M3S[0] - M3S[3] - M3S[4];break;case 117:r5I=-M3S[2] / M3S[0] + M3S[1];break;case 107:r5I=M3S[2] - (M3S[1] >> M3S[0]);break;case 77:r5I=M3S[0] / M3S[1] + M3S[2];break;case 119:r5I=M3S[0] * M3S[2] / M3S[1];break;case 64:r5I=M3S[0] * M3S[4] / M3S[3] * M3S[1] + M3S[2];break;case 108:r5I=M3S[2] - (M3S[1] ^ M3S[0]);break;case 112:r5I=(M3S[1] - (M3S[2] + +M3S[0])) / M3S[3];break;case 163:r5I=(M3S[1] + M3S[0]) * M3S[2] * M3S[3] - M3S[4];break;case 46:r5I=M3S[1] + (M3S[2] - M3S[0]);break;case 29:r5I=M3S[1] % M3S[0];break;case 42:r5I=M3S[4] + M3S[0] - M3S[2] - M3S[3] + M3S[1];break;case 41:r5I=M3S[1] / M3S[0] * M3S[3] - M3S[2];break;case 185:r5I=M3S[0] == M3S[1];break;case 132:r5I=M3S[2] / M3S[0] - +M3S[1];break;case 179:r5I=M3S[1] * -(M3S[2] << M3S[0]);break;case 141:r5I=-M3S[0] - M3S[1];break;case 174:r5I=M3S[2] / M3S[0] * M3S[4] / M3S[3] + M3S[1];break;case 154:r5I=(-M3S[3] + M3S[4]) * M3S[1] * M3S[2] + M3S[0];break;case 120:r5I=M3S[0] / M3S[3] / M3S[1] + M3S[2];break;case 80:r5I=M3S[1] / M3S[3] / M3S[4] / M3S[2] + M3S[0];break;case 4:r5I=(M3S[2] + M3S[0]) / M3S[1];break;case 106:r5I=(M3S[2] + M3S[3] * M3S[4]) / (M3S[1] - M3S[0]);break;case 45:r5I=M3S[0] * M3S[1] < M3S[2];break;case 11:r5I=(M3S[2] - M3S[4] + M3S[0]) * M3S[3] - M3S[1];break;case 92:r5I=(M3S[3] * M3S[5] - M3S[4] * M3S[1]) / (M3S[6] * M3S[0] - M3S[2]);break;case 153:r5I=M3S[4] - M3S[2] / (M3S[3] + M3S[0] / M3S[1]);break;case 177:r5I=M3S[2] / M3S[1] - M3S[0] + M3S[3] + M3S[4];break;case 126:r5I=M3S[0] / M3S[2] - M3S[1] + M3S[3];break;case 180:r5I=+M3S[0] - M3S[1] / (M3S[3] + M3S[4] / M3S[2]);break;case 142:r5I=M3S[3] + M3S[0] - M3S[1] + M3S[2];break;case 9:r5I=M3S[2] - M3S[1] + M3S[0];break;case 68:r5I=M3S[2] - M3S[0] - M3S[1] + M3S[3];break;case 127:r5I=M3S[6] * M3S[1] * M3S[3] + (M3S[2] - M3S[0] * M3S[5]) * M3S[4];break;case 128:r5I=M3S[3] - M3S[2] + M3S[1] - M3S[0];break;case 2:r5I=M3S[2] / M3S[1] / M3S[3] - M3S[0];break;}return r5I;},Z7m4YCh:function(R$j){l2r=R$j;}};})();g9BGt[247674]=g9BGt[459327];g9BGt[158192]=g9BGt[50848];g9BGt[50848]=(function(){var J$F=function(j5Y,T9C){var O4F=T9C & 0xffff;var c7u=T9C - O4F;return (c7u * j5Y | 0) + (O4F * j5Y | 0) | 0;},k8f=function(O3l,Z$f,c3m){var I0Y=0xcc9e2d51,O0i=0x1b873593;var I2R=c3m;var h31=Z$f & ~0x3;for(var K1U=0;K1U < h31;K1U+=4){var I9X=O3l.l2vYd(K1U) & 0xff | (O3l.l2vYd(K1U + 1) & 0xff) << 8 | (O3l.l2vYd(K1U + 2) & 0xff) << 16 | (O3l.l2vYd(K1U + 3) & 0xff) << 24;I9X=J$F(I9X,I0Y);I9X=(I9X & 0x1ffff) << 15 | I9X >>> 17;I9X=J$F(I9X,O0i);I2R^=I9X;I2R=(I2R & 0x7ffff) << 13 | I2R >>> 19;I2R=I2R * 5 + 0xe6546b64 | 0;}I9X=0;switch(Z$f % 4){case 3:I9X=(O3l.l2vYd(h31 + 2) & 0xff) << 16;case 2:I9X|=(O3l.l2vYd(h31 + 1) & 0xff) << 8;case 1:I9X|=O3l.l2vYd(h31) & 0xff;I9X=J$F(I9X,I0Y);I9X=(I9X & 0x1ffff) << 15 | I9X >>> 17;I9X=J$F(I9X,O0i);I2R^=I9X;}I2R^=Z$f;I2R^=I2R >>> 16;I2R=J$F(I2R,0x85ebca6b);I2R^=I2R >>> 13;I2R=J$F(I2R,0xc2b2ae35);I2R^=I2R >>> 16;return I2R;};return {w4xZ2A7:k8f};})();g9BGt.c7b=function(){return typeof g9BGt[150036].V3nM4Cy === 'function'?g9BGt[150036].V3nM4Cy.apply(g9BGt[150036],arguments):g9BGt[150036].V3nM4Cy;};var Z,X,W,Q,G,I,o,N,S,U,Y,E,g,F,K5,z0,z$,w8,S3,f_,M8,q3,c7,w2,J9,r7,N0,Y5,k5,O6,G_,X0,Z_,i$,L$,t6,u5,l1,i0,P4,i9,e1,Y0,e3,U7,f6,q8,c0,x7,J3,H8,d8,T5,C2,P1,r9,G6,g9,H7,P6,B7,k3,K9,M_,A9,G2,L3,c3,R8,x2b,p2t,p1v;import {CIQ as u8, SplinePlotter as J7, timezoneJS as X1, $$ as Q5, $$$ as n2} from "../js/standard.js";Z=D1=>{var d0y=g9BGt;var F5T,O2;F5T="un";F5T+="de";F5T+="fi";F5T+="ned";O2=typeof _CIQ !== F5T?_CIQ:D1.CIQ;d0y.Z_e();O2.Renderer.Aggregations=function(u4){var D6,M4m;this.construct(u4);D6=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!"1";d0y.c7b();this.isAggregation=!!1;D6.highlightable=!1;if(D6.name != "_main_series"){M4m="Aggreg";M4m+="ations are onl";M4m+="y allowed on main series.";console.warn(M4m);D6.invalid=!0;}};O2.inheritsFrom(O2.Renderer.Aggregations,O2.Renderer.OHLC,!({}));O2.Renderer.Aggregations.requestNew=function(j7,S4){var D8,x4v,u_$,H3,X4;D8=null;for(var w6=+"0";w6 < j7.length;w6++){x4v="r";x4v+="en";x4v+="ko";u_$="k";u_$+="a";u_$+="g";u_$+="i";H3=j7[w6];switch(H3){case u_$:case "pandf":D8=H3;break;case "heikinashi":case "linebreak":case "rangebars":case x4v:D8="candle";break;default:return null;}}if(D8 === null){return null;}X4=new O2.Renderer[D8 == "candle"?"OHLC":"Aggregations"]({params:O2.extend(S4,{type:D8})});d0y.Z_e();X4.isAggregation=!!({});return X4;};O2.Renderer.Aggregations.prototype.drawIndividualSeries=function(N4,J$){var u7,W4,G21,y76,N1l;d0y.c7b();if(J$.invalid){return;}u7=this.stx;W4={colors:[]};if(J$.type == "kagi"){G21="stx_kag";G21+="i_u";G21+="p";u7.drawKagiSquareWave(N4.panel,"stx_kagi_up","stx_kagi_down",J$);W4.colors.push(u7.getCanvasColor(G21));W4.colors.push(u7.getCanvasColor("stx_kagi_down"));}else if(J$.type == "pandf"){y76="stx";y76+="_pa";y76+="nd";y76+="f_down";N1l="stx_pan";N1l+="df_up";u7.drawPointFigureChart(N4.panel,"stx_pandf_up",6870 >= 97?"X":"g",J$);W4.colors.push(u7.getCanvasColor(N1l));u7.drawPointFigureChart(N4.panel,y76,("7446" ^ 0,13.84) !== 8715?"O":(163.91,!![]),J$);W4.colors.push(u7.getCanvasColor("stx_pandf_down"));}return W4;};O2.ChartEngine.prototype.setAggregationType=function(g8){var H$y,x_$,U9;H$y="l";H$y+="a";H$y+="yo";H$y+="ut";x_$="can";x_$+="dle";this.layout.chartType=x_$;d0y.c7b();U9=this.chart;if(U9.baseline.userLevel !== !({})){U9.baseline.userLevel=U9.baseline.defaultLevel;U9.panel.yAxis.scroll=O2.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=g8;this.setMainSeriesRenderer();if(U9.canvas){this.createDataSet();this.draw();}this.changeOccurred(H$y);};O2.ChartEngine.prototype.drawKagiSquareWave=function(r1,W0,Z8,L5){var j3,x_,h2,H4,W2,n9,o8,v5,d$,B9,n$,I9,a1,m2,R5,I3,D9,T6,A1,p$,d6;j3=r1.chart;this.startClip(r1.name);x_=j3.dataSegment;h2=j3.context;H4=r1.yAxis;if(H4.flipped){W2=W0;W0=Z8;Z8=W2;}n9=this.canvasStyle(W0);o8=this.canvasStyle(Z8);this.canvasColor(W0);if(L5.border_color_up){h2.strokeStyle=L5.border_color_up;}v5=h2.strokeStyle;this.canvasColor(Z8);if(L5.border_color_down){h2.strokeStyle=L5.border_color_down;}d$=h2.strokeStyle;B9=+"1";if(n9.width && parseInt(n9.width,10) <= 25){B9=Math.max(1,O2.stripPX(n9.width));}n$=1;if(o8.width && parseInt(o8.width,10) <= 25){d0y.X$L(0);n$=Math.max(d0y.D8z("1",0),O2.stripPX(o8.width));}if(this.highlightedDraggable){h2.globalAlpha*=0.3;}h2.beginPath();d0y.X$L(1);var B9Y=d0y.t1w(0,1);I9=j3.dataSet.length - j3.scroll - B9Y;a1=!!({});d0y.Z_e();m2=null;R5=null;I3=null;d0y.X$L(2);var g2a=d0y.t1w(1,7,14,1);D9=r1.left - +"0.5" * this.layout.candleWidth + this.micropixels - g2a;for(var g7=0;g7 <= x_.length;g7++){D9+=this.layout.candleWidth;T6=x_[g7];if(!T6)continue;if(T6.projection)break;I3=T6.kagiTrend;if(H4.flipped){d0y.X$L(3);I3*=-d0y.D8z(0,"1");}if(T6.transform && j3.transformFunc){A1=T6.kagiPrevOpen;T6=T6.transform;T6.kagiPrevOpen=j3.transformFunc(this,j3,A1);}p$=T6.cache;d0y.O90(1);d6=d0y.t1w(I9,g7);if(d6 < r1.cacheLeft || d6 > r1.cacheRight || !p$.kagiOpen){p$.kagiOpen=H4.semiLog?H4.height * (1 - (Math.log(Math.max(T6.Open,0)) / Math.LN10 - H4.logLow) / H4.logShadow):(H4.high - T6.Open) * H4.multiplier;p$.kagiClose=H4.semiLog?H4.height * (1 - (Math.log(Math.max(T6.Close,0)) / Math.LN10 - H4.logLow) / H4.logShadow):(H4.high - T6.Close) * H4.multiplier;if(H4.flipped){p$.kagiOpen=H4.bottom - p$.kagiOpen;p$.kagiClose=H4.bottom - p$.kagiClose;}else {p$.kagiOpen+=H4.top;p$.kagiClose+=H4.top;}}R5=p$.kagiClose;m2=H4.semiLog?H4.height * (1 - (Math.log(Math.max(T6.kagiPrevOpen,0)) / Math.LN10 - H4.logLow) / H4.logShadow):(H4.high - T6.kagiPrevOpen) * H4.multiplier;if(H4.flipped){m2=H4.bottom - m2;}else {m2+=H4.top;}if(a1){h2.moveTo(I9 >= 0?r1.left:Math.floor(D9),p$.kagiOpen);h2.lineTo(Math.floor(D9),p$.kagiOpen);if(p$.kagiClose < p$.kagiOpen){h2.strokeStyle=v5;h2.lineWidth=B9;}else {h2.strokeStyle=d$;h2.lineWidth=n$;}}else {if(I3 != -1 && p$.kagiClose < m2 && m2 < p$.kagiOpen){h2.lineTo(Math.floor(D9),m2);h2.stroke();h2.beginPath();h2.moveTo(Math.floor(D9),m2);h2.strokeStyle=v5;h2.lineWidth=B9;}else if(I3 != 1 && p$.kagiClose > m2 && m2 > p$.kagiOpen){h2.lineTo(Math.floor(D9),m2);h2.stroke();h2.beginPath();h2.moveTo(Math.floor(D9),m2);h2.strokeStyle=d$;h2.lineWidth=n$;}}h2.lineTo(Math.floor(D9),p$.kagiClose);if(g7 + 1 < x_.length){h2.lineTo(Math.floor(D9 + this.layout.candleWidth),p$.kagiClose);}a1=!1;}h2.stroke();this.endClip();h2.lineWidth=1;};O2.ChartEngine.prototype.drawPointFigureChart=function(K4,o2,Q7,o0){var T8,o5,D5,N8,K$,F7,Q9,p3,o$,p5,f0,v6,B0,K3,j7f,g$M,X6_,l8,w0,n5,I$,g0,V$,O_,y8,X7,h4,E4,p7;T8=K4.chart;this.startClip(K4.name);o5=T8.dataSegment;D5=T8.context;this.canvasColor(o2);if(Q7 == "X" && o0.border_color_up){D5.strokeStyle=o0.border_color_up;}else if(Q7 == (1320 != (9660,"449.02" * 1)?("1788" * 1,63.9) > +"5100"?+"5630" < "8056" >> 64?"v":(!0,"l"):"O":"V") && o0.border_color_down){D5.strokeStyle=o0.border_color_down;}d0y.Z_e();N8=this.canvasStyle(o2);K$=parseInt(N8.paddingTop,10);F7=parseInt(N8.paddingBottom,10);Q9=parseInt(N8.paddingLeft,10);function K6(j4,T1,O5){d0y.O90(4);D5.moveTo(d0y.t1w(T1,2,j4),d0y.D8z(O5,l8,K$,d0y.X$L(5)));d0y.X$L(1);D5.bezierCurveTo(d0y.t1w(T1,p3),d0y.D8z(O5,l8,K$,d0y.O90(5)),d0y.D8z(T1,p3,d0y.X$L(1)),d0y.t1w(F7,O5,K3,l8,d0y.X$L(6)),d0y.D8z(T1,2,j4,d0y.X$L(4)),d0y.t1w(F7,O5,K3,l8,d0y.X$L(6)));d0y.O90(7);D5.bezierCurveTo(d0y.D8z(Q9,j4),d0y.D8z(F7,O5,K3,l8,d0y.X$L(6)),d0y.t1w(Q9,j4,d0y.O90(7)),d0y.D8z(O5,l8,K$,d0y.O90(5)),d0y.t1w(T1,2,j4,d0y.O90(4)),d0y.t1w(O5,l8,K$,d0y.O90(5)));}p3=parseInt(N8.paddingRight,10);if(N8.width && parseInt(N8.width,10) <= 25){D5.lineWidth=Math.max(1,O2.stripPX(N8.width));}else {d0y.O90(8);D5.lineWidth=d0y.t1w(1,"2");}function X6(n_,y_,D$){d0y.O90(1);D5.moveTo(d0y.t1w(n_,Q9),d0y.t1w(l8,F7,D$,d0y.X$L(9)));d0y.O90(7);D5.lineTo(d0y.t1w(p3,y_),d0y.D8z(D$,K$,l8,K3,d0y.O90(10)));d0y.c7b();d0y.O90(1);D5.moveTo(d0y.t1w(n_,Q9),d0y.D8z(D$,K$,l8,K3,d0y.X$L(10)));d0y.X$L(7);D5.lineTo(d0y.D8z(p3,y_),d0y.D8z(l8,F7,D$,d0y.O90(9)));}if(this.highlightedDraggable){d0y.O90(8);D5.globalAlpha*=d0y.D8z(1,"0.3");}D5.beginPath();o$=this.chart.state.aggregation.box;d0y.X$L(11);var f4s=d0y.t1w(13,17,0,3,7);p5=T8.dataSet.length - T8.scroll - f4s;f0=K4.yAxis;K3=o$ * f0.multiplier;j7f=-+"887854674";g$M=-+"1032168033";X6_=2;for(var p7Y=1;d0y.l9L(p7Y.toString(),p7Y.toString().length,25050) !== j7f;p7Y++){d0y.X$L(12);l8=d0y.t1w(1,"2",K3);w0=this.layout.candleWidth;X6_+=2;}if(d0y.i7j(X6_.toString(),X6_.toString().length,323) !== g$M){d0y.X$L(1);l8=d0y.D8z(K3,6);w0=this.layout.candleWidth;}d0y.X$L(13);var K3X=d0y.t1w(21,111,5,7,14);n5=K4.left - w0 + this.micropixels - K3X;for(var r3=0;r3 < o5.length;r3++){n5+=w0;I$=o5[r3];if(!I$)continue;if(I$.projection)break;g0=I$.pfOpen;V$=I$.pfClose;O_=I$.pfTrend;y8=I$.pfStepBack;if(I$.transform && T8.transformFunc){I$=I$.transform;g0=T8.transformFunc(this,T8,g0);V$=T8.transformFunc(this,T8,V$);}X7=I$.cache;d0y.O90(1);h4=d0y.D8z(p5,r3);if(h4 < K4.cacheLeft || h4 > K4.cacheRight || !X7.pfOpen){if(f0.flipped){X7.pfOpen=f0.bottom - (f0.high - g0) * f0.multiplier;X7.pfClose=f0.bottom - (f0.high - V$) * f0.multiplier;}else {X7.pfOpen=(f0.high - g0) * f0.multiplier + f0.top;X7.pfClose=(f0.high - V$) * f0.multiplier + f0.top;}}E4=Math.round(n5);d0y.O90(1);p7=Math.round(d0y.D8z(n5,w0));v6=Math.abs(Math.round((V$ - g0) / o$));B0=X7.pfOpen;if(Q7 == y8){if(y8 == ((9500,9690) != (381.1,772)?"X":1551 !== 72.38?7700 !== 373.91?8.46e+3:(![],154.91):531.36)){d0y.O90(7);X6(E4,p7,d0y.t1w(K3,B0));}else if(y8 == (816.32 < (3932,+"51.96")?(3080,872.51) === 7155?"u":(2420,475.3) === ("6730" << 0,4117)?1.21e+3:!!({}):"O")){d0y.X$L(1);K6(E4,p7,d0y.t1w(B0,K3));}}if(Q7 == O_){for(;v6 >= 0;v6--){if(Q7 == "X"){X6(E4,p7,B0,K3,l8);B0-=f0.flipped?-K3:K3;}else if(Q7 == (3840 != (2700,1319)?673.65 >= 442.23?3778 !== 8730?"O":"u":!"1":("714.86" * 1,![]))){K6(E4,p7,B0,K3,l8);B0+=f0.flipped?-K3:K3;}}}}D5.stroke();this.endClip();D5.lineWidth=+"1";};O2.ChartEngine.calculateAggregation=function(y9,L8,C5,A_){var J79,u6X,d9,T3;J79="k";J79+="a";J79+="g";J79+="i";u6X="heikin";u6X+="ashi";T3=y9.layout;if([u6X,"heikenashi"].indexOf(L8) > -+"1"){d9=O2.calculateHeikinAshi(y9,C5,A_);}else if(L8 == "rangebars"){d9=O2.calculateRangeBars(y9,C5,T3.rangebars,A_);}else if(L8 == J79){d9=O2.calculateKagi(y9,C5,T3.kagi,A_);}else if(L8 == "linebreak"){d9=O2.calculateLineBreak(y9,C5,T3.priceLines,A_);}else if(L8 == "renko"){d9=O2.calculateRenkoBars(y9,C5,T3.renko,A_);}else if(L8 == "pandf"){d9=O2.calculatePointFigure(y9,C5,T3.pandf,A_);}return d9;};O2.calculateHeikinAshi=function(Z0,U6,R_){var n3,Z3,B8,g2,X5,E_,j0,W_,F2,s$,b9;d0y.c7b();if(!U6.length){return U6;}if(!R_){R_=[];}n3=[];for(var T0=0;T0 < U6.length;T0++){Z3=U6[T0];if(!Z3)continue;d0y.O90(14);var r86=d0y.D8z(3,17,13);B8=n3[n3.length - r86];if(!B8 && !T0){d0y.X$L(15);var V5S=d0y.t1w(0,0,14,14);B8=R_[R_.length - V5S];}if(!B8){B8=Z3;}g2=Z3.Close;X5=Z3.Open;E_=Z3.High;j0=Z3.Low;W_=B8.Open;X5=X5 || X5 === "0" << 64?X5:g2;E_=E_ || E_ === +"0"?E_:g2;j0=j0 || j0 === 0?j0:g2;W_=W_ || W_ === 0?W_:B8.Close;d0y.X$L(9);var f8k=d0y.t1w(5,7,4);F2=(W_ + B8.Close) / f8k;d0y.X$L(16);s$=d0y.D8z("4",g2,E_,X5,j0);b9={DT:Z3.DT,displayDate:Z3.displayDate,Date:Z3.Date,Open:F2,Close:s$,High:Math.max(E_,Math.max(F2,s$)),Low:Math.min(j0,Math.min(F2,s$)),Volume:Z3.Volume,iqPrevClose:B8.Close};for(var N6 in Z3){if(!b9[N6] && b9[N6] !== 0){b9[N6]=Z3[N6];}}n3.push(b9);}return n3;};O2.calculateKagi=function(F6,k6,u6,M0){var F$,d5,V51,e9,m5,Y_,i4,z_,G8,q0X,e$G,C2H;if(!k6.length){return k6;}if(!M0){M0=[];}F$=F6.layout;d5=F6.chart;u6=parseFloat(u6);d5.defaultChartStyleConfig.kagi=O2.ChartEngine.isDailyInterval(F$.interval)?4:0.4;if(isNaN(u6) || u6 <= 0){u6=d5.defaultChartStyleConfig.kagi;if(O2.Market.Symbology.isForexSymbol(d5.symbol)){u6/=4;}if(F$.kagi !== null){V51="lay";V51+="ou";V51+="t";F$.kagi=null;F6.changeOccurred(V51);}}u6/=100;e9=[];d0y.O90(17);var s5s=d0y.D8z(17,295,4,19,3);m5=M0[M0.length - s5s];Y_=m5?m5.DT:+"0";for(var Q8=0;Q8 < k6.length;Q8++){i4=k6[Q8];if(!i4)continue;if(!m5){d0y.O90(7);m5=k6[d0y.D8z(1,Q8)];}if(!m5)continue;z_=m5.Open || m5.Open === 0?m5.Open:m5.Close;if(z_ > m5.Close){if(i4.Close > m5.Close * (1 + u6)){i4.Open=m5.Close;}else {if(m5.Close > i4.Close){m5.Close=i4.Close;}m5.Volume+=i4.Volume;if(Q8 < k6.length - 1)continue;}}else if(z_ < m5.Close){if(i4.Close < m5.Close * (("1" | 0) - u6)){i4.Open=m5.Close;}else {if(m5.Close < i4.Close){m5.Close=i4.Close;}m5.Volume+=i4.Volume;if(Q8 < k6.length - 1)continue;}}else {m5.Close=i4.Close;m5.Volume+=i4.Volume;if(Q8 < k6.length - +"1")continue;}G8={DT:m5.DT,displayDate:m5.displayDate,Date:m5.Date,Open:m5.Open,Close:m5.Close,High:Math.max(m5.Open,m5.Close),Low:Math.min(m5.Open,m5.Close),Volume:m5.Volume,iqPrevClose:m5.iqPrevClose};for(var x9 in m5){if(!G8[x9] && G8[x9] !== 0){G8[x9]=m5[x9];}}if(e9.length){G8.kagiPrevOpen=e9[e9.length - 1].Open;}else {G8.kagiPrevOpen=G8.Open;}if(G8.Close > G8.kagiPrevOpen && G8.kagiPrevOpen > G8.Open){d0y.X$L(8);G8.kagiTrend=d0y.t1w(1,"1");}else if(G8.Close < G8.kagiPrevOpen && G8.kagiPrevOpen < G8.Open){d0y.X$L(18);G8.kagiTrend=-d0y.t1w("1",32);}if(Y_ < G8.DT){e9.push(G8);}m5=i4;d5.currentQuote={Close:i4.Close};}q0X=1266303773;e$G=-1530238202;C2H=2;for(var a0j=+"1";d0y.l9L(a0j.toString(),a0j.toString().length,40891) !== q0X;a0j++){return e9;}if(d0y.l9L(C2H.toString(),C2H.toString().length,7460) !== e$G){return e9;}return e9;};O2.calculateLineBreak=function(U5,l2,t0,p_){var j2,o4,e$,z1,z4,R6,O9,V9,k$,p9,I6,C3,R1,S1;d0y.Z_e();if(!l2.length){return l2;}if(!p_){p_=[];}j2=U5.layout;o4=U5.chart;o4.defaultChartStyleConfig.priceLines=3;t0=parseInt(t0,10);if(isNaN(t0) || t0 <= 0){t0=o4.defaultChartStyleConfig.priceLines;if(j2.priceLines !== null){j2.priceLines=null;U5.changeOccurred("layout");}}else if(t0 > 10){j2.priceLines=t0=10;}e$=p_.slice(-t0);z1=e$.length;z4=0;a:for(var H9=0;H9 < l2.length;H9++){R6=l2[H9];if(!R6)continue;z4+=R6.Volume;d0y.X$L(19);var Z0N=d0y.D8z(3,12,15,11,13);O9=e$[e$.length - Z0N];if(!O9){O9={Open:R6.Open,Close:R6.Open,High:R6.Open,Low:R6.Open};}V9=O9.Close;k$=O9.High;p9=O9.Low;I6=O9.Open;k$=k$ || k$ === 0?k$:V9;p9=p9 || p9 === 0?p9:V9;I6=I6 || I6 === 0?I6:V9;C3={DT:R6.DT,displayDate:R6.displayDate,Date:R6.Date,Close:R6.Close,Volume:z4,iqPrevClose:V9};o4.currentQuote={Close:R6.Close};if(R6.Close > V9 && O9.Close > I6){;}else if(R6.Close < V9 && O9.Close < I6){;}else if(R6.Close > k$){for(R1=2;R1 <= t0;R1++){S1=e$[e$.length - R1];if(S1 && R6.Close <= S1.High){continue a;}}}else if(R6.Close < p9){for(R1=2;R1 <= t0;R1++){S1=e$[e$.length - R1];if(S1 && R6.Close >= S1.Low){continue a;}}}else continue;if(R6.Close < O9.Close){C3.Open=Math.min(I6,V9);}else {C3.Open=Math.max(I6,V9);}C3.Low=Math.min(C3.Open,C3.Close);C3.High=Math.max(C3.Open,C3.Close);for(var Q4 in R6){if(!C3[Q4] && C3[Q4] !== 0){C3[Q4]=R6[Q4];}}e$.push(C3);d0y.O90(7);z4=d0y.D8z(0,"0");}return e$.slice(z1);};O2.calculateRenkoBars=function(c9,o9,D7,k2){var d_O,V3,r$,l0,E8,M1,i_,g_6,A0,A7,j1,m7,A5,I5,r0,B$,W5;d_O="Hi";d_O+="g";function T9(S6,Z7){var X8;S6=Number(S6.toFixed(8));Z7=Number(Z7.toFixed("8" << 0));X8={DT:m7.DT,displayDate:m7.displayDate,Date:m7.Date,Open:S6,Close:Z7,High:Math.max(S6,Z7),Low:Math.min(S6,Z7),Volume:0,iqPrevClose:S6 != Z7?S6:null};d0y.Z_e();for(var u0 in m7){if(!X8[u0] && X8[u0] !== 0){X8[u0]=m7[u0];}}A0.push(X8);}d_O+="h";if(!o9.length){return [];}if(!k2){k2=[];}V3=c9.layout;r$=c9.chart;l0=r$.state.aggregation;if(!l0){l0=r$.state.aggregation={};}E8=Math.min(300,o9.length);if(!l0.minMax){l0.minMax=c9.determineMinMax(o9.slice(o9.length - E8),["Close",d_O,"Low"]);}d0y.O90(20);var r4u=d0y.D8z(7,50,2,0);M1=l0.minMax["1" << r4u] - l0.minMax[+"0"];i_=c9.panels[r$.name].height;if(!i_){return [];}d0y.O90(21);var e0O=d0y.D8z(8,16,667,768,2);d0y.X$L(22);var y$b=d0y.t1w(6,35,19,19,49);r$.defaultChartStyleConfig.renko=Math.floor(e0O * M1 / (i_ / y$b)) / ("10000" ^ 0);if(D7 === null || isNaN(D7) || D7 <= 0){D7=r$.defaultChartStyleConfig.renko;if(V3.renko !== null){g_6="l";g_6+="a";g_6+="yout";V3.renko=null;c9.changeOccurred(g_6);}}else {d0y.O90(23);D7=Math.max(D7,d0y.t1w(i_,M1));if(V3.renko !== D7){V3.renko=D7;c9.changeOccurred("layout");}}A0=[];A7=null;j1=null;m7=null;if(k2.length){d0y.O90(24);var H6c=d0y.D8z(17,217,2,20,10);A5=k2[k2.length - H6c];A7=A5.Low - D7;j1=A5.High + D7;}for(var s6=0;s6 < o9.length;s6++){I5=o9[s6];if(!I5)continue;if(!A7 && !j1){r0=I5.Open || I5.Open === 0?I5.Open:I5.Close;B$=Math.floor(r0 / D7) * D7;W5=isNaN(B$)?r0:B$;d0y.O90(7);A7=d0y.t1w(D7,W5);d0y.O90(1);j1=d0y.D8z(W5,D7);}while(!!({})){if(!m7){m7=I5;}if(I5.Close <= A7){d0y.X$L(1);T9(d0y.t1w(A7,D7),A7);d0y.X$L(25);j1=d0y.D8z(A7,"2",D7);A7-=D7;m7=null;}else if(I5.Close >= j1){d0y.X$L(7);T9(d0y.D8z(D7,j1),j1);d0y.X$L(26);A7=d0y.t1w(D7,2,j1);j1+=D7;m7=null;}else break;}r$.currentQuote=I5;}if(A7 < o9[o9.length - 1].Close && A7 + D7 > o9[o9.length - 1].Close){d0y.X$L(1);T9(d0y.D8z(A7,D7),o9[o9.length - 1].Close);}else if(j1 > o9[o9.length - ("1" ^ 0)].Close && j1 - D7 < o9[o9.length - +"1"].Close){d0y.O90(7);T9(d0y.D8z(D7,j1),o9[o9.length - 1].Close);}return A0;};O2.calculateRangeBars=function(k7,h6,a8,L6){var C$E,A_V,H0,n4,i3,O4,N9,J2,N$6,k7i,n1Y,H_W,e2,s9,h3,O$,V7,g5,Y6,J4,V1,C8,M$,J8,S2,y4;d0y.c7b();function w3(j5){var m6;m6={DT:g5.DT,displayDate:g5.displayDate,Date:g5.Date,Open:Number(V7.toFixed(8)),Close:Number(j5.toFixed(8)),High:Number(h3.toFixed(8)),Low:Number(O$.toFixed(8)),Volume:"0" ^ 0};m6.iqPrevClose=m6.Open;for(var t1 in g5){if(!m6[t1] && m6[t1] !== 0){m6[t1]=g5[t1];}}e2.push(m6);}C$E="H";C$E+="i";C$E+="gh";A_V="Cl";A_V+="os";A_V+="e";function M9(C0,Y7){d0y.Z_e();while(1){if(!g5){g5=C0;}if(s9 < Y7){s9=Math.min(Y7,h3);d0y.X$L(7);O$=Math.max(O$,d0y.t1w(a8,s9));if(Y7 < h3)break;}else if(s9 >= Y7){s9=Math.max(Y7,O$);d0y.O90(1);h3=Math.min(h3,d0y.D8z(s9,a8));if(Y7 > O$)break;}if(typeof s9 == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}w3(s9);g5=null;e6();}}if(!h6.length){return h6;}if(!L6){L6=[];}H0=k7.layout;n4=k7.chart;i3=n4.state.aggregation;if(!i3){i3=n4.state.aggregation={};}O4=Math.min(300,h6.length);if(!i3.minMax){i3.minMax=k7.determineMinMax(h6.slice(h6.length - O4),[A_V,C$E,"Low"]);}d0y.O90(27);var b3U=d0y.t1w(5,17,11,1);d0y.X$L(10);var c4H=d0y.D8z(49,2,27,14);N9=i3.minMax[b3U] - i3.minMax["0" << c4H];J2=k7.panels[n4.name].height;if(!J2){return [];}d0y.X$L(28);var Z8b=d0y.t1w(3334,10002,18,9979);d0y.X$L(5);var I9o=d0y.t1w(180000,170002,2);n4.defaultChartStyleConfig.range=Math.floor(Z8b * N9 / (J2 / +"30")) / I9o;if(a8 === null || isNaN(a8) || a8 < 0){a8=n4.defaultChartStyleConfig.range;if(H0.range !== null){H0.range=null;k7.changeOccurred("layout");}}else {N$6=+"196902161";k7i=-130577060;d0y.X$L(0);n1Y=d0y.D8z("2",2);for(var t2Q="1" | 1;d0y.i7j(t2Q.toString(),t2Q.toString().length,64913) !== N$6;t2Q++){d0y.O90(29);a8=Math.max(a8,d0y.D8z(J2,N9));n1Y+=2;}if(d0y.i7j(n1Y.toString(),n1Y.toString().length,28211) !== k7i){d0y.X$L(23);a8=Math.max(a8,d0y.t1w(J2,N9));}if(H0.range !== a8){H_W="lay";H_W+="o";H_W+="ut";H0.range=a8;k7.changeOccurred(H_W);}}e2=[];s9=null;h3=null;O$=null;V7=null;g5=null;for(var L_=0;L_ < h6.length;L_++){Y6=h6[L_];if(!Y6)continue;d0y.O90(30);J4=h6[d0y.t1w("1",L_,1)];if(!L_){if(!J4){d0y.X$L(31);var g6r=d0y.t1w(5,8,7,2);J4=L6[L6.length - g6r];}if(J4){s9=J4.Close;if(s9 || s9 === 0){e6();}}}if(!J4)continue;V1=Y6.Close;C8=Y6.Open;M$=Y6.High;J8=Y6.Low;if(!V1 && V1 !== 0)continue;C8=C8 || C8 === 0?C8:V1;M$=M$ || M$ === 0?M$:V1;J8=J8 || J8 === 0?J8:V1;if(!s9 && s9 !== 0){S2=Math.floor(C8 / a8) * a8;s9=isNaN(S2)?C8:S2;e6();M9(J4,C8);}if(L_){M9(Y6,C8);}if(M$ - C8 < C8 - J8){if(M$){M9(Y6,M$);}if(J8){M9(Y6,J8);}}else {if(J8){M9(Y6,J8);}if(M$){M9(Y6,M$);}}M9(Y6,V1);if(L_ == h6.length - 1 && V1 != V7){y4=h3;d0y.X$L(1);h3=d0y.t1w(O$,a8);d0y.O90(7);O$=d0y.D8z(a8,y4);w3(V1);}}function e6(){d0y.X$L(1);h3=d0y.t1w(s9,a8);d0y.O90(7);d0y.c7b();O$=d0y.D8z(a8,s9);V7=s9;}return e2;};O2.calculatePointFigure=function(c5,D0,Q_,s0){var J1,U0,T4,B_,d3,c5z,i9j,i8Q,p3K,c1y,r9Y,b_I,w$,Z48,p6,E7,D_,A8,b7,v3,F1,i8,o7,C$,j9,a2,F9;if(!D0.length){return D0;}if(!s0){s0=[];}J1=c5.layout;U0=c5.chart;T4=U0.state.aggregation;if(!T4){T4=U0.state.aggregation={};}U0.defaultChartStyleConfig.box=1;U0.defaultChartStyleConfig.reversal=3;if(!Q_){Q_={};}B_=Q_.box;if(!B_){if(J1.pandf){if(J1.pandf.box !== null){J1.pandf.box=null;c5.changeOccurred("layout");}}B_=U0.defaultChartStyleConfig.box;d3=D0[D0.length - ("1" | 0)].Close;if(d3){if(d3 < 0.25){d0y.X$L(7);B_=d0y.D8z(0,"0.0625");}else if(d3 < 1){B_=0.125;}else if(d3 < 5){B_=0.25;}else if(d3 < 20){B_=0.5;}else if(d3 < 100){d0y.X$L(18);B_=d0y.t1w("1",64);}else if(d3 < 200){B_=2;}else if(d3 < "500" << 64){B_=4;}else if(d3 < 1000){B_=5;}else if(d3 < +"25000"){B_=50;}else {d0y.O90(3);B_=d0y.t1w(0,"500");}}if(!O2.ChartEngine.isDailyInterval(J1.interval)){B_/=10;}if(O2.Market.Symbology.isForexSymbol(U0.symbol)){if(d3){if(d3 < 1){B_=0.001;}else if(d3 < 2){B_=0.002;}else if(d3 < 50){B_=0.02;}else if(d3 < 200){B_=0.2;}}if(O2.ChartEngine.isDailyInterval(J1.interval)){B_*=10;}}c5z=1464214372;i9j=750032200;i8Q=2;for(var D8U=+"1";d0y.i7j(D8U.toString(),D8U.toString().length,+"77591") !== c5z;D8U++){U0.defaultChartStyleConfig.box=B_;i8Q+=2;}if(d0y.l9L(i8Q.toString(),i8Q.toString().length,40275) !== i9j){U0.defaultChartStyleConfig.box=B_;}U0.defaultChartStyleConfig.box=B_;}function R9(e4,N2,O0,b_,K8,I1,s7,l3,y$){return {DT:e4.DT,Date:e4.Date,pfOpen:l3,pfClose:y$,Open:N2,Close:K8,High:O0,Low:b_,Volume:I1,iqPrevClose:s7};}B_=parseFloat(B_);if(isNaN(B_) || B_ <= 0){if(J1.pandf){if(J1.pandf.box !== null){p3K="l";p3K+="ayo";p3K+="u";p3K+="t";J1.pandf.box=null;c5.changeOccurred(p3K);}}c1y=574601592;r9Y=-+"1745831370";b_I=2;for(var q2e=1;d0y.i7j(q2e.toString(),q2e.toString().length,27632) !== c1y;q2e++){U0.defaultChartStyleConfig.box=B_=1;b_I+=2;}if(d0y.l9L(b_I.toString(),b_I.toString().length,44342) !== r9Y){U0.defaultChartStyleConfig.box=B_=5;}}w$=Math.ceil(parseFloat(Q_.reversal));if(w$ > +"0" && w$ > Q_.reversal){J1.pandf.reversal=w$;c5.changeOccurred("layout");}else if(isNaN(w$) || w$ <= +"0"){if(J1.pandf){if(J1.pandf.reversal !== null){Z48="l";Z48+="a";Z48+="yout";J1.pandf.reversal=null;c5.changeOccurred(Z48);}}w$=U0.defaultChartStyleConfig.reversal;}T4.box=B_;w$*=B_;p6=0.00000001;E7=(B_.toString() + ((+"804",412) != 856.62?".":102.76 < (1770,+"8958")?7.20e+1:!"")).split((6256,3720) !== "419.74" * 1?".":!({}))[1].length;D_=[];A8=0;function f8(K_,i2,f7,Z9,G7){K_.High=Math.max(i2,K_.High);K_.Low=Math.min(f7,K_.Low);K_.Close=Z9;K_.Volume+=G7;}for(var S$=0;S$ < D0.length;S$++){v3=D0[S$];if(!v3)continue;A8+=v3.Volume;i8=v3.Close;o7=v3.Open;C$=v3.High;j9=v3.Low;o7=o7 || o7 === ("0" | 0)?o7:i8;C$=C$ || C$ === "0" << 96?C$:i8;j9=j9 || j9 === 0?j9:i8;if(!D_.length && !s0.length){b7=R2(v3,R9(v3,o7,C$,j9,i8,A8,C$ + B_,Number((Math.ceil(j9 / B_ - p6) * B_).toFixed(E7)),Number((Math.floor(C$ / B_ + p6) * B_).toFixed(E7))));b7.pfTrend=(+"9052",9470) === 7269?(43.69,0x24e8):"X";if(b7.pfOpen == b7.pfClose){b7.pfStepBack="663.53" - 0 !== (7344,123.96)?4700 < (866,"6290" << 0)?"-":!"1":("z",6.33e+3);}D_.push(b7);d0y.X$L(7);A8=d0y.t1w(0,"0");continue;}d0y.O90(9);var l2F=d0y.t1w(12,11,0);F1=D_[D_.length - l2F];if(!F1){F1=O2.clone(s0[s0.length - 1]);}if(F1.pfTrend == "O"){if(j9 <= F1.pfClose - B_){F1.pfClose=Number((Math.ceil(j9 / B_ - p6) * B_).toFixed(E7));if(F1.pfStepBack == "O"){F1.pfStepBack=null;}f8(F1,C$,j9,i8,A8);}else if(C$ >= F1.pfClose + w$){a2=F1.pfClose + B_;F9=Number((Math.floor(C$ / B_ + p6) * B_).toFixed(E7));b7=R9(v3,o7,C$,j9,i8,A8,F1.pfClose,a2,F9);if(a2 == F9){b7.pfStepBack=(8236,7840) == 457.24?598.49:"X";}if(F1.pfStepBack == (("9630" << 64,+"1270") !== 9542?"O":+"6870" !== (493.48,1442)?"J":2.28e+3)){F1.pfOpen=a2;F1.pfClose=F9;F1.pfTrend=(1260,5245) <= (1200,4200)?(!!1,0x10c1):"X";f8(F1,C$,j9,i8,A8);}else {b7=R2(v3,b7);b7.pfTrend=(276.39,9760) >= "333.53" - 0?+"1870" > 8492?(565.87,714.21):271 >= (958.24,9310)?("G",+"334.29"):"X":1.12e+3;D_.push(b7);}}else {f8(F1,C$,j9,i8,A8);}d0y.X$L(3);A8=d0y.D8z(0,"0");}else if(F1.pfTrend == ((122.87,1250) != "6365" << 0?"X":(![],881.87))){if(C$ >= F1.pfClose + B_){F1.pfClose=Number((Math.floor(C$ / B_ + p6) * B_).toFixed(E7));if(F1.pfStepBack == (8800 <= (653.59,98.74)?5546 <= (3330,4640)?"638.62" * 1:(6.70e+1,6.35e+3):"X") || F1.pfStepBack == "-"){F1.pfStepBack=null;}f8(F1,C$,j9,i8,A8);}else if(j9 <= F1.pfClose - w$){a2=F1.pfClose - B_;F9=Number((Math.ceil(j9 / B_ - p6) * B_).toFixed(E7));b7=R9(v3,o7,C$,j9,i8,A8,F1.pfClose,a2,F9);if(a2 == F9){b7.pfStepBack=+"1647" > 7814?("28" | 4) < 8010?(4940,4986) <= (1639,3912)?(5.61e+3,!!""):(!![],"H"):0x1d7e:"O";}if(F1.pfStepBack == "X" || F1.pfStepBack == ("583.95" - 0 != (195.67,+"912")?148.52 !== ("492.96" - 0,6441)?"-":+"0x94e":140.66)){F1.pfOpen=a2;F1.pfClose=F9;F1.pfTrend=839.47 <= 9038?"O":891.81;f8(F1,C$,j9,i8,A8);if(a2 != F9 && F1.pfStepBack == "-"){F1.pfStepBack=null;}}else {b7=R2(v3,b7);b7.pfTrend=8766 !== 2640?"O":!({});D_.push(b7);}}else {f8(F1,C$,j9,i8,A8);}A8=0;}}function R2(p8,t3){for(var M2 in p8){if(!t3[M2] && t3[M2] !== 0){t3[M2]=p8[M2];}}return t3;}return D_;};};X=W1=>{var e5,E3,C0h,n$e,h1l,X8A,V5d,Z9f,D_8,s6V,K6H,l0T,m9e,k6w,J0b,R33,T_$,Z83,L82,r3P,q81,M3H,Z42,r51,x3l;e5=typeof _CIQ !== "undefined"?_CIQ:W1.CIQ;E3=typeof _timezoneJS !== "undefined"?_timezoneJS:W1.timezoneJS;if(!e5.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {C0h="br[cq-wave-parameters";C0h+="]";n$e="waveParame";n$e+="ters";h1l="I";h1l+="V";X8A="pa";X8A+="t";X8A+="ter";X8A+="n";V5d="l";V5d+="ineWidth";Z9f="li";Z9f+="neW";Z9f+="idth";D_8="c";D_8+="q-cvp-controller[cq-cvp-header=\"1\"]";s6V="pat";s6V+="ter";s6V+="n3";K6H="a";K6H+="ctive";K6H+="2";l0T="c";l0T+="olor1";m9e="p";m9e+="attern";k6w="lineWi";k6w+="dt";k6w+="h";J0b="p";J0b+="a";J0b+="t";J0b+="tern";R33="t";R33+="z";T_$="p";T_$+="v";Z83="p";Z83+="l";L82="l";L82+="w";r3P="p";r3P+="t";q81="p";q81+="a";q81+="ttern";M3H="fil";M3H+="l";M3H+="Colo";M3H+="r";Z42="c";Z42+="o";Z42+="l";Z42+="or";r51="p";r51+="a";r51+="tte";r51+="rn";x3l="fill";x3l+="C";x3l+="olor";e5.Drawing.ray=function(){g9BGt.c7b();this.name="ray";};e5.inheritsFrom(e5.Drawing.ray,e5.Drawing.line);e5.Drawing.ray.prototype.calculateOuterSet=function(Y2){var v1_=g9BGt;var F0,E$;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[1] || e5.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}F0={x0:this.p0["0" | 0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};v1_.O90(32);var g24=v1_.D8z(8000,16,4000,968);E$=F0.x1 + g24;if(F0.x0 > F0.x1){v1_.X$L(1);var g_i=v1_.t1w(56,944);E$=F0.x1 - g_i;}this.v0B=this.v0;this.v1B=e5.yIntersection(F0,E$);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(E$,Y2.chart);};e5.Drawing.ray.prototype.adjust=function(){var l5;l5=this.stx.panels[this.panelName];g9BGt.Z_e();if(!l5){return;}this.setPoint(0,this.d0,this.v0,l5.chart);this.setPoint(1,this.d1,this.v1,l5.chart);if(e5.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,l5.chart);}};e5.Drawing.continuous=function(){this.name="continuous";this.dragToDraw=!!"";g9BGt.c7b();this.maxSegments=null;};e5.inheritsFrom(e5.Drawing.continuous,e5.Drawing.segment);e5.Drawing.continuous.prototype.click=function(u$,V4,s8){var C_,P8,S7,E9;C_=this.stx.panels[this.panelName];if(!C_){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,V4,s8,C_.chart);this.penDown=!!({});return !1;}if(this.accidentalClick(V4,s8)){this.stx.undo();return !!"1";}this.setPoint(+"1",V4,s8,C_.chart);P8=e5.Drawing.segment;S7=new P8();E9=this.serialize(this.stx);S7.reconstruct(this.stx,E9);this.stx.addDrawing(S7);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !!1;}g9BGt.c7b();this.setPoint(0,V4,s8,C_.chart);return !1;};e5.Drawing.ellipse=function(){this.name="ellipse";};e5.inheritsFrom(e5.Drawing.ellipse,e5.Drawing.BaseTwoPoint);e5.Drawing.ellipse.prototype.render=function(M6){var U32=g9BGt;var H2,W$,s5,z7,h9,F4,q$,E5,d4,K7,Q3,I4,D3,n1e,o3,n1x,E1P,n$W,t5;H2=this.stx.panels[this.panelName];if(!H2){return;}W$=this.stx.pixelFromTick(this.p0[0],H2.chart);s5=this.stx.pixelFromTick(this.p1[0],H2.chart);z7=this.stx.pixelFromValueAdjusted(H2,this.p0[0],this.p0[1]);h9=this.stx.pixelFromValueAdjusted(H2,this.p1[0],this.p1[1]);U32.X$L(33);F4=U32.D8z(W$,W$,s5);q$=s5;E5=z7;d4=h9;U32.O90(33);K7=U32.t1w(z7,z7,h9);U32.X$L(34);Q3=U32.t1w(6,d4,K7);I4=this.lineWidth;if(!I4){U32.X$L(8);I4=U32.D8z(1,"1.1");}D3=this.color;if(D3 == "auto" || e5.isTransparent(D3)){D3=this.stx.defaultColor;}if(this.highlighted){n1e="st";n1e+="x_hig";n1e+="hlight_vector";D3=this.stx.getCanvasColor(n1e);if(I4 == 0.1){I4=1.1;}}o3=this.fillColor;M6.beginPath();M6.moveTo(F4,E5);U32.O90(1);M6.bezierCurveTo(F4,U32.D8z(d4,Q3),q$,U32.t1w(d4,Q3),q$,E5);U32.X$L(7);M6.bezierCurveTo(q$,U32.D8z(Q3,K7),F4,U32.D8z(Q3,K7),F4,E5);if(o3 && !e5.isTransparent(o3) && o3 != "auto"){M6.fillStyle=o3;n1x=90609876;E1P=1241669347;n$W=2;for(var u3U=1;U32.l9L(u3U.toString(),u3U.toString().length,13357) !== n1x;u3U++){M6.globalAlpha=529;M6.fill();n$W+=2;}if(U32.l9L(n$W.toString(),n$W.toString().length,43585) !== E1P){M6.globalAlpha=0.2;M6.fill();}U32.X$L(35);M6.globalAlpha=U32.t1w(0,"1");}if(D3 && this.pattern != "none"){M6.strokeStyle=D3;M6.lineWidth=I4;if(M6.setLineDash){M6.setLineDash(e5.borderPatternToArray(I4,this.pattern));U32.X$L(7);M6.lineDashOffset=U32.t1w(0,"0");;}M6.stroke();}M6.closePath();if(this.highlighted){t5=this.highlighted == "p1"?!0:!!"";this.littleCircle(M6,s5,h9,t5);}};e5.Drawing.ellipse.prototype.intersected=function(W7,r4,e7){var Q6L=g9BGt;var I1w,g4,r_,z6,b1;I1w="mov";I1w+="e";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1[1],e7)){this.highlighted="p1";return {action:"drag",point:"p1"};}g4=this.p0[+"0"] - (this.p1[0] - this.p0[+"0"]);r_=this.p1[0];z6=this.p1[1];Q6L.X$L(5);var z98=Q6L.D8z(0,10,11);Q6L.O90(27);var O6C=Q6L.D8z(8,12,9,4);Q6L.X$L(36);var X9C=Q6L.t1w(20,186,9,12,5);b1=this.p0[z98] - (this.p1[O6C] - this.p0[X9C]);if(e7.x0 > Math.max(g4,r_) || e7.x1 < Math.min(g4,r_)){return !!"";}if(e7.y1 > Math.max(b1,z6) || e7.y0 < Math.min(b1,z6)){return !"1";}this.highlighted=!!({});return {action:I1w,p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:W7,value:r4};};e5.Drawing.ellipse.prototype.configs=["color",x3l,"lineWidth",r51];e5.Drawing.ellipse.prototype.reconstruct=function(h8,B6){this.stx=h8;this.color=B6.col;this.fillColor=B6.fc;this.panelName=B6.pnl;this.pattern=B6.ptrn;this.lineWidth=B6.lw;this.d0=B6.d0;this.d1=B6.d1;this.tzo0=B6.tzo0;this.tzo1=B6.tzo1;this.v0=B6.v0;this.v1=B6.v1;this.adjust();};e5.Drawing.ellipse.prototype.serialize=function(){g9BGt.Z_e();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};e5.Drawing.channel=function(){var z8W;g9BGt.Z_e();z8W="cha";z8W+="n";z8W+="nel";this.name=z8W;this.dragToDraw=!({});this.p2=null;};e5.inheritsFrom(e5.Drawing.channel,e5.Drawing.segment);e5.Drawing.channel.prototype.configs=[Z42,M3H,"lineWidth","pattern"];e5.Drawing.channel.prototype.move=function(R3,X3,H_){var l9D=g9BGt;var T$;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[X3,H_];}else {l9D.X$L(37);var u72=l9D.t1w(17,2,3,11);l9D.O90(38);var o1f=l9D.D8z(20,1336,70);T$=H_ - (this.p1[u72] - this.p0["1" >> o1f]) / (this.p1[0] - this.p0[+"0"]) * (X3 - this.p1[0]);l9D.X$L(8);this.p2=[this.p1[l9D.t1w(1,"0")],T$];}this.render(R3);};e5.Drawing.channel.prototype.click=function(e0,W3,Y3){var M4;M4=this.stx.panels[this.panelName];g9BGt.c7b();if(!M4){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,W3,Y3,M4.chart);this.penDown=!!1;return ![];}if(this.accidentalClick(W3,Y3)){this.stx.undo();return !![];}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],M4.chart);this.penDown=!!"";return !!({});}this.setPoint(1,W3,Y3,M4.chart);if(this.p0[0] == this.p1["0" >> 0]){this.p1=null;return ![];}g9BGt.X$L(3);this.p2=[this.p1[0],this.p1[g9BGt.t1w(0,"1")]];return !({});};e5.Drawing.channel.prototype.boxIntersection=function(X$,m0,o1){var c0g=g9BGt;var b5,n6,v7,U4,S8;b5=this.p0;n6=this.p1;v7=this.p2;if(!b5 || !n6 || !v7){return !!"";}if(o1.x0 > Math.max(b5[0],n6[+"0"]) || o1.x1 < Math.min(b5[0],n6[0])){return !1;}c0g.X$L(39);var y2k=c0g.D8z(19,20,0,5,8);c0g.O90(40);var a4C=c0g.D8z(6,2,3);c0g.X$L(41);var W7T=c0g.D8z(4,16,11,3);c0g.X$L(42);c0g.Z_e();var k_F=c0g.t1w(9,22,5,10,16);U4=(n6[+"0"] - b5[0]) * ((v7[y2k] < b5[+"1"]?o1.y1:o1.y0) - b5[a4C]) - (n6[W7T] - b5["1" >> k_F]) * (X$ - b5[0]);c0g.X$L(7);var E$O=c0g.t1w(18,19);c0g.X$L(43);var i51=c0g.t1w(253,18,0,14);c0g.O90(2);var p_V=c0g.t1w(0,4,20,5);c0g.X$L(44);var x6q=c0g.D8z(8,48,10,9,12);c0g.O90(7);var l0W=c0g.D8z(14,15);c0g.X$L(5);var D$3=c0g.t1w(37,15,10);S8=(v7[+"0"] - b5["0" - 0]) * ((v7[E$O] > b5[i51]?o1.y1:o1.y0) - (b5[+"1"] + v7[p_V] - n6[x6q])) - (n6[+"1"] - b5[l0W]) * (X$ - b5["0" << D$3]);c0g.X$L(45);return c0g.D8z(U4,S8,0);};e5.Drawing.channel.prototype.intersected=function(k0,v$,G0){var Q6,J$y;g9BGt.c7b();if(!this.p0 || !this.p1 || !this.p2){return null;}Q6={0:this.p0,1:this.p1,2:this.p2};for(var v4 in Q6){if(this.pointIntersection(Q6[v4][+"0"],Q6[v4]["1" - 0],G0)){g9BGt.O90(1);this.highlighted=g9BGt.t1w(3602 <= ("2040" * 1,"575.57" * 1)?(913,6560) <= 7180?!"":709.25:"p",v4);return {action:"drag",point:((6859,801.79) < 7318?("4020" * 1,3400) < 1120?213.16:"p":(!"1",982.11)) + v4};}}if(this.boxIntersection(k0,v$,G0)){J$y="m";J$y+="o";J$y+="v";J$y+="e";this.highlighted=!!"1";return {action:J$y,p0:e5.clone(this.p0),p1:e5.clone(this.p1),p2:e5.clone(this.p2),tick:k0,value:v$};}return null;};e5.Drawing.channel.prototype.render=function(N3){var N4j=g9BGt;var Y7F,w3K,y3,l9,P_,L4,k1,E1,c_,u9,V_,w4,D4,m$,Y8;Y7F="se";Y7F+="gment";w3K="s";w3K+="e";w3K+="gment";y3=this.stx.panels[this.panelName];if(!y3){return;}l9=this.stx.pixelFromTick(this.p0[0],y3.chart);P_=this.stx.pixelFromTick(this.p1[0],y3.chart);L4=this.stx.pixelFromValueAdjusted(y3,this.p0[0],this.p0[1]);k1=this.stx.pixelFromValueAdjusted(y3,this.p1[0],this.p1[1]);E1=null;if(this.p2){E1=this.stx.pixelFromValueAdjusted(y3,this.p2[0],this.p2[1]);}c_=this.lineWidth;u9=this.getLineColor();V_=this.fillColor;if(this.p2 && V_ && !e5.isTransparent(V_) && V_ != "auto"){N3.beginPath();N3.moveTo(l9,L4);N3.lineTo(P_,k1);N3.lineTo(P_,E1);N4j.X$L(46);N3.lineTo(l9,N4j.t1w(k1,L4,E1));N3.closePath();N3.globalAlpha=0.2;N3.fillStyle=V_;N3.fill();N3.globalAlpha=1;}w4={pattern:this.pattern,lineWidth:c_};if((this.penDown || this.highlighted) && this.pattern == "none"){w4.pattern="dotted";}this.stx.plotLine(l9,P_,L4,k1,u9,w3K,N3,y3,w4);if(this.p2){N4j.O90(46);this.stx.plotLine(l9,P_,N4j.t1w(k1,L4,E1),E1,u9,Y7F,N3,y3,w4);}if(this.highlighted){D4=this.highlighted == "p0"?!![]:![];m$=this.highlighted == "p1"?!![]:!({});Y8=this.highlighted == "p2"?!!"1":!1;this.littleCircle(N3,l9,L4,D4);this.littleCircle(N3,P_,k1,m$);this.littleCircle(N3,P_,E1,Y8);}};e5.Drawing.channel.prototype.reposition=function(W9,k4,A6,G9){var x3P,r5,C9,A$;x3P="d";x3P+="r";x3P+="a";x3P+="g";if(!k4){return;}r5=this.stx.panels[this.panelName];C9=k4.tick - A6;A$=k4.value - G9;if(k4.action == "move"){this.setPoint(0,k4.p0[0] - C9,k4.p0[+"1"] - A$,r5.chart);this.setPoint(1,k4.p1[0] - C9,k4.p1[+"1"] - A$,r5.chart);this.setPoint(+"2",k4.p2["0" >> 0] - C9,k4.p2[1] - A$,r5.chart);this.render(W9);}else if(k4.action == x3P){this[k4.point]=[A6,G9];this.setPoint(0,this.p0[0],this.p0[1],r5.chart);this.setPoint(1,this.p1[+"0"],this.p1[1],r5.chart);this.setPoint(+"2",this.p2["0" - 0],this.p2[1],r5.chart);this.render(W9);}};e5.Drawing.channel.prototype.adjust=function(){var a5;a5=this.stx.panels[this.panelName];if(!a5){return;}this.setPoint(0,this.d0,this.v0,a5.chart);this.setPoint(1,this.d1,this.v1,a5.chart);g9BGt.X$L(35);this.setPoint(g9BGt.t1w(64,"2"),this.d1,this.v2,a5.chart);;};e5.Drawing.channel.prototype.reconstruct=function(I0,c$){this.stx=I0;g9BGt.Z_e();this.color=c$.col;this.fillColor=c$.fc;this.panelName=c$.pnl;this.pattern=c$.ptrn;this.lineWidth=c$.lw;this.d0=c$.d0;this.d1=c$.d1;this.tzo0=c$.tzo0;this.tzo1=c$.tzo1;this.v0=c$.v0;this.v1=c$.v1;this.v2=c$.v2;this.adjust();};e5.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};e5.Drawing.pitchfork=function(){var y73;y73="pitchf";y73+="o";y73+="r";y73+="k";this.name=y73;this.dragToDraw=!!"";this.p2=null;};e5.inheritsFrom(e5.Drawing.pitchfork,e5.Drawing.channel);e5.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];e5.Drawing.pitchfork.prototype.move=function(H$,f9,l6){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[f9,l6];}else {this.p2=[f9,l6];}g9BGt.Z_e();this.render(H$);};e5.Drawing.pitchfork.prototype.intersected=function(j_,Q0,g6){var A2,Z6;if(!this.p0 || !this.p1 || !this.p2){return null;}A2={0:this.p0,1:this.p1,2:this.p2};for(var a3 in A2){if(this.pointIntersection(A2[a3][0],A2[a3][1],g6)){g9BGt.X$L(1);this.highlighted=g9BGt.t1w(157.92 == (5290,988.95)?4.54e+3:(7617,1230) <= 2080?"p":(6650,+"9080") === (+"598.34",350)?(2.78e+3,6.10e+3):(0x18e7,"o"),a3);return {action:"drag",point:"p" + a3};}}Z6=this.rays;for(var q9=0;q9 < Z6.length;q9++){if(this.lineIntersection(j_,Q0,g6,q9?"ray":"segment",Z6[q9][0],Z6[q9][1],!!({}))){this.highlighted=!!"1";return {action:"move",p0:e5.clone(this.p0),p1:e5.clone(this.p1),p2:e5.clone(this.p2),tick:j_,value:Q0};}}return null;};e5.Drawing.pitchfork.prototype.render=function(R$){var I02=g9BGt;var q_,g$,D2,Y4,O3,c4,V8,M7,X9,m3,a4,P5,Q$,u1,L2,a6,N_,e_c,i6,L7,K0;q_=this.stx.panels[this.panelName];if(!q_){return;}g$=this.stx;D2=this.p2;if(!D2){D2=this.p1;}Y4=g$.pixelFromTick(this.p0[0],q_.chart);O3=g$.pixelFromTick(this.p1[+"0"],q_.chart);c4=g$.pixelFromTick(D2[0],q_.chart);V8=g$.pixelFromValueAdjusted(q_,this.p0[0],this.p0[+"1"]);M7=g$.pixelFromValueAdjusted(q_,this.p1[0],this.p1[+"1"]);X9=g$.pixelFromValueAdjusted(q_,D2[0],D2[1]);m3=this.lineWidth;a4=this.getLineColor();P5={pattern:this.pattern,lineWidth:m3};Q$=50;I02.O90(31);u1=I02.D8z(M7,X9,V8,2);I02.O90(31);L2=I02.t1w(O3,c4,Y4,2);if(L2 < +"0"){Q$*=-1;}I02.O90(23);u1*=I02.D8z(L2,Q$);I02.X$L(47);this.rays=[[[O3,M7],[c4,X9]],[[Y4,V8],[I02.t1w(0,c4,O3,"2"),I02.D8z(M7,X9,"2",I02.X$L(48))]]];if(!(O3 == c4 && M7 == X9)){I02.X$L(7);this.rays.push([[O3,M7],[I02.t1w(Q$,O3),I02.D8z(u1,M7)]],[[c4,X9],[I02.t1w(Q$,c4),I02.D8z(u1,X9)]]);}for(var x6=0;x6 < this.rays.length;x6++){a6=this.rays[x6];N_=x6?"ray":"segment";g$.plotLine(a6[+"0"][0],a6[1][+"0"],a6[0]["1" << 0],a6[1][1],a4,N_,R$,q_,P5);}if(this.highlighted){e_c="p";e_c+="1";i6=this.highlighted == "p0"?!!1:!1;L7=this.highlighted == e_c?!![]:![];K0=this.highlighted == "p2"?!!({}):![];this.littleCircle(R$,Y4,V8,i6);this.littleCircle(R$,O3,M7,L7);this.littleCircle(R$,c4,X9,K0);}};e5.Drawing.pitchfork.prototype.adjust=function(){var r_2=g9BGt;var e_,a61,A2D,X6U;e_=this.stx.panels[this.panelName];if(!e_){return;}this.setPoint(0,this.d0,this.v0,e_.chart);a61=545116989;r_2.X$L(0);A2D=r_2.D8z("2137708937",0);X6U=2;for(var Y9I=1;r_2.l9L(Y9I.toString(),Y9I.toString().length,68899) !== a61;Y9I++){this.setPoint(1,this.d1,this.v1,e_.chart);this.setPoint(2,this.d2,this.v2,e_.chart);X6U+=2;}if(r_2.i7j(X6U.toString(),X6U.toString().length,+"33429") !== A2D){this.setPoint(+"8",this.d1,this.v1,e_.chart);this.setPoint(1,this.d2,this.v2,e_.chart);}};e5.Drawing.pitchfork.prototype.reconstruct=function(x3,F8){this.stx=x3;this.color=F8.col;this.panelName=F8.pnl;this.pattern=F8.ptrn;this.lineWidth=F8.lw;this.d0=F8.d0;this.d1=F8.d1;this.d2=F8.d2;this.tzo0=F8.tzo0;this.tzo1=F8.tzo1;this.tzo2=F8.tzo2;this.v0=F8.v0;this.v1=F8.v1;this.v2=F8.v2;this.adjust();};e5.Drawing.pitchfork.prototype.serialize=function(){g9BGt.c7b();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};e5.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!1;this.maxSegments=4;g9BGt.c7b();this.shape=null;this.points=[];};e5.inheritsFrom(e5.Drawing.gartley,e5.Drawing.continuous);e5.Drawing.gartley.prototype.check=function(r2,I8){if(!I8){return !!"1";}if(r2[+"0"] >= I8["0" << 0] || r2[1] == I8[1]){return !!"";}if(this.segment == 1){if(r2[1] < I8[+"1"]){this.shape=892.83 != 1350?(9672,1880) >= (473.69,478.44)?"M":0x1517:376.55;}else {this.shape=(834.14,"5517" - 0) !== (268.58,9140)?"W":619.28 === 3042?"J":(!!"1","j");}}else if(this.segment == 2){if(this.shape == (7190 != ("12.34" - 0,2775)?883 >= 5870?("e","b"):"M":517.18) && r2[1] < I8["1" - 0]){return ![];}else if(this.shape == "W" && r2[1] > I8[1]){return !({});}else if((I8["1" >> 96] - r2[1]) / (this.points[0][1] - r2[1]) < 0.618){return !!"";}else if((I8[1] - r2[1]) / (this.points[0][1] - r2[1]) >= 0.786){return !!0;}}else if(this.segment == 3){if(this.shape == ((287.38,860.87) != (306,91.47)?"M":![]) && r2[1] > I8[1]){return !"1";}else if(this.shape == ((+"3930",80.65) != (4318,6390)?"W":("B",9.55e+3)) && r2[1] < I8[1]){return !"1";}else if((I8[1] - r2[1]) / (this.points[1][+"1"] - r2[1]) < 0.618){return ![];}else if((I8[1] - r2[+"1"]) / (this.points[1][1] - r2["1" * 1]) >= 0.786){return ![];}}else if(this.segment == 4){if(this.shape == ((466.07,228) !== +"404"?9500 !== 481.47?4418 > 563?"M":(998.13,0xecc):4.33e+3:(+"16.45",0xe9e)) && (r2[1] < I8["1" ^ 0] || I8[1] < this.points[0][1])){return ![];}else if(this.shape == "W" && (r2["1" << 0] > I8["1" ^ 0] || I8[1] > this.points[0][1])){return !!0;}else if((this.points[1]["1" - 0] - I8["1" ^ 0]) / (this.points[1]["1" * 1] - this.points[2][1]) < "1.27" * 1){return ![];}else if((this.points[1][1] - I8[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !!0;}}return !![];};e5.Drawing.gartley.prototype.click=function(R7,L9,m4){var Z1;Z1=this.stx.panels[this.panelName];if(!Z1){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,L9,m4,Z1.chart);this.pts=[];this.penDown=!!({});g9BGt.X$L(35);this.segment=g9BGt.t1w(32,"1");return !({});}if(this.accidentalClick(L9,m4)){this.penDown=!![];return ![];}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,L9,m4,Z1.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][1],Z1.chart);this.penDown=![];return !!({});}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(+"0",L9,m4,Z1.chart);;}return !({});};e5.Drawing.gartley.prototype.render=function(r6){var I$Q=g9BGt;var m6P,T_,C4,o6,U3,Z4,h1,f5,h5,t4,f3,s_,I_,K1,l7,T7;m6P="dot";m6P+="t";m6P+="e";m6P+="d";T_=this.stx.panels[this.panelName];if(!T_){return;}C4=this.stx.pixelFromTick(this.p0[0],T_.chart);o6=this.stx.pixelFromTick(this.p1[0],T_.chart);U3=this.stx.pixelFromValueAdjusted(T_,this.p0[0],this.p0[1]);Z4=this.stx.pixelFromValueAdjusted(T_,this.p1[0],this.p1[1]);if(this.segment == ("2" | 2)){this.drawDropZone(r6,0.618 * this.points["0" | 0][1] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[+"1"],this.p0["0" ^ 0]);}else if(this.segment == 3){this.drawDropZone(r6,0.618 * this.points[1][1] + 0.382 * this.p0[1],0.786 * this.points[1][+"1"] + 0.214 * this.p0[1],this.p0[+"0"]);}else if(this.segment == 4){I$Q.X$L(7);var U8H=I$Q.D8z(3,35);I$Q.O90(15);var D10=I$Q.D8z(9,13,19,2);I$Q.X$L(49);var B9a=I$Q.D8z(1,2,11,12);I$Q.O90(7);var S3N=I$Q.D8z(17,18);h1=1.618 * this.points["2" << U8H][D10] - 0.618 * this.points[B9a][S3N];if(this.shape == "M"){h1=Math.max(h1,this.points[0][1]);}else {h1=Math.min(h1,this.points[0][1]);}this.drawDropZone(r6,h1,+"1.27" * this.points[2][1] - 0.27 * this.points[1][1],this.p0[0]);}f5=this.lineWidth;h5=this.getLineColor();t4={pattern:this.pattern,lineWidth:f5};if((this.penDown || this.highlighted) && this.pattern == "none"){t4.pattern=m6P;}if(this.segment <= this.maxSegments){this.stx.plotLine(C4,o6,U3,Z4,h5,this.name,r6,T_,t4);}f3=this.fillColor;s_=[];if(this.points.length){r6.beginPath();for(var U_=1;U_ < this.points.length && U_ <= "4" >> 0;U_++){I_=this.stx.pixelFromTick(this.points[U_ - +"1"][0],T_.chart);K1=this.stx.pixelFromTick(this.points[U_][+"0"],T_.chart);l7=this.stx.pixelFromValueAdjusted(T_,this.points[U_ - ("1" >> 0)][+"0"],this.points[U_ - 1][1]);T7=this.stx.pixelFromValueAdjusted(T_,this.points[U_][0],this.points[U_]["1" | 0]);if(U_ == 1){s_.push(I_,l7);}s_.push(K1,T7);this.stx.plotLine(I_,K1,l7,T7,h5,this.name,r6,T_,t4);}if(this.points.length == "2" * 1 || this.points.length == 4){s_.push(o6,Z4);}if(this.points[2]){s_.push(this.stx.pixelFromTick(this.points[2][0],T_.chart),this.stx.pixelFromValueAdjusted(T_,this.points[2][0],this.points[2]["1" ^ 0]));}if(f3 && f3 != "auto" && !e5.isTransparent(f3)){for(var J5=0;J5 < s_.length;J5+=2){if(J5 === 0){r6.moveTo(s_["0" * 1],s_[1]);}r6.lineTo(s_[J5],s_[J5 + +"1"]);}r6.fillStyle=f3;r6.globalAlpha=0.2;r6.closePath();r6.fill();r6.globalAlpha=1;}};};e5.Drawing.gartley.prototype.lineIntersection=function(a$,H6,w_,x4){var J_,o_;J_=this.points;o_=this.stx.panels[this.panelName];if(J_.length != this.maxSegments + +"1" || !o_){return !({});}for(var I2=0;I2 < J_.length - 1;I2++){if(e5.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,a$,H6,w_,"segment",J_[I2],J_[I2 + ("1" | 0)])){return !!({});}}return !"1";};e5.Drawing.gartley.prototype.boxIntersection=function(Z5,P9,q2){var m9,y7,O3Y,y4b,N8P;if(!this.p0 || !this.p1){return !!0;}if(q2.x0 > Math.max(this.p0[0],this.p1[0]) || q2.x1 < Math.min(this.p0[+"0"],this.p1[0])){return ![];}m9=Math.min(this.p0["1" ^ 0],this.p1[1]);y7=Math.max(this.p0[1],this.p1[1]);for(var Y$=+"0";Y$ < this.points.length;Y$++){m9=Math.min(m9,this.points[Y$][1]);y7=Math.max(y7,this.points[Y$][1]);}O3Y=1208013339;y4b=-203657870;N8P=2;for(var V6S=1;g9BGt.l9L(V6S.toString(),V6S.toString().length,+"33775") !== O3Y;V6S++){if(q2.y1 >= y7 && q2.y0 > m9){return !!"1";}return !!0;}if(g9BGt.i7j(N8P.toString(),N8P.toString().length,54772) !== y4b){if(q2.y1 > y7 || q2.y0 >= m9){return !!"";}return !![];}if(q2.y1 > y7 || q2.y0 < m9){return !!"";}return !"";};e5.Drawing.gartley.prototype.reposition=function(q4,Z2,z9,J6){var p4,w9,Z$;if(!Z2){return;}p4=this.stx.panels[this.panelName];w9=Z2.tick - z9;Z2.tick=z9;Z$=Z2.value - J6;Z2.value=J6;if(Z2.action == "move"){this.pts=[];for(var x5=+"0";x5 < this.points.length;x5++){this.points[x5][0]-=w9;this.points[x5][1]-=Z$;g9BGt.X$L(0);this.setPoint(g9BGt.t1w("1",1),this.points[x5][0],this.points[x5][1],p4.chart);if(x5 && x5 < this.points.length - ("1" - 0)){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[x5]=this.p1;}this.setPoint(0,this.points[0][0],this.points[0][1],p4.chart);this.render(q4);;}};e5.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth",q81];e5.Drawing.gartley.prototype.adjust=function(){var e8;e8=this.stx.panels[this.panelName];g9BGt.c7b();if(!e8){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,e8.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,e8.chart);this.points.push(this.p1);};e5.Drawing.gartley.prototype.reconstructPoints=function(){var a9,s3;a9=this.stx.panels[this.panelName];if(!a9){return;}this.points=[];for(var n7=0;n7 < this.pts.length;n7+=+"3"){s3=e5.strToDateTime(this.pts[n7]);s3.setMinutes(s3.getMinutes() + Number(this.pts[n7 + +"1"]) - s3.getTimezoneOffset());this.points.push([this.stx.tickFromDate(e5.yyyymmddhhmmssmmm(s3),a9.chart),this.pts[n7 + ("2" >> 0)]]);}};e5.Drawing.gartley.prototype.reconstruct=function(G5,V5){this.stx=G5;g9BGt.c7b();this.color=V5.col;this.fillColor=V5.fc;this.panelName=V5.pnl;this.pattern=V5.ptrn;this.lineWidth=V5.lw;this.d0=V5.d0;this.d1=V5.d1;this.tzo0=V5.tzo0;this.tzo1=V5.tzo1;this.v0=V5.v0;this.v1=V5.v1;this.pts=V5.pts.split(",");this.adjust();};e5.Drawing.gartley.prototype.serialize=function(){g9BGt.Z_e();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join(",")};};e5.Drawing.freeform=function(){var n25;n25="f";n25+="ree";n25+="for";n25+="m";this.name=n25;this.splineTension=0.3;this.dragToDraw=!!1;};e5.inheritsFrom(e5.Drawing.freeform,e5.Drawing.segment);e5.Drawing.freeform.prototype.measure=function(){};e5.Drawing.freeform.prototype.intersected=function(M3,F_,X2){g9BGt.c7b();if(X2.x0 > this.hiX || X2.x1 < this.lowX){return null;}if(X2.y1 > this.hiY || X2.y0 < this.lowY){return null;}this.highlighted=!![];return {action:"move",p0:e5.clone(this.p0),tick:M3,value:F_};};e5.Drawing.freeform.prototype.reposition=function(n0,j8,c1,U$){var d7,K2,v8;if(!j8){return;}d7=this.stx.panels[this.panelName];K2=j8.tick - c1;g9BGt.c7b();v8=j8.value - U$;if(j8.action == "move"){this.setPoint(0,j8.p0[+"0"] - K2,j8.p0[+"1"] - v8,d7.chart);this.adjust();this.render(n0);}};e5.Drawing.freeform.prototype.click=function(t8,t_,k8){g9BGt.Z_e();var R1_,m8,t$;R1_="au";R1_+="t";R1_+="o";m8=this.stx.panels[this.panelName];if(!m8){return;}if(this.penDown === !!""){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(t_,m8.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(m8,t_,k8)));t$=this.stx.dateFromTick(t_,m8.chart,!!({}));this.d0=e5.yyyymmddhhmmssmmm(t$);this.tzo0=t$.getTimezoneOffset();this.v0=k8;this.p0=[e5.ChartEngine.crosshairX - this.startX,e5.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=m8.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=!!"1";return !({});}this.penDown=!({});this.splineTension=this.tempSplineTension;document.body.style.cursor=R1_;return !!"1";};e5.Drawing.freeform.prototype.move=function(R4,x$,W8){var z5,v9;if(!this.penDown){return;}z5=this.stx.panels[this.panelName];v9=this.stx.dateFromTick(x$,z5.chart,!![]);this.d1=e5.yyyymmddhhmmssmmm(v9);this.tzo1=v9.getTimezoneOffset();this.v1=W8;this.p1=[e5.ChartEngine.crosshairX - this.startX,z5.yAxis.flipped?this.startY - e5.ChartEngine.crosshairY:e5.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - +"2"]["0" * 1] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1["1" * 1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1["0" ^ 0],this.p1["1" | 0]);this.pNodes.push(this.p1);this.render(R4);return !!0;};e5.Drawing.freeform.prototype.intervalRatio=function(S_,j6,t2,f4,V2,r8){var V1U=g9BGt;V1U.c7b();var B4,Z25,h8I,A97,v$g,X0h,N$a,h2c,X7N,P5N,h$d;function w5(d_,B2){V1U.c7b();return 30;}B4=0;function y5(S9,U8){return +"5";}if(S_ == j6){B4=1;}else if(!isNaN(S_) && !isNaN(j6)){V1U.O90(23);B4=V1U.D8z(j6,S_);}else if(isNaN(S_)){Z25="da";Z25+="y";h8I="we";h8I+="ek";if(S_ == "month"){A97="w";A97+="e";A97+="ek";if(j6 == A97){B4=y5(V2,r8);}else if(j6 == "day"){B4=w5(V2,r8);}else if(!isNaN(j6)){B4=w5(V2,r8) * N$(V2,r8) / j6;}}else if(S_ == h8I){if(j6 == "month"){V1U.X$L(50);var I3L=V1U.D8z(2,3);B4=I3L / y5(V2,r8);}if(j6 == "day"){B4=k9(V2,r8);}else if(!isNaN(j6)){B4=k9(V2,r8) * N$(V2,r8) / j6;}}else if(S_ == Z25){v$g="we";v$g+="ek";if(j6 == v$g){V1U.O90(20);var n29=V1U.t1w(13,10,5,14);B4=n29 / k9(V2,r8);}else if(j6 == "month"){V1U.X$L(50);var c31=V1U.D8z(7,8);B4=c31 / w5(V2,r8);}else if(!isNaN(j6)){B4=N$(V2,r8) / j6;}}}else if(!isNaN(S_)){X0h=-554767280;N$a=-1911856279;h2c=2;for(var U90=1;V1U.i7j(U90.toString(),U90.toString().length,"61175" << 32) !== X0h;U90++){X7N="we";X7N+="e";X7N+="k";if(j6 != "month"){B4=S_ + w5(V2,r8) / N$(V2,r8);}else if(j6 === X7N){B4=S_ - k9(V2,r8) % N$(V2,r8);}else if(j6 !== "day"){B4=S_ % N$(V2,r8);}h2c+=2;}if(V1U.i7j(h2c.toString(),h2c.toString().length,49102) !== N$a){P5N="we";P5N+="ek";h$d="m";h$d+="on";h$d+="th";if(j6 == h$d){B4=S_ / (w5(V2,r8) * N$(V2,r8));}else if(j6 == P5N){B4=S_ / (k9(V2,r8) * N$(V2,r8));}else if(j6 == "day"){B4=S_ / N$(V2,r8);}}}function N$(n1,X_){if(e5.Market.Symbology.isForexSymbol(X_)){return 1440;}return 390;}function k9(h0,c6){var a50,m2v,M3W;a50=68362061;m2v=-836588982;M3W=2;for(var M74=1;V1U.l9L(M74.toString(),M74.toString().length,+"60311") !== a50;M74++){return 6;}if(V1U.l9L(M3W.toString(),M3W.toString().length,3295) !== m2v){return 5;}}V1U.O90(23);B4*=V1U.t1w(f4,t2);return B4;};e5.Drawing.freeform.prototype.render=function(G$){var S0k=g9BGt;var q5,C6,h$,i7,P0,n8,b3,F3,O7,w1,S5,U2;q5=this.stx.panels[this.panelName];if(!q5){return;}C6=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,q5.chart.symbol);if(C6 === 0){return;}h$=this.stx.layout.candleWidth / this.candleWidth;i7=q5.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,q5.chart);P0=this.stx.pixelFromTick(this.p0[0],q5.chart);n8=this.stx.pixelFromValueAdjusted(q5,this.p0[0],this.p0[1]);b3=[];F3=this.lineWidth;O7=this.getLineColor();w1={pattern:this.pattern,lineWidth:F3};for(var Y9=0;Y9 < this.pNodes.length;Y9++){S5=C6 * h$ * this.pNodes[Y9][0] + P0;S0k.X$L(50);var o2H=S0k.t1w(16,17);U2=i7 * this.pNodes[Y9][o2H];if(q5.yAxis.flipped){S0k.X$L(7);U2=S0k.D8z(U2,n8);}else {U2+=n8;}b3.push(S5,U2);}if(!b3.length){return;}S0k.Z_e();if(this.splineTension < +"0"){this.stx.connectTheDots(b3,O7,this.name,G$,q5,w1);}else {this.stx.plotSpline(b3,this.splineTension,O7,this.name,G$,!!1,w1);}};e5.Drawing.freeform.prototype.adjust=function(){var U1V=g9BGt;var v_,i1,M5,t7,G4,F5,h7,T2;v_=this.stx.panels[this.panelName];if(!v_){return;}i1=[this.nodes[0],this.nodes[1]];this.pNodes=[i1];this.lowX=this.nodes[0];U1V.O90(18);this.hiX=this.nodes[U1V.t1w("0",32)];this.lowY=this.nodes[1];this.hiY=this.nodes[+"1"];U1V.Z_e();for(var z8=2;z8 < this.nodes.length;z8+=2){U1V.X$L(1);M5=[this.nodes[z8],this.nodes[U1V.D8z(z8,1)]];this.pNodes.push(M5);this.lowX=Math.min(this.lowX,M5[0]);this.hiX=Math.max(this.hiX,M5[0]);this.lowY=Math.max(this.lowY,M5[1]);this.hiY=Math.min(this.hiY,M5[1]);}t7=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,v_.chart.symbol);if(t7 === ("0" ^ 0)){return;}G4=this.stx.layout.candleWidth / this.candleWidth;F5=v_.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,v_.chart);h7=this.stx.pixelFromTick(this.p0[0],v_.chart);T2=this.stx.pixelFromValueAdjusted(v_,this.p0[0],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(t7 * G4 * this.lowX) + h7,v_.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(t7 * G4 * this.hiX) + h7,v_.chart);if(v_.yAxis.flipped){this.lowY=this.stx.valueFromPixel(T2 - Math.floor(F5 * this.lowY),v_);this.hiY=this.stx.valueFromPixel(T2 - Math.ceil(F5 * this.hiY),v_);}else {this.lowY=this.stx.valueFromPixel(Math.floor(F5 * this.lowY) + T2,v_);this.hiY=this.stx.valueFromPixel(Math.ceil(F5 * this.hiY) + T2,v_);}};e5.Drawing.freeform.prototype.serialize=function(){g9BGt.Z_e();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};e5.Drawing.freeform.prototype.reconstruct=function(u2,B3){this.stx=u2;this.color=B3.col;this.panelName=B3.pnl;this.pattern=B3.ptrn;this.lineWidth=B3.lw;this.candleWidth=B3.cw;this.multiplier=B3.mlt;this.d0=B3.d0;this.tzo0=B3.tzo0;this.v0=B3.v0;this.interval=B3.inter;this.periodicity=B3.pd;this.nodes=B3.nodes;this.adjust();};e5.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;g9BGt.c7b();;};e5.inheritsFrom(e5.Drawing.callout,e5.Drawing.annotation);e5.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];e5.Drawing.callout.prototype.copyConfig=function(b0){e5.Drawing.copyConfig(this,b0);this.borderColor=this.color;};e5.Drawing.callout.prototype.move=function(h_,y6,L0){if(!this.penDown){return;}this.copyConfig();g9BGt.Z_e();this.p0=[y6,L0];this.render(h_);};e5.Drawing.callout.prototype.onChange=function(J0){g9BGt.Z_e();var H5,E2,g3;H5=this.stx.panels[this.panelName];if(!H5){return;}E2=J0.target;this.w=E2.clientWidth;this.h=E2.clientHeight;g3=this.context || this.stx.chart.tempCanvas.context;e5.clearCanvas(g3.canvas,this.stx);this.render(g3);this.edit(g3);};e5.Drawing.callout.prototype.render=function(P2){var y$C=g9BGt;var B9k,H7k,S0,U1,R0,a0,N7,O8,E6,t9,z3,j$,A4,b4,W6,Q1,V0,G1,X7s,m5I,p7I,G0I,c8;B9k="a";B9k+="lphabeti";B9k+="c";H7k="s";H7k+="tx_highlig";H7k+="ht_vector";this.context=P2;S0=this.stx.panels[this.panelName];if(!S0){return;}U1=this.stx.pixelFromTick(this.p0[0],S0.chart);R0=this.stx.pixelFromValueAdjusted(S0,this.p0[0],this.p0[1]);if(isNaN(R0)){return;}P2.font=this.fontString;P2.textBaseline="top";a0=U1;N7=R0;y$C.X$L(51);var E6M=y$C.D8z(217,1,15,15,10);O8=this.w / E6M;y$C.O90(31);var m0l=y$C.t1w(9,229,10,24);E6=this.h / m0l;if(this.penDown){O8=this.defaultWidth;E6=this.defaultHeight;if(!E6){E6=this.fontSize;}}t9=this.lineWidth;if(!t9){t9=1.1;}z3=this.color;if(z3 == "auto" || e5.isTransparent(z3)){z3=this.stx.defaultColor;}j$=this.borderColor;if(j$ == "auto" || e5.isTransparent(j$)){j$=this.stx.defaultColor;}if(this.highlighted){j$=this.stx.getCanvasColor(H7k);}V0=Math.min(Math.min(O8,E6) / 2,8);if(this.stem){if(this.stem.t){A4=this.stx.pixelFromTick(this.stem.t);W6=this.stx.pixelFromValueAdjusted(S0,this.stem.t,this.stem.v);}else if(this.stem.x){A4=a0;W6=N7;a0+=this.stem.x;N7+=this.stem.y;}G1="";if(A4 >= a0 + O8){y$C.O90(1);b4=y$C.t1w(a0,O8);G1=("808" - 0,214.31) == 7160?4424 > (5578,8530)?"j":("K","u"):"r";}else if(A4 > a0 - O8 && A4 < a0 + O8){b4=a0;G1="c";}else if(A4 <= a0 - O8){y$C.O90(7);b4=y$C.t1w(O8,a0);G1="l";}if(W6 >= N7 + E6){y$C.X$L(1);Q1=y$C.D8z(N7,E6);G1+=1990 <= 1510?2.83e+3:"b";}else if(W6 > N7 - E6 && W6 < N7 + E6){Q1=N7;G1+=1110 <= (4800,5190)?("1520" ^ 0) !== (7070,8440)?"m":!!0:8.74e+3;}else if(W6 <= N7 - E6){y$C.X$L(7);Q1=y$C.t1w(E6,N7);G1+=3780 == (8400,716.15)?899.23:(939.87,998) <= 7079?"t":(1150,3350) > 6734?0xe5d:3.67e+3;}this.stemEntry=G1;if(G1 != "cm"){A4=Math.round(A4);b4=Math.round(b4);W6=Math.round(W6);Q1=Math.round(Q1);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",P2);}else {if(this.fillColor){P2.fillStyle=this.fillColor;P2.globalAlpha=0.4;}else if(this.stem){P2.fillStyle=this.stx.containerColor;}}P2.strokeStyle=j$;if(P2.setLineDash){P2.setLineDash(e5.borderPatternToArray(t9,this.pattern));P2.lineDashOffset=0;;}if(j$){X7s="l";X7s+="m";m5I="r";m5I+="b";P2.beginPath();P2.lineWidth=t9;y$C.O90(5);P2.moveTo(y$C.D8z(a0,V0,O8),y$C.D8z(E6,N7,y$C.X$L(7)));if(this.stemEntry != "rt"){y$C.X$L(1);P2.quadraticCurveTo(y$C.t1w(a0,O8),y$C.t1w(E6,N7,y$C.O90(7)),y$C.D8z(a0,O8,y$C.X$L(1)),y$C.D8z(V0,E6,N7,y$C.O90(9)));;}else {P2.lineTo(A4,W6);y$C.O90(1);P2.lineTo(y$C.t1w(a0,O8),y$C.D8z(V0,E6,N7,y$C.O90(9)));}y$C.X$L(1);P2.lineTo(y$C.D8z(a0,O8),y$C.t1w(2,V0,N7,y$C.X$L(52)));if(this.stemEntry == "rm"){P2.lineTo(A4,W6);}y$C.O90(1);P2.lineTo(y$C.D8z(a0,O8),y$C.t1w(2,V0,N7,y$C.X$L(53)));y$C.X$L(1);P2.lineTo(y$C.D8z(a0,O8),y$C.t1w(N7,V0,E6,y$C.O90(5)));if(this.stemEntry != m5I){y$C.X$L(1);P2.quadraticCurveTo(y$C.t1w(a0,O8),y$C.D8z(N7,E6,y$C.X$L(1)),y$C.D8z(a0,V0,O8,y$C.O90(5)),y$C.D8z(N7,E6,y$C.X$L(1)));;}else {P2.lineTo(A4,W6);y$C.X$L(5);P2.lineTo(y$C.t1w(a0,V0,O8),y$C.t1w(N7,E6,y$C.X$L(1)));}y$C.O90(53);P2.lineTo(y$C.D8z(2,V0,a0),y$C.t1w(N7,E6,y$C.O90(1)));if(this.stemEntry == "cb"){P2.lineTo(A4,W6);}y$C.O90(52);P2.lineTo(y$C.D8z(2,V0,a0),y$C.D8z(N7,E6,y$C.O90(1)));y$C.O90(9);P2.lineTo(y$C.t1w(V0,O8,a0),y$C.D8z(N7,E6,y$C.X$L(1)));if(this.stemEntry != "lb"){y$C.X$L(7);P2.quadraticCurveTo(y$C.D8z(O8,a0),y$C.t1w(N7,E6,y$C.O90(1)),y$C.t1w(O8,a0,y$C.O90(7)),y$C.D8z(N7,V0,E6,y$C.X$L(5)));;}else {P2.lineTo(A4,W6);y$C.X$L(7);P2.lineTo(y$C.t1w(O8,a0),y$C.t1w(N7,V0,E6,y$C.O90(5)));}y$C.X$L(7);P2.lineTo(y$C.D8z(O8,a0),y$C.D8z(2,V0,N7,y$C.O90(53)));if(this.stemEntry == X7s){P2.lineTo(A4,W6);}y$C.O90(7);P2.lineTo(y$C.t1w(O8,a0),y$C.t1w(2,V0,N7,y$C.X$L(52)));y$C.X$L(7);P2.lineTo(y$C.D8z(O8,a0),y$C.t1w(V0,E6,N7,y$C.X$L(9)));if(this.stemEntry != "lt"){y$C.X$L(7);P2.quadraticCurveTo(y$C.t1w(O8,a0),y$C.t1w(E6,N7,y$C.O90(7)),y$C.t1w(V0,O8,a0,y$C.O90(9)),y$C.t1w(E6,N7,y$C.X$L(7)));;}else {P2.lineTo(A4,W6);y$C.O90(9);P2.lineTo(y$C.D8z(V0,O8,a0),y$C.t1w(E6,N7,y$C.O90(7)));}y$C.X$L(54);P2.lineTo(y$C.D8z("2",V0,a0),y$C.D8z(E6,N7,y$C.X$L(7)));if(this.stemEntry == "ct"){P2.lineTo(A4,W6);}y$C.X$L(53);P2.lineTo(y$C.D8z(2,V0,a0),y$C.D8z(E6,N7,y$C.X$L(7)));y$C.X$L(5);P2.lineTo(y$C.t1w(a0,V0,O8),y$C.D8z(E6,N7,y$C.O90(7)));P2.fill();P2.globalAlpha=1;if(this.pattern != "none"){P2.stroke();}}if(this.highlighted){p7I="stx_annot";p7I+="ation_h";p7I+="ighlight";this.stx.canvasColor(p7I,P2);}else {P2.fillStyle=z3;}N7+=this.padding;if(!this.ta){for(var G3=0;G3 < this.arr.length;G3++){P2.fillText(this.arr[G3],a0 - O8 + this.padding,N7 - E6);N7+=this.fontSize;}}P2.textBaseline=B9k;if(this.highlighted && !this.noHandles){G0I="p";G0I+="0";c8=this.highlighted == G0I?!![]:!!"";this.littleCircle(P2,A4,W6,c8);};};e5.Drawing.callout.prototype.click=function(Y1,l_,x8){var N5;if(this.stx.overXAxis || this.stx.overYAxis){return;}N5=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,l_,x8,N5.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!!"1";this.adjust();return !({});}this.adjust();this.edit(Y1);this.penDown=!!"";return !({});};e5.Drawing.callout.prototype.reposition=function(V6,l4,B1,b$){var P7,m_,B5,V2w,U1F,R5o;if(!l4){return;}P7=this.stx.panels[this.panelName];m_=l4.tick - B1;B5=l4.value - b$;g9BGt.c7b();if(l4.stem){if(l4.action == "drag"){V2w=-272425528;U1F=-1491687497;R5o=+"2";for(var g_5=1;g9BGt.i7j(g_5.toString(),g_5.toString().length,52467) !== V2w;g_5++){this.stem={d:this.stx.dateFromTick(B1,P7.chart,![]),v:b$};R5o+=2;}if(g9BGt.i7j(R5o.toString(),R5o.toString().length,4843) !== U1F){this.stem={d:this.stx.dateFromTick(B1,P7.chart,!!0),v:b$};}this.stem={d:this.stx.dateFromTick(B1,P7.chart,!0),v:b$};}else if(l4.action == "move"){this.setPoint(0,l4.p0[0] - m_,l4.p0[1] - B5,P7.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(l4.stem.d,P7.chart) - m_),v:l4.stem.v - B5};}this.adjust();}else {this.setPoint(0,l4.p0[0] - m_,l4.p0["1" * 1] - B5,P7.chart);}this.render(V6);};e5.Drawing.callout.prototype.lineIntersection=function(q7,Q2,a7,g_){var u4x=g9BGt;var C7,f$,i5,E0,z2,P3,u_,b8,k_,q6,s4,b6;C7=this.stx.panels[this.panelName];f$=this.stem;u4x.c7b();i5=this.p0;E0=this.stx;if(!i5 || !f$ || !C7){return ![];}z2=f$.t || this.stx.tickFromDate(f$.d,C7.chart);P3={x0:i5[0],x1:z2,y0:i5[1],y1:f$.v};u_=e5.convertBoxToPixels(E0,this.panelName,P3);b8=u_.x0;k_=u_.y0;q6=u_.x1;s4=u_.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -1){u4x.X$L(55);var U5a=u4x.D8z(2,2,2);b8-=this.w / U5a;}else if(this.stemEntry.indexOf("r") > -1){u4x.X$L(56);var N3U=u4x.t1w(12,718,20,3);b8+=this.w / N3U;}if(this.stemEntry.indexOf(741.18 > (475.66,8410)?0xc06:"t") > -1){u4x.O90(9);var b5P=u4x.t1w(4,2,0);k_-=this.h / b5P;}else if(this.stemEntry.indexOf("b") > -1){u4x.O90(7);var c2t=u4x.t1w(32,34);k_+=this.h / c2t;}}b6=e5.convertBoxToPixels(E0,this.panelName,a7);return e5.boxIntersects(b6.x0,b6.y0,b6.x1,b6.y1,b8,k_,q6,s4,g_);};e5.Drawing.callout.prototype.intersected=function(l$,N1,P$){var Y3r=g9BGt;var g1,O8t,a_,u3,A3,w7,I7,l2o,V6t,s4Q;g1=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,P$)){O8t="d";O8t+="r";O8t+="a";O8t+="g";this.highlighted="p0";return {action:O8t,stem:!""};}Y3r.O90(57);var q88=Y3r.t1w(12,2,4);a_=this.stx.pixelFromTick(this.p0[0],g1.chart) - this.w / q88;Y3r.O90(58);var R59=Y3r.D8z(7,7,16,19,9);u3=this.stx.pixelFromValueAdjusted(g1,this.p0[0],this.p0["1" ^ 0]) - this.h / R59;A3=a_ + this.w;w7=u3 + this.h;if(this.stem && this.stem.x){a_+=this.stem.x;A3+=this.stem.x;u3+=this.stem.y;w7+=this.stem.y;}I7=this.stx.pixelFromTick(l$,g1.chart);l2o=this.stx.pixelFromValueAdjusted(g1,l$,N1);Y3r.Z_e();if(I7 + P$.r >= a_ && I7 - P$.r <= A3 && l2o + P$.r >= u3 && l2o - P$.r <= w7){this.highlighted=!0;return {p0:e5.clone(this.p0),tick:l$,value:N1};}V6t=this.lineIntersection(l$,N1,P$,"segment");if(V6t){s4Q="m";s4Q+="o";s4Q+="ve";this.highlighted=!![];return {action:s4Q,stem:e5.clone(this.stem),p0:e5.clone(this.p0),tick:l$,value:N1};}return null;};e5.Drawing.fibonacci=function(){this.name="fibonacci";g9BGt.Z_e();this.configurator="fibonacci";};e5.inheritsFrom(e5.Drawing.fibonacci,e5.Drawing.BaseTwoPoint);e5.Drawing.fibonacci.mapping={trend:715 == 565.78?"G":(3026,9870) > 7806?"t":649.31,color:"c",parameters:7340 > (9469,1800)?"p":(2800,828.28) < (163.5,591.13)?(!![],0x1a2d):84.80,pattern:r3P,opacity:(905,132.88) !== 9533?"o":(!({}),"m"),lineWidth:L82,level:"l",extendLeft:("3010" - 0,5220) > (525.76,9938)?("V",0x1ab8):"e",printLevels:Z83,printValues:T_$,timezone:R33,display:(5920,7274) <= "275.89" - 0?1335 < 2495?"659.2" * 1 == 505.72?7.29e+3:(2.68e+3,!!({})):(+"0x1bb4",935.39):"d"};e5.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,0.618,1,1.382,1.618];e5.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth",J0b,"parameters"];e5.Drawing.fibonacci.prototype.initializeSettings=function(Y1l){var Z_Q,P7K;g9BGt.c7b();Z_Q=this.recommendedLevels;if(Z_Q && !Y1l.currentVectorParameters.fibonacci.fibsAlreadySet){P7K=Y1l.currentVectorParameters.fibonacci.fibs;for(var d$c=0;d$c < P7K.length;d$c++){delete P7K[d$c].display;for(var Y_N=0;Y_N < Z_Q.length;Y_N++){if(P7K[d$c].level == Z_Q[Y_N]){P7K[d$c].display=!!({});}}}}};e5.Drawing.fibonacci.prototype.setOuter=function(){var l6y=g9BGt;var U1M,s5P,N09,N4T,e0d,U3R,d6C,t0H,v3V,f21,s0n,r7d,J99,F4d;U1M=this.stx;s5P=U1M.panels[this.panelName];if(!s5P){return;}N09=Math.max(this.p0["1" - 0],this.p1[1]);N4T=Math.min(this.p0[1],this.p1["1" >> 0]);l6y.X$L(7);e0d=l6y.D8z(N4T,N09);this.outer={p0:e5.clone(this.p0),p1:e5.clone(this.p1)};U3R=U1M.pixelFromValueAdjusted(s5P,this.p0[0],this.p0[1]);d6C=U1M.pixelFromValueAdjusted(s5P,this.p1[0],this.p1[1]);t0H=U1M.pixelFromTick(this.p0[0],s5P.chart);v3V=U1M.pixelFromTick(this.p1[0],s5P.chart);l6y.X$L(35);f21=l6y.D8z(0,"0");s0n=1;for(var k7r=0;k7r < this.parameters.fibs.length;k7r++){r7d=this.parameters.fibs[k7r];if(r7d.level >= f21 && r7d.level <= s0n || !r7d.display)continue;J99=U1M.pixelFromValueAdjusted(s5P,this.p0[0],d6C < U3R?N09 - e0d * r7d.level:N4T + e0d * r7d.level);F4d=e5.xIntersection({x0:t0H,x1:v3V,y0:U3R,y1:d6C},J99);if(r7d.level < f21){f21=r7d.level;this.outer.p1[1]=U1M.valueFromPixel(J99,s5P);this.outer.p1[0]=U1M.tickFromPixel(F4d,s5P.chart);}else if(r7d.level > s0n){s0n=r7d.level;this.outer.p0[1]=U1M.valueFromPixel(J99,s5P);this.outer.p0[+"0"]=U1M.tickFromPixel(F4d,s5P.chart);}}};e5.Drawing.fibonacci.prototype.click=function(g4y,w$f,t1h){var n3g,H8E,F$c,C8H;n3g=this.stx.panels[this.panelName];if(!n3g){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,w$f,t1h,n3g.chart);H8E=791436946;F$c=-2060017728;C8H=2;for(var m24=1;g9BGt.i7j(m24.toString(),m24.toString().length,83001) !== H8E;m24++){this.penDown=!!({});return ![];}if(g9BGt.l9L(C8H.toString(),C8H.toString().length,46579) !== F$c){this.penDown=!"1";return !![];}}if(this.accidentalClick(w$f,t1h)){return this.dragToDraw;}g9BGt.Z_e();this.setPoint(1,w$f,t1h,n3g.chart);this.setOuter();this.parameters=e5.clone(this.parameters);this.penDown=!1;return !!1;;};e5.Drawing.fibonacci.prototype.render=function(X5N){var N4B=g9BGt;var F5M,V1O,g9J,g0V,H5_,N18,G5O,e$4,B54,M2Z,f9G,a0a,c75,w_5,x0n,j0u,Z18,o5Q,f79,H1k,K6Z,I8H,T1g,e$S,a96,L7P,g8R,L2C,l1D,O7h,M_N,w$W,u6z,h1z,S5z,i8J,c05,S1J;F5M="sol";F5M+="i";F5M+="d";V1O=this.stx.panels[this.panelName];if(!V1O){return;}g9J=V1O.yAxis;if(!this.p1){return;}g0V=Math.max(this.p0[+"1"],this.p1[1]);H5_=Math.min(this.p0[1],this.p1[1]);N18=g9J.flipped?H5_ - g0V:g0V - H5_;G5O=this.stx.pixelFromTick(this.p0[0],V1O.chart);e$4=this.stx.pixelFromTick(this.p1[0],V1O.chart);B54=this.stx.pixelFromValueAdjusted(V1O,this.p0[0],this.p0[1]);M2Z=this.stx.pixelFromValueAdjusted(V1O,this.p1[0],this.p1[+"1"]);f9G=Math.min(M2Z,B54);a0a=Math.max(M2Z,B54);N4B.X$L(7);c75=N4B.t1w(f9G,a0a);N4B.X$L(59);w_5=N4B.D8z(B54,M2Z,0,G5O,e$4);x0n={color:"auto",parameters:{pattern:F5M,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=x0n;}j0u=this.getLineColor(this.parameters.trend.color);X5N.textBaseline="middle";this.stx.canvasFont("stx_yaxis",X5N);N4B.O90(1);var R4q=N4B.t1w(4,6);N4B.c7b();Z18=X5N.measureText("161.8%").width + R4q;o5Q=Number.MAX_VALUE;f79=Number.MAX_VALUE;N4B.O90(60);var E7f=N4B.t1w(41,6,7);H1k=Number.MAX_VALUE * E7f;N4B.O90(61);var x3M=N4B.t1w(3,36,20,18);K6Z=Number.MAX_VALUE * x3M;I8H=this.color;if(I8H == "auto" || e5.isTransparent(I8H)){I8H=this.stx.defaultColor;}this.rays=[];for(var K5k=0;K5k < this.parameters.fibs.length;K5k++){T1g="l";T1g+="e";T1g+="f";T1g+="t";X5N.textAlign=T1g;X5N.fillStyle=I8H;e$S=this.parameters.fibs[K5k];if(!e$S.display)continue;a96=this.stx.pixelFromValueAdjusted(V1O,this.p0["0" * 1],M2Z < B54?g0V - N18 * e$S.level:H5_ + N18 * e$S.level);L7P=e5.xIntersection({x0:G5O,x1:e$4,y0:B54,y1:M2Z},a96);g8R=this.parameters.extendLeft?0:L7P;L2C=V1O.left + V1O.width;if(this.parameters.printLevels){N4B.O90(62);var F5U=N4B.D8z(1,11,3,1,2);N4B.O90(63);var b_a=N4B.D8z(9335,19,1054853,3,6);l1D=Math.round(e$S.level * +"1000") / F5U + ("1592" - 0 < (+"101.38",b_a)?"%":!1);L2C-=Z18;if(this.parameters.printValues){O7h="s";O7h+="tx_yaxis";X5N.fillStyle=I8H;this.stx.canvasFont(O7h,X5N);;}if(L2C < g8R){X5N.textAlign="right";}X5N.fillText(l1D,L2C,a96);if(L2C < g8R){L2C+=5;}else {L2C-=5;}}if(this.parameters.printValues){if(L7P < V1O.width){M_N=this.stx.transformedPriceFromPixel(a96,V1O);if(g9J.priceFormatter){M_N=g9J.priceFormatter(this.stx,V1O,M_N);}else {M_N=this.stx.formatYAxisPrice(M_N,V1O);}if(X5N == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(V1O,M_N,a96,I8H,null,X5N);if(X5N == this.stx.chart.context){this.stx.startClip(V1O.name);}}}w$W=e$S.color;if(w$W == "auto" || e5.isTransparent(w$W)){w$W=this.color;}if(w$W == "auto" || e5.isTransparent(w$W)){w$W=this.stx.defaultColor;}u6z=e$S.color;if(u6z == "auto" || e5.isTransparent(u6z)){u6z=this.fillColor;}if(u6z == "auto" || e5.isTransparent(u6z)){u6z=this.stx.defaultColor;}X5N.fillStyle=u6z;h1z=e5.clone(e$S.parameters);if(this.highlighted){h1z.opacity=+"1";}this.stx.plotLine(g8R,L2C,a96,a96,this.highlighted?j0u:w$W,"segment",X5N,V1O,h1z);this.rays.push([[g8R,a96],[L2C,a96]]);X5N.globalAlpha=+"0.05";X5N.beginPath();X5N.moveTo(L2C,a96);X5N.lineTo(g8R,a96);if(g8R){X5N.lineTo(e$4,M2Z);}else {X5N.lineTo(g8R,M2Z);}X5N.lineTo(L2C,M2Z);if(typeof u6z != "undefined"){X5N.fill();}X5N.globalAlpha=1;if(a96 < f79){o5Q=L7P;f79=a96;}if(a96 > K6Z){H1k=L7P;K6Z=a96;}}for(var A0i=+"0";A0i <= 1;A0i++){S5z=w_5?a0a - c75 * A0i:f9G + c75 * A0i;S5z=Math.round(S5z);if(S5z < f79){o5Q=e5.xIntersection({x0:G5O,x1:e$4,y0:B54,y1:M2Z},S5z);f79=S5z;}if(S5z > K6Z){H1k=e5.xIntersection({x0:G5O,x1:e$4,y0:B54,y1:M2Z},S5z);K6Z=S5z;}}i8J=e5.clone(this.parameters.trend.parameters);if(this.highlighted){i8J.opacity=+"1";}this.stx.plotLine(o5Q,H1k,f79,K6Z,j0u,"segment",X5N,V1O,i8J);if(this.highlighted){c05=this.highlighted == "p0"?!![]:![];S1J=this.highlighted == "p1"?!!1:!({});this.littleCircle(X5N,G5O,B54,c05);this.littleCircle(X5N,e$4,M2Z,S1J);}};e5.Drawing.fibonacci.prototype.reposition=function(Z_C,p$4,V5x,z79){if(!p$4){return;}e5.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);g9BGt.Z_e();this.adjust();};e5.Drawing.fibonacci.prototype.intersected=function(z9y,D9q,w2s){var i2n,i0s,t47,A96,c5m,Q5_,c0i;i2n=this.p0;i0s=this.p1;if(!i2n || !i0s){return null;}t47={0:i2n,1:i0s};for(var t$C in t47){if(this.pointIntersection(t47[t$C][+"0"],t47[t$C][1],w2s)){g9BGt.X$L(1);this.highlighted=g9BGt.D8z((1910,6969) !== (3582,799.73)?"p":9194 === (183.43,"2773" | 84)?(215.54,"4.83e+3" | 0):916.14 <= (1590,+"190.19")?!!({}):(7.63e+3,![]),t$C);return {action:"drag",point:"p" + t$C};}}A96=this.outer;c5m=this.rays;Q5_=A96 && this.lineIntersection(z9y,D9q,w2s,"segment",A96.p0,A96.p1);if(!Q5_){for(var m1e=0;m1e < c5m.length;m1e++){if(this.lineIntersection(z9y,D9q,w2s,"ray",c5m[m1e][0],c5m[m1e][1],!![])){Q5_=!!"1";break;}}}if(Q5_){c0i="m";c0i+="o";c0i+="v";c0i+="e";this.highlighted=!0;return {action:c0i,p0:e5.clone(i2n),p1:e5.clone(i0s),tick:z9y,value:D9q};}return null;};e5.Drawing.fibonacci.prototype.reconstruct=function(B_v,x9R){x9R=e5.replaceFields(x9R,e5.reverseObject(e5.Drawing.fibonacci.mapping));this.stx=B_v;this.parameters=x9R.parameters;if(!this.parameters){this.parameters=e5.clone(this.stx.currentVectorParameters.fibonacci);}this.color=x9R.col;this.fillColor=x9R.fc;this.panelName=x9R.pnl;this.d0=x9R.d0;this.d1=x9R.d1;this.d2=x9R.d2;this.tzo0=x9R.tzo0;this.tzo1=x9R.tzo1;this.tzo2=x9R.tzo2;this.v0=x9R.v0;this.v1=x9R.v1;this.v2=x9R.v2;this.adjust();};e5.Drawing.fibonacci.prototype.adjust=function(){var W5P;g9BGt.Z_e();W5P=this.stx.panels[this.panelName];if(!W5P){return;}this.setPoint(+"0",this.d0,this.v0,W5P.chart);this.setPoint(1,this.d1,this.v1,W5P.chart);this.setOuter();};e5.Drawing.fibonacci.prototype.serialize=function(){g9BGt.Z_e();var V4j;V4j={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return e5.replaceFields(V4j,e5.Drawing.fibonacci.mapping);};e5.Drawing.retracement=function(){g9BGt.Z_e();this.name="retracement";};e5.inheritsFrom(e5.Drawing.retracement,e5.Drawing.fibonacci);e5.Drawing.fibprojection=function(){g9BGt.Z_e();this.name="fibprojection";this.dragToDraw=![];this.p2=null;};e5.inheritsFrom(e5.Drawing.fibprojection,e5.Drawing.fibonacci);e5.Drawing.fibprojection.prototype.recommendedLevels=[0,+"0.618",1,1.272,1.618,2.618,+"4.236"];e5.Drawing.fibprojection.prototype.click=function(u5i,T9N,I0J){var f9L;f9L=this.stx.panels[this.panelName];if(!f9L){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,T9N,I0J,f9L.chart);this.penDown=!!1;return !({});}if(this.accidentalClick(T9N,I0J)){this.stx.undo();return !!1;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],f9L.chart);this.parameters=e5.clone(this.parameters);return !![];}this.setPoint(1,T9N,I0J,f9L.chart);this.p2=[this.p1[0],this.p1[1]];return !1;;};e5.Drawing.fibprojection.prototype.render=function(B2j){var c1B=g9BGt;var Q8w,H_V,I8G,W9H,A3l,b77,e96,s4o,t5J,f5e,z8F,L$Z,T4z,L6I,Y8K,c2Q,m8W,T_W,k6G,b2U,J7F,K5Y,D2d,Z0L,Y75,e7H,B5Y,W4z,m5M,Z0m,u01,o$9,h5E,n_V,z$V;Q8w="segmen";Q8w+="t";H_V="m";H_V+="i";H_V+="ddl";H_V+="e";I8G="s";I8G+="ol";I8G+="i";I8G+="d";W9H=this.stx.panels[this.panelName];if(!W9H){return;}A3l=W9H.yAxis;if(!this.p1){return;}c1B.O90(60);var K1L=c1B.t1w(37,3,12);c1B.O90(5);var Y37=c1B.t1w(3,12,10);b77=this.p1[K1L] - this.p0["1" | Y37];e96=this.stx.pixelFromTick(this.p0[0],W9H.chart);s4o=this.stx.pixelFromTick(this.p1[0],W9H.chart);t5J=this.stx.pixelFromValueAdjusted(W9H,this.p0[0],this.p0["1" - 0]);f5e=this.stx.pixelFromValueAdjusted(W9H,this.p1[0],this.p1[1]);z8F=null;L$Z=null;if(this.p2){z8F=this.stx.pixelFromTick(this.p2[+"0"],W9H.chart);L$Z=this.stx.pixelFromValueAdjusted(W9H,this.p2[0],this.p2[1]);}T4z={color:"auto",parameters:{pattern:I8G,opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=T4z;}L6I=this.getLineColor(this.parameters.trend.color);B2j.textBaseline=H_V;this.stx.canvasFont("stx_yaxis",B2j);c1B.X$L(49);var J1$=c1B.D8z(2,11,1,3);Y8K=B2j.measureText("161.8%").width + J1$;c2Q=this.color;if(c2Q == "auto" || e5.isTransparent(c2Q)){c2Q=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var Q2a=0;Q2a < this.parameters.fibs.length;Q2a++){m8W="unde";m8W+="fined";T_W="seg";T_W+="me";T_W+="nt";k6G="a";k6G+="u";k6G+="t";k6G+="o";b2U="a";b2U+="u";b2U+="t";b2U+="o";J7F="l";J7F+="e";J7F+="ft";B2j.textAlign=J7F;B2j.fillStyle=c2Q;K5Y=this.parameters.fibs[Q2a];if(!K5Y.display)continue;D2d=this.stx.pixelFromValueAdjusted(W9H,this.p2[0],this.p2[1] + b77 * K5Y.level);Z0L=e5.xIntersection({x0:e96,x1:s4o,y0:t5J,y1:f5e},D2d);Y75=this.parameters.extendLeft?0:e96;e7H=W9H.left + W9H.width;if(this.parameters.printLevels){c1B.X$L(64);var w8k=c1B.t1w(67,11,263,10,10);c1B.O90(7);var y_L=c1B.t1w(7,17);c1B.O90(65);var G9z=c1B.t1w(17,341,342,20);c1B.O90(7);var V9x=c1B.t1w(6,9035);c1B.X$L(66);var f_G=c1B.D8z(7,7890,15790,22106);c1B.O90(67);var K5l=c1B.t1w(144080,16,7566,20);c1B.O90(68);var N6L=c1B.t1w(8,17,4676,21);c1B.X$L(49);var v1E=c1B.D8z(395,6326,1583,3);c1B.O90(7);var o$_=c1B.t1w(9,5045);B5Y=Math.round(K5Y.level * w8k) / y_L + ("267.26" - 0 != (G9z,385.89)?"%":(590.25,"530.81" - 0) > V9x?f_G:8580 >= (K5l,N6L)?(v1E,o$_):!!"1");e7H-=Y8K;if(this.parameters.printValues){B2j.fillStyle=c2Q;this.stx.canvasFont("stx_yaxis",B2j);;}if(e7H < Y75){B2j.textAlign="right";}B2j.fillText(B5Y,e7H,D2d);if(e7H < Y75){e7H+=5;}else {e7H-=5;}}if(this.parameters.printValues){if(Z0L < W9H.width){W4z=this.stx.transformedPriceFromPixel(D2d,W9H);if(A3l.priceFormatter){W4z=A3l.priceFormatter(this.stx,W9H,W4z);}else {W4z=this.stx.formatYAxisPrice(W4z,W9H);}if(B2j == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(W9H,W4z,D2d,c2Q,null,B2j);if(B2j == this.stx.chart.context){this.stx.startClip(W9H.name);}}}m5M=K5Y.color;if(m5M == b2U || e5.isTransparent(m5M)){m5M=this.color;}if(m5M == "auto" || e5.isTransparent(m5M)){m5M=this.stx.defaultColor;}Z0m=K5Y.color;if(Z0m == k6G || e5.isTransparent(Z0m)){Z0m=this.fillColor;}if(Z0m == "auto" || e5.isTransparent(Z0m)){Z0m=this.stx.defaultColor;}B2j.fillStyle=Z0m;u01=e5.clone(K5Y.parameters);if(this.highlighted){u01.opacity=1;}this.stx.plotLine(Y75,e7H,D2d,D2d,this.highlighted?L6I:m5M,T_W,B2j,W9H,u01);this.rays.push([[Y75,D2d],[e7H,D2d]]);B2j.globalAlpha=0.05;B2j.beginPath();B2j.moveTo(e7H,D2d);B2j.lineTo(Y75,D2d);if(Y75){B2j.lineTo(e96,L$Z);}else {B2j.lineTo(Y75,L$Z);}B2j.lineTo(e7H,L$Z);if(typeof Z0m != m8W){B2j.fill();}B2j.globalAlpha=1;}}o$9=e5.clone(this.parameters.trend.parameters);if(this.highlighted){c1B.O90(7);o$9.opacity=c1B.t1w(0,"1");}this.stx.plotLine(e96,s4o,t5J,f5e,L6I,"segment",B2j,W9H,o$9);if(this.p2){this.stx.plotLine(s4o,z8F,f5e,L$Z,L6I,Q8w,B2j,W9H,o$9);}if(this.highlighted){h5E=this.highlighted == "p0"?!"":!({});n_V=this.highlighted == "p1"?!![]:!"1";z$V=this.highlighted == "p2"?!![]:!1;this.littleCircle(B2j,e96,t5J,h5E);this.littleCircle(B2j,s4o,f5e,n_V);this.littleCircle(B2j,z8F,L$Z,z$V);}};e5.Drawing.fibprojection.prototype.move=function(R5Z,j3Q,D9b){var M$e=g9BGt;var Z5G,C7v,Q$0;if(!this.penDown){return;}Z5G=458876147;C7v=-1915082345;M$e.Z_e();M$e.O90(35);Q$0=M$e.t1w(64,"2");for(var p2Z=1;M$e.l9L(p2Z.toString(),p2Z.toString().length,35562) !== Z5G;p2Z++){this.copyConfig();if(this.p2 !== 1){this.p1=[j3Q,D9b];}else {this.p2=[j3Q,D9b];}Q$0+=2;}if(M$e.i7j(Q$0.toString(),Q$0.toString().length,50783) !== C7v){this.copyConfig();if(this.p2 === 5){this.p1=[j3Q,D9b];}else {this.p2=[j3Q,D9b];}}this.copyConfig();if(this.p2 === null){this.p1=[j3Q,D9b];}else {this.p2=[j3Q,D9b];}this.render(R5Z);};e5.Drawing.fibprojection.prototype.reposition=function(P1P,E81,H8Z,B0x){var o$n,Z7C,c7K,L5M;g9BGt.c7b();o$n="d";o$n+="r";o$n+="a";o$n+="g";if(!E81){return;}Z7C=this.stx.panels[this.panelName];c7K=E81.tick - H8Z;L5M=E81.value - B0x;if(E81.action == "move"){this.setPoint(0,E81.p0[0] - c7K,E81.p0[1] - L5M,Z7C.chart);this.setPoint(1,E81.p1[0] - c7K,E81.p1[1] - L5M,Z7C.chart);this.setPoint(2,E81.p2["0" >> 32] - c7K,E81.p2[1] - L5M,Z7C.chart);this.render(P1P);}else if(E81.action == o$n){this[E81.point]=[H8Z,B0x];this.setPoint(0,this.p0["0" | 0],this.p0[1],Z7C.chart);this.setPoint(1,this.p1[0],this.p1[1],Z7C.chart);this.setPoint(2,this.p2[0],this.p2[1],Z7C.chart);this.render(P1P);}};e5.Drawing.fibprojection.prototype.intersected=function(Y5H,z3b,r8s){var B7W,J56,l1T,q14,R_D,X66,I5Q,Z2t;B7W=this.p0;J56=this.p1;l1T=this.p2;if(!B7W || !J56 || !l1T){return null;}q14={0:B7W,1:J56,2:l1T};for(var R9f in q14){if(this.pointIntersection(q14[R9f][0],q14[R9f]["1" * 1],r8s)){R_D="d";R_D+="r";R_D+="ag";g9BGt.X$L(1);this.highlighted=g9BGt.t1w((739.81,5353) > (6720,9080)?(6150,+"305") < 1302?("3715" - 0,8220) != ("4800" * 1,634.46)?"c":![]:+"605.29":"p",R9f);return {action:R_D,point:(4899 != (363.81,+"2080")?9770 === 80?(0x1cb3,0x354):(3030,636.1) != "3799" - 0?"p":("J","t"):(0x28d,!!1)) + R9f};}}X66=this.rays;I5Q=this.lineIntersection(Y5H,z3b,r8s,"segment",B7W,J56) || this.lineIntersection(Y5H,z3b,r8s,"segment",J56,l1T);if(!I5Q){for(var q4V=0;q4V < X66.length;q4V++){if(this.lineIntersection(Y5H,z3b,r8s,"ray",X66[q4V][0],X66[q4V][1],!0)){I5Q=!!1;break;}}}if(I5Q){Z2t="mov";Z2t+="e";this.highlighted=!"";return {action:Z2t,p0:e5.clone(B7W),p1:e5.clone(J56),p2:e5.clone(l1T),tick:Y5H,value:z3b};}return null;};e5.Drawing.fibprojection.prototype.adjust=function(){var I19;I19=this.stx.panels[this.panelName];if(!I19){return;}this.setPoint(0,this.d0,this.v0,I19.chart);this.setPoint(1,this.d1,this.v1,I19.chart);this.setPoint(2,this.d2,this.v2,I19.chart);};e5.Drawing.fibarc=function(){var K$O;g9BGt.c7b();K$O="fi";K$O+="b";K$O+="arc";this.name=K$O;;};e5.inheritsFrom(e5.Drawing.fibarc,e5.Drawing.fibonacci);e5.Drawing.fibarc.prototype.recommendedLevels=[+"0.382",0.5,0.618,1];e5.Drawing.fibarc.prototype.setOuter=function(){var i1Q,n$y,r3v,q8w,z2z,y_W,Z2K;i1Q=this.stx.panels[this.panelName];if(!i1Q){return;}this.outer={p0:e5.clone(this.p0),p1:e5.clone(this.p1)};n$y=this.stx.pixelFromValueAdjusted(i1Q,this.p0[0],this.p0[1]);r3v=this.stx.pixelFromValueAdjusted(i1Q,this.p1[+"0"],this.p1[+"1"]);q8w=this.stx.pixelFromTick(this.p0[0],i1Q.chart);z2z=this.stx.pixelFromTick(this.p1["0" | 0],i1Q.chart);g9BGt.X$L(69);y_W=g9BGt.D8z(0,r3v,n$y,"2");Z2K=e5.xIntersection({x0:q8w,x1:z2z,y0:n$y,y1:r3v},y_W);this.outer.p0[1]=this.stx.valueFromPixel(y_W,i1Q);this.outer.p0[+"0"]=this.stx.tickFromPixel(Z2K,i1Q.chart);};e5.Drawing.fibarc.prototype.intersected=function(s$d,b9N,h6D){var J_W,w5q,j_T,t2N,h4c,Y6s,K8u,N_J,r$c,B83,B9i;J_W="m";J_W+="o";J_W+="v";J_W+="e";w5q=this.stx.panels[this.panelName];if(!w5q){return;}j_T=this.p0;t2N=this.p1;h4c=this.outer;if(!j_T || !t2N){return null;}Y6s={0:j_T,1:t2N};for(var v6x in Y6s){if(this.pointIntersection(Y6s[v6x][0],Y6s[v6x][1],h6D)){g9BGt.X$L(1);this.highlighted=g9BGt.D8z(684.38 <= +"6580"?+"399.24" < 6320?"p":("259.97" * 1,"C"):792.96,v6x);return {action:"drag",point:"p" + v6x};}}if(this.lineIntersection(s$d,b9N,h6D,"segment",h4c.p0,h4c.p1)){this.highlighted=!![];return {action:"move",p0:e5.clone(j_T),p1:e5.clone(t2N),tick:s$d,value:b9N};}K8u={x0:j_T[0],x1:t2N[0],y0:j_T[1],y1:t2N[1]};N_J=e5.convertBoxToPixels(this.stx,this.panelName,K8u);r$c={x:Math.abs(Math.sqrt(2) * (N_J.x1 - N_J.x0)),y:Math.abs(Math.sqrt(2) * (N_J.y1 - N_J.y0))};B83=this.stx.pixelFromTick(s$d,w5q.chart);B9i=this.stx.pixelFromValueAdjusted(w5q,s$d,b9N);if(B83 + h6D.r < N_J.x1 - r$c.x || B83 - h6D.r > N_J.x1 + r$c.x){return null;}if(B9i + h6D.r < N_J.y1 - r$c.y || B9i - h6D.r > N_J.y1 + r$c.y){return null;}if(N_J.y0 < N_J.y1 && B9i - h6D.r > N_J.y1){return null;}if(N_J.y0 > N_J.y1 && B9i + h6D.r < N_J.y1){return null;}this.highlighted=!!"1";return {action:J_W,p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:s$d,value:b9N};};e5.Drawing.fibarc.prototype.render=function(u46){var R_e=g9BGt;var Z3_,r4n,U_U,w51,w2T,S4a,p95,t4x,V_z,v1l,k11,E4$,P4R,j0g,Y_8,y$G,n4N,f8$,O0G,U0G,G56,Q9X,M$0,E8D;Z3_="segm";R_e.Z_e();Z3_+="e";Z3_+="nt";r4n=this.stx.panels[this.panelName];if(!r4n){return;}U_U=r4n.yAxis;if(!this.p1){return;}w51=this.stx.pixelFromTick(this.p0[0],r4n.chart);w2T=this.stx.pixelFromTick(this.p1[0],r4n.chart);S4a=this.stx.pixelFromValueAdjusted(r4n,this.p0[0],this.p0[1]);p95=this.stx.pixelFromValueAdjusted(r4n,this.p1["0" | 0],this.p1[1]);R_e.X$L(70);t4x=R_e.D8z(p95,S4a);R_e.X$L(71);V_z=Math.abs(R_e.t1w(S4a,w51,w2T,p95));v1l=this.getLineColor(this.parameters.trend.color);u46.textBaseline="middle";this.stx.canvasFont("stx_yaxis",u46);k11=this.color;if(k11 == "auto" || e5.isTransparent(k11)){k11=this.stx.defaultColor;}for(var Y5L="0" ^ 0;Y5L < this.parameters.fibs.length;Y5L++){u46.fillStyle=k11;E4$=this.parameters.fibs[Y5L];if(E4$.level < 0 || !E4$.display)continue;R_e.O90(49);var f4b=R_e.D8z(2,9,0,16);R_e.O90(50);var v47=R_e.D8z(14,16);P4R=Math.abs(this.p1["1" ^ 0] - this.p0[f4b]) * Math.sqrt(v47) * E4$.level;R_e.X$L(2);var f5u=R_e.D8z(0,1,7,7);R_e.X$L(72);var Q47=R_e.t1w(12,5,4,2);R_e.X$L(49);var W5m=R_e.t1w(19,2,0,19);R_e.X$L(73);var I0Z=R_e.t1w(83,9,12,6,10);R_e.X$L(74);var y0l=R_e.t1w(6,5,19,7);j0g=this.p1[f5u] + P4R * (t4x?Q47:W5m) * (U_U.flipped?I0Z:y0l);Y_8=this.stx.pixelFromValueAdjusted(r4n,this.p0[0],j0g);y$G=e5.xIntersection({x0:w51,x1:w2T,y0:S4a,y1:p95},Y_8);if(this.parameters.printLevels){n4N="ce";n4N+="n";n4N+="te";n4N+="r";u46.textAlign=n4N;R_e.X$L(68);var B0h=R_e.D8z(3,2,1002,3);R_e.X$L(57);var a0w=R_e.D8z(40,2,10);f8$=Math.round(E4$.level * B0h) / a0w + "%";if(this.parameters.printValues){u46.fillStyle=k11;this.stx.canvasFont("stx_yaxis",u46);;}u46.fillText(f8$,w2T,Math.round(Y_8 - 5));}u46.textAlign="left";if(this.parameters.printValues){if(y$G < r4n.width){O0G=j0g;if(U_U.priceFormatter){O0G=U_U.priceFormatter(this.stx,r4n,O0G);}else {O0G=this.stx.formatYAxisPrice(O0G,r4n);}if(u46 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(r4n,O0G,Y_8,k11,null,u46);if(u46 == this.stx.chart.context){this.stx.startClip(r4n.name);}}}U0G=E4$.color;if(U0G == "auto" || e5.isTransparent(U0G)){U0G=this.color;}if(U0G == "auto" || e5.isTransparent(U0G)){U0G=this.stx.defaultColor;}u46.strokeStyle=this.highlight?v1l:U0G;G56=E4$.color;if(G56 == "auto" || e5.isTransparent(G56)){G56=this.fillColor;}if(G56 == "auto" || e5.isTransparent(G56)){G56=this.stx.defaultColor;}u46.fillStyle=G56;u46.globalAlpha=this.highlighted?1:E4$.parameters.opacity;u46.lineWidth=E4$.parameters.lineWidth;if(u46.setLineDash){u46.setLineDash(e5.borderPatternToArray(u46.lineWidth,E4$.parameters.pattern));u46.lineDashOffset=0;;}u46.save();u46.beginPath();R_e.X$L(75);u46.scale(R_e.D8z(V_z,"1"),1);R_e.O90(8);u46.arc(R_e.t1w(V_z,w2T),p95,Math.abs(Y_8 - p95),0,Math.PI,!t4x);if(this.pattern != "none"){u46.stroke();}u46.globalAlpha=0.05;u46.fill();u46.restore();if(u46.setLineDash){u46.setLineDash([]);}R_e.X$L(3);u46.globalAlpha=R_e.D8z(0,"1");}u46.textAlign="left";Q9X=e5.clone(this.parameters.trend.parameters);if(this.highlighted){Q9X.opacity=+"1";}R_e.O90(38);this.stx.plotLine(w2T,R_e.t1w(w51,w2T,2),p95,R_e.D8z(S4a,p95,2),v1l,Z3_,u46,r4n,Q9X);if(this.highlighted){M$0=this.highlighted == "p0"?!![]:!({});E8D=this.highlighted == "p1"?!!1:![];this.littleCircle(u46,w51,S4a,M$0);this.littleCircle(u46,w2T,p95,E8D);}};e5.Drawing.fibfan=function(){var M_O;M_O="f";M_O+="i";M_O+="bfan";this.name=M_O;g9BGt.Z_e();;};e5.inheritsFrom(e5.Drawing.fibfan,e5.Drawing.fibonacci);e5.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,+"0.5",0.618,+"1"];e5.Drawing.fibfan.prototype.setOuter=function(){};e5.Drawing.fibfan.prototype.render=function(m9J){var F0F=g9BGt;var s6Z,M39,B8Z,d__,t0K,X7d,r4V,z_m,L0X,L18,n3m,N5p,O8b,E8c,l79,b2e,Z6W,b6i,P4v,i2I,v2L,b5g,e2j,f9U,c__,J8s,U54,l6h,T$o,u7h,f_K;s6Z="aut";s6Z+="o";M39="1";M39+="61";F0F.c7b();M39+=".";M39+="8%";B8Z=this.stx.panels[this.panelName];if(!B8Z){return;}d__=B8Z.yAxis;if(!this.p1){return;}t0K=this.stx.pixelFromTick(this.p0[0],B8Z.chart);X7d=this.stx.pixelFromTick(this.p1["0" * 1],B8Z.chart);r4V=this.stx.pixelFromValueAdjusted(B8Z,this.p0["0" | 0],this.p0[1]);z_m=this.stx.pixelFromValueAdjusted(B8Z,this.p1[0],this.p1[1]);L0X=Math.min(z_m,r4V);L18=Math.max(z_m,r4V);F0F.O90(7);n3m=F0F.t1w(L0X,L18);F0F.O90(59);N5p=F0F.D8z(r4V,z_m,0,t0K,X7d);O8b=this.getLineColor(this.parameters.trend.color);m9J.textBaseline="middle";this.stx.canvasFont("stx_yaxis",m9J);F0F.X$L(67);var E92=F0F.t1w(312,20,3,14);E8c=m9J.measureText(M39).width + E92;l79=Number.MAX_VALUE;b2e=Number.MAX_VALUE * -+"1";Z6W=this.color;if(Z6W == s6Z || e5.isTransparent(Z6W)){Z6W=this.stx.defaultColor;}this.rays=[];for(var F06=0;F06 < this.parameters.fibs.length;F06++){b6i="segme";b6i+="nt";m9J.fillStyle=Z6W;P4v=this.parameters.fibs[F06];if(!P4v.display)continue;i2I=this.stx.pixelFromValueAdjusted(B8Z,this.p0[0],(this.p0[1] - this.p1[+"1"]) * P4v.level + this.p1[1]);v2L=e5.xIntersection({x0:X7d,x1:X7d,y0:r4V,y1:z_m},i2I);b5g=B8Z.left;if(X7d > t0K){b5g+=B8Z.width;}F0F.O90(76);e2j=F0F.D8z(r4V,b5g,t0K,r4V,t0K,i2I,v2L);if(t0K > b5g - (this.parameters.printLevels?E8c + 5:0) && X7d > t0K)continue;else if(t0K < b5g + (this.parameters.printLevels?E8c + 5:0) && X7d < t0K)continue;if(this.parameters.printLevels){F0F.X$L(66);var D7E=F0F.D8z(5,6,128,320);F0F.X$L(38);var I44=F0F.D8z(18,710,40);F0F.X$L(77);var j0Q=F0F.D8z(4530,453,1500);F0F.O90(1);var K4Z=F0F.t1w(7749,11);f9U=Math.round(P4v.level * ("1000" | D7E)) / I44 + ((+"7457",9.96) < j0Q?"%":("U",K4Z));if(X7d > t0K){b5g-=E8c;m9J.textAlign="left";}else {b5g+=E8c;m9J.textAlign="right";}if(this.parameters.printValues){m9J.fillStyle=Z6W;this.stx.canvasFont("stx_yaxis",m9J);;}F0F.O90(76);e2j=F0F.t1w(r4V,b5g,t0K,r4V,t0K,i2I,v2L);m9J.fillText(f9U,b5g,e2j);if(X7d > t0K){F0F.O90(8);b5g-=F0F.t1w(1,"5");}else {b5g+=5;}}m9J.textAlign="left";if(this.parameters.printValues){if(v2L < B8Z.width){c__=this.stx.transformedPriceFromPixel(i2I,B8Z);if(d__.priceFormatter){c__=d__.priceFormatter(this.stx,B8Z,c__);}else {c__=this.stx.formatYAxisPrice(c__,B8Z);}if(m9J == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(B8Z,c__,i2I,Z6W,null,m9J);if(m9J == this.stx.chart.context){this.stx.startClip(B8Z.name);}}}J8s=P4v.color;if(J8s == "auto" || e5.isTransparent(J8s)){J8s=this.color;}if(J8s == "auto" || e5.isTransparent(J8s)){J8s=this.stx.defaultColor;}U54=P4v.color;if(U54 == "auto" || e5.isTransparent(U54)){U54=this.fillColor;}if(U54 == "auto" || e5.isTransparent(U54)){U54=this.stx.defaultColor;}m9J.fillStyle=U54;if(this.parameters.printLevels){F0F.X$L(76);e2j=F0F.D8z(r4V,b5g,t0K,r4V,t0K,i2I,v2L);}l6h=e5.clone(P4v.parameters);if(this.highlighted){l6h.opacity=1;}this.stx.plotLine(t0K,b5g,r4V,e2j,this.highlighted?O8b:J8s,b6i,m9J,B8Z,l6h);this.rays.push([[t0K,r4V],[b5g,e2j]]);m9J.globalAlpha=0.05;m9J.beginPath();m9J.moveTo(b5g,e2j);m9J.lineTo(t0K,r4V);m9J.lineTo(b5g,r4V);m9J.fill();m9J.globalAlpha=1;if(i2I < l79){l79=i2I;}if(i2I > b2e){b2e=i2I;}}for(var f0I=0;f0I <= 1;f0I++){T$o=N5p?L18 - n3m * f0I:L0X + n3m * f0I;T$o=Math.round(T$o);if(T$o < l79){l79=T$o;}if(T$o > b2e){b2e=T$o;}}if(this.highlighted){u7h=this.highlighted == "p0"?!0:![];f_K=this.highlighted == "p1"?!!"1":!!"";this.littleCircle(m9J,t0K,r4V,u7h);this.littleCircle(m9J,X7d,z_m,f_K);}};e5.Drawing.fibtimezone=function(){this.name="fibtimezone";g9BGt.c7b();;};e5.inheritsFrom(e5.Drawing.fibtimezone,e5.Drawing.fibonacci);e5.Drawing.fibtimezone.prototype.render=function(y92){var u9l=g9BGt;var I7d,N5s,T1B,e0$,c7k,O8n,j5_,C$U,L9I,w8P,R6U,z7I,m6w,J$Z,c$A,B3z,A3C,M53,H7T,W9b,R4o;I7d=this.stx.panels[this.panelName];if(!I7d){return;}if(!this.p1){return;}N5s=this.stx.pixelFromTick(this.p0[+"0"],I7d.chart);T1B=this.stx.pixelFromTick(this.p1[+"0"],I7d.chart);e0$=this.stx.pixelFromValueAdjusted(I7d,this.p0[0],this.p0[1]);c7k=this.stx.pixelFromValueAdjusted(I7d,this.p1[0],this.p1[1]);O8n=[+"1",0];j5_=this.getLineColor(this.parameters.trend.color);y92.textBaseline="middle";this.stx.canvasFont("stx_yaxis",y92);C$U=20;L9I=this.p1[0] - this.p0[0];w8P=this.color;if(w8P == "auto" || e5.isTransparent(w8P)){w8P=this.stx.defaultColor;}y92.textAlign="center";R6U=N5s;z7I=I7d.yAxis.top;m6w=I7d.yAxis.bottom;J$Z=0;c$A=this.parameters.timezone.color;if(c$A == "auto" || e5.isTransparent(c$A)){c$A=this.color;}if(c$A == "auto" || e5.isTransparent(c$A)){c$A=this.stx.defaultColor;}B3z=this.parameters.timezone.color;if(B3z == "auto" || e5.isTransparent(B3z)){B3z=this.fillColor;}if(B3z == "auto" || e5.isTransparent(B3z)){B3z=this.stx.defaultColor;}if(this.parameters.printLevels){u9l.X$L(33);m6w-=u9l.D8z(C$U,0,"7");}A3C=e5.clone(this.parameters.timezone.parameters);if(this.highlighted){A3C.opacity=1;}do {M53="segmen";M53+="t";R6U=this.stx.pixelFromTick(this.p0[+"0"] + J$Z * L9I,I7d.chart);if(N5s < T1B && R6U > I7d.left + I7d.width)break;else if(N5s > T1B && R6U < I7d.left)break;if(this.parameters.printLevels){y92.fillStyle=w8P;y92.fillText(T1B > N5s?J$Z:J$Z * -1,R6U,m6w + 7);}y92.fillStyle=B3z;this.stx.plotLine(R6U,R6U,0,m6w,this.highlighted?j5_:c$A,M53,y92,I7d,A3C);y92.globalAlpha=0.05;y92.beginPath();y92.moveTo(N5s,z7I);y92.lineTo(R6U,z7I);y92.lineTo(R6U,m6w);y92.lineTo(N5s,m6w);y92.fill();y92.globalAlpha=1;J$Z=O8n[0] + O8n["1" >> 0];O8n.unshift(J$Z);}while(L9I);y92.textAlign="left";this.stx.plotLine(N5s,T1B,e0$,c7k,j5_,"segment",y92,I7d,A3C);if(this.highlighted){H7T=this.highlighted == "p0"?!!"1":![];W9b=this.highlighted == "p1"?!![]:!({});this.littleCircle(y92,N5s,e0$,H7T);this.littleCircle(y92,T1B,c7k,W9b);}else {R4o=this.stx.valueFromPixel(I7d.height / +"2",I7d);this.setPoint(0,this.p0[0],R4o,I7d.chart);u9l.O90(8);this.setPoint(u9l.t1w(1,"1"),this.p1[0],R4o,I7d.chart);}};e5.Drawing.fibtimezone.prototype.intersected=function(K6w,n6j,j$Z){var c0K,W1V,x4L,q5J,e2a;c0K=this.p0;W1V=this.p1;x4L=this.stx.panels[this.panelName];if(!c0K || !W1V || !x4L){return null;}q5J={0:c0K,1:W1V};for(var k_$ in q5J){if(this.pointIntersection(q5J[k_$][0],q5J[k_$][1],j$Z)){g9BGt.X$L(1);this.highlighted=g9BGt.D8z((6090,+"400.42") == ("7637" | 21)?(6987,9030) >= (2480,4289)?(+"493.06",8278) === 8350?(4.67e+3,6.67e+3):733.47:!({}):"p",k_$);return {action:"drag",point:"p" + k_$};}}e2a=this.lineIntersection(K6w,n6j,j$Z,"segment");if(e2a || j$Z.x0 <= this.p0[0] && j$Z.x1 >= c0K[0]){this.highlighted=!!"1";return {action:"move",p0:e5.clone(c0K),p1:e5.clone(W1V),tick:K6w,value:n6j};}g9BGt.Z_e();return null;};e5.Drawing.arrow_v0=function(){g9BGt.Z_e();var z7l;z7l="a";z7l+="rr";z7l+="o";z7l+="w";this.name=z7l;this.dimension=[11,11];this.points=[[(877.99,2110) < 3761?514.52 > 895.91?"J":(+"817.5",7670) !== 4250?"M":0x2115:708.93,3,0,(4620,2130) <= 9020?"L":("V","X"),7,0,8950 < (944.06,3286)?383.68:"L",7,5,(2359,+"6458") <= 6090?237.49 == 4780?"h":2896 > 8832?(!0,!!"1"):!"1":"L",10,5,(9790,308.33) <= (5126,5349)?(588.34,4198) === 7991?(8.57e+3,2.61e+2):("2152" - 0,4393) >= (5182,1424)?"L":"P":(693.14,919.64),+"5",10,7790 < "8150" - 0?(381,"9525" * 1) > ("6980" >> 96,786.03)?(+"1150",+"8000") == (9950,8350)?(721,!!({})):"L":(!0,9.82e+3):!![],0,5,("6013" - 0,297) <= 5470?"L":(577.70,"k"),3,+"5",9710 == (291.69,2400)?!({}):("8300" * 1,2206) !== 3931?"26" * 1 == ("441.72" - 0,1235)?509.12:"L":("G","0x184b" - 0),3,0]];};e5.inheritsFrom(e5.Drawing.arrow_v0,e5.Drawing.shape);e5.Drawing.xcross=function(){var Z5C=g9BGt;this.name="xcross";this.dimension=[7,7];Z5C.O90(7);this.points=[[446.46 == (599,"380.97" - 0)?(296.83,862.70):(3,8760) !== (4650,5701)?"M":852.71 === +"5810"?+"934":(!!0,"S"),1,0,"L",3,2,(2407,5894) == (+"837",3590)?6.54e+2:506 !== (5571,38.2)?"L":"39.64" - 0 <= 7947?0x6be:!!({}),5,+"0","L",6,1,"L",4,Z5C.t1w(0,"3"),"L",6,5,"L",+"5",6,447.67 !== 717?"L":("E",496.65),+"3",4,3147 > (342.78,7120)?5780 > 534?(8.76e+2,!![]):!1:"L",1,6,323 != 215?"L":(3497,5300) >= (9060,457.3)?"O":3.41e+2,+"0",5,"57.71" - 0 <= 3550?173.57 !== 3900?"L":("1380" ^ 0) != 6150?541.48:"0x12df" - 0:"326.85" - 0,Z5C.t1w(0,"2",Z5C.O90(3)),3,3738 > 6772?(!"1",!0):"L",0,1,(619.51,944.14) !== 91?"L":(7300,7370) >= +"868.49"?(973,1490) < (+"544.32",206)?!!1:(112,0xec7):"R",1,0]];;};e5.inheritsFrom(e5.Drawing.xcross,e5.Drawing.shape);e5.Drawing.check=function(){this.name="check";this.dimension=[8,9];g9BGt.O90(8);this.points=[["M",1,5,66.67 > 4329?(247.17,3449) != (8022,927.74)?(!({}),0xce4):(2.24e+3,977.16):"L",0,6,"L",g9BGt.t1w(1,"2"),8,"L",7,1,(542.6,354) <= 796.51?5867 === "714.83" * 1?(6810,6798) !== 307?("N",274.85):(+"0x265e",940.51):"L":("B","o"),6,0,2110 >= 4400?639.19:"L",2,6,"L",1,5]];;};e5.inheritsFrom(e5.Drawing.check,e5.Drawing.shape);e5.Drawing.star=function(){var x0f=g9BGt;this.name="star";this.dimension=[12,12];x0f.O90(35);x0f.Z_e();this.points=[["13.97" * 1 < (5256,"7570" | 2)?(9584,1515) == +"6492"?"c":"M":(!"1",0x83c),0,4,"L",4,4,9356 >= 7855?"L":(!![],847.70),5.5,0,(228,4890) !== (+"17.15",1212)?141.23 >= (5722,29)?"L":+"6.03e+3":0x1f9b,7,4,(1220,9700) < 1070?!({}):"L",11,+"4",7080 != 8660?"L":!!({}),8,7,"L",x0f.D8z(32,"9"),11,(6525,5858) > (2150,9965)?(196.88,![]):"333.67" - 0 == (7850,5461)?(!"1","e"):11.16 === 707.38?(27.13,+"4.34e+3"):"L",+"5.5",9,(3040,192) >= (4200,9532)?(3060,+"1031") < (885,645.89)?0x77b:"Q":"L",2,x0f.D8z("11",10,x0f.X$L(0)),"L",3,7,(80.58,3110) != (6600,+"374.84")?"L":"L",+"0",4]];;};e5.inheritsFrom(e5.Drawing.star,e5.Drawing.shape);e5.Drawing.heart=function(){var K2o=g9BGt;this.name="heart";K2o.O90(3);K2o.c7b();this.dimension=[23,K2o.t1w(0,"20")];K2o.O90(7);this.points=[[6500 === 1932?("k",0x2447):"M",+"11",+"3","628.24" - 0 == 1320?("M","b"):("8317" << 64,+"2010") == (6705,+"924")?0xced:"B",11,2.4,10,0,6,0,1535 >= ("364.9" * 1,8.45)?(7200,6842) != 506.09?"B":4156 > 428?0x2619:(![],"0xf34" >> 0):+"7.24e+3",0,0,+"0",7.5,0,7.5,9303 !== 656.56?6800 > 7660?(0x1334,1.72e+3):"B":(!0,![]),0,11,4,15.4,11,19,"B",18,15.4,22,11,22,7.5,"7274" - 0 < (9110,2890)?3155 !== (6669,"3866" * 1)?(8553,350.69) != (7584,7600)?!!1:100:0x18cf:"B",K2o.t1w(0,"22"),7.5,22,0,16,0,5381 > 172.3?"B":(0x4ec,267.21),13,0,11,+"2.4",11,3]];;};e5.inheritsFrom(e5.Drawing.heart,e5.Drawing.shape);e5.Drawing.focusarrow=function(){var n3f;n3f="foc";n3f+="usa";n3f+="rr";n3f+="ow";this.name=n3f;this.dimension=[7,5];this.points=[[(678.92,774) != 126.7?"M":2740 >= (8341,6468)?(+"2.63e+3",0x12e2):(8470,417.84) === (2925,2170)?"j":(464.51,0x1ebc),0,0,945.75 != 233.6?(5460,284.45) < 841?"L":("0x1eb6" << 64,!1):0x2351,2,2,(1568,1347) === (7555,640)?("361.43" - 0,4439) != 3033?(274.21,25.79) == (2400,7830)?"635.39" - 0:(0x2384,!0):!![]:"L",0,4,(9353,8070) !== (3910,6810)?(984.32,2070) >= 9960?0x8ad:"L":![],0,0],[+"2405" != (2703,751.98)?"M":14 <= 332.7?(!!({}),"9.64e+3" >> 64):(![],0x1d82),6,0,(211.09,+"782.32") < 899.92?"L":("H","105.26" * 1),4,2,9353 <= 6810?(!"",!"1"):(+"425.85",7380) == (2320,3406)?(1.23e+2,812.37):"L",6,4,("3999" * 1,538) != (497.62,519.78)?"L":(666.15,5950) < (793,5460)?(726.31,0x112e):753.15,6,0]];;};e5.inheritsFrom(e5.Drawing.focusarrow,e5.Drawing.shape);e5.Drawing.crossline=function(){this.name="crossline";};e5.inheritsFrom(e5.Drawing.crossline,e5.Drawing.horizontal);e5.extend(e5.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(z43,d8i){g9BGt.c7b();return !1;},adjust:function(){var z0L;z0L=this.stx.panels[this.panelName];if(!z0L){return;}this.setPoint(0,this.d0,this.v0,z0L.chart);this.p1=e5.clone(this.p0);},intersected:function(Y33,A46,P_f){var l69,L$h,n2k,e61,u1G,s3L;if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;l69=this.lineIntersection(Y33,A46,P_f,"line");this.p1=e5.clone(this.p0);if(!l69){L$h="l";L$h+="ine";this.p1[1]+=+"1";l69=this.lineIntersection(Y33,A46,P_f,L$h);this.p1=e5.clone(this.p0);if(!l69){return null;}}this.highlighted=!!1;if(this.pointIntersection(this.p0[0],this.p0[1],P_f)){n2k="p";n2k+="0";e61=1534396721;u1G=-+"2061433582";s3L=2;for(var g9i=1;g9BGt.l9L(g9i.toString(),g9i.toString().length,+"23779") !== e61;g9i++){this.highlighted="";s3L+=+"2";}if(g9BGt.i7j(s3L.toString(),s3L.toString().length,+"48878") !== u1G){this.highlighted="";}this.highlighted=n2k;}return {action:"move",p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:Y33,value:A46};},render:function(h4t){var b8Q=g9BGt;var z_$,U2A,V4i,X4X,P5q,r3O,g9v,i4c,N0L,m45,y1U,K__,n8x,v_o,i_v,H6l,y1_;b8Q.c7b();z_$="hori";z_$+="zon";z_$+="tal";U2A=this.stx.panels[this.panelName];if(!U2A){return;}V4i=this.stx.pixelFromTick(this.p0[0],U2A.chart);X4X=this.stx.pixelFromValueAdjusted(U2A,this.p0[0],this.p0[1]);P5q=this.getLineColor();r3O={pattern:this.pattern,lineWidth:this.lineWidth};b8Q.O90(78);this.stx.plotLine(V4i,b8Q.t1w(V4i,"100"),X4X,X4X,P5q,z_$,h4t,U2A,r3O);b8Q.O90(1);this.stx.plotLine(V4i,V4i,X4X,b8Q.t1w(X4X,100),P5q,"vertical",h4t,U2A,r3O);if(this.axisLabel && !this.repositioner){this.stx.endClip();g9v=this.p0[1];if(U2A.chart.transformFunc){g9v=U2A.chart.transformFunc(this.stx,U2A.chart,g9v);}i4c=780443048;b8Q.X$L(0);N0L=-b8Q.t1w("1766453124",0);m45=2;for(var w68=1;b8Q.l9L(w68.toString(),w68.toString().length,81756) !== i4c;w68++){if(U2A.yAxis.priceFormatter){g9v=U2A.yAxis.priceFormatter(this.stx,U2A,g9v);}else {g9v=this.stx.formatYAxisPrice(g9v,U2A);}this.stx.createYAxisLabel(U2A,g9v,X4X,P5q);this.stx.startClip(U2A.name);m45+=2;}if(b8Q.l9L(m45.toString(),m45.toString().length,92171) !== N0L){if(U2A.yAxis.priceFormatter){g9v=U2A.yAxis.priceFormatter(this.stx,U2A,g9v);}else {g9v=this.stx.formatYAxisPrice(g9v,U2A);}this.stx.createYAxisLabel(U2A,g9v,X4X,P5q);this.stx.startClip(U2A.name);}if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){y1U=this.stx.dateFromTick(this.p0[0],U2A.chart,!0);if(!e5.ChartEngine.isDailyInterval(this.stx.layout.interval)){b8Q.O90(15);var l0U=b8Q.t1w(1007,19,12,1);n8x=y1U.getSeconds() * l0U + y1U.getMilliseconds();if(E3.Date && this.stx.displayZone){K__=new E3.Date(y1U.getTime(),this.stx.displayZone);y1U=new Date(K__.getFullYear(),K__.getMonth(),K__.getDate(),K__.getHours(),K__.getMinutes());y1U=new Date(y1U.getTime() + n8x);}}else {y1U.setHours(0,0,0,0);}v_o=e5.mmddhhmm(e5.yyyymmddhhmm(y1U));if(U2A.chart.xAxis.formatter){v_o=U2A.chart.xAxis.formatter(y1U,this.name,null,null,v_o);}else if(this.stx.internationalizer){if(y1U.getHours() !== 0 || y1U.getMinutes() !== 0){i_v=this.stx.internationalizer.monthDay.format(y1U);b8Q.O90(5);var i_t=b8Q.t1w(5656,25,19);b8Q.O90(79);var n9d=b8Q.t1w(29933,6,2,7,16320);i_v+=((i_t,7640) >= (432.09,988.15)?" ":(n9d,+"7720") >= 735.9?![]:+"893.49") + this.stx.internationalizer.hourMinute.format(y1U);}else {i_v=this.stx.internationalizer.yearMonthDay.format(y1U);}v_o=i_v;}this.stx.endClip();this.stx.createXAxisLabel({panel:U2A,txt:v_o,x:V4i,backgroundColor:P5q,color:null,pointed:!![],padding:2});this.stx.startClip(U2A.name);}}if(this.highlighted){H6l="p";H6l+="0";y1_=this.highlighted == H6l?!!"1":!"1";this.littleCircle(h4t,V4i,X4X,y1_);}}},!"");e5.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=!!"1";};e5.inheritsFrom(e5.Drawing.speedarc,e5.Drawing.segment);e5.extend(e5.Drawing.speedarc.prototype,{defaultOpacity:+"0.25",configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(f6H,d1d,v0T){var J2$=g9BGt;var v5t,b6w,g0b,N5c,I1Z,c9g,u5n,p1p,d0t,S89,l1w;v5t="m";v5t+="ove";if(!this.p0 || !this.p1){return null;}b6w={0:this.p0,1:this.p1};for(var K_o in b6w){if(this.pointIntersection(b6w[K_o][+"0"],b6w[K_o][1],v0T)){J2$.X$L(1);this.highlighted=J2$.t1w("p",K_o);return {action:"drag",point:((6680,+"6418") > ("7440" - 0,4630)?(1000,7949) < (799,9446)?8175 !== 107.47?"p":(!!"",+"0x1723"):(318.91,"f"):("O",8.42e+3)) + K_o};}}g0b=this.lineIntersection(f6H,d1d,v0T,this.name);if(g0b){this.highlighted=!0;N5c=-484368825;I1Z=-104993853;c9g=2;for(var v3$="1" * 1;J2$.i7j(v3$.toString(),v3$.toString().length,"65824" ^ 0) !== N5c;v3$++){u5n="m";u5n+="ove";return {action:u5n,p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:f6H,value:d1d};}if(J2$.l9L(c9g.toString(),c9g.toString().length,34420) !== I1Z){return {action:"",p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:f6H,value:d1d};}}p1p=this.p1[0] - (this.p0[0] - this.p1[0]);d0t=this.p0[0];S89=this.p1[1];J2$.X$L(35);J2$.Z_e();l1w=this.p0[J2$.t1w(0,"1")];if(f6H > Math.max(p1p,d0t) || f6H < Math.min(p1p,d0t)){return null;}if(d1d > Math.max(l1w,S89) || d1d < Math.min(l1w,S89)){return null;}this.highlighted=!0;return {action:v5t,p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:f6H,value:d1d};},render:function(I8I){var I5X=g9BGt;var g9P,B3L,l2d,A2v,K6X,y3J,C$y,f0d,c23,f_P,g9t,r$g,M2b,F9T,n5h,p3k,d3Q,s4p;g9P="s";g9P+="egment";B3L=this.stx.panels[this.panelName];if(!B3L){return;}if(!this.p1){return;}l2d=this.stx.pixelFromTick(this.p0[0],B3L.chart);A2v=this.stx.pixelFromTick(this.p1[0],B3L.chart);K6X=this.stx.pixelFromValueAdjusted(B3L,this.p0[0],this.p0[1]);y3J=this.stx.pixelFromValueAdjusted(B3L,this.p1[0],this.p1[1]);I5X.O90(70);C$y=I5X.D8z(y3J,K6X);I5X.O90(71);f0d=Math.abs(I5X.D8z(K6X,l2d,A2v,y3J));c23=this.getLineColor();I8I.strokeStyle=c23;f_P=this.fillColor;if(f_P == "auto" || e5.isTransparent(f_P)){f_P=this.stx.defaultColor;}I8I.fillStyle=f_P;if(I8I.setLineDash){I8I.setLineDash(e5.borderPatternToArray(this.lineWidth,this.pattern));I8I.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",I8I);for(var x6u=+"1";x6u < "3" * 1;x6u++){I5X.O90(9);var J6q=I5X.t1w(19,18,0);I5X.X$L(7);var I_o=I5X.D8z(5,6);I5X.X$L(80);var S6w=I5X.D8z(1,20,1,4,5);I5X.X$L(5);var Q5D=I5X.t1w(0,3,6);g9t=Math.abs(this.p1[J6q] - this.p0[I_o]) * Math.sqrt(S6w) * x6u / Q5D;I5X.O90(81);var Z3I=I5X.t1w(15,7,0,9);I5X.O90(82);var V3$=I5X.t1w(3,12,4,6);I5X.X$L(83);var N9Y=I5X.t1w(6,16,10,463,13);I5X.O90(43);var c6J=I5X.D8z(107,6,0,18);I5X.X$L(31);var R_5=I5X.t1w(7,162,17,10);r$g=this.p1[Z3I] + g9t * (C$y?V3$:N9Y) * (B3L.yAxis.flipped?c6J:R_5);M2b=this.stx.pixelFromValueAdjusted(B3L,this.p0["0" | 0],r$g);I8I.save();I8I.beginPath();I5X.O90(23);I8I.scale(I5X.t1w(f0d,1),1);I5X.O90(8);I8I.arc(I5X.t1w(f0d,A2v),y3J,Math.abs(M2b - y3J),0,Math.PI,!C$y);I8I.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){I8I.stroke();}I8I.globalAlpha=0.1;I8I.fill();I8I.restore();I8I.globalAlpha=1;if(this.printLevels){F9T="c";F9T+="e";F9T+="n";F9T+="ter";I8I.fillStyle=c23;I8I.textAlign=F9T;I5X.X$L(1);n5h=I5X.t1w(x6u,"/3");I8I.fillText(n5h,A2v,Math.round(M2b - +"5"));I8I.fillStyle=f_P;}}I8I.textAlign="left";p3k={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(l2d,A2v,K6X,y3J,c23,g9P,I8I,B3L,p3k);if(I8I.setLineDash){I8I.setLineDash([]);}if(this.highlighted){d3Q=this.highlighted == "p0"?!!1:!({});s4p=this.highlighted == "p1"?!!1:![];this.littleCircle(I8I,l2d,K6X,d3Q);this.littleCircle(I8I,A2v,y3J,s4p);}},reconstruct:function(A7s,i5d){this.stx=A7s;this.color=i5d.col;this.fillColor=i5d.fc;this.panelName=i5d.pnl;this.pattern=i5d.ptrn;g9BGt.Z_e();this.lineWidth=i5d.lw;this.d0=i5d.d0;this.d1=i5d.d1;this.tzo0=i5d.tzo0;this.tzo1=i5d.tzo1;this.v0=i5d.v0;this.v1=i5d.v1;this.adjust();},serialize:function(){g9BGt.c7b();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},!0);e5.Drawing.speedline=function(){g9BGt.Z_e();this.name="speedline";this.printLevels=!!({});};e5.inheritsFrom(e5.Drawing.speedline,e5.Drawing.speedarc);e5.extend(e5.Drawing.speedline.prototype,{intersected:function(y4d,u4U,t6M){var i5y,h5B,I12,m5n,k4Q;i5y=this.p0;h5B=this.p1;if(!i5y || !h5B){return null;}I12={0:i5y,1:h5B};for(var C9y in I12){if(this.pointIntersection(I12[C9y][0],I12[C9y][1],t6M)){g9BGt.O90(1);this.highlighted=g9BGt.D8z(9440 == (+"1853",4208)?4090 <= 8810?"649.96" - 0:(9.91e+3,9.14e+3):"p",C9y);return {action:"drag",point:(+"6500" < 732.71?"X":5360 === (6415,+"920.75")?(866.25,978) > (733.95,8671)?(3.11e+3,0x12c3):0x2161:"p") + C9y};}}m5n=this.rays;g9BGt.c7b();for(var b3a=0;b3a < m5n.length;b3a++){if(this.lineIntersection(y4d,u4U,t6M,"ray",m5n[b3a][0],m5n[b3a][1],!!"1")){k4Q="mo";k4Q+="ve";this.highlighted=!!1;return {action:k4Q,p0:e5.clone(i5y),p1:e5.clone(h5B),tick:y4d,value:u4U};}}return null;},render:function(v89){var s5f=g9BGt;var Q2d,B2k,f45,w_p,m$2,l5R,z5F,y2a,G4H,I1g,A9N,x$C,U7e,w5t,M7N,c9o,t$K,M3g,N03,j0l,n4o,u9t,w2g,s9e,j4d;Q2d="mi";Q2d+="ddle";B2k=this.stx.panels[this.panelName];if(!B2k){return;}if(!this.p1){return;}f45=this.stx.pixelFromTick(this.p0[0],B2k.chart);w_p=this.stx.pixelFromTick(this.p1[0],B2k.chart);m$2=this.stx.pixelFromValueAdjusted(B2k,this.p0[0],this.p0[1]);l5R=this.stx.pixelFromValueAdjusted(B2k,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",v89);z5F=this.getLineColor();y2a=this.color;if(y2a == "auto" || e5.isTransparent(y2a)){y2a=this.stx.defaultColor;}v89.strokeStyle=y2a;G4H=this.fillColor;if(G4H == "auto" || e5.isTransparent(G4H)){G4H=this.stx.defaultColor;}v89.fillStyle=G4H;I1g={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};U7e=["688.3" * 1 != +"8361"?"1":(0x2180,"K"),"2/3","1/3","3/2",323.19 != (408.06,792)?"3":0x14eb];s5f.O90(84);w5t=[+"1",s5f.t1w(0,"2","3"),s5f.D8z(0,"1","3",s5f.X$L(84)),s5f.t1w(2,3,s5f.X$L(23)),+"3"];M7N=[];this.rays=[];for(var W6O=0;W6O < w5t.length;W6O++){c9o=w5t[W6O];if(c9o > ("1" | 1) && !this.extension)continue;t$K=this.stx.pixelFromValueAdjusted(B2k,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * c9o);if(c9o > ("1" | 1)){M3g=e5.xIntersection({x0:f45,x1:w_p,y0:m$2,y1:t$K},l5R);M7N.push(M3g);}else {M3g=e5.xIntersection({x0:w_p,x1:w_p,y0:m$2,y1:l5R},t$K);M7N.push(t$K);}N03=c9o > "1" << 64?M3g:w_p;j0l=c9o > 1?l5R:t$K;if(!this.confineToGrid){N03=B2k.left;if(w_p > f45){N03+=B2k.width;}s5f.X$L(76);j0l=s5f.D8z(m$2,N03,f45,m$2,f45,t$K,w_p);}if(this.printLevels){if(c9o != 1 || this.extension){v89.fillStyle=y2a;n4o=0;u9t=0;if(m$2 > l5R){u9t=-5;v89.textBaseline="bottom";}else {u9t=5;v89.textBaseline="top";}if(f45 > w_p){n4o=5;v89.textAlign="right";}else {n4o=-5;v89.textAlign="left";}if(c9o > +"1"){v89.fillText(U7e[W6O],M3g + (this.confineToGrid?"0" | 0:n4o),l5R);}else {v89.fillText(U7e[W6O],w_p,t$K + (this.confineToGrid?0:u9t));}v89.fillStyle=G4H;}}this.stx.plotLine(f45,N03,m$2,j0l,this.highlighted?z5F:y2a,"segment",v89,B2k,I1g);if(c9o == 1){A9N=N03;x$C=j0l;}this.rays.push([[f45,m$2],[N03,j0l]]);v89.globalAlpha=0.1;v89.beginPath();v89.moveTo(N03,j0l);v89.lineTo(f45,m$2);v89.lineTo(A9N,x$C);v89.fill();v89.globalAlpha=1;}v89.textAlign="left";v89.textBaseline=Q2d;if(this.confineToGrid){s5f.X$L(8);v89.globalAlpha=s5f.t1w(1,"0.3");v89.beginPath();s5f.X$L(7);v89.strokeRect(f45,m$2,s5f.t1w(f45,w_p),s5f.D8z(m$2,l5R));v89.moveTo(f45,M7N[1]);v89.lineTo(w_p,M7N[1]);v89.moveTo(f45,M7N["2" - 0]);v89.lineTo(w_p,M7N[2]);if(this.extension){v89.moveTo(M7N[3],m$2);v89.lineTo(M7N[3],l5R);v89.moveTo(M7N[4],m$2);v89.lineTo(M7N[4],l5R);}v89.stroke();v89.globalAlpha=1;}if(this.highlighted){w2g="p";w2g+="0";s9e=this.highlighted == w2g?!"":![];j4d=this.highlighted == "p1"?!!({}):!"1";this.littleCircle(v89,f45,m$2,s9e);this.littleCircle(v89,w_p,l5R,j4d);}}},!"");e5.Drawing.gannfan=function(){var o5h,u7S,K$0;o5h=864296670;u7S=+"335022174";K$0=2;for(var d7_=1;g9BGt.i7j(d7_.toString(),d7_.toString().length,33319) !== o5h;d7_++){this.name="";this.printLevels=!({});K$0+=2;}if(g9BGt.l9L(K$0.toString(),K$0.toString().length,57844) !== u7S){this.name="";this.printLevels=!0;}this.name="gannfan";this.printLevels=!!1;};e5.inheritsFrom(e5.Drawing.gannfan,e5.Drawing.speedline);e5.extend(e5.Drawing.gannfan.prototype,{render:function(E7v){var E4A=g9BGt;var o1j,w_l,H53,u_X,h5C,f_Z,W$8,h$N,N0b,p0N,G3n,S96,v0K,b$Q,H2t,H1g,Z2b,z9G,t1g,u5r,g_U,d6t,u0b,b4V,l5P,w9R;o1j="l";o1j+="e";o1j+="f";o1j+="t";w_l=this.stx.panels[this.panelName];if(!w_l){return;}if(!this.p1){return;}H53=this.stx.pixelFromTick(this.p0[0],w_l.chart);u_X=this.stx.pixelFromTick(this.p1[0],w_l.chart);h5C=this.stx.pixelFromValueAdjusted(w_l,this.p0[0],this.p0[1]);f_Z=this.stx.pixelFromValueAdjusted(w_l,this.p1["0" >> 32],this.p1[1]);this.stx.canvasFont("stx_yaxis",E7v);W$8=this.getLineColor();h$N=this.color;if(h$N == "auto" || e5.isTransparent(h$N)){h$N=this.stx.defaultColor;}E7v.strokeStyle=h$N;N0b=this.fillColor;if(N0b == "auto" || e5.isTransparent(N0b)){N0b=this.stx.defaultColor;}E7v.fillStyle=N0b;p0N={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};E4A.O90(85);v0K=[1,2,3,4,8,E4A.D8z(1,"2"),E4A.D8z(3,0,"1",E4A.X$L(86)),E4A.D8z(4,1,E4A.X$L(23)),E4A.D8z(8,1,E4A.X$L(23))];this.rays=[];for(var m9$=0;m9$ < v0K.length;m9$++){b$Q=v0K[m9$];E4A.X$L(87);H2t=E4A.D8z(b$Q,H53,H53,u_X);E4A.X$L(88);H1g=E4A.t1w(h5C,h5C,f_Z,b$Q);Z2b=w_l.left;if(u_X > H53){Z2b+=w_l.width;}E4A.O90(76);z9G=E4A.D8z(h5C,Z2b,H53,h5C,H53,H1g,u_X);if(this.printLevels){E7v.fillStyle=h$N;t1g=0;u5r=0;if(h5C > f_Z){E4A.X$L(35);u5r=E4A.D8z(96,"5");E7v.textBaseline="top";}else {g_U="b";g_U+="ot";g_U+="to";g_U+="m";u5r=-+"5";E7v.textBaseline=g_U;}if(H53 > u_X){t1g=+"5";E7v.textAlign="left";}else {t1g=-5;E7v.textAlign="right";}if(b$Q > "1" >> 0){d6t="x";d6t+="1";E4A.X$L(1);E7v.fillText(E4A.D8z(b$Q,d6t),E4A.t1w(H2t,t1g),f_Z);}else {E4A.O90(53);E7v.fillText(E4A.t1w(b$Q,1,"1x"),u_X,E4A.D8z(H1g,u5r,E4A.O90(1)));}E7v.fillStyle=N0b;}this.stx.plotLine(H53,Z2b,h5C,z9G,this.highlighted?W$8:h$N,"segment",E7v,w_l,p0N);this.rays.push([[H53,h5C],[Z2b,z9G]]);if(b$Q == 1){G3n=Z2b;S96=z9G;}E7v.globalAlpha=0.1;E7v.beginPath();E7v.moveTo(Z2b,z9G);E7v.lineTo(H53,h5C);E7v.lineTo(G3n,S96);E7v.fill();E4A.O90(35);E7v.globalAlpha=E4A.D8z(64,"1");}E7v.textAlign=o1j;E4A.c7b();E7v.textBaseline="middle";if(this.highlighted){u0b="p";u0b+="1";b4V="p";b4V+="0";l5P=this.highlighted == b4V?!!({}):!!0;w9R=this.highlighted == u0b?!"":!1;this.littleCircle(E7v,H53,h5C,l5P);this.littleCircle(E7v,u_X,f_Z,w9R);}}},!!({}));e5.Drawing.timecycle=function(){var F75;F75="timecycl";F75+="e";this.name=F75;g9BGt.c7b();this.printLevels=!!({});};e5.inheritsFrom(e5.Drawing.timecycle,e5.Drawing.speedarc);e5.extend(e5.Drawing.timecycle.prototype,{intersected:function(c4$,R5u,B8u){var i75,a1K,n9o,Q19,G1P;i75=this.p0;a1K=this.p1;n9o=this.stx.panels[this.panelName];if(!i75 || !a1K || !n9o){return null;}Q19={0:i75,1:a1K};for(var v$K in Q19){if(this.pointIntersection(Q19[v$K][0],Q19[v$K]["1" << 32],B8u)){g9BGt.X$L(1);this.highlighted=g9BGt.D8z(7590 < (283.95,+"862.31")?(!0,!![]):"p",v$K);return {action:"drag",point:((+"6530",850.15) >= (7501,5571)?(!!1,"I"):(2412,+"1680") > (908,4.43)?"p":1440 == 5829?(617.33,"591" - 0):("6.55e+3" ^ 0,948.28)) + v$K};}}G1P=this.lineIntersection(c4$,R5u,B8u,"segment");if(G1P || B8u.x0 <= this.p0[0] && B8u.x1 >= i75["0" - 0]){this.highlighted=!!({});return {action:"move",p0:e5.clone(i75),p1:e5.clone(a1K),tick:c4$,value:R5u};}return null;},render:function(X$G){var g7b=g9BGt;var S90,Y_C,B5C,s_4,m0M,h9n,C4l,c1o,w_9,i6B,f1P,u8k,b50,P1q,e2_,E97,G66,A9b,E1J,p2P,c7G,x3c,D$o,T3U,W3g;S90="au";S90+="t";S90+="o";Y_C="m";Y_C+="iddle";B5C=this.stx.panels[this.panelName];if(!B5C){return;}if(!this.p1){return;}s_4=this.stx.pixelFromTick(this.p0[0],B5C.chart);m0M=this.stx.pixelFromTick(this.p1[0],B5C.chart);h9n=this.stx.pixelFromValueAdjusted(B5C,this.p0[0],this.p0[1]);C4l=this.stx.pixelFromValueAdjusted(B5C,this.p1[0],this.p1["1" << 64]);c1o=0;w_9=this.getLineColor();X$G.textBaseline=Y_C;this.stx.canvasFont("stx_yaxis",X$G);i6B=+"20";f1P=this.p1[0] - this.p0[0];X$G.textAlign="center";u8k=s_4;b50=B5C.yAxis.top;P1q=B5C.yAxis.bottom;e2_=this.color;if(e2_ == "auto" || e5.isTransparent(e2_)){e2_=this.stx.defaultColor;}E97=this.fillColor;if(E97 == S90 || e5.isTransparent(E97)){E97=this.stx.defaultColor;}if(this.printLevels){g7b.O90(89);P1q-=g7b.D8z(i6B,"7");}G66={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" ^ 0:this.defaultOpacity};A9b=[];X$G.save();X$G.fillStyle=E97;X$G.globalAlpha=+"0.05";do {u8k=this.stx.pixelFromTick(this.p0[0] + c1o * f1P,B5C.chart);c1o++;if(s_4 < m0M && u8k > B5C.left + B5C.width)break;else if(s_4 > m0M && u8k < B5C.left)break;else if(u8k < B5C.left || u8k > B5C.left + B5C.width)continue;X$G.beginPath();X$G.moveTo(s_4,b50);X$G.lineTo(u8k,b50);X$G.lineTo(u8k,P1q);X$G.lineTo(s_4,P1q);X$G.fill();A9b.push({c:c1o,x:u8k});}while(f1P);X$G.globalAlpha=+"1";E1J=+"0";for(var w88=0;w88 < A9b.length;w88++){p2P="segme";p2P+="nt";this.stx.plotLine(A9b[w88].x,A9b[w88].x,0,P1q,this.highlighted?w_9:e2_,p2P,X$G,B5C,G66);if(this.printLevels){X$G.fillStyle=e2_;g7b.O90(82);var K5u=g7b.t1w(10,45,14,18);c7G=this.stx.chart.context.measureText(A9b[w88].c).width + K5u;if(c7G < this.stx.layout.candleWidth + E1J){X$G.fillText(A9b[w88].c,A9b[w88].x,P1q + 7);E1J=0;}else {E1J+=this.stx.layout.candleWidth;}}}X$G.restore();X$G.textAlign="left";this.stx.plotLine(s_4,m0M,h9n,C4l,w_9,"segment",X$G,B5C,G66);if(this.highlighted){x3c="p";x3c+="0";D$o=this.highlighted == x3c?!![]:!!0;T3U=this.highlighted == "p1"?!![]:!"1";this.littleCircle(X$G,s_4,h9n,D$o);this.littleCircle(X$G,m0M,C4l,T3U);}else {W3g=this.stx.valueFromPixel(B5C.height / 2,B5C);this.setPoint(0,this.p0[0],W3g,B5C.chart);this.setPoint(1,this.p1[0],W3g,B5C.chart);}}},!!({}));e5.Drawing.regression=function(){g9BGt.Z_e();this.name="regression";};e5.inheritsFrom(e5.Drawing.regression,e5.Drawing.segment);e5.extend(e5.Drawing.regression.prototype,{configs:["color",k6w,m9e,"active1",l0T,"lineWidth1","pattern1",K6H,"color2","lineWidth2","pattern2","active3","color3","lineWidth3",s6V],copyConfig:function(u6y){var U_5;e5.Drawing.copyConfig(this,u6y);U_5=this.stx.currentVectorParameters;this.active1=!!U_5.active1;this.active2=!!U_5.active2;this.active3=!!U_5.active3;this.color1=U_5.color1 || "auto";this.color2=U_5.color2 || "auto";this.color3=U_5.color3 || "auto";this.lineWidth1=U_5.lineWidth1;this.lineWidth2=U_5.lineWidth2;this.lineWidth3=U_5.lineWidth3;this.pattern1=U_5.pattern1;this.pattern2=U_5.pattern2;this.pattern3=U_5.pattern3;},$controls:[D_8,'cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(b69,H$L,e_e){var f_V,u$X,t2Z,L_x;if(H$L < 0){return;}this.copyConfig();f_V=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(+"0",H$L,e_e,f_V.chart);this.penDown=!![];u$X=this.stx;this.field=u$X.highlightedDataSetField;if(!this.field && f_V != u$X.chart.panel){for(var v6J in u$X.chart.seriesRenderers){t2Z=u$X.chart.seriesRenderers[v6J];if(t2Z.params.panel == f_V.name){this.field=t2Z.seriesParams[0].field;break;}}for(var a8q in u$X.layout.studies){L_x=u$X.layout.studies[a8q];if(L_x.panel == f_V.name){this.field=Object.keys(L_x.outputMap)[0];break;}}}return !!0;}if(this.accidentalClick(H$L,e_e)){return this.dragToDraw;}this.setPoint(1,H$L,e_e,f_V.chart);this.penDown=!!0;return !0;;},getYValue:function(F9F){var x$c,A6N,P23,s5e,Z1S,r5Z,y5C;x$c=this.stx.chart.dataSet[F9F];A6N=this.stx.chart.dataSet[F9F];if(!x$c){return null;}P23=this.stx.panels[this.panelName];s5e=this.stx.getYAxisByField(P23,this.field) || P23.yAxis;if(this.stx.charts[P23.name] && P23.chart.transformFunc && s5e == P23.yAxis){A6N=x$c.transform;}if(!A6N){return null;}Z1S=null;r5Z=null;y5C=this.stx.defaultPlotField || "Close";g9BGt.Z_e();if(this.field){r5Z=e5.existsInObjectChain(A6N,this.field);if(!r5Z){return null;}Z1S=r5Z=r5Z.obj[r5Z.member];if(x$c != A6N){Z1S=e5.existsInObjectChain(x$c,this.field);Z1S=Z1S.obj[Z1S.member];}if(typeof r5Z == "object"){r5Z=r5Z[y5C];Z1S=Z1S[y5C];}}else {r5Z=A6N[y5C];Z1S=x$c[y5C];}return {transformed:r5Z,untransformed:Z1S};},render:function(H8H){var z_U=g9BGt;var T20,Z0i,L2n,J2U,L3X,T9s,m14,Z5r,l3H,m4O,F1p,l4j,C9F,c6W,o4N,l4z,z2F,t2U,s2z,g0L,b$g,N7w,K_a,g6U,x4x,T9O,M7_,g4S,i4z,Q2D,O9p,M3u,I5p,C8s,F$W,e_V,k0b,M1Y,j70,c_5;T20="se";T20+="g";T20+="ment";Z0i="segm";Z0i+="en";Z0i+="t";L2n=this.stx.panels[this.panelName];if(!L2n){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}J2U=this.stx.pixelFromTick(this.p0["0" ^ 0],L2n.chart);L3X=this.stx.pixelFromTick(this.p1[0],L2n.chart);if(J2U < L2n.left && L3X < L2n.left){return;}if(J2U > L2n.right && L3X > L2n.right){return;}T9s=this.stx.getYAxisByField(L2n,this.field);m14=[];Z5r=[];l3H=0;m4O=+"0";F1p=0;z_U.O90(8);l4j=z_U.D8z(1,"0");C9F=Math.min(this.p1[0],this.p0[0]);c6W=Math.max(this.p1[0],this.p0[0]) + ("1" << 0);z_U.O90(7);o4N=z_U.D8z(C9F,c6W);for(var s_z=C9F;s_z < c6W;s_z++){l4z=this.getYValue(s_z);if(l4z){m14.push(l4z.transformed);Z5r.push(l4z.untransformed);}}z2F=m14.length;z_U.O90(90);t2U=z_U.t1w(0,2,z2F,"1",z2F);s2z=Math.pow(t2U,2);z_U.X$L(91);g0L=z_U.D8z(3,z2F,2,1,t2U);z_U.Z_e();for(s_z=0;s_z < z2F;s_z++){F1p+=z2F * m14[s_z] - l3H;l3H+=m14[s_z];l4j+=z2F * Z5r[s_z] - m4O;m4O+=Z5r[s_z];}z_U.X$L(92);b$g=z_U.D8z(g0L,l3H,s2z,z2F,t2U,F1p,z2F);z_U.O90(93);N7w=z_U.D8z(l3H,t2U,b$g,z2F);z_U.O90(92);K_a=z_U.D8z(g0L,m4O,s2z,z2F,t2U,l4j,z2F);z_U.X$L(93);g6U=z_U.D8z(m4O,t2U,b$g,z2F);if(this.p0[0] < this.p1[0]){x4x=N7w;z_U.X$L(94);T9O=z_U.t1w(N7w,o4N,b$g);this.p0[1]=g6U;z_U.O90(94);this.p1[1]=z_U.D8z(g6U,o4N,K_a);}else {z_U.O90(94);x4x=z_U.t1w(N7w,o4N,b$g);T9O=N7w;z_U.X$L(94);this.p0[1]=z_U.t1w(g6U,o4N,K_a);this.p1[1]=g6U;}M7_=this.stx.pixelFromTransformedValue(x4x,L2n,T9s);g4S=this.stx.pixelFromTransformedValue(T9O,L2n,T9s);i4z=this.getLineColor();Q2D={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(J2U,L3X,M7_,g4S,i4z,"segment",H8H,L2n,Q2D);z_U.O90(7);this.stx.plotLine(J2U,J2U,z_U.D8z(20,M7_),z_U.t1w(M7_,"20",z_U.O90(78)),i4z,Z0i,H8H,L2n,Q2D);z_U.X$L(7);this.stx.plotLine(L3X,L3X,z_U.t1w(20,g4S),z_U.t1w(g4S,20,z_U.X$L(1)),i4z,T20,H8H,L2n,Q2D);if(this.active1 || this.active2 || this.active3){z_U.X$L(23);O9p=z_U.t1w(z2F,l3H);M3u=0;for(s_z="0" | 0;s_z < z2F;s_z++){M3u+=Math.pow(m14[s_z] - O9p,2);}z_U.X$L(23);I5p=Math.sqrt(z_U.t1w(z2F,M3u));C8s={context:H8H,panel:L2n,points:{0:{x:J2U,v:x4x},1:{x:L3X,v:T9O}},stddev:I5p,yAxis:T9s};this.lines={};if(this.active1){this.renderStddev("1","p",C8s);this.renderStddev("1","n",C8s);}if(this.active2){z_U.O90(8);F$W=-z_U.t1w(1,"1692343883");e_V=-54397315;k0b=2;for(var O1V=1;z_U.l9L(O1V.toString(),O1V.toString().length,+"33834") !== F$W;O1V++){this.renderStddev(9840 !== 1411?5402 == (+"9904",+"400842")?0xf377:0x3dc4:"p",(6505,8215) <= 995?("0x88" | 8,"p"):4109 != (7881,8696)?"p":"p",C8s);k0b+=2;}if(z_U.i7j(k0b.toString(),k0b.toString().length,20133) !== e_V){this.renderStddev(6400 === +"5480"?7650 === (4020,939.26)?"0x166a" - 0:+"0x1e7e":"2",(1440,2395) < ("554" | 10)?(0xb5,"I"):7306 == (6130,"7430" | 0)?"c":"p",C8s);}this.renderStddev((5650,"1702" ^ 0) == +"4810"?"G":(9500,2615) >= (1990,557.72)?"2":(110.36,737.74) != 6062?![]:552.40,496 <= (4163,87)?1372 === (2880,"209.54" - 0)?0x808:(833.07,"K"):"n",C8s);}if(this.active3){this.renderStddev(2270 >= (698,294.73)?"3":!1,540.68 <= 7277?"p":!!({}),C8s);this.renderStddev("3",("7712" ^ 0,+"864") < 801?(0x1c34,!![]):("203.2" - 0,353.77) < 938.7?9020 === 670.36?(4.05e+3,"l"):"n":(!!({}),!!"1"),C8s);}}if(!this.highlighted){this.pixelX=[J2U,L3X];this.pixelY=[M7_,g4S];}else {M1Y="p";M1Y+="1";j70=this.highlighted == "p0"?!0:![];c_5=this.highlighted == M1Y?!0:![];this.littleCircle(H8H,J2U,M7_,j70);this.littleCircle(H8H,L3X,g4S,c_5);}},renderStddev:function(I8n,g8V,K2a){var c1z=g9BGt;var P5X,n5E,U3B,j6p,p3Z,x2X,n1c,e3A,Q1c,p_6,F_L,q11,Y8B,m03,Q8F,r$U,v88,M1Z,F1a,K0G,m1H,b2r,p_Q,T1x,q6j;P5X="m";P5X+="iddle";n5E="patter";n5E+="n";c1z.O90(95);U3B=c1z.t1w("stddev",g8V,I8n);c1z.X$L(1);j6p=c1z.D8z("color",I8n);c1z.O90(1);p3Z=c1z.t1w(n5E,I8n);c1z.O90(1);x2X=c1z.t1w("lineWidth",I8n);n1c=K2a.points;e3A=n1c[0].v;Q1c=n1c[+"1"].v;p_6=K2a.stddev;F_L=g8V === "n"?I8n * -1:I8n * ("1" * 1);q11=this.stx;Y8B=K2a.panel;m03=K2a.yAxis;Q8F={name:U3B,color:this.getLineColor(this[j6p]),type:"segment",y0:q11.pixelFromTransformedValue(e3A + p_6 * F_L,Y8B,m03),y1:q11.pixelFromTransformedValue(Q1c + p_6 * F_L,Y8B,m03),params:{pattern:this[p3Z],lineWidth:this[x2X]}};c1z.c7b();if(this.lines){r$U=1280407686;v88=1367195547;M1Z=2;for(var z17=1;c1z.i7j(z17.toString(),z17.toString().length,81801) !== r$U;z17++){this.lines[U3B]=Q8F;M1Z+=2;}if(c1z.l9L(M1Z.toString(),M1Z.toString().length,59625) !== v88){this.lines[U3B]=Q8F;}}F1a=K2a.context;K0G=n1c[0].x;m1H=n1c[1].x;q11.plotLine(K0G,m1H,Q8F.y0,Q8F.y1,Q8F.color,Q8F.type,F1a,Y8B,Q8F.params);q11.plotLine(K0G,K0G,Q8F.y0 - 10,Q8F.y0 + 10,Q8F.color,Q8F.type,F1a,Y8B,Q8F.params);q11.plotLine(m1H,m1H,Q8F.y1 - 10,Q8F.y1 + 10,Q8F.color,Q8F.type,F1a,Y8B,Q8F.params);c1z.O90(1);b2r=c1z.t1w(I8n,(705.03,9400) != 4140?"\u03c3":0x1599);c1z.X$L(96);var Y9G=c1z.t1w(5,16,1605,20);p_Q=Math.max(K0G,m1H) + Y9G;T1x=K0G < m1H?Q8F.y1:Q8F.y0;F1a.fillStyle=Q8F.color;F1a.save();F1a.textBaseline=P5X;F1a.fillText(b2r,p_Q,T1x);F1a.restore();if(K2a.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(K0G >= Y8B.chart.left && K0G <= Y8B.chart.right || m1H >= Y8B.chart.left && m1H <= Y8B.chart.right){c1z.O90(97);q6j=c1z.D8z(F_L,p_6,K0G < m1H?Q1c:e3A);q11.endClip();q11.createYAxisLabel(Y8B,K2a.formatPrice(q6j,m03),T1x,Q8F.color,null,F1a,m03);q11.startClip(Y8B.name);}}},intersected:function(Z32,h3X,A1S){var f0T,X_$,j3K,C0_,l1A,w8i,b$o,V3z;if(!this.pixelX || !this.pixelY){return null;}f0T=this.repositionIntersection(Z32,h3X);if(f0T){return f0T;}X_$={0:this.pixelX,1:this.pixelY};for(var l6A="0" << 64;l6A < 2;l6A++){if(this.pointIntersection(X_$[+"0"][l6A],X_$[1][l6A],A1S,!![])){j3K="d";j3K+="r";j3K+="a";j3K+="g";g9BGt.O90(1);this.highlighted=g9BGt.D8z(5410 === 521.38?"F":"p",l6A);return {action:j3K,point:"p" + l6A};}}C0_=this;l1A=this.pixelX[0];w8i=this.pixelX[1];b$o=function(x64){var C0Q,o5O;C0Q=[l1A,x64.y0];o5O=[w8i,x64.y1];return C0_.lineIntersection(Z32,h3X,A1S,C0_.name,C0Q,o5O,!0);};V3z=b$o({y0:this.pixelY[0],y1:this.pixelY[+"1"]});g9BGt.Z_e();if(!V3z && this.lines){for(var K8g in this.lines){if(b$o(this.lines[K8g])){V3z=!![];break;}}}if(V3z){this.highlighted=!!"1";return {action:"move",p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:Z32,value:h3X};}return null;},repositionIntersection:function(f_Y,F0V){g9BGt.c7b();if(!this.p0 || !this.p1){return !({});}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === !""){return {action:"move",p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:f_Y,value:F0V};}return {action:"drag",point:this.highlighted};}return !!0;},lineIntersection:function(j35,K8y,t3I,L_J,S1O,s8x,e_i){var Z49,L91,K_3;if(!e_i){g9BGt.X$L(1);console.log(g9BGt.D8z(L_J," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !({});}if(!S1O){S1O=this.p0;}if(!s8x){s8x=this.p1;}if(!(S1O && s8x)){return !({});}Z49=this.stx;L91=e5.convertBoxToPixels(Z49,this.panelName,t3I);if(L91.x0 === undefined){return ![];}K_3={x0:S1O[0],x1:s8x[0],y0:S1O[1],y1:s8x[1]};return e5.boxIntersects(L91.x0,L91.y0,L91.x1,L91.y1,K_3.x0,K_3.y0,K_3.x1,K_3.y1);},boxIntersection:function(k8k,k5P,q1c){if(q1c.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || q1c.cx1 < Math.min(this.pixelX[+"0"],this.pixelX[1])){return !1;}if(!this.stx.repositioningDrawing && (q1c.cy1 < this.pixelY[0] || q1c.cy0 > this.pixelY[1])){return !!0;}g9BGt.Z_e();return !!({});},reconstruct:function(x9B,E6s){this.stx=x9B;this.color=E6s.col;this.color1=E6s.col1;this.color2=E6s.col2;this.color3=E6s.col3;this.active1=E6s.dev1;this.active2=E6s.dev2;this.active3=E6s.dev3;this.panelName=E6s.pnl;this.pattern=E6s.ptrn;this.pattern1=E6s.ptrn1;this.pattern2=E6s.ptrn2;this.pattern3=E6s.ptrn3;this.lineWidth=E6s.lw;this.lineWidth1=E6s.lw1;this.lineWidth2=E6s.lw2;this.lineWidth3=E6s.lw3;this.d0=E6s.d0;this.d1=E6s.d1;this.tzo0=E6s.tzo0;this.tzo1=E6s.tzo1;this.field=E6s.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!![]);e5.Drawing.trendline=function(){this.name="trendline";};e5.inheritsFrom(e5.Drawing.trendline,e5.Drawing.segment);e5.Drawing.trendline.prototype.configs=["color","fillColor",Z9f,"pattern","font"];e5.Drawing.trendline.prototype.measure=function(){;};e5.Drawing.trendline.prototype.reconstruct=function(e_u,C67){e5.Drawing.segment.prototype.reconstruct.call(this,e_u,C67);this.callout=new e5.Drawing.callout();this.callout.reconstruct(e_u,C67.callout);};e5.Drawing.trendline.prototype.serialize=function(){var w4O,c8B,V2J,S$K;w4O=e5.Drawing.segment.prototype.serialize.call(this);c8B=-1506743842;V2J=-+"1048669448";S$K=2;for(var G45=1;g9BGt.l9L(G45.toString(),G45.toString().length,19657) !== c8B;G45++){w4O.callout=this.callout.serialize();S$K+=2;}if(g9BGt.l9L(S$K.toString(),S$K.toString().length,75674) !== V2J){w4O.callout=this.callout.serialize();}return w4O;};e5.Drawing.trendline.prototype.render=function(a6Q){var f9H=g9BGt;f9H.Z_e();var l0i,K$z,i2_,p$1,w8Z,y6v,E_B,s7e,J8L,S3g,u4K,h9p,C5k,D7L,u0L,O2j,x0D,I$8,e$z,H7G,i5_,s4W,R6$;l0i=this.stx.panels[this.panelName];if(!l0i){return;}e5.Drawing.segment.prototype.render.call(this,a6Q);if(!this.callout){this.callout=new e5.Drawing.callout();K$z=e5.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,K$z);}this.callout.p0=e5.clone(this.p0);i2_=this.stx.pixelFromTick(this.p0["0" ^ 0],l0i.chart);p$1=this.stx.pixelFromTick(this.p1[0],l0i.chart);w8Z=this.stx.pixelFromValueAdjusted(l0i,this.p0[0],this.p0[1]);y6v=this.stx.pixelFromValueAdjusted(l0i,this.p1[0],this.p1[1]);if(!isFinite(w8Z) || !isFinite(y6v)){return;}f9H.X$L(98);E_B=f9H.t1w(i2_,"2",p$1,2);f9H.X$L(4);s7e=f9H.t1w(y6v,2,w8Z);this.fontSize=e5.stripPX(this.font && this.font.size || 13);J8L=this.callout.w * 1.2 + (this.callout.stemEntry[+"0"] == "c"?0:+"50");S3g=Math.sqrt(Math.pow(p$1 - i2_,2) + Math.pow(y6v - w8Z,"2" - 0));f9H.O90(50);var i99=f9H.t1w(3,4);f9H.X$L(50);var S9X=f9H.t1w(13,12);u4K=J8L / (S3g || J8L) * (this.p1[i99] < this.p0[1]?+"1":S9X);f9H.O90(99);h9p=f9H.t1w(y6v,E_B,u4K,s7e);f9H.O90(43);C5k=f9H.t1w(s7e,E_B,p$1,u4K);this.callout.p0[0]=this.stx.tickFromPixel(h9p,l0i.chart);this.callout.p0[1]=this.stx.priceFromPixel(C5k,l0i);this.callout.v0=this.callout.p0[1];this.callout.p1=e5.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!!"1";f9H.O90(67);var d_Q=f9H.D8z(69,14,0,5);D7L=this.p1["1" - 0] - this.p0[d_Q];f9H.O90(6);var n9y=f9H.D8z(9,0,13,2);f9H.X$L(1);var i7i=f9H.t1w(0,1);f9H.O90(100);var I7V=f9H.D8z(2,1,16,12,14);this.callout.text="" + Number(D7L).toFixed(n9y) + (this.p0[i7i] === 0?"":" (" + Number(("100" << 64) * D7L / this.p0[1]).toFixed(I7V) + "%) ") + "" + Math.abs(this.p1["0" ^ 0] - this.p0[0]) + " Bars";u0L=Math.floor((this.p0[+"0"] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0["0" << 0] - this.p1[0]) < 20){x0D=this.stx.pixelFromTick(u0L,l0i.chart);f9H.X$L(101);I$8=f9H.D8z(i2_,i2_,w8Z,x0D,w8Z,p$1,y6v);O2j=this.stx.priceFromPixel(I$8,l0i) || s7e;}else {e$z=1214192260;f9H.O90(18);H7G=f9H.t1w("679717891",32);i5_=2;for(var T_u=1;f9H.i7j(T_u.toString(),T_u.toString().length,40438) !== e$z;T_u++){O2j=this.stx.priceFromPixel(s7e,l0i);f9H.X$L(8);i5_+=f9H.t1w(1,"2");}if(f9H.l9L(i5_.toString(),i5_.toString().length,32119) !== H7G){O2j=this.stx.priceFromPixel(s7e,l0i);}}this.callout.stem={t:u0L,v:O2j};this.callout.renderText();this.callout.render(a6Q);if(this.highlighted){s4W=this.highlighted == "p0"?!"":![];R6$=this.highlighted == "p1"?!!"1":![];this.littleCircle(a6Q,i2_,w8Z,s4W);this.littleCircle(a6Q,p$1,y6v,R6$);}};e5.Drawing.trendline.prototype.lineIntersection=function(i9f,q9S,J3_,r1i){g9BGt.c7b();return e5.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,i9f,q9S,J3_,"segment");};e5.Drawing.trendline.prototype.intersected=function(u7G,W9c,H$K){var u5T,u0G,Q7G;if(!this.p0 || !this.p1){return null;}u5T=this.callout.intersected(u7G,W9c,H$K);u0G=e5.Drawing.segment.prototype.intersected.call(this,u7G,W9c,H$K);g9BGt.c7b();this.callout.highlighted=!!(u5T || u0G);if(u0G){return u0G;}else if(u5T){Q7G="mov";Q7G+="e";return {action:Q7G,p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:u7G,value:W9c};}return null;};e5.Drawing.average=function(){var z6K;z6K="ave";z6K+="rag";z6K+="e";this.name=z6K;};e5.inheritsFrom(e5.Drawing.average,e5.Drawing.regression);e5.extend(e5.Drawing.average.prototype,{configs:e5.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var S0w,W41,m51,i57,t8U,f0L,W3S,I9Y,I9y;if(this.p0 && this.p1){S0w=".mMe";S0w+="asu";S0w+="re";W41=",";W41+=" ";m51="&";m51+="e";m51+="nsp;";this.stx.setMeasure(0,!1,this.p0[0],this.p1[0],!"",this.name);i57=[];t8U="";if(this.active1){i57.push((232.18,269) != (3700,"2393" - 0)?"1":!![]);}if(this.active2){i57.push("2");}if(this.active3){i57.push((5140,+"6900") != (5670,7973)?"3":9.86e+2);}if(i57.length){t8U=m51 + i57.join(W41) + " &sigma;";}f0L=(this.stx.drawingContainer || document).querySelector(S0w);W3S=this.stx.controls.mSticky;I9Y=W3S && W3S.querySelector(".mStickyInterior");if(f0L){f0L.innerHTML+=t8U;}if(I9Y){I9y=[];I9y.push(e5.capitalize(this.name));I9y.push(this.field || this.stx.defaultPlotField || "Close");I9y.push(I9Y.innerHTML + t8U);I9Y.innerHTML=I9y.join("<br>");}}},render:function(b29){var Y5o=g9BGt;var D21,k1T,V9L,a2s,n63,U0j,m3y,e_v,X8q,U28,X9k,Q8u,C9k,x1K,i9Q,y59,Z8n,V1B,f8E,i7I,q8$,U$n,s7q,X4c,c5W,Y2l;D21="se";D21+="gme";D21+="n";D21+="t";k1T=this.stx.panels[this.panelName];if(!k1T){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[0] < 0){return;}V9L=this.stx.pixelFromTick(this.p0[0],k1T.chart);a2s=this.stx.pixelFromTick(this.p1[0],k1T.chart);function v3o(j$n,H6$){var l5T,n_9,O1D;l5T=+"1184964041";n_9=-211484282;Y5o.Z_e();O1D=2;for(var s1I=1;Y5o.i7j(s1I.toString(),s1I.toString().length,+"32039") !== l5T;s1I++){if(H6$ && H6$.priceFormatter){j$n=H6$.priceFormatter(U0j,k1T,j$n);}else {j$n=U0j.formatYAxisPrice(j$n,k1T,null,H6$);}O1D+=2;}if(Y5o.l9L(O1D.toString(),O1D.toString().length,41657) !== n_9){if(H6$ || H6$.priceFormatter){j$n=H6$.priceFormatter(U0j,k1T,j$n);}else {j$n=U0j.formatYAxisPrice(j$n,k1T,1,H6$);}}return j$n;}if(V9L < k1T.left && a2s < k1T.left){return;}if(V9L > k1T.right && a2s > k1T.right){return;}n63=this.stx.getYAxisByField(k1T,this.field);U0j=this.stx;Y5o.c7b();m3y=Math.min(this.p1[0],this.p0[+"0"]);Y5o.X$L(102);var Z9V=Y5o.D8z(14,2,0,20,18);e_v=Math.max(this.p1[0],this.p0[0]) + Z9V;Y5o.X$L(7);X8q=Y5o.D8z(m3y,e_v);U28=0;X9k=[];for(Q8u=m3y;Q8u < e_v;Q8u++){C9k=this.getYValue(Q8u);if(C9k !== null){U28+=C9k.transformed;X9k.push(C9k);}}x1K=X9k.length;if(!x1K){return;}Y5o.O90(23);i9Q=Y5o.D8z(x1K,U28);y59=U0j.pixelFromTransformedValue(i9Q,k1T,n63);Z8n=this.getLineColor();V1B={pattern:this.pattern,lineWidth:this.lineWidth};U0j.plotLine(V9L,a2s,y59,y59,Z8n,"segment",b29,k1T,V1B);Y5o.X$L(7);U0j.plotLine(V9L,V9L,Y5o.t1w(20,y59),Y5o.D8z(y59,20,Y5o.O90(1)),Z8n,"segment",b29,k1T,V1B);Y5o.X$L(7);U0j.plotLine(a2s,a2s,Y5o.D8z(20,y59),Y5o.t1w(y59,20,Y5o.X$L(1)),Z8n,D21,b29,k1T,V1B);if(this.axisLabel && !this.highlighted && !this.penDown){if(V9L >= k1T.chart.left && V9L <= k1T.chart.right || a2s >= k1T.chart.left && a2s <= k1T.chart.right){U0j.endClip();U0j.createYAxisLabel(k1T,v3o(i9Q,n63),y59,Z8n,null,b29,n63);U0j.startClip(k1T.name);}}if(this.active1 || this.active2 || this.active3){f8E=1817737647;i7I=931745406;q8$=+"2";for(var J64=1;Y5o.i7j(J64.toString(),J64.toString().length,+"79070") !== f8E;J64++){U$n=1;q8$+=2;}if(Y5o.l9L(q8$.toString(),q8$.toString().length,75066) !== i7I){U$n=1;}U$n=0;for(Q8u=0;Q8u < x1K;Q8u++){C9k=X9k[Q8u];U$n+=Math.pow(C9k.transformed - i9Q,2);}Y5o.X$L(23);s7q=Math.sqrt(Y5o.D8z(x1K,U$n));X4c={context:b29,formatPrice:v3o,panel:k1T,points:{0:{x:V9L,v:i9Q},1:{x:a2s,v:i9Q}},stddev:s7q,yAxis:n63};this.lines={};if(this.active1){this.renderStddev(3839 === (4205,7251)?(2210,5808) == 3600?548.49:"658" * 1 === (468.82,925.67)?2.17e+3:"a":"1",+"982.91" <= 2561?"p":2820 > (+"9794",1674)?(!1,8.85e+3):0x11af,X4c);this.renderStddev("1","53.28" - 0 === +"2300"?"u":"n",X4c);}if(this.active2){this.renderStddev(1579 !== +"577.12"?"2":(461,701.49) === 566.15?(0x1290,!!({})):("m",0x1cfc),"p",X4c);this.renderStddev(948.71 <= 2665?"2":(7762,+"8420") <= 8670?(8780,1510) != 561.75?9.22e+3:775:7.14e+3,(2330,7300) <= 594?852.65:(2120,2550) == +"2670"?206.24 === (8693,7060)?(559.71,1.50e+3):0x2131:"n",X4c);}if(this.active3){this.renderStddev(6700 < (8493,708.84)?(![],"0x1701" ^ 0):4180 < 7600?"3":("c",4.83e+3),+"8910" >= (+"454.38",6034)?1580 < 540.99?69 >= 7743?663.17:("7.56e+3" | 8,"H"):"p":("f","Z"),X4c);this.renderStddev("3","n",X4c);}}if(!this.highlighted){this.pixelX=[V9L,a2s];this.pixelY=[y59,y59];}else {c5W=this.highlighted == "p0"?!"":!({});Y2l=this.highlighted == "p1"?!!({}):!"1";this.littleCircle(b29,V9L,y59,c5W);this.littleCircle(b29,a2s,y59,Y2l);}},reconstruct:function(R8T,d5E){this.axisLabel=d5E.al;e5.Drawing.regression.prototype.reconstruct.call(this,R8T,d5E);},serialize:function(){var e0g;g9BGt.c7b();e0g=e5.Drawing.regression.prototype.serialize.call(this);e0g.al=this.axisLabel;return e0g;}},!!({}));e5.Drawing.quadrant=function(){this.name="quadrant";};e5.inheritsFrom(e5.Drawing.quadrant,e5.Drawing.regression);e5.extend(e5.Drawing.quadrant.prototype,{configs:["color","fillColor",V5d,X8A],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(S05){var z4G=g9BGt;var K8c,N_1,V1r,H6a,S5S,Z_K,Q9e,U5X,q_8,S6Q,g3x,V2A,w5S,H25,x2p,g8G,F7w,w3A,f4B,C7P,t00,e9s,J$I,Q$9,a_1,U1N;K8c="q";K8c+="uadran";K8c+="t";N_1="quadr";N_1+="a";N_1+="n";N_1+="t";V1r="segm";V1r+="e";V1r+="nt";H6a=this.stx;S5S=H6a.panels[this.panelName];if(!S5S){return;}if(!this.p1){return;}Z_K=H6a.pixelFromTick(this.p0[0],S5S.chart);Q9e=H6a.pixelFromTick(this.p1[0],S5S.chart);if(Z_K < S5S.left && Q9e < S5S.left){return;}if(Z_K > S5S.right && Q9e > S5S.right){return;}U5X=this.stx.getYAxisByField(S5S,this.field);q_8=null;S6Q=null;for(var q53=Math.min(this.p1[+"0"],this.p0[0]);q53 <= Math.max(this.p1[0],this.p0[0]);q53++){g3x=this.getYValue(q53);if(g3x !== null){if(q_8 === null || g3x.transformed > q_8){q_8=g3x.transformed;}if(S6Q === null || g3x.transformed < S6Q){S6Q=g3x.transformed;}}}V2A=H6a.pixelFromTransformedValue(q_8,S5S,U5X);z4G.O90(103);z4G.c7b();w5S=H6a.pixelFromTransformedValue(z4G.t1w(4,S6Q,3,q_8),S5S,U5X);z4G.X$L(104);H25=H6a.pixelFromTransformedValue(z4G.t1w("3",q_8,S6Q,2),S5S,U5X);z4G.O90(4);x2p=H6a.pixelFromTransformedValue(z4G.t1w(S6Q,2,q_8),S5S,U5X);z4G.X$L(105);g8G=H6a.pixelFromTransformedValue(z4G.D8z(S6Q,2,q_8,"3"),S5S,U5X);z4G.O90(106);F7w=H6a.pixelFromTransformedValue(z4G.t1w(0,"4",q_8,3,S6Q),S5S,U5X);w3A=H6a.pixelFromTransformedValue(S6Q,S5S,U5X);this.p0[1]=0;this.p1[1]=!!0;f4B=this.getLineColor();C7P=this.fillColor;if(C7P == "auto" || e5.isTransparent(C7P)){C7P=H6a.defaultColor;}S05.fillStyle=C7P;t00={pattern:this.pattern,lineWidth:this.lineWidth};H6a.plotLine(Z_K,Q9e,V2A,V2A,f4B,V1r,S05,S5S,t00);H6a.plotLine(Z_K,Q9e,w3A,w3A,f4B,"segment",S05,S5S,t00);if(this.name == N_1){H6a.plotLine(Z_K,Q9e,w5S,w5S,f4B,"segment",S05,S5S,t00);H6a.plotLine(Z_K,Q9e,F7w,F7w,f4B,"segment",S05,S5S,t00);}else if(this.name == "tirone"){e9s="s";e9s+="eg";e9s+="me";e9s+="nt";J$I="segmen";J$I+="t";H6a.plotLine(Z_K,Q9e,H25,H25,f4B,J$I,S05,S5S,t00);H6a.plotLine(Z_K,Q9e,g8G,g8G,f4B,e9s,S05,S5S,t00);}H6a.plotLine(Z_K,Z_K,V2A,w3A,f4B,"segment",S05,S5S,t00);H6a.plotLine(Q9e,Q9e,V2A,w3A,f4B,"segment",S05,S5S,t00);H6a.plotLine(Z_K,Q9e,x2p,x2p,f4B,"segment",S05,S5S,e5.extend(t00,{opacity:this.name == "tirone"?0.2:1}));S05.globalAlpha=0.1;S05.beginPath();z4G.O90(7);S05.fillRect(Z_K,V2A,z4G.D8z(Z_K,Q9e),z4G.D8z(V2A,w3A));if(this.name == K8c){z4G.X$L(7);S05.fillRect(Z_K,w5S,z4G.D8z(Z_K,Q9e),z4G.t1w(w5S,F7w));}else if(this.name == "tirone"){z4G.O90(7);S05.fillRect(Z_K,H25,z4G.t1w(Z_K,Q9e),z4G.t1w(H25,g8G));}S05.globalAlpha=1;if(!this.highlighted){Q$9="t";Q$9+="ir";Q$9+="on";Q$9+="e";this.pixelX=[Z_K,Q9e];this.pixelY=[V2A,w3A,x2p];if(this.name === "quadrant"){this.pixelY.push(w5S,F7w);}if(this.name === Q$9){this.pixelY.push(H25,g8G);}}else {a_1=this.highlighted == "p0"?!![]:!({});U1N=this.highlighted == "p1"?!!"1":!!0;this.littleCircle(S05,Z_K,x2p,a_1);this.littleCircle(S05,Q9e,x2p,U1N);}},intersected:function(Q4L,y_8,j4q){var t$5=g9BGt;var P$K,K3v,Z7Q;var {pixelX:P3y, pixelY:z4q}=this;if(!P3y || !z4q){return null;}P$K=this.repositionIntersection(Q4L,y_8);if(P$K){return P$K;}for(var K_x=0;K_x < 2;K_x++){if(this.pointIntersection(P3y[K_x],z4q[2],j4q,!0)){t$5.X$L(1);this.highlighted=t$5.t1w(298.26 === 3742?(8.17e+3,341.46):"p",K_x);return {action:"drag",point:((995.27,1440) >= +"262.69"?"p":9053 > (918.47,+"5954")?(198.49,0x19a1):(!![],"z")) + K_x};}}K3v=[];P3y.forEach(x3Z=>{t$5.Z_e();K3v.push({p0:[x3Z,z4q[0]],p1:[x3Z,z4q[1]]});});z4q.forEach(t27=>{t$5.c7b();K3v.push({p0:[P3y[0],t27],p1:[P3y[+"1"],t27]});});Z7Q=K3v.some(({p0:z7H, p1:s3W})=>{t$5.c7b();return this.lineIntersection(Q4L,y_8,j4q,this.name,z7H,s3W,!!1);});if(Z7Q){this.highlighted=!![];return {action:"move",p0:e5.clone(this.p0),p1:e5.clone(this.p1),tick:Q4L,value:y_8};}return null;},reconstruct:function(M3j,O40){var b9X=g9BGt;var e7P,F3S,I4k;e7P=-534594347;F3S=-893881823;b9X.O90(35);I4k=b9X.t1w(64,"2");for(var z_B=1;b9X.l9L(z_B.toString(),z_B.toString().length,+"66321") !== e7P;z_B++){this.stx=M3j;this.color=O40.col;this.fillColor=O40.fc;this.panelName=O40.pnl;this.pattern=O40.ptrn;this.lineWidth=O40.lw;this.d0=O40.d0;I4k+=2;}if(b9X.l9L(I4k.toString(),I4k.toString().length,43739) !== F3S){this.stx=M3j;this.color=O40.col;this.fillColor=O40.fc;this.panelName=O40.pnl;this.pattern=O40.ptrn;this.lineWidth=O40.lw;this.d0=O40.d0;}this.d1=O40.d1;this.tzo0=O40.tzo0;this.tzo1=O40.tzo1;this.field=O40.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!!"1");e5.Drawing.tirone=function(){var E2v;E2v="t";E2v+="iro";g9BGt.Z_e();E2v+="ne";this.name=E2v;};e5.inheritsFrom(e5.Drawing.tirone,e5.Drawing.quadrant);e5.Drawing.elliottwave=function(){var F1D;F1D="elli";F1D+="ottwave";this.name=F1D;g9BGt.X$L(8);this.lastPoint=g9BGt.t1w(1,"0");this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=![];g9BGt.Z_e();this.annotationPoints=[];this.edit=null;};e5.inheritsFrom(e5.Drawing.elliottwave,e5.Drawing.annotation);e5.Drawing.elliottwave.defaultTemplate={impulse:["I","II","III",h1l,7119 > (+"4260",424.36)?"V":(5310,1850) <= 855.41?"V":("c",0x517)],corrective:["A",(54.19,713.84) > (438.78,8600)?(![],381.22):"B",(5678,3440) < 992.22?(0x20d4,774.86):"C"],decoration:"enclosed",showLines:!!({})};e5.Drawing.elliottwave.prototype.initializeSettings=function(g5p){g9BGt.Z_e();g5p.currentVectorParameters.waveParameters=e5.clone(e5.Drawing.elliottwave.defaultTemplate);};e5.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor","pattern","font",n$e];e5.Drawing.elliottwave.prototype.$controls=[C0h,"cq-wave-parameters"];e5.Drawing.elliottwave.prototype.construct=function(c0G,N2A){var e1T;this.stx=c0G;this.panelName=N2A.name;e1T=c0G.currentVectorParameters;g9BGt.Z_e();Object.assign(this,e1T.waveParameters);};e5.Drawing.elliottwave.prototype.serialize=function(){var z39=g9BGt;var P1f,C8n;P1f="f";P1f+="l";z39.c7b();C8n={};for(var z9I=0;z9I < this.points.length;z9I++){z39.O90(1);C8n[z39.D8z("528" * 1 !== (8142,241)?"d":("g",0x195a),z9I)]=this[z39.t1w("d",z9I)];z39.X$L(1);C8n[z39.D8z("tzo",z9I)]=this[z39.t1w("tzo",z9I)];z39.X$L(1);C8n[z39.D8z(6004 <= 9720?"v":(+"982.65",613.92),z9I)]=this[z39.D8z("v",z9I)];}C8n.annotations=this.annotationPoints.join(6450 == ("8040" - 0,+"3293")?"v":",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:e5.removeNullValues(e5.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:P1f}))},C8n);};e5.Drawing.elliottwave.prototype.reconstruct=function(Q6P,I$d){g9BGt.c7b();var s12;s12="s";s12+="iz";s12+="e";this.stx=Q6P;this.color=I$d.col;this.panelName=I$d.pnl;this.pattern=I$d.ptrn;this.lineWidth=I$d.lw;this.font=e5.replaceFields(I$d.fnt,{st:"style",sz:s12,wt:"weight",fl:"family"});this.decoration=I$d.decor;this.showLines=I$d.show;this.dx=I$d.dx;this.dy=I$d.dy;this.trend=I$d.trend;this.annotationPoints=I$d.annotations.split(+"9410" >= ("634.09" * 1,5450)?",":(2570,8904) >= (485.94,144.77)?(+"77.87",1850) <= (7412,8969)?(25.09,0x1079):("0x511" * 1,6.70e+3):(!"",5.81e+3));if(I$d.decor === "enclosed"){this.calculateRadius(Q6P.chart.tempCanvas.context);}this.maxSegments=I$d.mxSeg;this.reconstructPoints(I$d);this.adjust();};e5.Drawing.elliottwave.prototype.reconstructPoints=function(D1s){var W3G=g9BGt;var f7N,k_H,Z6V;f7N=this.stx.panels[this.panelName];if(!f7N){return;}W3G.c7b();for(var B3g=0;B3g < this.annotationPoints.length;B3g++){W3G.O90(1);this[W3G.D8z((1530,158.57) < (7708,8560)?"d":(4.91e+3,!![]),B3g)]=D1s[W3G.D8z(1583 == 284.89?("C",!""):"d",B3g)];W3G.O90(1);this[W3G.t1w((199,4422) != 7448?"v":(5.11e+3,64.99),B3g)]=D1s[W3G.D8z(+"8040" <= 392.59?(479.83,1230) > (6269,+"495.55")?962.75 !== ("915.81" * 1,"3697" - 0)?(!![],417.24):"R":(6.66e+3,9.50e+3):"v",B3g)];W3G.X$L(1);this[W3G.t1w("tzo",B3g)]=D1s[W3G.D8z("tzo",B3g)];k_H=e5.strToDateTime(D1s["d" + B3g]);Z6V=this.stx.tickFromDate(k_H,f7N.chart);this.points.push([Z6V,D1s[(1381 == 7483?+"7.87e+3":(3620,15.34) > 242.6?("O",6.08e+3):"v") + B3g]]);}};e5.Drawing.elliottwave.prototype.calculateRadius=function(D$a){var d08,I1G;this.getFontString();D$a.font=this.fontString;d08=0;for(var S6L=0;S6L < this.annotationPoints.length;S6L++){I1G=D$a.measureText(this.annotationPoints[S6L]).width;if(d08 < I1G){d08=I1G;}}this.enclosedRadius=d08;};e5.Drawing.elliottwave.prototype.check=function(f_w,w6K,F6Z){var u_9=g9BGt;var x0w,t6f;if(F6Z === 1 && this.points.length === "2" >> 0){return !![];}function c8J(O7W){u_9.c7b();for(var f3J=2;f3J < O7W.length;f3J++){if(Math.sign(O7W[f3J][1] - O7W[f3J - 1][1]) == Math.sign(O7W[f3J - 1][1] - O7W[f3J - 2][1])){return !1;}}return !"";}u_9.O90(7);u_9.c7b();x0w=this.points[u_9.t1w(1,F6Z)];if(x0w && f_w <= x0w[0]){return ![];}u_9.X$L(1);t6f=this.points[u_9.t1w(F6Z,1)];if(t6f && f_w >= t6f[0]){return !({});}if(!c8J(this.points)){return ![];}return !"";};e5.Drawing.elliottwave.prototype.move=function(U$O,y2s,U1t){this.copyConfig();g9BGt.X$L(49);var r1K=g9BGt.t1w(2,4,0,6);this.points[this.lastPoint + r1K]=[y2s,U1t];this.render(U$O);};e5.Drawing.elliottwave.prototype.adjust=function(){var D6O=g9BGt;var z6y,q2O;z6y=this.stx.panels[this.panelName];if(!z6y){return;}D6O.Z_e();for(var y8f=0;this.maxSegments + 1 > y8f;y8f++){D6O.O90(1);q2O=this[D6O.t1w(9678 <= 7370?"z":232.41 === 1665?("x","h"):(+"412.82",+"497.65") == +"403.57"?("280" * 1,0x9d6):"d",y8f)];this.setPoint(y8f,q2O,this["v" + y8f],z6y.chart);this.points[y8f][0]=this.stx.tickFromDate(e5.strToDateTime(q2O),z6y.chart);D6O.O90(1);this.points[y8f][1]=this[D6O.D8z(380.08 <= (860,277.83)?(0x18b9,9.42e+3):"v",y8f)];}};e5.Drawing.elliottwave.prototype.click=function(X5m,t0b,J7h){var V38=g9BGt;var w7P;w7P=this.stx.panels[this.panelName];if(!w7P){return;}V38.Z_e();this.copyConfig();if(!this.penDown){this.setPoint(0,t0b,J7h,w7P.chart);this.points.push(this.p0);this.penDown=!!({});this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(X5m);}V38.X$L(1);var n6T=V38.t1w(0,1);this.maxSegments=this.annotationPoints.length - n6T;V38.O90(8);this.trend=V38.D8z(1,"1");return ![];}if(this.accidentalClick(t0b,J7h)){this.penDown=!0;return !({});}if(this.check(t0b,J7h,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,t0b,J7h,w7P.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!!0;return !!({});}}return !({});};e5.Drawing.elliottwave.prototype.render=function(y35){var x8a=g9BGt;var o0x,Z3W,l8_,I8q,x7_,X$Z,e2A,N8W,i5R,c$K,s0q,N8h,S$O,l83,Y$U,C_x,H7v,U7R,S7W,a6t,J0k,X19,Y$R,s6l,L8j,m26,d$G,m6u,v$i;o0x="ce";o0x+="nt";o0x+="e";o0x+="r";Z3W=this.stx.panels[this.panelName];if(!Z3W){return;}l8_=this.stx;I8q=this.annotationPoints;x7_=this.pattern?e5.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();y35.font=this.fontString;y35.textAlign=o0x;y35.textBaseline="middle";y35.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(y35);}this.lastFontString=this.fontString;X$Z=this.getLineColor();y35.fillStyle=y35.strokeStyle=X$Z;y35.save();y35.setLineDash(x7_);e2A=this.dx;N8W=this.dy;i5R=this.points;c$K=this.pts;s0q=!this.showLines && this.highlighted;N8h=i5R.length;if(this.penDown && this.segment){x8a.X$L(43);var R8n=x8a.t1w(26,12,0,2);S$O=this.trend * (N8h % R8n - 0.5) < "0" - 0;if(Z3W.yAxis.flipped){S$O=!S$O;}this.drawDropZone(y35,i5R[N8h - 2][1],this.stx.priceFromPixel(Z3W.yAxis[S$O?"top":"bottom"]),i5R[N8h - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){l83="b";l83+="ott";l83+="o";l83+="m";Y$U="m";Y$U+="a";Y$U+="x";C_x=parseInt(this.highlighted.substring(+"1",this.highlighted.length),10);x8a.X$L(50);var g7K=x8a.t1w(16,18);S$O=this.trend * (C_x % g7K - 0.5) > 0;x8a.X$L(107);H7v=i5R[x8a.D8z(64,"1",C_x)];x8a.X$L(1);U7R=i5R[x8a.D8z(C_x,1)];S7W=C_x > 0?H7v["1" | 0]:U7R[1];if(U7R){S7W=Math[S$O?Y$U:"min"](S7W,U7R[1]);}if(Z3W.yAxis.flipped){S$O=!S$O;}this.drawDropZone(y35,S7W,this.stx.priceFromPixel(Z3W.yAxis[S$O?"top":l83]),H7v?H7v[0]:null,U7R?U7R[0]:null);}for(var w61=0;w61 < N8h;w61++){a6t=i5R[w61];J0k=l8_.pixelFromTick(a6t[0],Z3W.chart);X19=l8_.pixelFromValueAdjusted(Z3W,a6t[0],a6t[1]);c$K[w61]=[J0k,X19];}x8a.X$L(0);w61=x8a.D8z("0",0);if(this.showLines || s0q){y35.beginPath();if(s0q){y35.globalAlpha=0.3;}for(;w61 < c$K.length;w61++){y35.lineTo(c$K[w61]["0" - 0],c$K[w61][1]);}y35.stroke();w61=0;}y35.restore();for(;w61 < N8h;w61++){Y$R=w61 % 2?e2A:-e2A;s6l=w61 % 2?N8W:-N8W;Y$R*=this.trend;s6l*=this.trend;if(Z3W.yAxis.flipped){x8a.X$L(0);Y$R*=-x8a.t1w("1",0);s6l*=-1;}L8j=c$K[w61];m26=L8j[2]=L8j[0] + Y$R;d$G=L8j[3]=L8j[+"1"] + s6l;m6u=this.enclosedRadius || 8;v$i=I8q[w61];if(this.decoration === "parentheses"){x8a.X$L(95);v$i=x8a.D8z(9837 > (+"8808",3566)?"(":(0x20ce,6.18e+3),+"914.22" >= 4263?(0x1c26,"0x1ce8" << 64):(284.98,81) > (566.57,767.71)?(7.05e+3,1.60e+1):")",v$i);}y35.fillText(v$i,m26,d$G);if(this.decoration === "enclosed"){y35.beginPath();y35.arc(m26,d$G,m6u,+"0",2 * Math.PI,!1);y35.stroke();}if(this.highlighted){y35.save();this.littleCircle(y35,this.pts[w61][0],this.pts[w61][1],this.highlighted === ((+"3019",3080) <= 2349?(9.92e+3,809.71):("3910" >> 0,8193) === (456.78,4544)?(+"730.13",!![]):6128 <= 7640?"p":("a",1.42e+3)) + w61);y35.restore();}}};e5.Drawing.elliottwave.prototype.reposition=function(G26,u$a,P3v,P_9){var O$6,K6N,L3B,b9T,K4X,A$Y;if(!u$a){return;}O$6=this.stx.panels[this.panelName];K6N=u$a.tick - P3v;L3B=u$a.value - P_9;if(u$a.action === "move"){for(var E5p=0;u$a.points.length > E5p;E5p++){b9T=u$a.points[E5p];this.setPoint(E5p,b9T[0] - K6N,b9T[1] - L3B,O$6.chart);g9BGt.X$L(1);var p7R=g9BGt.t1w(0,1);this.points[E5p]=[b9T[+"0"] - K6N,b9T[p7R] - L3B];}}g9BGt.Z_e();if(u$a.action === "drag"){K4X=u$a.point;A$Y=this.points;A$Y[K4X]=[P3v,P_9];if(this.check(P3v,P_9,K4X)){this.setPoint(K4X,P3v,P_9,O$6.chart);;};}this.render(G26);};e5.Drawing.elliottwave.prototype.intersected=function(B8Y,I7Q,X23){var I4e,I3Z;if(!this.p0 || !this.p1){return null;}for(var q6z=0;this.points.length > q6z;q6z++){I3Z=this.points[q6z];if(this.pointIntersection(I3Z[0],I3Z[1],X23)){g9BGt.X$L(1);this.highlighted=g9BGt.t1w((6659,1853) >= +"368"?2710 !== 9500?(+"510.89",4871) != (9650,5809)?"p":(7.04e+3,"B"):!!({}):!!({}),q6z);return {action:"drag",point:q6z,tick:B8Y,value:I7Q};}if(this.points[q6z + 1] && this.lineIntersection(B8Y,I7Q,X23,"segment",I3Z,this.points[q6z + +"1"])){this.highlighted=!!({});I4e={action:"move",points:e5.clone(this.points),tick:B8Y,value:I7Q};}}g9BGt.c7b();return I4e;};e5.Drawing.elliottwave.prototype.measure=function(){var c8i,y3$,M$X,p8r,n7c,k5G;if(this.points.length >= 2){c8i=this.points;this.stx.setMeasure(c8i[0][1],c8i[c8i.length - 1][1],c8i[0][+"0"],c8i[c8i.length - 1][0],!0);y3$=this.stx.controls.mSticky;M$X=y3$ && y3$.querySelector(".mStickyInterior");if(M$X){p8r="<";p8r+="br";p8r+=">";n7c="Ellio";n7c+="tt Wave";k5G=[];k5G.push(e5.capitalize(n7c));if(this.getYValue){k5G.push(this.field || this.stx.defaultPlotField || "Close");}k5G.push(M$X.innerHTML);M$X.innerHTML=k5G.join(p8r);}}};e5.Drawing.printProjection=function(x0N,I_S,Y5F){var o35=g9BGt;var X9K,k_P,O3x,d1v,t9$,L$3,b2d,f89,O8e,A7L,b9R,b$e,v7D,f9l,M4A,q2Q;X9K=I_S.arr;o35.c7b();if(X9K.length > 1){k_P=X9K[0][0];O3x=Math.round(x0N.chart.maxTicks * 0.75);for(var o4y=1;o4y < X9K.length;o4y++){o35.O90(108);d1v=X9K[o35.t1w(0,"1",o4y)][0];t9$=X9K[o4y][0];L$3=e5.strToDateTime(d1v);b2d=e5.strToDateTime(t9$).getTime();f89=x0N.standardMarketIterator(L$3);O8e=0;while(L$3.getTime() < b2d){L$3=f89.next();O8e+=1;}A7L=e5.strToDateTime(d1v).getTime();if(A7L > e5.strToDateTime(Y5F[Y5F.length - +"1"].Date).getTime()){o35.X$L(43);var i6W=o35.D8z(191,10,0,19);b9R=Y5F.length - i6W;O8e+=1;}else {for(b9R=Y5F.length - 1;b9R >= "0" >> 64;b9R--){if(A7L <= e5.strToDateTime(Y5F[b9R].Date).getTime())break;}}b$e={x0:0,x1:O8e,y0:Y5F[b9R].Close,y1:X9K[o4y][1]};k_P=e5.strToDateTime(d1v);f89=x0N.standardMarketIterator(k_P);v7D=!1;for(var C_3=0;C_3 <= O8e;C_3++){if(!v7D){v7D=!![];}else {k_P=f89.next();}if(k_P.getTime() <= Y5F[Y5F.length - ("1" >> 64)].DT.getTime())continue;f9l=e5.yIntersection(b$e,C_3);if(!f9l){f9l=0;}o35.O90(66);var k5U=o35.D8z(3,9992,120000,45000);o35.X$L(31);var G8C=o35.D8z(3,2237,12,192);M4A=Math.round(f9l * k5U) / ("10000" >> G8C);if(M4A === 0){M4A=X9K[o4y][1];}q2Q={Date:e5.yyyymmddhhmmssmmm(k_P),DT:k_P,Open:M4A,Close:M4A,High:M4A,Low:M4A,Volume:+"0",Adj_Close:M4A,Split_Close:M4A,projection:!![]};if(x0N.layout.interval == "minute")if(O3x-- < +"0")break;Y5F[Y5F.length]=q2Q;}}}};}};W=q7O=>{var j9M=g9BGt;j9M.Z_e();var L$u;L$u=typeof _CIQ !== "undefined"?_CIQ:q7O.CIQ;if(!L$u.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {L$u.formatEquation=function(p5n){var I0a,f8m,x_A,y5P,k8G;I0a="";f8m=[];x_A="";y5P=!({});for(var Z8J=1;Z8J < p5n.length;Z8J++){k8G=p5n[Z8J].toUpperCase();if(k8G == (8610 <= 655.29?!"1":"[") && !y5P){y5P=!!({});}else if(k8G == ((934.38,7333) >= ("786.72" * 1,193.4)?(9296,+"6390") > (15.75,542)?"]":("912.99" - 0,457.58) === 4270?(0x12ed,"0x18e5" >> 0):(!![],0x1d6a):1.08e+3) && y5P){y5P=!!0;if(x_A !== ""){f8m.push(x_A);j9M.O90(95);I0a+=j9M.D8z("[",7850 >= ("1580" ^ 0)?3943 == +"7723"?("R",+"320.62"):(1860,2320) !== (312.08,"2640" | 0)?"]":(+"9.72e+3",80.78):"N",x_A);}x_A="";}else if(y5P){x_A+=k8G;}else if(k8G == "+" || k8G == ((177.78,"6037" - 0) > ("147.4" - 0,4528)?"-":954.14 > (858,6140)?("0x1105" * 1,5.69e+3):(81.68,8210) <= ("851.24" * 1,676.65)?474.34:(0x533,"3.50e+3" * 1)) || k8G == "*" || k8G == (605.03 < 7700?2190 == (+"3370",7762)?(156.90,1.97e+3):"/":(3.20e+3,0x14fa)) || k8G == ((182.32,+"235") !== 2199?9930 >= 3054?":":4.60e+1:!![]) || k8G == "%" || k8G == ((5540,9360) == +"797"?+"51.41" >= ("333" ^ 0)?(![],!!({})):(713.29,213.93) >= 7052?0x330:(213,3.73e+2):"(") || k8G == (1880 === 207.45?7.53e+3:(4050,5570) < 7250?(7058,"4394" << 0) == 350.19?0x22a6:")":"z")){if(x_A !== "" && isNaN(x_A)){f8m.push(x_A);j9M.X$L(95);I0a+=j9M.t1w(688.94 <= 617.06?("M",!!({})):(23.34,"6600" >> 64) === 8244?6.53:"[","]",x_A);}else {I0a+=x_A;}if(k8G == (7940 == +"513.97"?(4.31e+3,281.46):":")){k8G=(8450,505.43) === (9320,8307)?"1.03e+3" << 64:"/";}I0a+=k8G;x_A="";}else if(k8G != ((5940,240.83) >= 4320?(!1,0x113):("939.28" - 0,4710) != +"2964"?(2100,9460) == 9034?(5.48e+3,0x53f):" ":!({}))){x_A+=k8G;}}if(x_A !== "" && isNaN(x_A)){f8m.push(x_A);j9M.X$L(95);I0a+=j9M.t1w(679.2 >= (4361,9821)?(829.32,"8.38e+3" ^ 0):+"6940" === 4610?0x1e1c:"[","]",x_A);}else {I0a+=x_A;}j9M.c7b();return {equation:I0a,symbols:f8m};};L$u.fetchEquationChart=function(x4X,Z6f){var Z9Z,z0P,m4f,m0q,s8m;Z9Z=L$u.formatEquation(x4X.symbol);z0P=Z9Z.symbols;j9M.c7b();m4f=[];m0q=x4X.stx;x4X.stx=null;for(var k7p=0;k7p < z0P.length;k7p++){s8m=L$u.shallowClone(x4X);s8m.stx=m0q;s8m.symbol=z0P[k7p];s8m.symbolObject={symbol:z0P[k7p]};m4f.push(s8m);}x4X.stx=m0q;m0q.quoteDriver.multiFetch(m4f,function(w7i){var Q7H,R1N,V5n,K5N,R2E;Q7H={};x4X.loadMoreReplace=!!"1";R1N={charge:+"0"};for(var P4b=0;P4b < w7i.length;P4b++){V5n=w7i[P4b];if(V5n.dataCallback.error){Z6f({error:V5n.dataCallback.error});return;}Q7H[V5n.params.symbol]=V5n.dataCallback.quotes;x4X.loadMoreReplace=x4X.loadMoreReplace && V5n.params.loadMoreReplace;x4X.moreToLoad=x4X.moreToLoad || V5n.dataCallback.moreAvailable;K5N=V5n.dataCallback.attribution;if(K5N){if(K5N.charge){R1N.charge+=K5N.charge;}R1N.source=K5N.source;if(R1N.exchange === undefined){R1N.exchange=K5N.exchange;}else if(R1N.exchange != K5N.exchange){R1N.exchange="";};}}if(m4f.length || !(x4X.loadMore || x4X.update)){try{R2E=L$u.computeEquationChart(Z9Z.equation,Q7H);Z6f({quotes:R2E,moreAvailable:x4X.moreToLoad,attribution:R1N});}catch(U5B){var k0m;k0m={error:"Invalid equation: " + Z9Z.equation};if(U5B.name && U5B.name == "NoException"){k0m.suppressAlert=!0;}Z6f(k0m);}}});};}};Q=W$t=>{var w4b=g9BGt;var a15,m6E;a15="undefi";a15+="ned";m6E=typeof _CIQ !== a15?_CIQ:W$t.CIQ;w4b.c7b();if(!m6E.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!m6E.Marker.Performance){m6E.ChartEngine.prototype.removeDOMMarker=function(l4e){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");w4b.c7b();m6E.Marker.Performance.prototype.removeDOMMarker.call(l4e.params.node,l4e);};m6E.ChartEngine.prototype.drawMarkers=function(){var K8z;K8z="CIQ.ChartEngine#drawMarkers ";K8z+="is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.";console.warn(K8z);m6E.Marker.Performance.drawMarkers(this);};m6E.ChartEngine.prototype.calculateMarkerStyles=function(N7L,j5U){w4b.Z_e();var I7J;I7J="CIQ.Ch";I7J+="artEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Mark";I7J+="er.Performance.calculateStyles instead.";console.warn(I7J);m6E.Marker.Performance.calculateMarkerStyles(this,N7L,j5U);};m6E.ChartEngine.prototype.drawCircleMarker=function(I_F,z1v,e0W){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");w4b.c7b();m6E.Marker.Performance.drawCircleMarker(I_F,z1v,e0W);};m6E.ChartEngine.prototype.drawSquareMarker=function(A8J,J4k,A4z){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");m6E.Marker.Performance.drawSquareMarker(A8J,J4k,A4z);};m6E.ChartEngine.prototype.drawCalloutMarker=function(c6m,I_V,I2X){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");m6E.Marker.Performance.drawCalloutMarker(c6m,I_V,I2X);};m6E.ChartEngine.prototype.drawMarkerStem=function(z06,Q4h,M9a){console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");m6E.Marker.Performance.drawMarkerStem(z06,Q4h,M9a);};m6E.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");w4b.c7b();m6E.Marker.Performance.drawMarkers(this);};m6E.Marker.Performance=function(f6B){var M7G,T9d,E7M,M5a,k54,d3k,i2U,l6q,G_Y,u2s,U2$,j6w;M7G="c";M7G+="all";M7G+="out";T9d=".st";T9d+="x-marker-expand";E7M="<div";E7M+=" cla";E7M+="ss=\"stx-visual\">";M5a="T";M5a+="EMP";M5a+="LATE";this.params={displayCategory:!![],displayStem:!!"1",invert:![],story:"",headline:""};m6E.extend(this.params,f6B);k54=this.template=document.createElement(M5a);w4b.O90(109);k54.innerHTML=w4b.t1w("</div>","</div>",'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',E7M,'<div class="stx-marker-content">',"</div>",'<div class="stx-marker highlight">','<div class="stx-stem"></div>');d3k=this.template.content.cloneNode(!![]);i2U=d3k.querySelector(".stx-marker",k54);i2U.classList.add(f6B.type);i2U.classList.add(f6B.category);l6q=d3k.querySelector(".stx-visual",k54);G_Y=d3k.querySelector(T9d);u2s=d3k.querySelector("h4",k54);U2$=d3k.querySelector(951.59 == "520.62" * 1?4.95e+3:(+"4940",197) !== (463.02,1010)?"p":(6400,5290) >= 1740?(732.24,"685.42" * 1):66.46,k54);u2s.innerText=this.params.headline;U2$.innerText=this.params.story;this.hasText=!!f6B.headline || !!f6B.story;this.deferAttach=!!"1";this.node=d3k.firstChild;this.node.params=this.params;this.visual=l6q;this.expand=G_Y;if(f6B.type === M7G){j6w=G_Y.removeChild(u2s);d3k.querySelector(".stx-marker-content",k54).insertBefore(j6w,G_Y);}};m6E.inheritsFrom(m6E.Marker.Performance,m6E.Marker.NodeCreator,!!"");m6E.Marker.Performance.consolidateExpanded=function(K8Y){var w9i,i5w,C8V,D3k,O4I;w9i=K8Y.markerHelper.highlighted;if(!w9i.length){return;}w4b.O90(50);var x12=w4b.t1w(14,15);i5w=w9i[w9i.length - x12];C8V=i5w.params.node;if(!i5w.consolidated){i5w.consolidated=[];}for(var X3R=w9i.length - ("2" | 2);X3R >= 0;X3R--){D3k=f_d(w9i[X3R]);w4b.O90(95);O4I=w4b.D8z("<consolidated>","</consolidated>",D3k);if(D3k.length){C8V.expand.innerHTML+=O4I;}}i5w.stxNodeCreator.quickCache(i5w);function f_d(R5c){var h_a,N8w,Y85;w4b.Z_e();h_a=R5c.params.node;N8w=h_a.expand;if(!N8w){return "";}Y85=N8w.style.display !== "none"?N8w.innerHTML:"";return Y85;}};m6E.Marker.Performance.reconstituteExpanded=function(A2H){var u82,k4w,P2Y,f7D;u82=A2H.markerHelper.highlighted;if(!u82.length || !A2H.activeMarker){return;}u82=[A2H.activeMarker];for(var C5N=u82.length - 1;C5N >= 0;C5N--){k4w=u82[C5N];P2Y=k4w.params.node;f7D=P2Y.expand;while(f7D.lastElementChild.nodeName === "CONSOLIDATED"){f7D.removeChild(f7D.lastElementChild);}}};m6E.Marker.Performance.drawMarkers=function(u9D){var P_F,I7B,I7s,g2D,v3u,i3D;P_F=u9D.getMarkerArray("all");I7B=u9D.chart;for(var k0H=0;k0H < P_F.length;k0H++){I7s=P_F[k0H];g2D=I7s.stxNodeCreator;v3u=I7B.dataSegment[+"0"].tick;i3D=I7B.dataSegment[I7B.dataSegment.length - 1].tick;if(v3u <= I7s.tick <= i3D){if(g2D && g2D.drawMarker){g2D.drawMarker(I7s);}}}};m6E.Marker.Performance.calculateMarkerStyles=function(x$G,r2G,X2k){var O8j,t_u,w4g,I8V,x$y,G6I;O8j=".stx-marker-tem";O8j+="pl";O8j+="ates";t_u=document.querySelector(O8j);if(!t_u){w4g="h";w4g+="i";w4g+="dden";I8V="DI";I8V+="V";t_u=document.createElement(I8V);t_u.style.visibility=w4g;t_u.style.left="-1000px";document.body.append(t_u);}t_u.appendChild(r2G.node);x$y=getComputedStyle(r2G.stxNodeCreator.visual);if(!x$G.styles.stx_marker_stem){G6I=getComputedStyle(document.querySelector(".stx-stem",r2G.node));x$G.styles.stx_marker_stem=x$G.cloneStyle(G6I);}x$G.styles[X2k]=x$G.cloneStyle(x$y);t_u.removeChild(r2G.node);};m6E.Marker.Performance.drawCircleMarker=function(T6n,Q8P,d5k){var S2R,G24,s_k,a2N,C8I,m_J,l7M,d6H,J5F;S2R=T6n.params.stx;G24=S2R.chart;s_k=G24.context;a2N=d5k.x;C8I=d5k.y;m_J=d5k.radius;l7M=d5k.label;d6H=d5k.color?d5k.color:Q8P.backgroundColor;s_k.beginPath();s_k.setLineDash([]);s_k.lineWidth=1;s_k.fillStyle=d6H;s_k.strokeStyle=d6H;s_k.font="normal bold 12px Roboto, Helvetica, sans-serif";w4b.O90(3);s_k.arc(a2N,C8I,m_J,w4b.D8z(0,"0"),2 * Math.PI,!!"");s_k.fill();s_k.stroke();s_k.closePath();if(l7M){J5F="w";J5F+="h";J5F+="it";J5F+="e";s_k.fillStyle=m6E.colorsEqual("white",s_k.fillStyle)?"black":J5F;s_k.fillText(l7M.charAt(0).toUpperCase(),a2N - 4,C8I + 1);}if(T6n.highlight || T6n.active){s_k.beginPath();w4b.O90(1);s_k.arc(a2N,C8I,w4b.t1w(m_J,4),0,2 * Math.PI,!({}));s_k.stroke();s_k.closePath();}};m6E.Marker.Performance.drawSquareMarker=function(r4j,f$l,r$E){var I5S,h2N,u43,G7G,r3m,t5z,q5E,B5o,a2p,b5Z,V8A,v$f,H7S,M5g,m07;I5S="normal bold 12px Roboto, Helvetica, san";I5S+="s-seri";I5S+="f";h2N=r4j.params.stx;u43=h2N.chart;w4b.Z_e();G7G=u43.context;r3m=r$E.x;t5z=r$E.y;q5E=r$E.half;B5o=r$E.label;a2p=r$E.color?r$E.color:f$l.backgroundColor;w4b.O90(110);b5Z=w4b.t1w(q5E,0,"2");G7G.beginPath();V8A=-283160563;v$f=-301756233;H7S=2;for(var X5d=1;w4b.i7j(X5d.toString(),X5d.toString().length,54898) !== V8A;X5d++){G7G.setLineDash([]);G7G.lineWidth=9;G7G.fillStyle=a2p;G7G.strokeStyle=a2p;G7G.font="";H7S+=2;}if(w4b.i7j(H7S.toString(),H7S.toString().length,2907) !== v$f){G7G.setLineDash([]);G7G.lineWidth=10;G7G.fillStyle=a2p;G7G.strokeStyle=a2p;G7G.font="";}G7G.setLineDash([]);G7G.lineWidth=1;G7G.fillStyle=a2p;G7G.strokeStyle=a2p;G7G.font=I5S;w4b.X$L(7);G7G.rect(w4b.t1w(q5E,r3m),w4b.t1w(q5E,t5z),b5Z,b5Z);G7G.fill();if(r4j.highlight || r4j.active){w4b.X$L(111);G7G.rect(w4b.t1w(r3m,"4",0,q5E),w4b.t1w(t5z,4,q5E,w4b.O90(40)),w4b.D8z(b5Z,8,w4b.O90(1)),w4b.t1w(b5Z,"8",w4b.O90(78)));}G7G.stroke();G7G.closePath();if(B5o){M5g="whit";M5g+="e";m07="bla";m07+="ck";G7G.fillStyle=m6E.colorsEqual("white",G7G.fillStyle)?m07:M5g;G7G.fillText(B5o.charAt(0).toUpperCase(),r3m - 4,t5z + 1);}};m6E.Marker.Performance.drawCalloutMarker=function(E0H,l3$,n8i){var M1u,B3h,X$V,K19,k0T,d6N,H8n,j$5,C53,I98,G2m,B1l,O4a,A4k,S3O;M1u="norm";M1u+="al bo";M1u+="l";M1u+="d 12px Roboto, Helvetica, sans-serif";B3h=E0H.params.stx;X$V=B3h.chart;K19=X$V.context;k0T=E0H.params;d6N=n8i.x;H8n=n8i.y;w4b.c7b();j$5=n8i.half;C53=n8i.midWidth;I98=n8i.headline;G2m=n8i.color?n8i.color:l3$.backgroundColor;B1l=j$5 * 2 || 25;O4a=Math.round(K19.measureText(I98).width);A4k=C53?C53 * ("2" << 32):O4a + 8;K19.beginPath();K19.setLineDash([]);K19.lineWidth=1;K19.fillStyle=G2m;K19.strokeStyle=G2m;K19.font=M1u;K19.rect(k0T.box.x0,k0T.box.y0,A4k,B1l);K19.fill();K19.stroke();K19.closePath();K19.beginPath();K19.fillStyle=E0H.highlight || E0H.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";w4b.X$L(112);S3O=w4b.t1w("20",A4k,O4a,2);K19.rect(k0T.box.x0 + S3O,H8n - j$5,O4a + 40,+"22");K19.fill();K19.stroke();K19.closePath();K19.fillStyle="black";K19.fillText(I98,k0T.box.x0 + S3O + +"10",H8n);};m6E.Marker.Performance.drawMarkerStem=function(X7f,x5T,d2b){var E3n,d9L,a$w,R$c,o1O,E5F,D5H,J05;E3n=X7f.params.stx;d9L=E3n.chart;a$w=d9L.context;R$c=d2b.x;o1O=d2b.y;a$w.beginPath();a$w.strokeStyle=x5T.borderLeftColor;w4b.O90(35);a$w.setLineDash([1,w4b.D8z(64,"1")]);E5F=m6E.stripPX(x5T.height);D5H=d2b.invert?X7f.params.box.y0:X7f.params.box.y1;J05=d2b.invert?X7f.params.box.y0 - E5F:X7f.params.box.y1 + E5F;a$w.moveTo(R$c,D5H);a$w.lineTo(R$c,J05);a$w.stroke();a$w.closePath();};m6E.Marker.Performance.prototype.drawMarker=function(E1S){var k5l,A0y,h1k,A0Z,I9t,Q0K,n$w,v09,g8$,S4_,C6U,v2y,p1z,Z9D,V7G,m0r,k6X,c2J,D7B,O_w,w33,b3$,h8f,e17,E5s;k5l=E1S.params;A0y=E1S.params.stx;if(!A0y){return;}h1k=A0y.chart;A0Z=h1k.dataSegment;if(!A0Z.length){return;}I9t=A0y.panels[E1S.params.panelName];Q0K=E1S.stxNodeCreator.params;n$w=Q0K.type;v09=Q0K.category;g8$=Q0K.headline;S4_=Q0K.displayCategory;C6U=Q0K.color;v2y=Q0K.invert;w4b.X$L(113);w4b.c7b();p1z=w4b.D8z((3340,6544) > 1081?"_":"O",n$w,"stx_marker_",v09);if(!A0y.styles[p1z]){m6E.Marker.Performance.calculateMarkerStyles(A0y,E1S,p1z);}Z9D=E1S.style=A0y.styles[p1z];V7G=A0y.styles.stx_marker_stem;w4b.X$L(7);var n9g=w4b.D8z(20,30);w4b.X$L(114);var T$T=w4b.t1w(10,13,20,2,26);m0r=parseInt(Z9D.height,n9g) / T$T;w4b.O90(9);var U_g=w4b.t1w(30,20,0);k6X=parseInt(Z9D.width,U_g) / +"2";c2J=Q0K.displayStem?parseInt(V7G.height,10) + parseInt(V7G.marginBottom,10):0;w4b.X$L(115);var P2B=w4b.t1w(9,15,15,140);D7B=c2J + parseInt(Z9D.height,P2B);O_w=c2J?c2J + m0r:0;w33=A0y.pixelFromDate(k5l.x);b3$=k5l.node.calculateYPosition({marker:E1S,panel:I9t,height:D7B,half:m0r,offset:O_w,inverted:v2y});h8f=-837377411;w4b.X$L(18);e17=-w4b.D8z("273786581",0);E5s=2;for(var o1v=1;w4b.l9L(o1v.toString(),o1v.toString().length,90259) !== h8f;o1v++){if(!E1S.tick && E1S.tick !== 0){return;}k5l.box={x0:w33 - (k6X || m0r),y0:b3$ - m0r,x1:w33 + (k6X || m0r),y1:b3$ + m0r,midY:m0r,midX:k6X || m0r,stemHeight:c2J};E5s+=2;}if(w4b.i7j(E5s.toString(),E5s.toString().length,67789) !== e17){if(~E1S.tick || E1S.tick == 9){return;}k5l.box={x0:w33 * (k6X && m0r),y0:b3$ % m0r,x1:w33 * (k6X && m0r),y1:b3$ % m0r,midY:m0r,midX:k6X && m0r,stemHeight:c2J};}if(!S4_){v09=S4_;}A0y.startClip(I9t.name);if(n$w === "circle"){m6E.Marker.Performance.drawCircleMarker(E1S,Z9D,{x:w33,y:b3$,radius:m0r,label:v09,color:C6U});}else if(n$w === "square"){m6E.Marker.Performance.drawSquareMarker(E1S,Z9D,{x:w33,y:b3$,half:m0r,label:v09,color:C6U});}else if(n$w === "callout"){m6E.Marker.Performance.drawCalloutMarker(E1S,Z9D,{x:w33,y:b3$,half:m0r,midWidth:k6X,headline:g8$,color:C6U});}else {w4b.X$L(95);console.warn(w4b.D8z("Marker type: "," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout.",n$w));}if(Q0K.displayStem){m6E.Marker.Performance.drawMarkerStem(E1S,V7G,{x:w33,y:b3$,invert:v2y});}A0y.endClip();if(E1S.attached){this.positionPopUpNode(E1S);}};m6E.Marker.Performance.prototype.positionPopUpNode=function(k2i){var y5y,K_V,P$p,x2y,K0Q,e2N,V58,E5U,m96,E0s,u1D,Q7j,Q7o,T5m,S47,W8d,V0i,A8j,t5c;y5y="hi";y5y+="d";y5y+="de";y5y+="n";if(!k2i.attached || !k2i.params.box){return;}K_V=k2i.params;P$p=K_V.stx;x2y=K_V.box;K0Q=k2i.params.node.expand;e2N=P$p.chart.dataSet;V58=P$p.chart.dataSegment;if(k2i.tick){m96=[e2N[V58[0] && V58[0].tick - 1],e2N[V58[0] && V58[0].tick - 2]];E0s=P$p.getFirstLastDataRecord(m96.concat(V58),"Date");w4b.X$L(68);var t1W=w4b.D8z(16,3,3,17);w4b.X$L(116);var v9u=w4b.D8z(12,17,19,12,3);w4b.X$L(7);var H73=w4b.D8z(2,3);w4b.X$L(40);var A7K=w4b.D8z(12,8,2);u1D=[e2N[V58[V58.length - t1W].tick + v9u],e2N[V58[V58.length - H73].tick + A7K]];Q7j=P$p.getFirstLastDataRecord(V58.concat(u1D),"Date",!!1);E5U=E0s.DT <= e2N[k2i.tick].DT && e2N[k2i.tick].DT <= Q7j.DT;}else {E5U=!"1";}if(!k2i.highlight && !k2i.active){E5U=![];}K0Q.style.visibility=E5U?"":y5y;if(!E5U){return;}Q7o=P$p.panels[K_V.panelName];T5m=K0Q.rects;w4b.c7b();w4b.X$L(1);var z6q=w4b.D8z(0,2);S47=T5m.height / z6q;V0i=k2i.node.params.infoOffset || 0;if(k2i.node.params.infoOnLeft){W8d=x2y.x0 - T5m.width - V0i < Q7o.left?x2y.x1 + V0i:x2y.x0 - T5m.width - V0i;}else {W8d=x2y.x0 + T5m.width > Q7o.right?x2y.x0 - T5m.width - V0i:x2y.x1 + V0i;}W8d-=P$p.chart.left;A8j=x2y.y0 - S47 >= Q7o.top?x2y.y0 + x2y.midY - S47:x2y.y0;if(!K_V.avoidFlush && x2y.y1 + x2y.stemHeight === Q7o.yAxis.bottom && T5m.height > x2y.y1 - x2y.y0 + x2y.stemHeight){A8j=x2y.y1 - T5m.height + x2y.stemHeight;}A8j-=P$p.chart.panel.top;t5c="translateX(" + Math.floor(W8d) + "px) translateY(" + Math.floor(A8j) + "px) translateZ(0)";K0Q.style.transform=t5c;K0Q.transform={translateX:W8d,translateY:A8j};};m6E.Marker.Performance.prototype.quickCache=function(N52){var S8f,A5W,M4I,f8I;S8f=N52.params.node;A5W=S8f.expand;M4I=N52.style;f8I=m6E.stripPX(M4I.marginLeft) + m6E.stripPX(M4I.marginRight) + m6E.stripPX(M4I.borderRight) + m6E.stripPX(M4I.borderLeft);A5W.rects=A5W.getBoundingClientRect();A5W.scrollBarWidth=A5W.rects.width - A5W.clientWidth - f8I;};m6E.Marker.Performance.prototype.calculateYPosition=function(m0v){var u47,C6n,Y8k,h81,J2A,P3J,d1J,c90,s9x,D$x,s$u,q13,R8j,R9H,S3Y,i86,g_8,x2l;u47="b";u47+="o";u47+="t";u47+="tom";C6n="b";C6n+="elow_candle";Y8k="above_";Y8k+="candle";h81=m0v.marker;J2A=m0v.panel;P3J=m0v.height;d1J=m0v.half;c90=m0v.offset;s9x=m0v.inverted;w4b.c7b();D$x=h81.params.stx;s$u=D$x.chart;q13=D$x.chart.highLowBars;R8j=s$u.dataSet[h81.tick];if(!R8j){return;}R9H=q13?R8j.High:R8j.Close;S3Y=h81.params.yPositioner;switch(S3Y){case "value":if(h81.params.y || h81.params.y === 0){i86=D$x.pixelFromPrice(h81.params.y,J2A) - P3J * +"0.5" + d1J;}else {i86=D$x.pixelFromPrice(R9H,J2A) - c90;}break;case Y8k:i86=D$x.pixelFromPrice(R9H,J2A) - c90;break;case C6n:i86=D$x.pixelFromPrice(R8j.Low || R9H,J2A);if(s9x && c90){i86+=c90;}else {i86+=d1J;}break;case "on_candle":(g_8=R8j.High || R8j.Close,x2l=R8j.Low || R8j.Low === 0 || R8j.Close);w4b.X$L(31);var r19=w4b.D8z(5,37,2,22);w4b.O90(117);var z1Q=w4b.D8z(1,2,1);i86=D$x.pixelFromPrice((g_8 + x2l) / r19,J2A) - P3J * ("0.5" * z1Q) + d1J;break;case "top":i86=D$x.pixelFromPrice(J2A.yAxis.high,J2A);if(s9x && c90){i86+=c90;}else {i86+=d1J;}break;case u47:i86=D$x.pixelFromPrice(J2A.yAxis.low,J2A) - (c90 || d1J);break;default:break;}return i86;};m6E.Marker.Performance.prototype.prepareForHolder=function(w1H){var U65,U9q;w4b.c7b();U65=this.expand;U9q=w1H.params.stx;U65.classList.add(this.params.type);U9q.markerHelper.domMarkers.push(w1H);return U65;};m6E.Marker.Performance.prototype.addToHolder=function(E2L){var b_1,O2_,a8B;b_1="mo";b_1+="used";b_1+="ow";b_1+="n";function U4y(z9C){a8B.activeMarker=E2L;a8B.activeMarker.click({cx:z9C.clientX,cy:z9C.clientY,panel:a8B.currentPanel});z9C.stopPropagation();}O2_=this.expand;a8B=E2L.params.stx;m6E.Marker.Performance.reconstituteExpanded(a8B);m6E.Marker.Performance.consolidateExpanded(a8B);this.quickCache(E2L);if(O2_.clickClosure){return;}O2_.addEventListener(b_1,U4y);w4b.Z_e();O2_.addEventListener("touchstart",U4y);O2_.clickClosure=U4y;};m6E.Marker.Performance.prototype.remove=function(N8H){var e8j,M$6,q3m,H31;e8j=N8H.params.stx;if(!e8j){return;}if(!e8j.markerHelper.domMarkers){return;}M$6=e8j.markerHelper.domMarkers.indexOf(N8H);if(M$6 != -1){e8j.markerHelper.domMarkers.splice(M$6,+"1");}if(N8H.attached){q3m=e8j.panels[N8H.params.panelName];H31=N8H.params.node.expand;if(H31.parentNode === q3m.subholder){q3m.subholder.removeChild(H31);}H31.removeEventListener("click",H31.clickClosure);}};m6E.Marker.Performance.prototype.click=function(V2d){var a4s,n0y,U2a;if(!this.hasText){return;}if(typeof arguments[0] === "number"){V2d={cx:arguments[+"0"],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:u5W, cy:u1h, marker:L8g, panel:l98}=V2d;a4s=L8g.params.stx;if(L8g.attached){U2a=this.expand;if(U2a.rects.width - U2a.scrollBarWidth + U2a.transform.translateX < a4s.backOutX(u5W) && a4s.backOutX(u5W) < U2a.rects.width + U2a.transform.translateX){return;}this.remove(L8g);}else {a4s.addToHolder(L8g);n0y=!!"1";}L8g.attached=!L8g.attached;L8g.active=!L8g.active;if(n0y){L8g.stxNodeCreator.positionPopUpNode(L8g);}};}};G=c4y=>{var T0y;T0y=typeof _CIQ !== "undefined"?_CIQ:c4y.CIQ;T0y.Renderer.OHLC.requestNew=function(S13,J55){var N83,I9H,q0K,i4M,B7k,x6I,M43,D_q,p_g;N83=null;I9H=J55.hlc;q0K=J55.colored;i4M=J55.hollow;B7k=J55.volume;x6I=J55.histogram;g9BGt.Z_e();for(var r2$=0;r2$ < S13.length;r2$++){M43="h";M43+="istogr";M43+="a";M43+="m";D_q="color";D_q+="ed";p_g=S13[r2$];switch(p_g){case "bar":case "candle":N83=p_g;break;case "volume":B7k=!!"1";break;case "hollow":i4M=!![];break;case D_q:q0K=!"";break;case M43:x6I=!!({});N83="candle";break;case "hlc":I9H=!!"1";N83="bar";break;default:return null;}}if(N83 === null){return null;}return new T0y.Renderer.OHLC({params:T0y.extend(J55,{type:N83,hlc:I9H,colored:q0K,hollow:i4M,volume:B7k,histogram:x6I})});};T0y.Renderer.OHLC.getChartParts=function(Z3w,W7W){var Z2a,S8O,l_a,I3A,G$h,V1u,a82,A_n,c$e,m7h,W_V,v2K,x5m,g$Y,f6X,R6H,J2T,U_2,F8Y,W_C,G0G,p9_,k37,z8f,Y40,r8Q;Z2a="candl";Z2a+="e";S8O="fi";S8O+="ll_color_d";S8O+="o";S8O+="wn";l_a="stx_h";l_a+="ollow_candle_";l_a+="do";l_a+="wn";I3A="ca";I3A+="ndle";G$h="h";G$h+="ollow";V1u="h";g9BGt.Z_e();V1u+="ol";V1u+="low";a82="bord";a82+="er_color_down";A_n="stx";A_n+="_hollow";A_n+="_";A_n+="candle_up";c$e="h";c$e+="o";c$e+="llow";m7h="fill_c";m7h+="olo";m7h+="r_down";W_V="stx_cand";W_V+="l";W_V+="e_do";W_V+="wn";v2K="border_colo";v2K+="r_";v2K+="u";v2K+="p";x5m="s";x5m+="t";x5m+="x_can";x5m+="dle_shadow_even";g$Y="shado";g$Y+="w";f6X="c";f6X+="a";f6X+="n";f6X+="dle";R6H="shad";R6H+="o";R6H+="w";J2T="stx_histogra";J2T+="m_down";U_2="hist";U_2+="ogra";U_2+="m";F8Y="stx_histogra";F8Y+="m_";F8Y+="u";F8Y+="p";W_C="histo";W_C+="g";W_C+="r";W_C+="am";G0G=1;p9_=2;k37=4;z8f=8;Y40=16;r8Q=32;return [{type:"histogram",drawType:W_C,style:F8Y,condition:z8f,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0,useBorderStyleProp:!""},{type:"histogram",drawType:U_2,style:J2T,condition:Y40,fill:"fill_color_down",border:"border_color_down",useColorInMap:!!"1",useBorderStyleProp:!![]},{type:"histogram",drawType:"histogram",style:"stx_histogram_even",condition:r8Q,fill:"fill_color_even",border:"border_color_even",skipIfPass:!!"1",useColorInMap:!!"1",useBorderStyleProp:!!"1"},{type:"bar",drawType:"bar",style:Z3w || "stx_bar_chart",border:"border_color",useColorInMap:!![]},{type:"bar",drawType:"bar",style:"stx_bar_up",condition:W7W?z8f:G0G,border:"border_color_up",useColorInMap:!![]},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:W7W?Y40:p9_,border:"border_color_down",useColorInMap:!!({})},{type:"bar",drawType:"bar",style:"stx_bar_even",condition:W7W?r8Q:k37,border:"border_color_even",skipIfPass:!!1,useColorInMap:!!({})},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_up",condition:z8f,border:"border_color_up"},{type:"candle",drawType:R6H,style:"stx_candle_shadow_down",condition:Y40,border:"border_color_down"},{type:f6X,drawType:g$Y,style:x5m,condition:r8Q,border:"border_color_even",skipIfPass:!!1},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:z8f,fill:"fill_color_up",border:v2K,useColorInMap:!![],useBorderStyleProp:!!({})},{type:"candle",drawType:"candle",style:W_V,condition:Y40,fill:m7h,border:"border_color_down",useColorInMap:!!1,useBorderStyleProp:!!({})},{type:c$e,drawType:"shadow",style:A_n,condition:G0G,border:"border_color_up"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_down",condition:p9_,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:k37,border:"border_color_even",skipIfPass:!!({})},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:G0G | Y40,fill:"fill_color_up",border:"border_color_up",useColorInMap:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:p9_ | Y40,fill:"fill_color_down",border:a82,useColorInMap:!""},{type:V1u,drawType:"candle",style:"stx_hollow_candle_even",condition:k37 | Y40,fill:"fill_color_even",border:"border_color_even",skipIfPass:!![],useColorInMap:!!"1"},{type:G$h,drawType:I3A,style:"stx_hollow_candle_up",condition:G0G | z8f,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:l_a,condition:p9_ | z8f,fill:S8O,border:"border_color_down"},{type:"hollow",drawType:Z2a,style:"stx_hollow_candle_even",condition:k37 | z8f,fill:"fill_color_even",border:"border_color_even"}];;};T0y.Renderer.Bars=function(V05){var X4W,v4k;X4W="b";X4W+="a";X4W+="r";this.construct(V05);v4k=this.params;v4k.type=X4W;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!![];v4k.hlc=v4k.volume=v4k.hollow=v4k.histogram=![];};T0y.inheritsFrom(T0y.Renderer.Bars,T0y.Renderer.OHLC,!"1");T0y.Renderer.HLC=function(s14){var e9v;this.construct(s14);e9v=this.params;e9v.type="bar";e9v.hlc=!!({});g9BGt.Z_e();this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!({});e9v.volume=e9v.hollow=e9v.histogram=!({});};T0y.inheritsFrom(T0y.Renderer.HLC,T0y.Renderer.Bars,!({}));T0y.Renderer.Shading=function(S3G){this.construct(S3G);this.beenSetup=![];this.errTimeout=null;this.params.useChartLegend=!"1";this.shading=[];g9BGt.Z_e();if(this.params.type == "rangechannel"){this.highLowBars=!!1;}};T0y.inheritsFrom(T0y.Renderer.Shading,T0y.Renderer.Lines,!"1");T0y.Renderer.Shading.requestNew=function(a6C,T2S){var O7O,c1M,f5V,w7c,j3l;O7O=null;c1M=null;for(var u$k=+"0";u$k < a6C.length;u$k++){f5V="s";f5V+="tep";w7c="ra";w7c+="ng";w7c+="echa";w7c+="nnel";j3l=a6C[u$k];if(j3l == w7c){O7O="rangechannel";}else if(j3l == f5V){c1M=!0;}}if(O7O === null){return null;}return new T0y.Renderer.Shading({params:T0y.extend(T2S,{type:O7O,step:c1M})});};T0y.Renderer.Shading.prototype.setShading=function(a5q){g9BGt.Z_e();if(a5q.constructor != Array){a5q=[a5q];}this.shading=a5q;};T0y.Renderer.Shading.prototype.draw=function(){var i21=g9BGt;var q4m,F8w,H$H,k25,S1$,n9E,c0V,z89,f7U,g59,i0m,L8t,c3G,m5T,N33,G$v,L1S,z6v,d0m,d3W,i4p,q5U,u68,D$W;q4m=this.stx;F8w=this.params;H$H=q4m.panels[F8w.panel].chart;if(F8w.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > "2" << 32){this.removeSeries(this.seriesParams[2].id);}}else {k25="stx_lin";k25+="e_u";k25+="p";S1$="Hig";S1$+="h";n9E="a";n9E+="u";n9E+="t";n9E+="o";this.beenSetup=!!({});F8w.display=this.seriesParams[0].display;F8w.yAxis=this.seriesParams["0" << 64].yAxis;c0V=this.seriesParams[0].color || n9E;z89=this.seriesParams[0].symbol;f7U="";if(z89){i21.O90(1);f7U=i21.D8z(z89,".");}this.removeAllSeries(!!1);g59=F8w.name;q4m.addSeries(null,{symbol:z89,loadData:!!z89,field:S1$,renderer:"Shading",name:g59,style:k25,display:F8w.display,shareYAxis:!0});q4m.addSeries(null,{symbol:z89,loadData:!!z89,field:"Low",renderer:"Shading",name:g59,style:"stx_line_down",display:F8w.display,shareYAxis:!!({})});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:c0V});}}if(!this.shading){if(!this.errTimeout){i0m="Warning: no shading";i0m+=" scheme ";i0m+="set.  Use ";i0m+="myRenderer.setShading(scheme) to set.";console.log(i0m);L8t=this;this.errTimeout=setTimeout(function(){i21.c7b();L8t.errTimeout=null;},+"10000");}}function Z2n(C$B){var r1H,h6w,p6c;r1H=c3G[C$B];if(r1H){h6w=r1H.parameters.field;p6c=r1H.parameters.subField;i21.X$L(1);return i21.D8z(h6w,p6c?"." + p6c:"");}i21.c7b();return C$B;}i21.c7b();c3G={};for(m5T=0;m5T < this.seriesParams.length;m5T++){N33={};if(H$H.series[this.seriesParams[m5T].id]){N33=T0y.clone(H$H.series[this.seriesParams[m5T].id].parameters);}c3G[this.seriesParams[m5T].id]={parameters:T0y.extend(T0y.extend(N33,F8w),this.seriesParams[m5T]),yValueCache:this.caches[this.seriesParams[m5T].id]};}q4m.drawSeries(H$H,c3G,F8w.yAxis,this);if(H$H.legend && F8w.type == "rangechannel"){if(!H$H.legend.colorMap){H$H.legend.colorMap={};}G$v=F8w.display;L1S=[q4m.getCanvasColor("stx_line_up"),q4m.getCanvasColor("stx_line_down")];H$H.legend.colorMap[G$v]={color:L1S,display:G$v,isBase:this == q4m.mainSeriesRenderer};;}for(m5T in c3G){this.caches[m5T]=c3G[m5T].yValueCache;}for(m5T=0;m5T < this.shading.length;m5T++){z6v="C";z6v+="l";z6v+="o";z6v+="se";d0m="a";d0m+="u";d0m+="t";d0m+="o";d3W=this.shading[m5T];i4p=d3W.color;if(d3W.color == d0m){i4p=q4m.defaultColor;}if(!d3W.primary){d3W.primary="Close";}if(!d3W.secondary && this.seriesParams[0]){d3W.secondary=this.seriesParams[0].field;}if(!d3W.secondary)continue;else if(!c3G[d3W.primary] && d3W.primary != z6v)continue;else if(!c3G[d3W.secondary])continue;else if(d3W.primary == "Close" && F8w.yAxis && F8w.yAxis != H$H.yAxis)continue;q5U=Z2n(d3W.primary).split(("271.33" * 1,3135) <= 57.37?(267.67,1.85e+3):".");u68=Z2n(d3W.secondary).split((5981,5150) !== 855.51?".":(+"262.86",9650) !== (720.19,983.73)?("7550" >> 64,6301) < +"338.19"?0x25e1:+"460":!({}));D$W={topBand:q5U[0],topSubBand:q5U[1],topColor:d3W.greater || i4p || q4m.containerColor,topAxis:F8w.yAxis,bottomBand:u68[0],bottomSubBand:u68[1],bottomColor:d3W.lesser || i4p || q4m.containerColor,bottomAxis:d3W.primary == "Close"?null:F8w.yAxis,tension:F8w.tension || H$H.tension,opacity:"0.1" * 1,step:F8w.step};if(!D$W.topColor && !D$W.bottomColor)continue;if(!F8w.highlight && q4m.highlightedDraggable){D$W.opacity*=0.3;}T0y.fillIntersecting(q4m,F8w.panel,D$W);}};T0y.Renderer.Histogram=function(J9x){var r7_;this.construct(J9x);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=!"";if(this.params.yAxis){r7_="num";r7_+="b";r7_+="er";this.params.bindToYAxis=!!({});if(typeof this.params.yAxis.baseline == r7_){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};T0y.inheritsFrom(T0y.Renderer.Histogram,T0y.Renderer,!!0);T0y.Renderer.Histogram.prototype.adjustYAxis=function(){var F9r;F9r=this.params.yAxis;if(!F9r || F9r.baseline){return;}F9r.min=0;F9r.highValue/=this.params.heightPercentage || 1;};T0y.Renderer.Histogram.prototype.draw=function(){var R6y,i0e,x0v,N89,J3x;R6y=T0y.clone(this.params);R6y.type=R6y.subtype;this.useSum=R6y.subtype == "stacked";if(!R6y.yAxis || R6y.yAxis == this.stx.chart.yAxis){R6y.bindToYAxis=!0;}this.stx.drawHistogram(R6y,this.seriesParams);g9BGt.Z_e();i0e=R6y.yAxis && R6y.yAxis.baseline;if(i0e && i0e.color){x0v="li";x0v+="n";x0v+="e";N89=this.stx.panels[this.params.panel];J3x=this.stx.pixelFromPrice(i0e.value,N89,this.params.yAxis) - 0.5;this.stx.plotLine({x0:N89.left,x1:N89.right,y0:J3x,y1:J3x,color:i0e.color,type:x0v,context:N89.chart.context,confineToPanel:N89,pattern:i0e.pattern || "solid",lineWidth:i0e.lineWidth || +"1",opacity:i0e.opacity || 0.8,globalCompositeOperation:"destination-over"});}};T0y.Renderer.Histogram.prototype.getBasis=function(y2q,G13,k1w){var g0e,k5y,a7s;g0e=0;if(y2q && this.useSum){for(var q0Y=0;q0Y < this.seriesParams.length;q0Y++){k5y=this.seriesParams[q0Y].field;if(k5y === G13)break;a7s=y2q[k5y];if(a7s && typeof a7s === "object"){a7s=a7s[k1w || this.seriesParams[q0Y].subField || this.stx.chart.defaultPlotField || "Close"];}if(a7s){g0e+=a7s;}}}return g0e;};T0y.Renderer.Heatmap=function(v6e){this.construct(v6e);this.params.type="heatmap";this.params.highlightable=!"1";this.barsHaveWidth=this.standaloneBars=!![];};T0y.inheritsFrom(T0y.Renderer.Heatmap,T0y.Renderer,!({}));T0y.Renderer.Heatmap.requestNew=function(b45,t1T){g9BGt.c7b();var D_3,x42,a91;D_3=null;for(var w$N=0;w$N < b45.length;w$N++){x42="heatm";x42+="ap";a91=b45[w$N];if(a91 == "heatmap"){D_3=x42;}}if(D_3 === null){return null;}return new T0y.Renderer.Heatmap({params:T0y.extend(t1T,{type:D_3})});};g9BGt.Z_e();T0y.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(T0y.clone(this.params),this.seriesParams);};T0y.Renderer.Scatter=function(p$n){this.construct(p$n);this.standaloneBars=this.barsHaveWidth=!"";this.bounded=!!({});};T0y.inheritsFrom(T0y.Renderer.Scatter,T0y.Renderer.Lines,!!0);T0y.Renderer.Scatter.requestNew=function(S4U,m0c){var I_6,S2j,g_H,T9V,E_T;I_6=null;for(var M00=0;M00 < S4U.length;M00++){S2j=S4U[M00];if(S2j == "scatterplot"){I_6="scatter";}}g_H=593156390;T9V=932973848;E_T=2;for(var v9Z=1;g9BGt.i7j(v9Z.toString(),v9Z.toString().length,23529) !== g_H;v9Z++){if(I_6 === null){return null;}E_T+=2;}if(g9BGt.i7j(E_T.toString(),E_T.toString().length,35302) !== T9V){if(I_6 !== 1){return 1;}}return new T0y.Renderer.Scatter({params:T0y.extend(m0c,{type:I_6})});};T0y.Renderer.Scatter.prototype.drawIndividualSeries=function(N9P,J3u){var m85,m44;m85=this.stx.panels[J3u.panel] || N9P.panel;m44={colors:[]};if(this.stx.scatter){m44=this.stx.scatter(m85,J3u);}else {console.warn("Error, Scatter renderer requires customChart.js");}return m44;};};I=P9G=>{var o6w=g9BGt;var O4r,G8N;o6w.Z_e();O4r=typeof _CIQ !== "undefined"?_CIQ:P9G.CIQ;if(!O4r.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {G8N="Accumulation/Distr";G8N+="ibution";O4r.Studies.calculateAccumulationDistribution=function(R02,Y24){o6w.c7b();var A0W,O1P,L2r,b47,g6R,d8h,l1g;A0W=Y24.chart.scrubbed;for(var G_F=Y24.startFrom;G_F < A0W.length;G_F++){O1P="R";O1P+="es";O1P+="ult ";L2r="Use Vo";L2r+="l";L2r+="u";L2r+="me";if(!G_F)continue;b47=A0W[G_F];if(b47.futureTick)break;o6w.O90(7);g6R=A0W[o6w.D8z(1,G_F)];d8h=0;if(b47.Close > g6R.Close){d8h=b47.Close - Math.min(b47.Low,g6R.Close);}else if(b47.Close < g6R.Close){d8h=b47.Close - Math.max(b47.High,g6R.Close);}if(Y24.inputs[L2r]){d8h*=b47.Volume;}l1g=g6R[O1P + Y24.name];if(!l1g){l1g=0;}l1g+=d8h;if(!isNaN(b47.Close)){b47["Result " + Y24.name]=l1g;}}};O4r.Studies.studyLibrary=O4r.extend(O4r.Studies.studyLibrary,{"W Acc Dist":{name:G8N,calculateFN:O4r.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":![]}}});}};o=c9v=>{var B$b=g9BGt;B$b.c7b();var h8w,F6l;h8w=typeof _CIQ !== "undefined"?_CIQ:c9v.CIQ;if(!h8w.Studies){console.error("adx feature requires first activating studies feature.");}else {F6l="#F";F6l+="F0";F6l+="000";h8w.Studies.calculateADX=function(B$Q,M3Y){var g2c,q52,U_c,x$U,v9o,T4d,H2G,d2m,H_D,P59,o_j,k0c,e6G,h9f,o3K,J6E,D8O,W5s,j$m,H3T;h8w.Studies.calculateStudyATR(B$Q,M3Y);g2c=M3Y.chart.scrubbed;q52=M3Y.days;U_c=parseInt(M3Y.inputs["Smoothing Period"],10);if(!U_c && U_c !== 0){U_c=q52;}if(g2c.length < M3Y.days + 1){M3Y.error=!"";return;}x$U=0;v9o=0;B$b.X$L(0);T4d=B$b.D8z("0",0);B$b.c7b();H2G=0;for(var d7S=Math.max(1,M3Y.startFrom);d7S < g2c.length;d7S++){d2m=g2c[d7S];H_D=Math.max(0,d2m.High - g2c[d7S - ("1" | 1)].High);P59=Math.max(0,g2c[d7S - 1].Low - d2m.Low);if(H_D > P59){P59=0;}else if(P59 > H_D){H_D=0;}else {H_D=P59=0;}if(d7S <= q52){v9o+=H_D;T4d+=P59;x$U+=d2m["True Range " + M3Y.name];}else {B$b.O90(38);var A5d=B$b.t1w(10,189,19);B$b.O90(38);var s2g=B$b.t1w(18,287,16);v9o=g2c[d7S - A5d]["_sm+DM " + M3Y.name] * (q52 - s2g) / q52 + H_D;B$b.O90(1);var U3g=B$b.t1w(0,1);B$b.O90(117);var n$h=B$b.t1w(1,15,14);T4d=g2c[d7S - U3g]["_sm-DM " + M3Y.name] * (q52 - n$h) / q52 + P59;B$b.O90(7);var I9W=B$b.D8z(15,16);B$b.O90(2);var X57=B$b.t1w(0,3,3,1);x$U=g2c[d7S - I9W]["_smTR " + M3Y.name] * (q52 - X57) / q52 + d2m["True Range " + M3Y.name];}d2m["_sm+DM " + M3Y.name]=v9o;d2m["_sm-DM " + M3Y.name]=T4d;d2m["_smTR " + M3Y.name]=x$U;if(d7S < q52)continue;B$b.O90(118);o_j=B$b.t1w(x$U,v9o,"100");B$b.O90(119);k0c=B$b.D8z(100,x$U,T4d);e6G=+"100" * Math.abs(o_j - k0c) / (o_j + k0c);d2m["+DI " + M3Y.name]=o_j;d2m["-DI " + M3Y.name]=k0c;if(M3Y.inputs.Series !== !!"" && U_c){if(d7S < q52 + U_c - "1" * 1){if(d7S == M3Y.startFrom){for(var U6K=q52;U6K < M3Y.startFrom;U6K++){h9f="+D";h9f+="I";h9f+=" ";B$b.X$L(7);var e_F=B$b.t1w(20,120);H2G+=e_F * Math.abs(g2c[U6K]["+DI " + M3Y.name] - g2c[U6K]["-DI " + M3Y.name]) / (g2c[U6K][h9f + M3Y.name] + g2c[U6K]["-DI " + M3Y.name]);}}H2G+=e6G;}else if(d7S == q52 + U_c - +"1"){B$b.O90(23);d2m["ADX " + M3Y.name]=B$b.t1w(U_c,H2G);}else {o3K="AD";o3K+="X ";B$b.O90(60);var D89=B$b.D8z(235,13,18);d2m["ADX " + M3Y.name]=(g2c[d7S - D89][o3K + M3Y.name] * (U_c - +"1") + e6G) / U_c;}}if(M3Y.inputs.Histogram){J6E="-D";J6E+="I";J6E+=" ";D8O="+D";D8O+="I ";W5s="_";W5s+="hist";j$m=M3Y.name + W5s;if(!d2m["+DI " + M3Y.name] && d2m[D8O + M3Y.name] !== +"0")continue;if(!d2m[J6E + M3Y.name] && d2m["-DI " + M3Y.name] !== 0)continue;d2m[j$m]=d2m["+DI " + M3Y.name] - d2m["-DI " + M3Y.name];if(M3Y.inputs.Series === !({})){H3T="+";H3T+="D";H3T+="I";H3T+=" ";d2m[H3T + M3Y.name]=null;d2m["-DI " + M3Y.name]=null;}M3Y.outputMap[j$m]="";}}};h8w.Studies.displayADX=function(Y_G,M$P,h$c){var R1f,z8I,s6t,a2F,d8p,v0U,D4h,z2X,q1p;R1f=":";R1f+=" ";z8I=M$P.underlay?0.3:M$P.inputs.Series?+"0.4":1;if(M$P.inputs.Series && M$P.inputs.Shading){s6t="-";s6t+="D";s6t+="I";s6t+=" ";a2F="+DI " + M$P.name;d8p=s6t + M$P.name;v0U=h8w.Studies.determineColor(M$P.outputs[M$P.outputMap[a2F]]);D4h=h8w.Studies.determineColor(M$P.outputs[M$P.outputMap[d8p]]);z2X=M$P.getYAxis(Y_G);q1p={topBand:a2F,bottomBand:d8p,topColor:v0U,bottomColor:D4h,skipTransform:Y_G.panels[M$P.panel].name != M$P.chart.name,topAxis:z2X,bottomAxis:z2X,opacity:0.3};if(!M$P.highlight && Y_G.highlightedDraggable){q1p.opacity*=0.3;}h8w.fillIntersecting(Y_G,M$P.panel,q1p);}if(M$P.inputs.Histogram){h8w.Studies.createHistogram(Y_G,M$P,h$c,!1,z8I);}if(M$P.inputs.Series !== !({})){h8w.Studies.displaySeriesAsLine(Y_G,M$P,h$c);}else if(!M$P.inputs.Series && !M$P.inputs.Histogram){Y_G.displayErrorAsWatermark(M$P.panel,Y_G.translateIf(M$P.name) + R1f + Y_G.translateIf("Nothing to display"));}};h8w.Studies.studyLibrary=h8w.extend(h8w.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:h8w.Studies.calculateADX,seriesFN:h8w.Studies.displayADX,inputs:{Period:+"14","Smoothing Period":14,Series:!![],Shading:!({}),Histogram:!"1"},outputs:{"+DI":"#00FF00","-DI":F6l,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};N=d6s=>{var G_T=g9BGt;G_T.c7b();var q$M,Z9z,S1l;q$M="unde";q$M+="fine";q$M+="d";Z9z=typeof _CIQ !== q$M?_CIQ:d6s.CIQ;if(!Z9z.Studies){console.error("alligator feature requires first activating studies feature.");}else {S1l="#F";S1l+="F000";S1l+="0";Z9z.Studies.calculateAlligator=function(q5c,K4D){var A4n,K9H,v10,Z$s,X7B,E2f,r78,Z9k,H24,E2D,o2N,Y5U;A4n="Li";A4n+="ps P";A4n+="erio";A4n+="d";K9H={J:Number(K4D.inputs["Jaw Period"]),T:Number(K4D.inputs["Teeth Period"]),L:Number(K4D.inputs[A4n])};v10=K4D.chart.scrubbed;if(v10.length < Math.max(K9H.J,K9H.T,K9H.L) + 1){K4D.error=!!({});return;}if(K4D.type === "Gator" || K4D.inputs["Show Lines"]){Z$s="Li";Z$s+="ps Of";Z$s+="fs";Z$s+="et";X7B="T";X7B+="e";X7B+="et";X7B+="h";E2f="w";E2f+="ell";E2f+="es wilder";Z9z.Studies.MA("welles wilder",K9H.J,"hl/2",K4D.inputs["Jaw Offset"],"Jaw",q5c,K4D);Z9z.Studies.MA(E2f,K9H.T,"hl/2",K4D.inputs["Teeth Offset"],X7B,q5c,K4D);Z9z.Studies.MA("welles wilder",K9H.L,"hl/2",K4D.inputs[Z$s],"Lips",q5c,K4D);}for(var W9A=K4D.startFrom;W9A < v10.length;W9A++){r78="Ga";r78+="t";r78+="o";r78+="r";if(!v10[W9A])continue;if(K4D.type == r78){Z9k="Li";Z9k+="ps";Z9k+=" ";H24=v10[W9A]["Jaw " + K4D.name];E2D=v10[W9A][Z9k + K4D.name];o2N=v10[W9A]["Teeth " + K4D.name];if(o2N || o2N === 0){Y5U="_";Y5U+="h";Y5U+="ist1";if(H24 || H24 === 0){G_T.X$L(7);v10[W9A][K4D.name + Y5U]=Math.abs(G_T.t1w(o2N,H24));}if(E2D || E2D === 0){G_T.O90(7);v10[W9A][K4D.name + "_hist2"]=-Math.abs(G_T.t1w(E2D,o2N));}}K4D.outputMap={};K4D.outputMap[K4D.name + "_hist1"]="";K4D.outputMap[K4D.name + "_hist2"]="";}if(K4D.inputs["Show Fractals"]){if(!v10[W9A - 2] || !v10[W9A - 1] || !v10[W9A] || !v10[W9A + 1] || !v10[W9A + 2])continue;if(v10[W9A - 2].High && v10[W9A - 1].High && v10[W9A].High && v10[W9A + 1].High && v10[W9A + 2].High){if(v10[W9A].High > v10[W9A - 1].High && v10[W9A].High > v10[W9A - 2].High && v10[W9A].High > v10[W9A + ("1" << 32)].High && v10[W9A].High > v10[W9A + 2].High){v10[W9A]["Fractal High " + K4D.name]=1;}}if(v10[W9A - 2].Low && v10[W9A - 1].Low && v10[W9A].Low && v10[W9A + 1].Low && v10[W9A + 2].Low){if(v10[W9A].Low < v10[W9A - 1].Low && v10[W9A].Low < v10[W9A - 2].Low && v10[W9A].Low < v10[W9A + 1].Low && v10[W9A].Low < v10[W9A + 2].Low){v10[W9A]["Fractal Low " + K4D.name]=1;}}}}};Z9z.Studies.displayAlligator=function(W35,S1h,B19){var A_u,Y94,k10,j92;A_u="Show";A_u+=" ";function w_F(Y$v,I6z){var k$R,V8X,T$5,J9G,D_O,i0R,W4I;V8X=W35.chart.panel.yAxis.flipped;G_T.Z_e();if(Y$v == "high"){T$5="to";T$5+="p";Y94.fillStyle=W35.defaultColor;Y94.textBaseline=V8X?T$5:"bottom";k$R=W35.pixelFromPrice(B19[I6z].High);J9G=-1737886423;D_O=-1074584451;i0R=2;for(var q84=+"1";G_T.i7j(q84.toString(),q84.toString().length,"69962" * 1) !== J9G;q84++){Y94.fillText(V8X?(83.79,4240) == (1890,"611" * 1)?(!"","51.79" - 0):(+"5962",7220) < 469?(!({}),!1):"\u25BC":(863.69,1488) <= 5270?"\u25B2":(8.10e+3,"I"),W35.pixelFromBar(k93,W35.chart) - Y94.measureText("\u25B2").width / 2 + 1,V8X?k$R + 5:k$R - 5);;i0R+=2;}if(G_T.i7j(i0R.toString(),i0R.toString().length,63486) !== D_O){Y94.fillText(V8X?(76915,6403) != (+"5272",191)?(!1,49664):(+"1565",+"7532") <= "477" << 32?(!!1,!!({})):"\u25BC":(229714,8864) > 7743?"\u25B2":(2530486,"I"),W35.pixelFromBar(k93,W35.chart) * (Y94.measureText("\u25B2").width * 1) / ("5" * 1),V8X?k$R / ("6" ^ 0):k$R + 1);;}}else if(Y$v == "low"){W4I="bo";W4I+="tt";W4I+="o";W4I+="m";Y94.fillStyle=W35.defaultColor;Y94.textBaseline=V8X?W4I:"top";k$R=W35.pixelFromPrice(B19[I6z].Low);Y94.fillText(V8X?9976 !== (784,8552)?3040 != +"4826"?(3150,3759) < (5050,927.96)?186.49:"\u25B2":"p":![]:("9880" ^ 0,59.9) != +"5970"?"\u25BC":("d",0x1558),W35.pixelFromBar(k93,W35.chart) - Y94.measureText(153.57 <= (8790,"2910" ^ 0)?"\u25BC":("3057" - 0,7826) !== (8162,468.32)?181 != 2660?0x197f:"153.38" * 1:0x74b).width / 2 + 1,V8X?k$R - 5:k$R + 5);;}}G_T.c7b();A_u+="Fr";A_u+="actals";Y94=S1h.getContext(W35);if(S1h.inputs["Show Lines"]){Z9z.Studies.displaySeriesAsLine(W35,S1h,B19);}if(S1h.inputs[A_u]){W35.startClip();Y94.globalAlpha=S1h.underlay?0.3:1;if(!S1h.highlight && W35.highlightedDraggable){Y94.globalAlpha*=0.3;}for(var k93=2;k93 < B19.length - +"2";k93++){if(B19[k93]){k10="h";k10+="igh";j92="F";j92+="racta";j92+="l High ";if(B19[k93][j92 + S1h.name]){w_F(k10,k93);}if(B19[k93]["Fractal Low " + S1h.name]){w_F("low",k93);}}}W35.endClip();}};Z9z.Studies.displayGator=function(a6S,K9T,H6B){var V$K,P_h,z$D,g2l,b7W,D08,H50,F5H,m78;V$K=a6S.panels[K9T.panel];P_h=K9T.getContext(a6S);z$D=K9T.getYAxis(a6S);g2l=a6S.pixelFromPrice(0,V$K,z$D);G_T.O90(7);var R5M=G_T.D8z(1088,1152);b7W=a6S.layout.candleWidth - ("2" << R5M);if(b7W < 2){b7W=+"1";}D08=Z9z.Studies.determineColor(K9T.outputs["Increasing Bar"]);H50=Z9z.Studies.determineColor(K9T.outputs["Decreasing Bar"]);a6S.canvasColor("stx_histogram");if(!K9T.underlay){P_h.globalAlpha=1;}P_h.fillStyle="#CCCCCC";a6S.startClip(K9T.panel);if(!K9T.highlight && a6S.highlightedDraggable){G_T.X$L(7);P_h.globalAlpha*=G_T.t1w(0,"0.3");}for(var r5D=0;r5D < H6B.length;r5D++){F5H=H6B[r5D];G_T.X$L(7);m78=H6B[G_T.D8z(1,r5D)];if(!F5H)continue;for(var X2x=1;X2x <= 2;X2x++){if(!m78){m78=a6S.getPreviousBar(a6S.chart,K9T.name + "_hist" + X2x,r5D);}if(!m78){P_h.fillStyle="#CCCCCC";}else if(Math.abs(m78[K9T.name + "_hist" + X2x]) < Math.abs(F5H[K9T.name + "_hist" + X2x])){P_h.fillStyle=D08;}else if(Math.abs(m78[K9T.name + "_hist" + X2x]) > Math.abs(F5H[K9T.name + "_hist" + X2x])){P_h.fillStyle=H50;}if(F5H.candleWidth){b7W=Math.floor(Math.max(1,F5H.candleWidth - 2));}P_h.fillRect(Math.floor(a6S.pixelFromBar(r5D,V$K.chart) - b7W / 2),Math.floor(g2l),Math.floor(b7W),Math.floor(a6S.pixelFromPrice(F5H[K9T.name + "_hist" + X2x],V$K,z$D) - g2l));}}a6S.endClip();};Z9z.Studies.studyLibrary=Z9z.extend(Z9z.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!"",seriesFN:Z9z.Studies.displayAlligator,calculateFN:Z9z.Studies.calculateAlligator,inputs:{"Show Lines":!!({}),"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":"5" >> 32,"Lips Period":5,"Lips Offset":3,"Show Fractals":!1},outputs:{Jaw:"#0000FF",Teeth:"#FF0000",Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:Z9z.Studies.displayGator,calculateFN:Z9z.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":S1l},centerline:0}});}};S=Q5d=>{var J_y,V3N,Z1x;J_y=typeof _CIQ !== "undefined"?_CIQ:Q5d.CIQ;if(!J_y.Studies){V3N="aroon feature requires firs";V3N+="t act";V3N+="i";V3N+="vating studies feature.";console.error(V3N);}else {Z1x="Aroon";Z1x+=" O";Z1x+="scillator";J_y.Studies.calculateAroon=function(j_b,Y3x){var y05=g9BGt;y05.c7b();var j1s,e$R,z7Q,n7g,a8i,g16,G4$,F$e,q9l,k9P,e3S,J7o,F4x,I5_;j1s=Y3x.chart.scrubbed;if(j1s.length < Y3x.days + 1){Y3x.error=!![];return;}e$R=0;z7Q=0;n7g=null;a8i=null;if(Y3x.startFrom > 0){y05.O90(51);var b1e=y05.D8z(4,75,12,19,3);g16=j1s[Y3x.startFrom - b1e]["_state " + Y3x.name];if(g16){e$R=g16[0];z7Q=g16[1];n7g=g16[2];a8i=g16[3];}}for(var g6v=Y3x.startFrom;g6v < j1s.length;g6v++){F$e="_s";F$e+="t";F$e+="ate";F$e+=" ";q9l="Aroon U";q9l+="p ";k9P=j1s[g6v];if(k9P.futureTick)break;if(n7g === null){n7g=k9P.High;}if(a8i === null){a8i=k9P.Low;}n7g=Math.max(n7g,k9P.High);if(n7g == k9P.High){e$R=0;}else {e$R++;if(e$R > Y3x.days){n7g=k9P.High;e$R=+"0";for(G4$=1;G4$ <= Y3x.days;G4$++){n7g=Math.max(n7g,j1s[g6v - G4$].High);if(n7g == j1s[g6v - G4$].High){e$R=G4$;}}}}a8i=Math.min(a8i,k9P.Low);if(a8i == k9P.Low){z7Q=0;}else {z7Q++;if(z7Q > Y3x.days){a8i=k9P.Low;z7Q=+"0";for(G4$=1;G4$ <= Y3x.days;G4$++){a8i=Math.min(a8i,j1s[g6v - G4$].Low);if(a8i == j1s[g6v - G4$].Low){z7Q=G4$;}}}}e3S=!isNaN(k9P.High);J7o=!isNaN(k9P.Low);y05.X$L(120);var E_u=y05.D8z(117,13,99,9);y05.O90(57);var N_z=y05.t1w(3,1,2);F4x=E_u * (N_z - e$R / Y3x.days);if(e3S){k9P[q9l + Y3x.name]=F4x;}y05.X$L(40);var W1a=y05.t1w(109,2,7);I5_=W1a * (+"1" - z7Q / Y3x.days);if(J7o){k9P["Aroon Down " + Y3x.name]=I5_;}if(e3S && J7o){k9P["Aroon Oscillator " + Y3x.name]=k9P["Aroon Up " + Y3x.name] - k9P["Aroon Down " + Y3x.name];}k9P[F$e + Y3x.name]=[e$R,z7Q,n7g,a8i];}};J_y.Studies.studyLibrary=J_y.extend(J_y.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:J_y.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:Z1x,calculateFN:J_y.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};U=w09=>{var d$o,L4_,L2J,q8N,p2N,e2V;d$o=typeof _CIQ !== "undefined"?_CIQ:w09.CIQ;if(!d$o.Studies){console.error("atr feature requires first activating studies feature.");}else {L4_="#00FF0";L4_+="0";L2J="#";L2J+="FF";L2J+="000";L2J+="0";q8N="s";q8N+="quarewav";q8N+="e";p2N="po";p2N+="i";p2N+="nt";p2N+="s";e2V="a";e2V+="ut";e2V+="o";d$o.Studies.calculateATRBands=function(e48,X40){var K7p,C3j,Y3c;K7p="Cl";K7p+="o";K7p+="s";K7p+="e";C3j="fiel";C3j+="d";d$o.Studies.calculateStudyATR(e48,X40);Y3c=X40.inputs.Field;if(!Y3c || Y3c == C3j){Y3c=K7p;}d$o.Studies.calculateGenericEnvelope(e48,X40,X40.inputs.Shift,Y3c,"ATR " + X40.name);};d$o.Studies.calculateSTARCBands=function(R4h,R4x){var U2U;U2U="MA P";U2U+="eriod";d$o.Studies.calculateStudyATR(R4h,R4x);d$o.Studies.MA("simple",R4x.inputs[U2U],"Close",0,"_MA",R4h,R4x);d$o.Studies.calculateGenericEnvelope(R4h,R4x,R4x.inputs.Multiplier,"_MA " + R4x.name,"ATR " + R4x.name);};d$o.Studies.calculateATRStops=function(P$4,S4Q){var i5T=g9BGt;var j_Z,l1k,s30,n0n,u3K,X4C,g9u,l94,q3w;j_Z="A";j_Z+="ll St";j_Z+="ops ";l1k=S4Q.chart.scrubbed;if(!l1k){return;}d$o.Studies.calculateStudyATR(P$4,S4Q);s30=S4Q.inputs.HighLow;for(var t4B=Math.max(S4Q.startFrom - 1,1);t4B < l1k.length - 1;t4B++){n0n=l1k[t4B];i5T.O90(7);u3K=l1k[i5T.t1w(1,t4B)];X4C=n0n["Buy Stops " + S4Q.name];if(!X4C){X4C=n0n["Sell Stops " + S4Q.name];}if(!X4C){X4C=0;}if(!n0n || !u3K)continue;g9u=n0n.Close;l94=g9u;q3w=n0n["ATR " + S4Q.name] * S4Q.inputs.Multiplier;if(n0n.Close > X4C && u3K.Close > X4C){if(s30){g9u=n0n.High;}i5T.O90(7);l94=Math.max(X4C,i5T.t1w(q3w,g9u));}else if(n0n.Close <= X4C && u3K.Close <= X4C){if(s30){g9u=n0n.Low;}i5T.X$L(1);l94=Math.min(X4C,i5T.D8z(g9u,q3w));}else if(n0n.Close > X4C){if(s30){g9u=n0n.High;}i5T.X$L(7);l94=i5T.t1w(q3w,g9u);}else if(n0n.Close <= X4C){if(s30){g9u=n0n.Low;}i5T.X$L(1);l94=i5T.D8z(g9u,q3w);}if(g9u <= l94){i5T.O90(1);l1k[i5T.D8z(t4B,1)]["Buy Stops " + S4Q.name]=l94;i5T.O90(121);delete l1k[i5T.t1w(t4B,0,"1")]["Sell Stops " + S4Q.name];}else if(g9u > l94){i5T.X$L(1);l1k[i5T.D8z(t4B,1)]["Sell Stops " + S4Q.name]=l94;i5T.X$L(78);delete l1k[i5T.D8z(t4B,"1")]["Buy Stops " + S4Q.name];}i5T.O90(1);l1k[i5T.D8z(t4B,1)]["All Stops " + S4Q.name]=l94;}S4Q.referenceOutput="All Stops";S4Q.outputMap={};S4Q.outputMap[j_Z + S4Q.name]="";};d$o.Studies.studyLibrary=d$o.extend(d$o.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:d$o.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!!({}),seriesFN:d$o.Studies.displayChannel,calculateFN:d$o.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!!1},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":e2V},attributes:{Shift:{min:0.1,step:"0.1" - 0}}},"STARC Bands":{name:"STARC Bands",overlay:!!({}),seriesFN:d$o.Studies.displayChannel,calculateFN:d$o.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!!"1"},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!![],seriesFN:d$o.Studies.displayPSAR2,calculateFN:d$o.Studies.calculateATRStops,inputs:{Period:"21" << 32,Multiplier:+"3","Plot Type":[p2N,q8N],HighLow:![]},outputs:{"Buy Stops":L2J,"Sell Stops":L4_},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};Y=B5N=>{var v6h=g9BGt;var p7P,z_S,N1y;v6h.c7b();p7P=typeof _CIQ !== "undefined"?_CIQ:B5N.CIQ;if(!p7P.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {z_S="#";z_S+="FF0";z_S+="0";z_S+="00";N1y="Aweso";N1y+="me ";N1y+="Oscil";N1y+="lator";p7P.Studies.calculateAwesomeOscillator=function(E$p,m4b){var Y51,z$p,a3o;Y51="hl";Y51+="/";Y51+="2";z$p=m4b.chart.scrubbed;if(z$p.length < 33){m4b.error=!![];return;}v6h.c7b();p7P.Studies.MA("simple",5,Y51,+"0","_MA5",E$p,m4b);p7P.Studies.MA("simple",34,"hl/2",0,"_MA34",E$p,m4b);for(var S5b=Math.max(m4b.startFrom,"33" | 1);S5b < z$p.length;S5b++){a3o="_M";a3o+="A";a3o+="5 ";if(!z$p[S5b])continue;z$p[S5b][m4b.name + "_hist"]=z$p[S5b][a3o + m4b.name] - z$p[S5b]["_MA34 " + m4b.name];}m4b.outputMap={};m4b.outputMap[m4b.name + "_hist"]="";};p7P.Studies.displayAwesomeOscillator=function(W4w,s57,L87){var H2A,f4j,H40,S66,A_y,s6H,n_X,K2u,n$f,a9l,s8l,V30;H2A="stx_hi";H2A+="stogr";H2A+="a";H2A+="m";f4j=W4w.panels[s57.panel];H40=s57.getContext(W4w);S66=s57.getYAxis(W4w);A_y=W4w.pixelFromPrice(0,f4j,S66);v6h.O90(122);var V8o=v6h.t1w(17,10,5,1);s6H=W4w.layout.candleWidth - V8o;if(s6H < 2){s6H=1;}n_X=p7P.Studies.determineColor(s57.outputs["Increasing Bar"]);K2u=p7P.Studies.determineColor(s57.outputs["Decreasing Bar"]);v6h.Z_e();W4w.canvasColor(H2A);if(!s57.underlay){v6h.O90(3);H40.globalAlpha=v6h.D8z(0,"1");}H40.fillStyle="#CCCCCC";W4w.startClip(s57.panel);if(!s57.highlight && W4w.highlightedDraggable){H40.globalAlpha*=0.3;}for(var j9s=0;j9s < L87.length;j9s++){n$f="_his";n$f+="t";a9l="_his";a9l+="t";s8l=L87[j9s];v6h.X$L(7);V30=L87[v6h.t1w(1,j9s)];if(!V30){V30=W4w.getPreviousBar(W4w.chart,s57.name + a9l,j9s);}if(!s8l)continue;if(!V30);else if(V30[s57.name + "_hist"] < s8l[s57.name + "_hist"]){H40.fillStyle=n_X;}else if(V30[s57.name + "_hist"] > s8l[s57.name + n$f]){H40.fillStyle=K2u;}if(s8l.candleWidth){s6H=Math.floor(Math.max(1,s8l.candleWidth - ("2" | 2)));}H40.fillRect(Math.floor(W4w.pixelFromBar(j9s,f4j.chart) - s6H / 2),Math.floor(A_y),Math.floor(s6H),Math.floor(W4w.pixelFromPrice(s8l[s57.name + "_hist"],f4j,S66) - A_y));}W4w.endClip();};p7P.Studies.studyLibrary=p7P.extend(p7P.Studies.studyLibrary,{Awesome:{name:N1y,seriesFN:p7P.Studies.displayAwesomeOscillator,calculateFN:p7P.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":z_S}}});}};E=D1x=>{g9BGt.c7b();var e78,I_Y,s6L,W4x;e78=typeof _CIQ !== "undefined"?_CIQ:D1x.CIQ;if(!e78.Studies){I_Y="bal";I_Y+="anceOfPower feature requires first activating studies feature.";console.error(I_Y);}else {s6L="-";s6L+="1";s6L+=" ";s6L+="to 1";W4x="Bal";W4x+="ance";W4x+=" of Power";e78.Studies.calculateBalanceOfPower=function(G7u,S7G){var x3a,g5F,g0i;x3a="_";x3a+="Ra";x3a+="ti";x3a+="o ";g9BGt.c7b();g5F=S7G.chart.scrubbed;if(g5F.length < S7G.days + 1){S7G.error=!!({});return;}for(var p4H=S7G.startFrom;p4H < g5F.length;p4H++){g0i=g5F[p4H];g0i["_Ratio " + S7G.name]=g0i.Close - g0i.Open;if(g0i.High - g0i.Low !== 0){g0i["_Ratio " + S7G.name]/=g0i.High - g0i.Low;}}e78.Studies.MA(S7G.inputs["Moving Average Type"],S7G.days,x3a + S7G.name,0,"Result",G7u,S7G);};e78.Studies.studyLibrary=e78.extend(e78.Studies.studyLibrary,{"Bal Pwr":{name:W4x,range:s6L,centerline:+"0",calculateFN:e78.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};g=J3R=>{g9BGt.Z_e();var F3A,F7I,B8i,W6J,w1y,J0a;F3A=typeof _CIQ !== "undefined"?_CIQ:J3R.CIQ;if(!F3A.Studies){console.error("bollinger feature requires first activating studies feature.");}else {F7I="m";F7I+="a";B8i="a";B8i+="u";B8i+="t";B8i+="o";W6J="a";W6J+="u";W6J+="t";W6J+="o";w1y="a";w1y+="ut";w1y+="o";J0a="f";J0a+="ie";J0a+="ld";F3A.Studies.calculateBollinger=function(I65,d7F){var x$t,Y4d,T9W,e54,F7$,Z8I,F4l;x$t="%";x$t+="b";Y4d="Bo";Y4d+="ll";Y4d+=" %";Y4d+="b";T9W="_STD De";T9W+="v";T9W+=" ";e54="ST";e54+="D Dev";F7$="_";F7$+="M";F7$+="A";Z8I="Movin";Z8I+="g Aver";Z8I+="age Typ";Z8I+="e";F4l=d7F.inputs.Field;if(!F4l || F4l == "field"){F4l="Close";}F3A.Studies.MA(d7F.inputs[Z8I],d7F.days,F4l,0,F7$,I65,d7F);d7F.std=new F3A.Studies.StudyDescriptor(d7F.name,e54,d7F.panel);d7F.std.chart=d7F.chart;d7F.std.startFrom=d7F.startFrom;d7F.std.days=d7F.days;d7F.std.inputs={Field:F4l,"Standard Deviations":1,Type:d7F.inputs["Moving Average Type"]};d7F.std.outputs={"_STD Dev":null};F3A.Studies.calculateStandardDeviation(I65,d7F.std);F3A.Studies.calculateGenericEnvelope(I65,d7F,d7F.inputs["Standard Deviations"],"_MA " + d7F.name,T9W + d7F.name);if(d7F.type == Y4d){d7F.zoneOutput=x$t;}};F3A.Studies.studyLibrary=F3A.extend(F3A.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!!({}),calculateFN:F3A.Studies.calculateBollinger,seriesFN:F3A.Studies.displayChannel,inputs:{Period:"20" - 0,Field:J0a,"Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!!"1"},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":w1y,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:F3A.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{"%b":W6J},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:100,studyOverBoughtColor:B8i,studyOverSoldValue:+"0",studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:F3A.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":F7I},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};F=j3e=>{var q$V=g9BGt;var X1J,j1n,h_2,p4N,I5T;X1J="undefine";q$V.c7b();X1J+="d";j1n=typeof _CIQ !== X1J?_CIQ:j3e.CIQ;if(!j1n.Studies){console.error("cci feature requires first activating studies feature.");}else {h_2="au";h_2+="to";p4N="a";p4N+="uto";I5T="Commodity Channel Ind";I5T+="ex";j1n.Studies.calculateCCI=function(M4d,o_Z){var B_8,m_m,j9X,d28,W7v;B_8=o_Z.chart.scrubbed;if(B_8.length < o_Z.days + 1){o_Z.error=!![];return;}q$V.c7b();j1n.Studies.MA("simple",o_Z.days,"hlc/3","0" - 0,"MA",M4d,o_Z);for(var G0n=Math.max(o_Z.startFrom,o_Z.days - 1);G0n < B_8.length;G0n++){m_m="Result";m_m+=" ";j9X=B_8[G0n];if(!j9X)continue;d28=0;for(var t_p=0;t_p < o_Z.days;t_p++){W7v="M";W7v+="A";W7v+=" ";d28+=Math.abs(B_8[G0n - t_p]["hlc/3"] - j9X[W7v + o_Z.name]);}d28/=o_Z.days;if(Math.abs(d28) < 0.00000001){q$V.X$L(0);j9X[m_m + o_Z.name]=q$V.D8z("0",0);}else {j9X["Result " + o_Z.name]=(j9X["hlc/3"] - j9X["MA " + o_Z.name]) / (0.015 * d28);}}};j1n.Studies.studyLibrary=j1n.extend(j1n.Studies.studyLibrary,{CCI:{name:I5T,calculateFN:j1n.Studies.calculateCCI,inputs:{Period:+"20"},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:+"100",studyOverBoughtColor:p4N,studyOverSoldValue:-100,studyOverSoldColor:h_2}},attributes:{Period:{min:2}}}});}};K5=X2w=>{var U8F=g9BGt;U8F.c7b();var m8o,C1D,U5k,F_r,m2z,u9U;m8o="undefi";m8o+="ned";C1D=typeof _CIQ !== m8o?_CIQ:X2w.CIQ;if(!C1D.Studies){U5k=1008953462;F_r=1611917202;m2z=2;for(var s0M=1;U8F.i7j(s0M.toString(),s0M.toString().length,50760) !== U5k;s0M++){console.error("");U8F.O90(35);m2z+=U8F.t1w(64,"2");}if(U8F.i7j(m2z.toString(),m2z.toString().length,8640) !== F_r){console.error("");}console.error("centerOfGravity feature requires first activating studies feature.");}else {u9U="f";u9U+="ield";C1D.Studies.calculateCenterOfGravity=function(A5F,u4i){var E31,d1P,m2h,z5C,o2a,Z9W,N4k,d3X,W46;E31="C";E31+="l";E31+="os";E31+="e";d1P=2126679272;m2h=251096074;z5C=2;for(var J1V="1" << 64;U8F.i7j(J1V.toString(),J1V.toString().length,21360) !== d1P;J1V++){o2a=u4i.chart.scrubbed;z5C+=2;}if(U8F.i7j(z5C.toString(),z5C.toString().length,86645) !== m2h){o2a=u4i.chart.scrubbed;}o2a=u4i.chart.scrubbed;if(o2a.length < u4i.days){u4i.error=!![];return;}Z9W=u4i.inputs.Field;if(!Z9W || Z9W == "field"){Z9W=E31;}for(var g2T=Math.max(u4i.startFrom,u4i.days - 1);g2T < o2a.length;g2T++){U8F.O90(7);N4k=U8F.t1w(0,"0");d3X=0;for(var H9r=0;H9r < u4i.days;H9r++){U8F.X$L(7);W46=o2a[U8F.t1w(H9r,g2T)][Z9W];U8F.X$L(123);N4k-=U8F.t1w(1,W46,H9r);d3X+=W46;}if(d3X){U8F.O90(23);o2a[g2T]["Result " + u4i.name]=U8F.t1w(d3X,N4k);}}};C1D.Studies.studyLibrary=C1D.extend(C1D.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:C1D.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:u9U}}});}};z0=Q_A=>{var i9x=g9BGt;var Q9R,W9V,A5U,p5u,i1R;i9x.Z_e();Q9R=typeof _CIQ !== "undefined"?_CIQ:Q_A.CIQ;if(!Q9R.Studies){W9V="chaikin feature req";W9V+="uires ";W9V+="first activating studies feature.";console.error(W9V);}else {Q9R.Studies.calculateChaikinMoneyFlow=function(n_C,W74){var Z1Q,B5K,S7b,F96,m5F,a6R,g2P;Z1Q=W74.chart.scrubbed;if(Z1Q.length < W74.days){W74.error=!!1;return;}i9x.c7b();B5K=0;S7b=0;F96=Z1Q[W74.startFrom - +"1"];if(F96){m5F="_";m5F+="s";m5F+="umV ";if(F96["_sumMF " + W74.name]){B5K=F96["_sumMF " + W74.name];}if(F96[m5F + W74.name]){S7b=F96["_sumV " + W74.name];}}for(var d0r=W74.startFrom;d0r < Z1Q.length;d0r++){a6R="_s";a6R+="umV ";g2P="_";g2P+="MFV ";if(Z1Q[d0r].High == Z1Q[d0r].Low){Z1Q[d0r]["_MFV " + W74.name]=0;}else {i9x.O90(96);var D1G=i9x.D8z(17,6,1328,13);Z1Q[d0r]["_MFV " + W74.name]=Z1Q[d0r].Volume * (D1G * Z1Q[d0r].Close - Z1Q[d0r].High - Z1Q[d0r].Low) / (Z1Q[d0r].High - Z1Q[d0r].Low);}B5K+=Z1Q[d0r][g2P + W74.name];S7b+=Z1Q[d0r].Volume;if(d0r > W74.days - +"1"){B5K-=Z1Q[d0r - W74.days]["_MFV " + W74.name];S7b-=Z1Q[d0r - W74.days].Volume;if(S7b){i9x.X$L(23);Z1Q[d0r]["Result " + W74.name]=i9x.t1w(S7b,B5K);}}Z1Q[d0r]["_sumMF " + W74.name]=B5K;Z1Q[d0r][a6R + W74.name]=S7b;}};Q9R.Studies.calculateChaikinVolatility=function(i3N,B5G){var k$0,I9v,O7V,B6n,s6C,b4m;k$0=B5G.chart.scrubbed;if(k$0.length < B5G.days){B5G.error=!!"1";return;}for(I9v=B5G.startFrom;I9v < k$0.length;I9v++){if(k$0[I9v].futureTick)break;k$0[I9v]["_High-Low " + B5G.name]=k$0[I9v].High - k$0[I9v].Low;}Q9R.Studies.MA(B5G.inputs["Moving Average Type"],B5G.days,"_High-Low " + B5G.name,0,"_MA",i3N,B5G);O7V=B5G.inputs["Rate Of Change"];if(!O7V){O7V=B5G.days;}for(I9v=Math.max(B5G.startFrom,O7V);I9v < k$0.length;I9v++){B6n="_";B6n+="MA";B6n+=" ";s6C="_MA";s6C+=" ";b4m="_";b4m+="M";b4m+="A";b4m+=" ";if(!k$0[I9v - O7V][b4m + B5G.name])continue;if(k$0[I9v].futureTick)break;i9x.X$L(124);var f8q=i9x.t1w(3,4,1,2,8);k$0[I9v]["Result " + B5G.name]=+"100" * (k$0[I9v][s6C + B5G.name] / k$0[I9v - O7V][B6n + B5G.name] - f8q);}};A5U=-837892571;p5u=-287925660;i1R=2;for(var R4M="1" >> 64;i9x.l9L(R4M.toString(),R4M.toString().length,17117) !== A5U;R4M++){Q9R.Studies.studyLibrary=Q9R.extend(Q9R.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:Q9R.Studies.calculateChaikinMoneyFlow,inputs:{Period:"20" | 4}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:Q9R.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});i1R+=2;}if(i9x.l9L(i1R.toString(),i1R.toString().length,6694) !== p5u){Q9R.Studies.studyLibrary=Q9R.extend(Q9R.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:Q9R.Studies.calculateChaikinMoneyFlow,inputs:{Period:40}},"Chaikin Vol":{name:"Chaikin Vol",calculateFN:Q9R.Studies.calculateChaikinVolatility,inputs:{Period:41,"Rate Of Change":3,"Moving Average Type":"Rate Of Change"}}});}}};z$=g41=>{var U4I=g9BGt;U4I.Z_e();var y_X,c2X,I4G,s$T,k1R;y_X="un";y_X+="defined";c2X=typeof _CIQ !== y_X?_CIQ:g41.CIQ;if(!c2X.Studies){console.error("chande feature requires first activating studies feature.");}else {I4G="a";I4G+="u";I4G+="t";I4G+="o";s$T="fie";s$T+="l";s$T+="d";k1R="Ch";k1R+="ande Forecast Oscillat";k1R+="or";c2X.Studies.prettify.variable="vma";c2X.Studies.movingAverage.conversions.vma="variable";c2X.Studies.movingAverage.translations.variable="Variable";c2X.Studies.movingAverage.typeMap.vma="Variable";c2X.Studies.movingAverage.typeMap.variable="Variable";c2X.Studies.calculateChandeForecast=function(B1h,p7i){var B74,Z4K,Z34;B74=p7i.chart.scrubbed;if(B74.length < p7i.days + 1){p7i.error=!![];return;}Z4K=p7i.inputs.Field;if(!Z4K || Z4K == "field"){Z4K="Close";}c2X.Studies.MA("time series",p7i.days,Z4K,"0" * 1,"MA",B1h,p7i);U4I.c7b();for(var D7t=Math.max(1,p7i.startFrom);D7t < B74.length;D7t++){Z34=B74[D7t][Z4K];if(Z34 && typeof Z34 == "object"){Z34=Z34[p7i.subField];}U4I.X$L(125);var m1B=U4I.D8z(2,0,0,17,19);B74[D7t]["Result " + p7i.name]=+"100" * (m1B - B74[D7t]["MA " + p7i.name] / Z34);}};c2X.Studies.calculateChandeMomentum=function(K$I,U$T){var M4Y,E$1,m21,G5$,n47,T1e,G9U,Y6T,z8t,A1t;M4Y=U$T.name;for(var A8E in U$T.outputs){U4I.O90(95);M4Y=U4I.t1w(A8E,M4Y," ");}E$1=U$T.chart.scrubbed;if(E$1.length < U$T.days + 1){U$T.error=!!1;return;}m21=U$T.inputs.Field;if(!m21 || m21 == "field"){m21="Close";}G5$=0;n47=0;T1e=[];for(var X_j=U$T.startFrom - U$T.days + 1;X_j < E$1.length;X_j++){if(X_j < 1)continue;G9U=E$1[X_j][m21];U4I.O90(7);Y6T=E$1[U4I.D8z(1,X_j)][m21];if(G9U && typeof G9U == "object"){G9U=G9U.Close;}if(Y6T && typeof Y6T == "object"){Y6T=Y6T.Close;}if(Y6T === undefined)continue;U4I.O90(7);z8t=U4I.D8z(Y6T,G9U);T1e.push(z8t);G5$+=z8t;n47+=Math.abs(z8t);if(T1e.length == U$T.days){U4I.O90(119);E$1[X_j][M4Y]=U4I.t1w(100,n47,G5$);A1t=T1e.shift();G5$-=A1t;n47-=Math.abs(A1t);}}};c2X.Studies.calculateMovingAverageVariable=function(K4f,I0R){var V8V,M4s,a1J,i_C,X2d,K38,G14,B_T,H1_,i5L,G2U,C8w,U_3,r_h,f46,e09,H3R,r$d;V8V=I0R.inputs.Type;M4s=I0R.chart.scrubbed;U4I.O90(7);var o8H=U4I.t1w(11,13);U4I.X$L(5);var C36=U4I.t1w(0,4,5);a1J=o8H / (I0R.days + C36);i_C=null;X2d=I0R.name;for(var K0i in I0R.outputs){U4I.X$L(95);X2d=U4I.t1w(K0i,X2d,(4969,601.43) == "4040" << 64?!!1:" ");}K38=I0R.inputs.Field;if(!K38 || K38 == "field"){K38="Close";}I0R.cmo=new c2X.Studies.StudyDescriptor(I0R.name,"cmo",I0R.panel);I0R.cmo.chart=I0R.chart;I0R.cmo.days=9;I0R.cmo.inputs={Field:K38};I0R.cmo.startFrom=I0R.startFrom;I0R.cmo.outputs={_CMO:null};c2X.Studies.calculateChandeMomentum(K4f,I0R.cmo);G14=parseInt(I0R.inputs.Offset,10);if(isNaN(G14)){U4I.X$L(18);G14=U4I.t1w("0",64);}G2U=I0R.startFrom;C8w=G14;for(B_T=I0R.startFrom - 1;B_T >= +"0";B_T--){H1_=M4s[B_T][X2d];if(!H1_ && H1_ !== 0)continue;if(i_C === null){i_C=H1_;}if(C8w <= 0)break;C8w--;G2U=B_T;}if(i_C === null){i_C=G2U=+"0";}U_3=[];for(B_T=G2U;B_T < M4s.length;B_T++){r_h=M4s[B_T];H1_=r_h[K38];if(H1_ && typeof H1_ == "object"){H1_=H1_[I0R.subField];}f46=B_T + G14 >= 0 && B_T + G14 < M4s.length;e09=f46?M4s[B_T + G14]:null;if(!H1_ && H1_ !== 0){if(e09){e09[X2d]=null;}else if(B_T + G14 >= M4s.length){i5L={};i5L[X2d]=null;U_3.push(i5L);}continue;}if(!r_h["_CMO " + I0R.name] && r_h["_CMO " + I0R.name] !== 0)continue;U4I.O90(126);var l4O=U4I.D8z(9,19,3,116);H3R=Math.abs(r_h["_CMO " + I0R.name]) / l4O;U4I.X$L(127);r$d=U4I.D8z(a1J,H3R,1,H1_,i_C,H3R,a1J);i_C=r$d;if(B_T < I0R.days){r$d=null;}if(e09){e09[X2d]=r$d;}else if(B_T + G14 >= M4s.length){i5L={};i5L[X2d]=r$d;U_3.push(i5L);}}I0R.appendFutureTicks(K4f,U_3);};c2X.Studies.studyLibrary=c2X.extend(c2X.Studies.studyLibrary,{"Chande Fcst":{name:k1R,calculateFN:c2X.Studies.calculateChandeForecast,inputs:{Period:14,Field:s$T}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:c2X.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:"50" >> 64,studyOverBoughtColor:I4G,studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};w8=a$D=>{var v7V=g9BGt;var z3d,v8t,l3D,t$e,j0G,c8V;z3d=typeof _CIQ !== "undefined"?_CIQ:a$D.CIQ;if(!z3d.Studies){v7V.O90(3);v8t=-v7V.D8z(0,"1027612178");l3D=-575214073;v7V.X$L(0);t$e=v7V.t1w("2",0);for(var n2l="1" * 1;v7V.i7j(n2l.toString(),n2l.toString().length,73594) !== v8t;n2l++){console.error("");t$e+=2;}if(v7V.i7j(t$e.toString(),t$e.toString().length,84551) !== l3D){console.error("");}console.error("choppiness feature requires first activating studies feature.");}else {j0G="a";j0G+="u";j0G+="t";j0G+="o";c8V="Chop";c8V+="piness Index";z3d.Studies.calculateChoppiness=function(o7H,u8M){var t3L,p64,r_p,X5E;z3d.Studies.calculateStudyATR(o7H,u8M);t3L=u8M.chart.scrubbed;if(t3L.length < u8M.days + 1){u8M.error=!!({});return;}for(var D$F=Math.max(u8M.startFrom,u8M.days);D$F < t3L.length;D$F++){p64=t3L[D$F];if(!p64)continue;if(p64.futureTick)break;r_p=v6N(u8M.days,D$F);if(p64["Sum True Range " + u8M.name]){X5E="Resul";X5E+="t ";v7V.X$L(1);var u2u=v7V.D8z(5,95);v7V.X$L(83);var L4J=v7V.t1w(9,12,7,383,16);p64[X5E + u8M.name]=u2u * Math.log(p64["Sum True Range " + u8M.name] / Math.max(0.000001,r_p[L4J] - r_p[0])) / Math.log(u8M.days);}else if(!isNaN(p64)){p64["Result " + u8M.name]=+"0";}}function v6N(F2A,S0Y){var Q8O,n$n;v7V.O90(128);var v4n=v7V.D8z(7,9,3,0);Q8O=Number.MAX_VALUE * v4n;n$n=Number.MAX_VALUE;for(var c5l=S0Y - F2A + 1;c5l <= S0Y;c5l++){if(c5l < +"0")continue;Q8O=Math.max(Q8O,t3L[c5l].High);n$n=Math.min(n$n,t3L[c5l].Low);}return [n$n,Q8O];}};z3d.Studies.studyLibrary=z3d.extend(z3d.Studies.studyLibrary,{Choppiness:{name:c8V,calculateFN:z3d.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:j0G}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};S3=r5i=>{var D2I=g9BGt;var I$o,T_o,l9P,i67,y7s;I$o=541782113;T_o=95791246;l9P=2;for(var q8D=+"1";D2I.l9L(q8D.toString(),q8D.toString().length,57320) !== I$o;q8D++){i67=!_CIQ != ""?_CIQ:r5i.CIQ;l9P+=+"2";}if(D2I.l9L(l9P.toString(),l9P.toString().length,90248) !== T_o){i67=typeof _CIQ !== "undefined"?_CIQ:r5i.CIQ;}D2I.Z_e();if(!i67.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!i67.Studies.initPriceRelative){y7s="comp";y7s+="arisonStudies feature requires firs";y7s+="t activating priceRelative";y7s+=" feature.";console.error(y7s);}else {i67.Studies.calculateCorrelationCoefficient=function(D$N,C6L){var m0T,V1k,V9k,U9I,B8o,l2P,n5c,t$y,U$H,l5L,Q_1,u3A,R2j,p1r,h2i,f4v,z4d,U_Y,I46,T2N,h4W,x30,j1$,s3F;m0T=C6L.chart.scrubbed;V1k=C6L.days;if(m0T.length < V1k + 1){C6L.error=!!({});return;}C6L.compare=C6L.inputs["Compare To"];if(!C6L.compare){C6L.compare=[];C6L.outputs={};C6L.outputMap={};for(var Z1W in D$N.chart.series){V9k=D$N.chart.series[Z1W];if(V9k.parameters.color){U9I="Res";U9I+="ul";U9I+="t";U9I+=" ";B8o="R";B8o+="e";B8o+="sul";B8o+="t ";C6L.compare.push(V9k.display);C6L.outputs["Result " + V9k.display]=V9k.parameters.color;D2I.O90(11);var s2Q=D2I.t1w(6,80070,7277,12,3);D2I.O90(95);var r40=D2I.D8z(25,425,7);D2I.X$L(129);var e5F=D2I.t1w(24120,17,12,12,3469492);D2I.O90(7);var m_q=D2I.t1w(20,2112);D2I.O90(5);var J4Y=D2I.D8z(9640,7242,12);D2I.O90(126);var K6F=D2I.t1w(108,10,3,1810);D2I.X$L(49);var P55=D2I.t1w(3941,3949,3943,2);D2I.O90(39);var m$$=D2I.D8z(905,16,128,5,8);C6L.outputMap[B8o + V9k.display + ((s2Q,r40) <= (e5F,+"743.53")?m_q <= (J4Y,+"1122")?K6F !== +"2917"?705.68:!!"":" ":(P55,m$$)) + C6L.name]=U9I + V9k.display;}}}else {C6L.compare=[C6L.compare];}D2I.c7b();if(!C6L.compare.length){C6L.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var b95=0;b95 < C6L.compare.length;b95++){l2P=0;n5c=0;t$y=0;D2I.X$L(8);U$H=D2I.t1w(1,"0");l5L=0;Q_1=C6L.compare[b95];u3A=0;for(var n6X=C6L.startFrom - V1k;n6X < m0T.length;n6X++){R2j="_te";R2j+="mp";R2j+="s";R2j+=" ";p1r="_t";p1r+="em";p1r+="ps ";h2i="_te";h2i+="m";h2i+="ps ";f4v="obje";f4v+="ct";if(!m0T[n6X])continue;z4d=m0T[n6X][Q_1];if(z4d && typeof z4d == f4v){z4d=z4d.Close;}if(!z4d && z4d !== 0){U_Y="_t";U_Y+="e";U_Y+="mps";U_Y+=" ";if(n6X > 0 && m0T[n6X - 1] && m0T[n6X - 1]["_temps " + C6L.name] && m0T[n6X - 1][U_Y + C6L.name].c){z4d=m0T[n6X - 1]["_temps " + C6L.name].c;}else {z4d=0;}}if(z4d && typeof z4d == "object"){z4d=z4d.Close;}m0T[n6X]["_temps " + C6L.name]={};l2P+=m0T[n6X][h2i + C6L.name].b=m0T[n6X].Close;n5c+=m0T[n6X]["_temps " + C6L.name].c=z4d;t$y+=m0T[n6X]["_temps " + C6L.name].b2=Math.pow(m0T[n6X].Close,"2" ^ 0);U$H+=m0T[n6X][p1r + C6L.name].c2=Math.pow(z4d,2);l5L+=m0T[n6X][R2j + C6L.name].bc=m0T[n6X].Close * z4d;if(u3A >= V1k){I46="_te";I46+="m";I46+="ps ";T2N="_tem";T2N+="p";T2N+="s ";l2P-=m0T[n6X - V1k]["_temps " + C6L.name].b;n5c-=m0T[n6X - V1k]["_temps " + C6L.name].c;t$y-=m0T[n6X - V1k][T2N + C6L.name].b2;U$H-=m0T[n6X - V1k][I46 + C6L.name].c2;l5L-=m0T[n6X - V1k]["_temps " + C6L.name].bc;D2I.X$L(7);var n1F=D2I.t1w(26,28);h4W=t$y / V1k - Math.pow(l2P / V1k,n1F);D2I.O90(7);var d1m=D2I.D8z(3,5);x30=U$H / V1k - Math.pow(n5c / V1k,d1m);D2I.O90(130);var a9k=D2I.t1w(18,4,119,11,5);j1$=l5L / V1k - l2P * n5c / Math.pow(V1k,a9k);s3F=j1$ / Math.sqrt(h4W * x30);D2I.X$L(7);var Q7x=D2I.D8z(14,78);D2I.X$L(7);var P8e=D2I.D8z(37844,47305);m0T[n6X]["Result " + Q_1 + (("1500" << Q7x,236.32) !== (579.94,P8e)?" ":16.84) + C6L.name]=s3F;}u3A++;}}};i67.Studies.calculatePerformance=function(o8V,K5H){var J9w,r5k,p0e,q_X,A3U,Y29;J9w="_M";J9w+="A Base";r5k="C";r5k+="l";r5k+="o";r5k+="se";p0e="C";p0e+="omp";p0e+="ar";p0e+="ison Symbol";q_X=K5H.chart.scrubbed;A3U=K5H.inputs[p0e].toUpperCase();if(!A3U){A3U=K5H.study.inputs["Comparison Symbol"];}if(!K5H.days){K5H.days=K5H.study.inputs.Period;}if(q_X.length < K5H.days + 1){K5H.error=!!"1";return;}i67.Studies.MA("ma",K5H.days,r5k,+"0",J9w,o8V,K5H);i67.Studies.MA("ma",K5H.days,A3U,0,"_MA Comp",o8V,K5H);for(var P3m=K5H.startFrom;P3m < q_X.length;P3m++){Y29=q_X[P3m][A3U];if(Y29 && (Y29.Close || Y29.Close === 0)){Y29=Y29.Close;}q_X[P3m]["Result " + K5H.name]=q_X[P3m].Close / Y29 * (q_X[P3m]["_MA Comp " + K5H.name] / q_X[P3m]["_MA Base " + K5H.name]);}};i67.Studies.calculateBeta=function(m$X,Q94){var J35,h0_,S8D,V6u,c$O,A3B,N9q,b$K,q7Q,U44,G0j,G9E,z7q,f4X,F9H;J35="_";J35+="VAR";h0_="_";h0_+="C";h0_+="OV";h0_+="AR";S8D=Q94.chart.scrubbed;V6u=Q94.inputs["Comparison Symbol"].toUpperCase();if(!V6u){V6u=Q94.study.inputs["Comparison Symbol"];}if(!Q94.days){Q94.days=Q94.study.inputs.Period;}if(S8D.length < Q94.days + 1){Q94.error=!!({});return;}for(var I_v=Math.max(Q94.startFrom,+"1");I_v < S8D.length;I_v++){c$O="_CompChang";c$O+="e ";A3B="_BaseCha";A3B+="nge ";D2I.X$L(50);var W6j=D2I.t1w(11,12);D2I.O90(131);var b3t=D2I.t1w(15,18,21,11,6);S8D[I_v][A3B + Q94.name]=S8D[I_v].Close / S8D[I_v - W6j].Close - b3t;N9q=S8D[I_v][V6u];if(N9q && (N9q.Close || N9q.Close === 0)){N9q=N9q.Close;}D2I.O90(7);b$K=S8D[D2I.D8z(1,I_v)][V6u];if(b$K && (b$K.Close || b$K.Close === 0)){b$K=b$K.Close;}D2I.O90(132);S8D[I_v][c$O + Q94.name]=D2I.t1w(b$K,"1",N9q);}i67.Studies.MA("ma",Q94.days,"_BaseChange " + Q94.name,0,"_MA Base",m$X,Q94);i67.Studies.MA("ma",Q94.days,"_CompChange " + Q94.name,0,"_MA Comp",m$X,Q94);for(I_v=Math.max(Q94.startFrom,Q94.days);I_v < S8D.length;I_v++){q7Q="_VA";q7Q+="R";q7Q+="n";q7Q+=" ";U44="_MA";U44+=" ";U44+="Comp";U44+=" ";G0j="_Comp";G0j+="Chang";G0j+="e";G0j+=" ";G9E="_MA";G9E+=" Base ";z7q="_Base";z7q+="Change";z7q+=" ";S8D[I_v]["_COVARn " + Q94.name]=(S8D[I_v][z7q + Q94.name] - S8D[I_v][G9E + Q94.name]) * (S8D[I_v][G0j + Q94.name] - S8D[I_v][U44 + Q94.name]);S8D[I_v][q7Q + Q94.name]=Math.pow(S8D[I_v]["_CompChange " + Q94.name] - S8D[I_v]["_MA Comp " + Q94.name],2);}i67.Studies.MA("ma",Q94.days,"_COVARn " + Q94.name,0,h0_,m$X,Q94);i67.Studies.MA("ma",Q94.days,"_VARn " + Q94.name,+"0",J35,m$X,Q94);for(I_v=Math.max(Q94.startFrom,Q94.days * 2 - 1);I_v < S8D.length;I_v++){f4X="_C";f4X+="OVAR ";F9H="Re";F9H+="sult ";S8D[I_v][F9H + Q94.name]=S8D[I_v][f4X + Q94.name] / S8D[I_v]["_VAR " + Q94.name];}};i67.Studies.studyLibrary=i67.extend(i67.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:i67.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:+"1",initializeFN:i67.Studies.initPriceRelative,seriesFN:i67.Studies.displayVsComparisonSymbol,calculateFN:i67.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:"#00DD00",Loss:"#FF0000"},deferUpdate:!![]},Beta:{name:"Beta",centerline:1,initializeFN:i67.Studies.initPriceRelative,seriesFN:i67.Studies.displayVsComparisonSymbol,calculateFN:i67.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":"SPY"},deferUpdate:!0}});}};f_=b3g=>{var E5S=g9BGt;E5S.c7b();var w$J;w$J=typeof _CIQ !== "undefined"?_CIQ:b3g.CIQ;if(!w$J.Studies){console.error("coppock feature requires first activating studies feature.");}else {w$J.Studies.calculateCoppock=function(h0p,p6r){var i_H,p5h,H6s,B3R,t_w,k9O,F7Y,C6J;i_H="S";i_H+="hort RoC";p5h=p6r.chart.scrubbed;H6s=p6r.inputs.Field;if(!H6s || H6s == "field"){H6s="Close";}B3R=parseInt(p6r.inputs["Long RoC"],10);if(!B3R){B3R=14;}t_w=parseInt(p6r.inputs[i_H],"10" << 64);if(!t_w){t_w=11;}k9O=p6r.days;if(!k9O){k9O=10;}if(B3R < t_w){return;}if(p5h.length < Math.max(t_w,B3R,k9O) + ("1" | 1)){p6r.error=!![];return;}for(var Y1J=Math.max(p6r.startFrom,B3R);Y1J < p5h.length;Y1J++){E5S.O90(7);F7Y=p5h[E5S.D8z(t_w,Y1J)][H6s];E5S.O90(7);C6J=p5h[E5S.t1w(B3R,Y1J)][H6s];if(F7Y && C6J){E5S.X$L(11);var e2b=E5S.t1w(11,1620,80,20,5);E5S.X$L(5);var K6Y=E5S.t1w(0,16,18);p5h[Y1J]["_Sum " + p6r.name]=e2b * (p5h[Y1J][H6s] / F7Y + p5h[Y1J][H6s] / C6J - K6Y);}}w$J.Studies.MA("weighted",k9O,"_Sum " + p6r.name,0,"Result",h0p,p6r);};w$J.Studies.studyLibrary=w$J.extend(w$J.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:w$J.Studies.calculateCoppock,inputs:{Period:10,Field:"field","Short RoC":11,"Long RoC":14}}});}};M8=x_a=>{var y9H,K60,K28;y9H="und";y9H+="efined";K60=typeof _CIQ !== y9H?_CIQ:x_a.CIQ;if(!K60.Studies){K28="darv";K28+="asBox feature requires first activating studies feature.";console.error(K28);}else {K60.Studies.calculateDarvas=function(F5q,z51){var R$5=g9BGt;var y5G,B49,H1i,m8b,c7p,d7L,Y_R,U_O,Z7q,I$S,r8z,N$C,C8Y,W4o,y55,K6I,E1d,B6K,A72,S9r,D$U,N$i,n8E,p1g,l$l,r2w,U_q,M6R,Y47,H5h,f9W;y5G="G";y5G+="ho";y5G+="s";y5G+="t";B49="Level Offs";B49+="e";B49+="t";H1i="Volume";H1i+=" S";H1i+="pi";H1i+="ke";m8b=z51.chart.scrubbed;c7p=0;d7L=parseInt(z51.inputs["ATH Lookback Period"],+"10");if(z51.inputs[H1i]){Y_R="Vol";Y_R+="u";Y_R+="me";K60.Studies.MA("simple",d7L,Y_R,0,"ADV",F5q,z51);}R$5.O90(133);var j_Y=R$5.t1w(17,97,476,14,6);U_O=parseFloat(z51.inputs["Volume % of Avg"]) / j_Y;Z7q="n";Z7q+="o";Z7q+="n";R$5.Z_e();Z7q+="e";I$S={};r8z=null;N$C=null;C8Y=null;W4o=parseFloat(z51.inputs[B49]);y55=!!"";if(y55){console.log("*****************");}E1d={};["Darvas",y5G,"Profit","Loss","ATH","ADV","Spike"].forEach(function(m1r){R$5.O90(7);var s_I=R$5.D8z(15,5579);R$5.X$L(77);var k$L=R$5.D8z(182,182,2550);R$5.O90(134);var T9g=R$5.t1w(4812,11,3,285,18);R$5.O90(81);var c5t=R$5.D8z(26,9,1026,11);R$5.O90(7);var K0L=R$5.t1w(148176,156408);R$5.O90(38);var w01=R$5.D8z(14,80880,6220);R$5.Z_e();E1d[m1r]=m1r + (s_I <= (k$L,+"98.33")?(!0,![]):(T9g,c5t) === (K0L,260.39)?"B":145.86 === w01?"x":" ") + z51.name;});for(K6I=z51.startFrom - 1;K6I > 0;K6I--){B6K=m8b[K6I];if(B6K[E1d.Darvas] || B6K[E1d.Ghost]){for(var O5f in E1d){B6K[O5f]=null;}}else {c7p=B6K[E1d.ATH] || 0;N$C=B6K[E1d.Profit];C8Y=B6K[E1d.Loss];break;}}for(K6I;K6I < m8b.length;K6I++){A72=m8b[K6I];if(!A72)continue;if(parseFloat(z51.inputs["Price Minimum"]) <= m8b[c7p].Close){S9r="hi";S9r+="g";S9r+="h";if(r8z && (!r8z.End || K6I == r8z.End + 1)){if(m8b[K6I - ("1" << 64)].Close > I$S.High){I$S={State:1,High:2 * I$S.High - I$S.Low,Low:I$S.High,Start:K6I,End:2 * I$S.End - I$S.Start + +"1"};}else {r8z=null;;}if(r8z){A72[E1d.Ghost]=K60.clone(I$S);if(y55){console.log("Ghost begin:" + A72.DT);}I$S.State=0;if(m8b[I$S.End]){D$U="Gh";D$U+="o";D$U+="s";D$U+="t end:";m8b[I$S.End][E1d.Ghost]=K60.clone(I$S);if(y55){console.log(D$U + m8b[I$S.End].DT);}}r8z={Start:I$S.Start,End:I$S.End};N$C=I$S.High + W4o;if(!C8Y || C8Y < I$S.Low - W4o){C8Y=I$S.Low - W4o;}}}A72[E1d.Profit]=N$C;A72[E1d.Loss]=C8Y;if(A72.Close >= N$C){N$C=null;}else if(z51.inputs["Exit Field"] == "high/low" && A72.High >= N$C){N$C=null;}if(Z7q == "none"){if(K6I == c7p + 3){if(!m8b[c7p + 2][E1d.Darvas] && !m8b[c7p + 1][E1d.Darvas] && !m8b[c7p][E1d.Darvas] && m8b[c7p].High > A72.High){Z7q="high";;}}}if(Z7q == S9r){if(A72.High > m8b[c7p].High){Z7q="none";}else if(m8b[K6I - 3].Low < m8b[K6I - 2].Low && m8b[K6I - 3].Low < m8b[K6I - 1].Low && m8b[K6I - 3].Low < A72.Low){N$i="darva";N$i+="s";I$S={State:+"1",High:m8b[c7p].High,Low:m8b[K6I - 3].Low,Start:c7p};m8b[c7p][E1d.Darvas]=K60.clone(I$S);Z7q=N$i;if(y55){console.log("Darvas begin:" + m8b[c7p].DT);}if(y55){console.log("Darvas established:" + A72.DT);}if(r8z){if(r8z.End > K6I && m8b[r8z.Start]){A72[E1d.Ghost]=K60.clone(m8b[r8z.Start][E1d.Ghost]);A72[E1d.Ghost].End=K6I;if(m8b[r8z.End]){delete m8b[r8z.End][E1d.Ghost];if(y55){console.log("Ghost End removed:" + m8b[r8z.End].DT);}}}A72[E1d.Ghost].State=+"0";m8b[r8z.Start][E1d.Ghost].End=K6I;if(y55){console.log("Ghost end:" + A72.DT);}r8z=null;}N$C=I$S.High + W4o;if(!C8Y || C8Y < I$S.Low - W4o){C8Y=I$S.Low - W4o;}}}if(Z7q == "darvas"){n8E="n";n8E+="o";n8E+="n";n8E+="e";p1g="hig";p1g+="h";p1g+="/low";l$l="Exit F";l$l+="ie";l$l+="ld";if(A72.Close > I$S.High){r8z={};}else if(z51.inputs[l$l] == "high/low" && A72.High > I$S.High){r8z={};}else if(A72.Close < I$S.Low){Z7q="none";}else if(z51.inputs["Exit Field"] == p1g && A72.Low < I$S.Low){Z7q="none";}if(r8z){Z7q=n8E;}else if(Z7q == "none"){N$C=null;C8Y=null;}if(!z51.inputs["Ghost Boxes"]){r8z=null;}if(Z7q == "none"){for(var a3w=I$S.Start + 1;a3w < K6I;a3w++){m8b[a3w][E1d.Darvas]=K60.clone(I$S);}I$S.State=0;I$S.End=K6I;A72[E1d.Darvas]=K60.clone(I$S);if(y55){console.log("Darvas end:" + A72.DT);}A72[E1d.ATH]=c7p;continue;}}if(C8Y){r2w="hig";r2w+="h/l";r2w+="ow";U_q="Exit";U_q+=" Fiel";U_q+="d";if(A72.Close < I$S.Low || z51.inputs[U_q] == r2w && A72.Low < I$S.Low){M6R="high";M6R+="/low";if(Z7q == "darvas"){Z7q="none";}if(A72.Close < C8Y || z51.inputs["Exit Field"] == M6R && A72.Low < C8Y){N$C=null;C8Y=null;}if(r8z){Y47="G";Y47+="h";Y47+="o";Y47+="st end:";if(r8z.End > K6I && m8b[r8z.Start]){A72[E1d.Ghost]=K60.clone(m8b[r8z.Start][E1d.Ghost]);A72[E1d.Ghost].End=K6I;if(m8b[r8z.End]){H5h="Gho";H5h+="st End removed:";delete m8b[r8z.End][E1d.Ghost];if(y55){console.log(H5h + m8b[r8z.End].DT);}}}A72[E1d.Ghost].State=0;m8b[r8z.Start][E1d.Ghost].End=K6I;if(y55){console.log(Y47 + A72.DT);}r8z=null;}}}}if(A72.High >= m8b[c7p].High){c7p=K6I;if(y55){console.log("All Time High:" + A72.DT);}}if(K6I < 3 || A72.High >= m8b[K6I - 1].High && A72.High >= m8b[K6I - 2].High && A72.High >= m8b[K6I - 3].High){if(K6I - c7p >= d7L){c7p=K6I;for(var W2n=0;W2n < d7L;W2n++){if(K6I - W2n < "0" - 0)break;if(m8b[K6I - W2n].High > m8b[c7p].High){R$5.O90(7);c7p=R$5.t1w(W2n,K6I);}}if(y55){console.log("All Time High:" + A72.DT);}}}if(z51.inputs["Volume Spike"] && K6I > d7L && K6I == c7p){if(A72[E1d.ADV] * U_O < A72.Volume){f9W="Volum";f9W+="e Spike:";A72[E1d.Spike]=1;if(y55){console.log(f9W + A72.DT);}}}A72[E1d.ATH]=c7p;}};K60.Studies.displayDarvas=function(r7y,u9Q,Q$B){var H9M=g9BGt;var E2Y,o8J,t4g,U_9,k00,m4I,Z2P,R2M,j8b,O0f,m_n,b6S,u4N,w4D,I6S,G7O,q3V,G0U,r37,Q_u,W6b,m5q,d2c,R$M,l3R,c8I,e98,q$u,W3u,r6j,F_2,u4C,L2l,s3o,P8F;E2Y="a";E2Y+="ut";E2Y+="o";o8J=K60.Studies.determineColor(u9Q.outputs.Levels);H9M.c7b();if(!o8J || o8J == E2Y || K60.isTransparent(o8J)){o8J=r7y.defaultColor;}t4g=K60.Studies.determineColor(u9Q.outputs.Darvas);if(!t4g || t4g == "auto" || K60.isTransparent(t4g)){t4g=r7y.defaultColor;}U_9=K60.Studies.determineColor(u9Q.outputs.Ghost);if(!U_9 || U_9 == "auto" || K60.isTransparent(U_9)){U_9=r7y.defaultColor;}k00=r7y.panels[u9Q.panel];m4I=u9Q.getContext(r7y);H9M.X$L(135);var q7f=H9M.D8z(11,9,14,8);m_n=r7y.layout.candleWidth - q7f;if(m_n < 2){m_n=1;}r7y.startClip(u9Q.panel);if(u9Q.inputs["Stop Levels"]){if(m4I.setLineDash){m4I.setLineDash([2,2]);}H9M.X$L(7);m4I.lineWidth=H9M.D8z(0,"2");m4I.strokeStyle=o8J;m4I.beginPath();for(Z2P=0;Z2P < Q$B.length;Z2P++){b6S="Lo";b6S+="ss";b6S+=" ";R2M=Q$B[Z2P];H9M.X$L(7);u4N=Q$B[H9M.D8z(1,Z2P)];if(!R2M)continue;O0f=R2M["Loss " + u9Q.name]?Math.floor(r7y.pixelFromPrice(R2M["Loss " + u9Q.name],k00)):null;w4D=u4N && u4N[b6S + u9Q.name]?Math.floor(r7y.pixelFromPrice(u4N["Loss " + u9Q.name],k00)):null;if(O0f){if(R2M.candleWidth){m_n=Math.floor(Math.max(1,R2M.candleWidth));}I6S=Math.floor(r7y.pixelFromBar(Z2P,k00.chart) + m_n / 2);G7O=Math.floor(r7y.pixelFromBar(Z2P,k00.chart) - m_n / 2);if(w4D && w4D >= O0f){m4I.lineTo(G7O,O0f);}else if(Z2P === 0){m4I.moveTo(r7y.chart.left,O0f);}else {m4I.moveTo(G7O,O0f);}m4I.lineTo(I6S,O0f);}}m4I.stroke();if(m4I.setLineDash){m4I.setLineDash([]);}m4I.lineWidth=1;}q3V=-10;r37=0;W6b=-10;d2c=0;l3R=!"1";c8I=!1;H9M.X$L(77);var a8J=H9M.D8z(32,32,1);e98=m4I.measureText("\u25B2").width / a8J;q$u=0;for(Z2P="0" >> 64;Z2P < Q$B.length;Z2P++){if(!Q$B[Z2P])continue;if(Q$B[Z2P].Close || Q$B[Z2P].Close === 0){q$u=Z2P;}if(Q$B[Z2P]["Spike " + u9Q.name]){m4I.fillStyle=t4g;m4I.textBaseline="bottom";W3u=r7y.pixelFromPrice(Q$B[Z2P].High,r7y.chart.panel);m4I.fillText(8558 == 8130?0xd03:7222 == (6.02,2830)?"679.04" * 1:"\u25BC",r7y.pixelFromBar(Z2P) - e98,W3u - ("5" << 64));;}if(Q$B[Z2P].candleWidth){m_n=Math.floor(Math.max(1,Q$B[Z2P].candleWidth));}if(Q$B[Z2P]["Darvas " + u9Q.name]){R2M=Q$B[Z2P]["Darvas " + u9Q.name];if(R2M.State == 1 && !l3R){q3V=Math.floor(r7y.pixelFromBar(Z2P,k00.chart) - m_n / 2);G0U=Math.floor(r7y.pixelFromPrice(R2M.High,k00));Q_u=Math.floor(r7y.pixelFromPrice(R2M.Low,k00)) - G0U;l3R=!0;}else if(R2M.State === ("0" | 0)){H9M.X$L(7);var g3h=H9M.D8z(8,10);r37=Math.floor(r7y.pixelFromBar(Z2P,k00.chart) + m_n / g3h) - q3V;G0U=Math.floor(r7y.pixelFromPrice(R2M.High,k00));Q_u=Math.floor(r7y.pixelFromPrice(R2M.Low,k00)) - G0U;m4I.strokeStyle=t4g;m4I.fillStyle=t4g;if(!u9Q.inputs["Stop Levels"]){m4I.strokeRect(q3V,G0U,r37,Q_u);m4I.globalAlpha=0.2;}else {m4I.globalAlpha=0.3;}m4I.fillRect(q3V,G0U,r37,Q_u);H9M.X$L(3);m4I.globalAlpha=H9M.D8z(0,"1");l3R=![];}}if(Q$B[Z2P]["Ghost " + u9Q.name] && u9Q.inputs["Ghost Boxes"]){R2M=Q$B[Z2P]["Ghost " + u9Q.name];if(R2M.State == 1 && !c8I){W6b=Math.floor(r7y.pixelFromBar(Z2P,k00.chart) - m_n / 2);m5q=Math.floor(r7y.pixelFromPrice(R2M.High,k00));d2c=Math.floor((R2M.End - R2M.Start + ("1" >> 0)) * r7y.layout.candleWidth + m_n / +"2");R$M=Math.floor(r7y.pixelFromPrice(R2M.Low,k00)) - m5q;c8I=!"";}else if(R2M.State === 0){if(R2M.Start == R2M.End){W6b=Math.floor(r7y.pixelFromBar(Z2P,k00.chart) - m_n / 2);}H9M.X$L(60);var Z87=H9M.t1w(56,18,3);d2c=Math.floor(r7y.pixelFromBar(Z2P,k00.chart) + m_n / Z87) - W6b;m5q=Math.floor(r7y.pixelFromPrice(R2M.High,k00));R$M=Math.floor(r7y.pixelFromPrice(R2M.Low,k00)) - m5q;m4I.strokeStyle=U_9;m4I.fillStyle=U_9;if(!u9Q.inputs["Stop Levels"]){m4I.strokeRect(W6b,m5q,d2c,R$M);m4I.globalAlpha=0.2;}else {m4I.globalAlpha=+"0.3";}m4I.fillRect(W6b,m5q,d2c,R$M);m4I.globalAlpha=1;c8I=![];}}}if(l3R){r6j="Stop Le";r6j+="vels";H9M.O90(31);var M_V=H9M.t1w(16,14,8,4);r37=Math.floor(r7y.pixelFromBar(q$u,k00.chart) + m_n / M_V) - q3V;m4I.strokeStyle=t4g;m4I.fillStyle=t4g;if(!u9Q.inputs[r6j]){m4I.beginPath();H9M.X$L(97);m4I.moveTo(H9M.D8z(r37,2,q3V),G0U);m4I.lineTo(q3V,G0U);H9M.O90(1);m4I.lineTo(q3V,H9M.D8z(G0U,Q_u));H9M.X$L(97);m4I.lineTo(H9M.t1w(r37,2,q3V),H9M.t1w(G0U,Q_u,H9M.X$L(1)));m4I.stroke();m4I.globalAlpha=0.2;}else {m4I.globalAlpha=0.3;}H9M.O90(8);m4I.fillRect(q3V,G0U,H9M.D8z(r37,2),Q_u);m4I.globalAlpha=1;}if(c8I){F_2="Stop ";F_2+="Le";F_2+="vels";m4I.strokeStyle=U_9;m4I.fillStyle=U_9;if(!u9Q.inputs[F_2]){m4I.strokeRect(W6b,m5q,d2c,R$M);m4I.globalAlpha=0.2;}else {u4C=-604453010;L2l=1686758307;H9M.X$L(0);s3o=H9M.D8z("2",0);for(var h2y=1;H9M.i7j(h2y.toString(),h2y.toString().length,62226) !== u4C;h2y++){m4I.globalAlpha=+"0.3";s3o+=2;}if(H9M.l9L(s3o.toString(),s3o.toString().length,68748) !== L2l){m4I.globalAlpha=502;}}m4I.fillRect(W6b,m5q,d2c,R$M);m4I.globalAlpha=1;}if(l3R || c8I){if(u9Q.inputs["Stop Levels"]){if(m4I.setLineDash){m4I.setLineDash([2,2]);}H9M.O90(8);m4I.lineWidth=H9M.D8z(1,"2");m4I.strokeStyle=o8J;P8F=Math.floor(r7y.pixelFromBar(q$u - 1,k00.chart) + m_n / 2);if(j8b){m4I.beginPath();m4I.moveTo(P8F,j8b);m4I.lineTo(l3R?q3V + 2 * r37:W6b + d2c,j8b);m4I.stroke();}if(O0f){m4I.beginPath();m4I.moveTo(P8F,O0f);m4I.lineTo(l3R?q3V + 2 * r37:W6b + d2c,O0f);m4I.stroke();}if(m4I.setLineDash){m4I.setLineDash([]);}m4I.lineWidth=1;}l3R=!"1";c8I=!"1";}r7y.endClip();};K60.Studies.studyLibrary=K60.extend(K60.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!!({}),calculateFN:K60.Studies.calculateDarvas,seriesFN:K60.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":!![],"Stop Levels":!({}),"Level Offset":+"0.01","Price Minimum":5,"Volume Spike":!({}),"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:"auto"},customRemoval:!!({}),attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:!!"1"},panelName:{hidden:!""},flippedEnabled:{hidden:!0}}}});}};q3=c_S=>{var R7e=g9BGt;var o58,i14,t2o;o58=typeof _CIQ !== "undefined"?_CIQ:c_S.CIQ;R7e.c7b();if(!o58.Studies){i14="detrended feat";i14+="ure requires first activating st";i14+="udies";i14+=" feature.";console.error(i14);}else {t2o="Detrended Price";t2o+=" Osci";t2o+="llator";o58.Studies.calculateDetrendedPrice=function(z3l,m63){var O1k,j4U,R9U,i1e,f0x,V8L,V7X,m2q;O1k="M";O1k+="A";j4U="Moving";j4U+=" A";j4U+="verag";j4U+="e Type";R9U=m63.chart.scrubbed;if(R9U.length < m63.days + 1){m63.error=!![];return;}i1e=m63.inputs.Field;R7e.c7b();if(!i1e || i1e == "field"){i1e="Close";}f0x=Math.floor(m63.days / 2 + 1);o58.Studies.MA(m63.inputs[j4U],m63.days,i1e,-f0x,O1k,z3l,m63);for(var K1Z=Math.max(m63.days - f0x - 1,m63.startFrom - f0x);K1Z < R9U.length - f0x;K1Z++){V8L="o";V8L+="bj";V8L+="ec";V8L+="t";if(K1Z < "0" >> 32)continue;V7X=R9U[K1Z][i1e];if(V7X && typeof V7X == V8L){V7X=V7X[m63.subField];}m2q=R9U[K1Z]["MA " + m63.name];if((V7X || V7X === 0) && (m2q || m2q === 0)){R7e.X$L(7);R9U[K1Z]["Result " + m63.name]=R7e.D8z(m2q,V7X);}}};o58.Studies.studyLibrary=o58.extend(o58.Studies.studyLibrary,{Detrended:{name:t2o,calculateFN:o58.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};c7=M1S=>{var J16;J16=typeof _CIQ !== "undefined"?_CIQ:M1S.CIQ;if(!J16.Studies){console.error("disparity feature requires first activating studies feature.");}else {J16.Studies.calculateDisparity=function(F7i,l0D){var W4c=g9BGt;var F8a,i1z,z0C,e8P,d3G;F8a="M";F8a+="o";W4c.c7b();F8a+="ving Av";F8a+="erage Type";i1z="Clo";i1z+="s";i1z+="e";z0C=l0D.chart.scrubbed;if(z0C.length < l0D.days + ("1" - 0)){l0D.error=!![];return;}e8P=l0D.inputs.Field;if(!e8P || e8P == "field"){e8P=i1z;}J16.Studies.MA(l0D.inputs[F8a],l0D.days,e8P,0,"_MA",F7i,l0D);for(var P8m=Math.max(l0D.startFrom,l0D.days - 1);P8m < z0C.length;P8m++){if(!z0C[P8m])continue;d3G=z0C[P8m]["_MA " + l0D.name];if(d3G){W4c.X$L(120);var V7b=W4c.D8z(83,1,99,83);W4c.X$L(1);var h$L=W4c.D8z(0,1);z0C[P8m]["Result " + l0D.name]=V7b * (z0C[P8m][e8P] / d3G - h$L);}}};J16.Studies.studyLibrary=J16.extend(J16.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:J16.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};w2=E8U=>{var f5W;f5W=typeof _CIQ !== "undefined"?_CIQ:E8U.CIQ;if(!f5W.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {f5W.Studies.calculateEaseOfMovement=function(K0$,v_B){var d3e=g9BGt;var W84,e6j,N8l,b5D,i7W,C8p,U22;d3e.Z_e();W84="_EOM1";W84+=" ";e6j=v_B.chart.scrubbed;if(e6j.length < v_B.days){v_B.error=!!"1";return;}for(var A8M=Math.max(1,v_B.startFrom);A8M < e6j.length;A8M++){d3e.X$L(128);var o_O=d3e.t1w(53,20,3,38);N8l=(e6j[A8M].High + e6j[A8M].Low) / o_O;d3e.O90(42);var f6Y=d3e.D8z(3,15,19,8,10);d3e.O90(57);var A$G=d3e.D8z(30,2,13);b5D=(e6j[A8M - f6Y].High + e6j[A8M - +"1"].Low) / A$G;d3e.O90(7);i7W=d3e.D8z(b5D,N8l);d3e.X$L(7);var u6t=d3e.D8z(9,100000009);C8p=e6j[A8M].Volume / u6t / (e6j[A8M].High - e6j[A8M].Low);d3e.O90(23);U22=d3e.D8z(C8p,i7W);if(!isFinite(U22)){e6j[A8M]["_EOM1 " + v_B.name]=NaN;}else {e6j[A8M]["_EOM1 " + v_B.name]=U22;}}f5W.Studies.MA(v_B.inputs["Moving Average Type"],v_B.days,W84 + v_B.name,"0" << 0,"Result",K0$,v_B);};f5W.Studies.studyLibrary=f5W.extend(f5W.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:f5W.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};J9=c8_=>{var h2h=g9BGt;h2h.Z_e();var M70,E6F,K0f,z_P,q9C,y$k;M70=typeof _CIQ !== "undefined"?_CIQ:c8_.CIQ;if(!M70.Studies){E6F=-2131470899;K0f=499060521;z_P=2;for(var V2G=1;h2h.i7j(V2G.toString(),V2G.toString().length,+"16190") !== E6F;V2G++){console.error("");h2h.X$L(3);z_P+=h2h.D8z(0,"2");}if(h2h.l9L(z_P.toString(),z_P.toString().length,77447) !== K0f){console.error("ehlerFisher feature requires first activating studies feature.");}}else {q9C="#F";q9C+="F00";q9C+="0";q9C+="0";y$k="Ehler";y$k+=" Fisher Tra";y$k+="nsform";M70.Studies.calculateEhlerFisher=function(T2x,N5E){h2h.c7b();var W_j,V3n,C5v,p_1,A4x,m86,X3n;W_j=N5E.chart.scrubbed;function n56(d3m,o5s){var A7H,r5R,i1_;A7H=Number.MAX_VALUE;h2h.O90(136);h2h.Z_e();var k73=h2h.t1w(16,26,0,10);r5R=Number.MAX_VALUE * k73;for(var y3U=o5s - d3m + 1;y3U <= o5s;y3U++){h2h.O90(31);var v7S=h2h.t1w(13,21,4,9);i1_=(W_j[y3U].High + W_j[y3U].Low) / v7S;A7H=Math.min(A7H,i1_);r5R=Math.max(r5R,i1_);}return [A7H,r5R];}if(W_j.length < N5E.days + 1){N5E.error=!!1;return;}V3n=0;if(N5E.startFrom > "1" - 0){h2h.X$L(137);var T9I=h2h.D8z(2,10,5,2,0);V3n=W_j[N5E.startFrom - T9I]["_n " + N5E.name];}for(var V$4=N5E.startFrom;V$4 < W_j.length;V$4++){C5v="EF Tr";C5v+="i";C5v+="gger ";p_1="E";p_1+="F";p_1+=" ";A4x=W_j[V$4];if(A4x.futureTick)break;if(V$4 < N5E.days - 1){A4x["EF " + N5E.name]=A4x["EF Trigger " + N5E.name]=V3n;continue;}m86=n56(N5E.days,V$4);h2h.X$L(1);var j3w=h2h.D8z(1,1);h2h.X$L(138);var c$W=h2h.t1w(8,1,2,12,16);h2h.X$L(138);var s7Z=h2h.t1w(0,1,5,11,5);V3n=("0.33" - 0) * j3w * (((W_j[V$4].High + W_j[V$4].Low) / c$W - m86[+"0"]) / Math.max(0.000001,m86[s7Z] - m86[0]) - 0.5) + 0.67 * V3n;if(V3n > 0){V3n=Math.min(V3n,0.9999);}else if(V3n < 0){V3n=Math.max(V3n,-+"0.9999");}X3n=V$4?W_j[V$4 - 1]["EF " + N5E.name]:"0" >> 0;h2h.X$L(5);var U6f=h2h.t1w(16,32,17);h2h.X$L(7);var K0S=h2h.t1w(8,9);A4x[p_1 + N5E.name]=0.5 * Math.log((U6f + V3n) / ("1" * K0S - V3n)) + ("0.5" - 0) * X3n;A4x[C5v + N5E.name]=X3n;A4x["_n " + N5E.name]=V3n;}};M70.Studies.studyLibrary=M70.extend(M70.Studies.studyLibrary,{"Ehler Fisher":{name:y$k,calculateFN:M70.Studies.calculateEhlerFisher,inputs:{Period:+"10"},outputs:{EF:"auto","EF Trigger":q9C}}});}};r7=M6P=>{var m_Z,v_x,b1P;m_Z="un";m_Z+="defined";v_x=typeof _CIQ !== m_Z?_CIQ:M6P.CIQ;if(!v_x.Studies){console.error("elder feature requires first activating studies feature.");}else {b1P="#DD";b1P+="3";b1P+="E3";b1P+="9";v_x.Studies.calculateElderImpulse=function(h$i,D9g){var Y9y=g9BGt;var j7B,L3F,M$o,l9z,z9_,h6q,M9T,p3B,b65,e34,k6A;j7B="Cl";j7B+="ose";L3F=D9g.chart.scrubbed;M$o=D9g.outputs.Bullish;l9z=D9g.outputs.Bearish;z9_=D9g.outputs.Neutral;Y9y.O90(18);v_x.Studies.MA("exponential",Y9y.t1w("13",64),j7B,0,"_MA",h$i,D9g);Y9y.X$L(22);var A45=Y9y.t1w(7,112924,11,6,104882);Y9y.O90(113);var N8F=Y9y.t1w(6,3,322,4495);Y9y.O90(20);var H8W=Y9y.D8z(17,28628,2,12647);Y9y.O90(67);var k2D=Y9y.D8z(2047,11,670,4);Y9y.O90(9);var e$L=Y9y.t1w(8254,8,634);Y9y.O90(5);var q4v=Y9y.t1w(50136,43881,12);D9g.macd=new v_x.Studies.StudyDescriptor((A45 == N8F?(H8W,"8005" - 0) <= (k2D,+"1462")?!!1:+"696.38" >= 44.25?(e$L,q4v):(![],325.45):"_") + D9g.name,"macd",D9g.panel);D9g.macd.chart=D9g.chart;D9g.macd.days=D9g.days;D9g.macd.startFrom=D9g.startFrom;D9g.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};D9g.macd.outputs={_MACD:null,_Signal:null};v_x.Studies.calculateMACD(h$i,D9g.macd);for(var r$R=D9g.startFrom;r$R < L3F.length;r$R++){M9T="_h";M9T+="is";M9T+="t";p3B="_";p3B+="his";p3B+="t";b65="_";b65+="M";b65+="A";b65+=" ";e34="_";e34+="M";e34+="A";e34+=" ";k6A="_";k6A+="M";k6A+="A";k6A+=" ";if(r$R === 0){h6q=z9_;}else if(L3F[r$R][k6A + D9g.name] > L3F[r$R - 1][e34 + D9g.name] && L3F[r$R][((3980,6520) >= 194.1?"_":6.14e+3) + D9g.name + "_hist"] > L3F[r$R - 1][((176.42,784.36) <= 854.09?(+"497.04",754) < 113?0x154:"_":(!"1",8.06e+3)) + D9g.name + "_hist"]){h6q=M$o;}else if(L3F[r$R][b65 + D9g.name] < L3F[r$R - 1]["_MA " + D9g.name] && L3F[r$R][(("2330" ^ 0,9373) !== 5782?"_":(355.57,8596) != (2450,9760)?(178.74,237.04) != (282.8,1020)?3.49e+3:+"0x163d":(729.11,980)) + D9g.name + p3B] < L3F[r$R - 1][(490.88 > (91.47,532.59)?7.21e+3:"_") + D9g.name + M9T]){h6q=l9z;}else {h6q=z9_;}L3F[r$R]["Result " + D9g.name]=h6q;;}};v_x.Studies.calculateElderRay=function(A0e,B2h){var g8s,f1O,l$j,N67;g8s="_";g8s+="E";g8s+="M";g8s+="A";f1O="ex";f1O+="ponential";l$j=B2h.chart.scrubbed;g9BGt.Z_e();if(l$j.length < B2h.days){B2h.error=!!({});return;}v_x.Studies.MA(f1O,B2h.days,"Close",0,g8s,A0e,B2h);for(var X_c=Math.max(B2h.startFrom,B2h.days - 1);X_c < l$j.length;X_c++){N67="_";N67+="EM";N67+="A";N67+=" ";l$j[X_c][B2h.name + "_hist1"]=l$j[X_c].High - l$j[X_c]["_EMA " + B2h.name];l$j[X_c][B2h.name + "_hist2"]=l$j[X_c].Low - l$j[X_c][N67 + B2h.name];}B2h.outputMap={};B2h.outputMap[B2h.name + "_hist1"]="";B2h.outputMap[B2h.name + "_hist2"]="";};v_x.Studies.calculateElderForce=function(J5T,a8m){var S5U,S1v,a1D;S5U="Res";g9BGt.c7b();S5U+="u";S5U+="l";S5U+="t";S1v="exponent";S1v+="i";S1v+="al";a1D=a8m.chart.scrubbed;if(a1D.length < a8m.days){a8m.error=!!({});return;}for(var x03=Math.max(1,a8m.startFrom);x03 < a1D.length;x03++){g9BGt.O90(7);var I6Y=g9BGt.t1w(14,15);a1D[x03]["_EF1 " + a8m.name]=a1D[x03].Volume * (a1D[x03].Close - a1D[x03 - I6Y].Close);}v_x.Studies.MA(S1v,a8m.days,"_EF1 " + a8m.name,0,S5U,J5T,a8m);};v_x.Studies.initElderImpulse=function(T6G,F5D,D8n,B9n,A$J,B5M){var q6k,V5V;q6k="colored";q6k+="_";q6k+="bar";V5V=v_x.Studies.initializeFN(T6G,F5D,D8n,B9n,A$J,B5M);if(A$J.calculateOnly){return V5V;}T6G.chart.customChart={chartType:q6k,colorFunction:function(c99,a$G,u9j){var Y76;Y76=a$G["Result " + V5V.name];if(Y76 && typeof Y76 == "object"){Y76=Y76.color;}return Y76;}};T6G.setMainSeriesRenderer();g9BGt.Z_e();return V5V;};v_x.Studies.displayElderForce=function(H_X,u2i,j4N){var A_t,o1a,t0$,h8v;v_x.Studies.displaySeriesAsLine(H_X,u2i,j4N);A_t=v_x.Studies.determineColor(u2i.outputs.Result);o1a=H_X.panels[u2i.panel];t0$=u2i.getYAxis(H_X);h8v={skipTransform:o1a.name != u2i.chart.name,panelName:u2i.panel,band:"Result " + u2i.name,threshold:0,color:A_t,yAxis:t0$};if(!u2i.highlight && H_X.highlightedDraggable){h8v.opacity=0.3;}h8v.direction=1;v_x.preparePeakValleyFill(H_X,h8v);h8v.direction=-+"1";g9BGt.Z_e();v_x.preparePeakValleyFill(H_X,h8v);};v_x.Studies.displayElderRay=function(J7B,C5K,l7Y){var M7J=g9BGt;var i8E,x4F,Z8r,F1J,n0o,d0_,t6o,q9U,Z8O;i8E="st";i8E+="x_h";i8E+="istogram";x4F=J7B.panels[C5K.panel];Z8r=C5K.getContext(J7B);F1J=C5K.getYAxis(J7B);n0o=J7B.pixelFromPrice(0,x4F,F1J);M7J.X$L(139);var j_1=M7J.D8z(19,36,16);d0_=J7B.layout.candleWidth - "2" * j_1;if(d0_ < ("2" | 2)){d0_=1;}J7B.canvasColor(i8E);t6o=Z8r.fillStyle;if(!C5K.underlay){Z8r.globalAlpha=1;}function o0Y(w1d,W5n,u2b,k5R){M7J.c7b();Z8r.fillStyle=v_x.Studies.determineColor(C5K.outputs[u2b]);Z8r.fillRect(Math.floor(J7B.pixelFromBar(w1d,x4F.chart) - d0_ / ("2" * 1) + d0_ * W5n),Math.floor(n0o),Math.floor(d0_ * (1 - +"2" * W5n)),Math.floor(J7B.pixelFromPrice(Z8O[C5K.name + k5R],x4F,F1J) - n0o));}J7B.startClip(C5K.panel);if(!C5K.highlight && J7B.highlightedDraggable){Z8r.globalAlpha*=0.3;}for(var n8c=0;n8c < l7Y.length;n8c++){q9U="_hist";q9U+="1";Z8O=l7Y[n8c];if(!Z8O)continue;if(Z8O.candleWidth){d0_=Math.floor(Math.max(1,Z8O.candleWidth - +"2"));}if(Z8O[C5K.name + q9U] > 0){M7J.X$L(18);o0Y(n8c,M7J.D8z("0",32),"Elder Bull Power","_hist1");}if(Z8O[C5K.name + "_hist2"] < +"0"){o0Y(n8c,0,"Elder Bear Power","_hist2");}if(Z8O[C5K.name + "_hist1"] < 0){o0Y(n8c,0.1,"Elder Bull Power","_hist1");}if(Z8O[C5K.name + "_hist2"] > 0){o0Y(n8c,0.1,"Elder Bear Power","_hist2");}}J7B.endClip();Z8r.fillStyle=t6o;};v_x.Studies.studyLibrary=v_x.extend(v_x.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:v_x.Studies.calculateElderForce,seriesFN:v_x.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:v_x.Studies.displayElderRay,calculateFN:v_x.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:v_x.Studies.calculateElderImpulse,initializeFN:v_x.Studies.initElderImpulse,seriesFN:null,customRemoval:!!({}),underlay:!!({}),inputs:{},outputs:{Bullish:"#8BC176",Bearish:b1P,Neutral:"#5F7CB8"},removeFN:function(h7D,z6R){h7D.chart.customChart=null;h7D.setMainSeriesRenderer();}}});}};N0=V8x=>{var d9x,l0L;d9x="undefin";d9x+="ed";l0L=typeof _CIQ !== d9x?_CIQ:V8x.CIQ;if(!l0L.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {l0L.Studies.calculateFractalChaos=function(a9z,m_h){var m1h=g9BGt;var u62,P$A,b5l,j_j,x3p,D52,q1J,W1w,u4h;u62=m_h.chart.scrubbed;P$A=0;m1h.X$L(35);b5l=m1h.D8z(0,"0");m1h.Z_e();j_j=0;if(m_h.startFrom && m_h.type == "Fractal Chaos Bands"){x3p="Fractal L";x3p+="o";x3p+="w ";D52="Fractal ";D52+="H";D52+="igh ";m1h.O90(31);var T0I=m1h.D8z(3,8,4,3);P$A=u62[m_h.startFrom - T0I][D52 + m_h.name];m1h.O90(140);var u2a=m1h.D8z(13,2,12,155);b5l=u62[m_h.startFrom - u2a][x3p + m_h.name];}for(var F1V=Math.max(4,m_h.startFrom);F1V < u62.length;F1V++){if(u62[F1V].futureTick)break;q1J=!isNaN(u62[F1V].High);W1w=!isNaN(u62[F1V].Low);if(q1J || W1w){u62[F1V]["Result " + m_h.name]=0;}j_j=0;for(u4h=0;u4h <= F1V;u4h++){if(!u62[F1V - u4h])break;if(u62[F1V - u4h].High > u62[F1V - 2].High)break;if(u4h < 2 && u62[F1V - u4h].High == u62[F1V - 2].High)break;if(u62[F1V - u4h].High < u62[F1V - +"2"].High){j_j++;}if(j_j == 4){P$A=u62[F1V - 2].High;break;}}if(m_h.type == "Fractal Chaos Bands"){if(q1J){u62[F1V]["Fractal High " + m_h.name]=P$A > 0?P$A:null;}}else if(j_j == 4){u62[F1V]["Result " + m_h.name]=1;}j_j=0;for(u4h=0;u4h <= F1V;u4h++){if(!u62[F1V - u4h])break;if(u62[F1V - u4h].Low < u62[F1V - 2].Low)break;if(u4h < 2 && u62[F1V - u4h].Low == u62[F1V - 2].Low)break;if(u62[F1V - u4h].Low > u62[F1V - 2].Low){j_j++;}if(j_j == 4){b5l=u62[F1V - 2].Low;break;}}if(m_h.type == "Fractal Chaos Bands"){if(W1w){u62[F1V]["Fractal Low " + m_h.name]=b5l > 0?b5l:null;}}else if(j_j == 4){u62[F1V]["Result " + m_h.name]=-1;}}};l0L.Studies.studyLibrary=l0L.extend(l0L.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:l0L.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:!![],calculateFN:l0L.Studies.calculateFractalChaos,seriesFN:l0L.Studies.displayChannel,inputs:{"Channel Fill":!!1},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":"auto"}}});}};Y5=T_U=>{var x8c=g9BGt;x8c.Z_e();var E60,b7_,p61,w80,w9T;E60="u";E60+="ndef";E60+="ined";b7_=typeof _CIQ !== E60?_CIQ:T_U.CIQ;if(!b7_.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {p61="a";p61+="uto";w80="Lo";w80+="west Low Value";w9T="Donc";w9T+="hian W";w9T+="idth";b7_.Studies.calculateMaxHighMinLow=function(U9g,C$D){var I0r,w$u,X6$,x3G,d5I,L7M,e8Z,J5D,R8R,s9b,a7e,h4i,E9z,U_Q;I0r="Low Per";I0r+="iod";x8c.Z_e();w$u=C$D.chart.scrubbed;X6$=C$D.days;x3G=C$D.days;if(C$D.inputs["High Period"]){X6$=C$D.inputs["High Period"];}if(C$D.inputs[I0r]){x3G=C$D.inputs["Low Period"];}if(w$u.length < Math.max(X6$,x3G) + +"1"){C$D.error=!!"1";return;}d5I=Number.MAX_VALUE;x8c.O90(7);var z20=x8c.D8z(16,15);L7M=Number.MAX_VALUE * z20;if(C$D.startFrom > +"1"){for(e8Z=1;e8Z < X6$;e8Z++){if(C$D.startFrom - e8Z >= +"0"){L7M=Math.max(L7M,w$u[C$D.startFrom - e8Z].High);}}for(e8Z=1;e8Z < x3G;e8Z++){if(C$D.startFrom - e8Z >= 0){d5I=Math.min(d5I,w$u[C$D.startFrom - e8Z].Low);}}}for(var E8h=Math.max(0,C$D.startFrom - 1);E8h < w$u.length;E8h++){J5D="VT ";J5D+="HZ Filter";R8R="GA";R8R+="PO";s9b="Donch";s9b+="ian ";s9b+="Widt";s9b+="h";L7M=Math.max(L7M,w$u[E8h].High);d5I=Math.min(d5I,w$u[E8h].Low);if(E8h >= X6$){if(w$u[E8h - X6$].High == L7M){L7M=w$u[E8h].High;for(e8Z=1;e8Z < X6$;e8Z++){L7M=Math.max(L7M,w$u[E8h - e8Z].High);}}}if(E8h >= x3G){if(w$u[E8h - x3G].Low == d5I){d5I=w$u[E8h].Low;for(e8Z=1;e8Z < x3G;e8Z++){d5I=Math.min(d5I,w$u[E8h - e8Z].Low);}}}a7e=0;if(C$D.type == "HHV"){a7e=L7M;}else if(C$D.type == "LLV"){a7e=d5I;}else if(C$D.type == s9b){x8c.O90(7);a7e=x8c.D8z(d5I,L7M);}else if(C$D.type == R8R || C$D.type == "Gopala"){a7e=Math.log(L7M - d5I) / Math.log(x3G);}else if(C$D.type == J5D){x8c.O90(7);a7e=x8c.D8z(d5I,L7M);w$u[E8h]["_MHML " + C$D.name]=a7e;continue;}else if(C$D.type == "Williams %R"){x8c.O90(141);var d8s=x8c.D8z(20,80);a7e=d8s * (L7M - w$u[E8h].Close) / (L7M - d5I);w$u[E8h]["Result " + C$D.name]=a7e;continue;}if(E8h == w$u.length - 1)break;if(!w$u[E8h + +"1"].futureTick){h4i="D";h4i+="onchian";h4i+=" Chan";h4i+="nel";if(C$D.type == h4i){E9z="Donchi";E9z+="an Median";E9z+=" ";x8c.X$L(1);w$u[x8c.D8z(E8h,1)]["Donchian High " + C$D.name]=L7M;x8c.O90(1);w$u[x8c.t1w(E8h,1)]["Donchian Low " + C$D.name]=d5I;x8c.O90(1);w$u[x8c.D8z(E8h,1)][E9z + C$D.name]=x8c.t1w(d5I,2,L7M,x8c.O90(4));}else {U_Q="R";U_Q+="es";U_Q+="ult";U_Q+=" ";x8c.X$L(1);w$u[x8c.D8z(E8h,1)][U_Q + C$D.name]=a7e;}}}};b7_.Studies.calculateVerticalHorizontalFilter=function(B8s,v4j){var t_B,y6k,Z_w,o0a;t_B=v4j.chart.scrubbed;if(t_B.length < v4j.days + +"1"){v4j.error=!!({});return;}v4j.mhml=new b7_.Studies.StudyDescriptor(v4j.name,v4j.type,v4j.panel);v4j.mhml.chart=v4j.chart;v4j.mhml.days=v4j.days;v4j.mhml.startFrom=v4j.startFrom;v4j.mhml.inputs={};v4j.mhml.outputs={_MHML:null};b7_.Studies.calculateMaxHighMinLow(B8s,v4j.mhml);y6k=0;Z_w=[];for(var E5P=Math.max(1,v4j.startFrom - v4j.days);E5P < t_B.length;E5P++){o0a=Math.abs(t_B[E5P].Close - t_B[E5P - 1].Close);Z_w.push(o0a);y6k+=o0a;if(Z_w.length == v4j.days){t_B[E5P]["Result " + v4j.name]=t_B[E5P]["_MHML " + v4j.name] / y6k;y6k-=Z_w.shift();}}};b7_.Studies.studyLibrary=b7_.extend(b7_.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!!"1",calculateFN:b7_.Studies.calculateMaxHighMinLow,seriesFN:b7_.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":!![]},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:w9T,calculateFN:b7_.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:b7_.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:b7_.Studies.calculateMaxHighMinLow,inputs:{Period:"14" | 12}},LLV:{name:w80,calculateFN:b7_.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:b7_.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:-20,studyOverBoughtColor:p61,studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:b7_.Studies.calculateVerticalHorizontalFilter,inputs:{Period:+"28"}},"High-Low":{name:"High Minus Low",calculateFN:function(U0Q,t4W){var n1O,h3O;n1O=t4W.chart.scrubbed;x8c.Z_e();for(var v6s=t4W.startFrom;v6s < n1O.length;v6s++){h3O="R";h3O+="esul";h3O+="t";h3O+=" ";n1O[v6s][h3O + t4W.name]=n1O[v6s].High - n1O[v6s].Low;}},inputs:{}}});}};k5=d7l=>{var S7N=g9BGt;var r2V,t1c;r2V=typeof _CIQ !== "undefined"?_CIQ:d7l.CIQ;S7N.Z_e();if(!r2V.Studies){t1c="ichimoku feature requires first activating st";t1c+="udies feature.";console.error(t1c);}else {r2V.Studies.calculateIchimoku=function(N_N,K$p){var J7$,u6E,T_e,L1V,M0i,C4S,V5O,y3F,F_S,v6f;J7$=K$p.chart.scrubbed;u6E={Base:Number(K$p.inputs["Base Line Period"]),Conv:Number(K$p.inputs["Conversion Line Period"]),LeadB:Number(K$p.inputs["Leading Span B Period"]),Lag:Number(K$p.inputs["Lagging Span Period"])};for(T_e=K$p.startFrom;T_e < J7$.length;T_e++){if(!J7$[T_e])continue;L1V=D7Q(u6E.Conv,T_e);S7N.X$L(9);var t1r=S7N.D8z(7,11,5);S7N.O90(142);var i4U=S7N.D8z(4,11,10,61);J7$[T_e]["Conversion Line " + K$p.name]=(L1V[t1r] + L1V[0]) / ("2" >> i4U);L1V=D7Q(u6E.Base,T_e);S7N.O90(58);var R0r=S7N.t1w(14,18,16,6,41);S7N.X$L(5);var Z8T=S7N.t1w(6,16,12);J7$[T_e]["Base Line " + K$p.name]=(L1V[R0r] + L1V[0]) / Z8T;if(T_e < u6E.Lag)continue;J7$[T_e - u6E.Lag]["Lagging Span " + K$p.name]=J7$[T_e].Close;}M0i=[];for(T_e=Math.max(0,K$p.startFrom - u6E.Base);T_e < J7$.length;T_e++){L1V=D7Q(u6E.LeadB,T_e);S7N.X$L(143);var a9E=S7N.t1w(13,0,8,1,5);C4S=(J7$[T_e]["Conversion Line " + K$p.name] + J7$[T_e]["Base Line " + K$p.name]) / a9E;S7N.X$L(144);var m$W=S7N.D8z(7,43,7,4,11);S7N.X$L(145);var F4v=S7N.t1w(3,3,8,0,10);V5O=(L1V[m$W] + L1V[0]) / F4v;if(J7$[T_e + u6E.Base]){y3F="Leadin";y3F+="g";y3F+=" Spa";y3F+="n B ";J7$[T_e + u6E.Base]["Leading Span A " + K$p.name]=C4S;J7$[T_e + u6E.Base][y3F + K$p.name]=V5O;}else {F_S="Le";F_S+="ad";F_S+="i";F_S+="ng Span B ";v6f={};v6f["Leading Span A " + K$p.name]=C4S;v6f[F_S + K$p.name]=V5O;M0i.push(v6f);}}K$p.appendFutureTicks(N_N,M0i);function D7Q(W$0,N4I){var F2c,q1w;F2c=Number.MAX_VALUE;q1w=Number.MAX_VALUE * -("1" | 0);for(var A5l=N4I - W$0 + 1;A5l <= N4I;A5l++){if(A5l < +"0")continue;F2c=Math.min(F2c,J7$[A5l].Low);q1w=Math.max(q1w,J7$[A5l].High);}return [F2c,q1w];}};r2V.Studies.displayIchimoku=function(S5F,g3U,D09){var k9Q,y6Y,q1F,o1C,s52,w9K,d1_,s7i;k9Q="Lea";k9Q+="ding Sp";k9Q+="an B ";y6Y="Leading Span A " + g3U.name;q1F=k9Q + g3U.name;o1C=r2V.Studies.determineColor(g3U.outputs[g3U.outputMap[y6Y]]);s52=r2V.Studies.determineColor(g3U.outputs[g3U.outputMap[q1F]]);w9K=S5F.panels[g3U.panel];d1_=g3U.getYAxis(S5F);s7i={topBand:y6Y,bottomBand:q1F,topColor:o1C,bottomColor:s52,skipTransform:w9K.name != g3U.chart.name,topAxis:d1_,bottomAxis:d1_,opacity:+"0.3"};if(!g3U.highlight && S5F.highlightedDraggable){s7i.opacity*=0.3;}r2V.fillIntersecting(S5F,g3U.panel,s7i);r2V.Studies.displaySeriesAsLine(S5F,g3U,D09);};r2V.Studies.studyLibrary=r2V.extend(r2V.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:!!1,calculateFN:r2V.Studies.calculateIchimoku,seriesFN:r2V.Studies.displayIchimoku,inputs:{"Conversion Line Period":+"9","Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};O6=V$f=>{var o6K,o_i,N1$,W22,s2W,x__,v26,D1T;o6K=typeof _CIQ !== "undefined"?_CIQ:V$f.CIQ;if(!o6K.Studies){o_i="intradayMomentum feature re";o_i+="qu";o_i+="ires first";o_i+=" activating studies feature.";console.error(o_i);}else {N1$="Intraday Momentum";N1$+=" ";N1$+="Inde";N1$+="x";o6K.Studies.calculateIntradayMomentum=function(y8Y,O4B){var c$T=g9BGt;var o5G,S$i,G7o,u6B,E9y,T0U,J43,W4t,K5I;o5G=O4B.chart.scrubbed;S$i=O4B.days;if(o5G.length < S$i + 1){O4B.error=!"";return;}G7o=+"0";c$T.c7b();c$T.O90(8);u6B=c$T.t1w(1,"0");if(O4B.startFrom > 1){E9y="_totD";E9y+="n ";G7o=o5G[O4B.startFrom - +"1"]["_totUp " + O4B.name];c$T.X$L(1);var r47=c$T.t1w(0,1);u6B=o5G[O4B.startFrom - r47][E9y + O4B.name];}for(var G_m=O4B.startFrom;G_m < o5G.length;G_m++){T0U="_t";T0U+="otDn ";J43="_totU";J43+="p ";W4t=o5G[G_m].Close - o5G[G_m].Open;if(W4t > 0){G7o+=W4t;}else {u6B-=W4t;}if(G_m >= S$i){K5I=o5G[G_m - S$i].Close - o5G[G_m - S$i].Open;if(K5I > "0" - 0){G7o-=K5I;}else {u6B+=K5I;}}c$T.X$L(146);o5G[G_m]["Result " + O4B.name]=c$T.D8z(u6B,G7o,"100",G7o,64);o5G[G_m][J43 + O4B.name]=G7o;o5G[G_m][T0U + O4B.name]=u6B;}};W22=47190132;s2W=1353725720;x__=2;for(var N8L=1;g9BGt.l9L(N8L.toString(),N8L.toString().length,86471) !== W22;N8L++){v26="In";v26+="traday Mtm";o6K.Studies.studyLibrary=o6K.extend(o6K.Studies.studyLibrary,{"Intraday Mtm":{name:"auto",calculateFN:o6K.Studies.calculateIntradayMomentum,inputs:{Period:81},parameters:{init:{studyOverZonesEnabled:!({}),studyOverBoughtValue:19,studyOverBoughtColor:"auto",studyOverSoldValue:86,studyOverSoldColor:v26}}}});x__+=2;}if(g9BGt.i7j(x__.toString(),x__.toString().length,+"78115") !== s2W){D1T="a";D1T+="u";D1T+="to";o6K.Studies.studyLibrary=o6K.extend(o6K.Studies.studyLibrary,{"Intraday Mtm":{name:D1T,calculateFN:o6K.Studies.calculateIntradayMomentum,inputs:{Period:81},parameters:{init:{studyOverZonesEnabled:!({}),studyOverBoughtValue:19,studyOverBoughtColor:"auto",studyOverSoldValue:86,studyOverSoldColor:"Intraday Mtm"}}}});}o6K.Studies.studyLibrary=o6K.extend(o6K.Studies.studyLibrary,{"Intraday Mtm":{name:N1$,calculateFN:o6K.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:"30" ^ 0,studyOverSoldColor:"auto"}}}});}};G_=p8P=>{var B6D;B6D=typeof _CIQ !== "undefined"?_CIQ:p8P.CIQ;g9BGt.c7b();if(!B6D.Studies){console.error("keltner feature requires first activating studies feature.");}else {B6D.Studies.calculateKeltner=function(f3y,P7X){var b8U;b8U="M";b8U+="A";b8U+=" ";B6D.Studies.MA(P7X.inputs["Moving Average Type"],P7X.days,"Close",0,"MA",f3y,P7X);B6D.Studies.calculateStudyATR(f3y,P7X);B6D.Studies.calculateGenericEnvelope(f3y,P7X,P7X.inputs.Shift,b8U + P7X.name,"ATR " + P7X.name);};B6D.Studies.studyLibrary=B6D.extend(B6D.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!!"1",seriesFN:B6D.Studies.displayChannel,calculateFN:B6D.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":!![]},outputs:{"Keltner Top":"auto","Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});}};X0=L_3=>{var j4j=g9BGt;var l37,g80,B7w,C1h,S2u,Z_I;l37=typeof _CIQ !== "undefined"?_CIQ:L_3.CIQ;if(!l37.Studies){g80=530806262;B7w=1764039854;C1h=2;for(var I4m=1;j4j.i7j(I4m.toString(),I4m.toString().length,26476) !== g80;I4m++){console.error("klinger feature requires first activating studies feature.");C1h+=2;}if(j4j.l9L(C1h.toString(),C1h.toString().length,62702) !== B7w){console.error("");}}else {S2u="#0";S2u+="0DD00";Z_I="a";Z_I+="u";Z_I+="t";Z_I+="o";l37.Studies.calculateKlinger=function(U59,m1m){var s6M,R6u,L5m,q0B,S3a,n1S,b9t,G_$,n7O,x$F,M_J,j6a,A9Z,H6Y;s6M="Klinge";s6M+="rSi";s6M+="gna";s6M+="l";R6u="exponen";R6u+="ti";R6u+="al";L5m="_EM";L5m+="A";L5m+="-";L5m+="S";q0B=m1m.chart.scrubbed;S3a=Number(m1m.inputs["Short Cycle"]);n1S=Number(m1m.inputs["Long Cycle"]);if(q0B.length < Math.max(S3a,n1S) + +"1"){m1m.error=!"";return;}b9t=m1m.name + "_hist";G_$="Klinger " + m1m.name;n7O="KlingerSignal " + m1m.name;x$F="_SV " + m1m.name;M_J="_EMA-S " + m1m.name;j6a="_EMA-L " + m1m.name;for(A9Z=Math.max(1,m1m.startFrom);A9Z < q0B.length;A9Z++){H6Y=q0B[A9Z].Volume;if(q0B[A9Z]["hlc/3"] < q0B[A9Z - ("1" >> 0)]["hlc/3"]){H6Y*=-+"1";}if(H6Y){q0B[A9Z][x$F]=H6Y;}}l37.Studies.MA("exponential",S3a,x$F,0,L5m,U59,m1m);j4j.O90(18);l37.Studies.MA(R6u,n1S,x$F,j4j.t1w("0",32),"_EMA-L",U59,m1m);for(A9Z=Math.max(n1S,m1m.startFrom);A9Z < q0B.length;A9Z++){if(q0B[A9Z].futureTick || q0B[A9Z][M_J] === null || q0B[A9Z][j6a] === null)break;q0B[A9Z][G_$]=q0B[A9Z][M_J] - q0B[A9Z][j6a];}l37.Studies.MA("exponential",Number(m1m.inputs["Signal Periods"]),G_$,0,s6M,U59,m1m);for(A9Z=m1m.startFrom;A9Z < q0B.length;A9Z++){q0B[A9Z][b9t]=q0B[A9Z][G_$] - q0B[A9Z][n7O];}m1m.outputMap[b9t]="";};l37.Studies.studyLibrary=l37.extend(l37.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:l37.Studies.displayHistogramWithSeries,calculateFN:l37.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:Z_I,KlingerSignal:"#FF0000","Increasing Bar":S2u,"Decreasing Bar":"#FF0000"}}});}};Z_=c4m=>{var m4e=g9BGt;m4e.Z_e();var X$$,D_E,z1n,P1G,V49;X$$=typeof _CIQ !== "undefined"?_CIQ:c4m.CIQ;if(!X$$.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {D_E="f";D_E+="i";D_E+="eld";z1n="TimeSe";z1n+="ri";z1n+="es";P1G="time";P1G+=" serie";P1G+="s";V49="Time Ser";V49+="ies";X$$.Studies.prettify["time series"]="tsma";X$$.Studies.movingAverage.conversions.tsma="time series";X$$.Studies.movingAverage.translations["time series"]=V49;X$$.Studies.movingAverage.typeMap.tsma="TimeSeries";X$$.Studies.movingAverage.typeMap[P1G]=z1n;X$$.Studies.calculateMovingAverageTimeSeries=function(j$F,f96){var b_n,r4O,c69,z7G,x49,u_P,I6K,p7r,Y7K,U1l;f96.ma=new X$$.Studies.StudyDescriptor(f96.name,"ma",f96.panel);f96.ma.chart=f96.chart;f96.ma.days=f96.days;f96.ma.startFrom=f96.startFrom;f96.ma.inputs=f96.inputs;X$$.Studies.calculateLinearRegressionIndicator(j$F,f96.ma);b_n=f96.name;for(var Y3W in f96.outputs){m4e.X$L(95);b_n=m4e.t1w(Y3W,b_n," ");}r4O=parseInt(f96.inputs.Offset,10);if(isNaN(r4O)){r4O=0;}c69=f96.chart.scrubbed;z7G=r4O;for(var C_w=f96.startFrom - 1;C_w >= 0;C_w--){x49=c69[C_w][b_n];if(!x49 && x49 !== 0)continue;if(z7G > 0){z7G--;continue;}break;}u_P=[];m4e.Z_e();for(C_w++;C_w < c69.length;C_w++){I6K=c69[C_w];if(C_w + r4O >= 0){p7r="Fore";p7r+="cast ";if(C_w + r4O < c69.length){m4e.O90(1);c69[m4e.D8z(C_w,r4O)][b_n]=I6K[p7r + f96.name];}else {Y7K="For";Y7K+="ec";Y7K+="as";Y7K+="t ";U1l={};U1l[b_n]=I6K[Y7K + f96.name];u_P.push(U1l);}}}f96.appendFutureTicks(j$F,u_P);};X$$.Studies.calculateLinearRegressionIndicator=function(V6A,v9i){var G70,B6v,L$Y,r1V,f9i,m1k,h44,k1b,H5t,q$f,S7o,T33,x5e,I2S,m7U,s3z,Z0J;G70="Cl";G70+="o";G70+="s";G70+="e";B6v=v9i.chart.scrubbed;if(B6v.length < v9i.days + 1){v9i.error=!!1;return;}L$Y=v9i.inputs.Field;if(!L$Y || L$Y == "field"){L$Y=G70;}m4e.O90(126);var p7C=m4e.t1w(6,12,2,10);m4e.X$L(147);var A5O=m4e.t1w(4,17,151,14,22);r1V=v9i.days * (v9i.days + p7C) / A5O;f9i=Math.pow(r1V,2);m4e.O90(139);var c6A=m4e.t1w(3,12,7);m4e.O90(148);var V5f=m4e.t1w(20,20,5,5,1);m1k=r1V * (c6A * v9i.days + V5f) / +"3";h44=0;k1b=0;H5t=0;if(v9i.startFrom){m4e.O90(149);var Q_Y=m4e.t1w(16,18,457,12,19);q$f=B6v[v9i.startFrom - Q_Y]["_sums " + v9i.name];if(q$f){k1b=q$f[0];h44=q$f[1];H5t=q$f[2];}}for(var K7C=v9i.startFrom;K7C < B6v.length;K7C++){S7o="RSquar";S7o+="ed ";T33="S";T33+="lo";T33+="p";T33+="e ";x5e=B6v[K7C][L$Y];if(x5e && typeof x5e == "object"){x5e=x5e[v9i.subField];}if(!x5e && x5e !== 0)continue;k1b+=v9i.days * x5e - h44;h44+=x5e;m4e.O90(18);H5t+=Math.pow(x5e,m4e.D8z("2",64));if(K7C < v9i.days - 1)continue;else if(K7C > v9i.days - 1){I2S=B6v[K7C - v9i.days][L$Y];if(I2S && typeof I2S == "object"){I2S=I2S[v9i.subField];}if(!I2S && I2S !== 0)continue;h44-=I2S;H5t-=Math.pow(I2S,2);}m7U=(v9i.days * k1b - r1V * h44) / (v9i.days * m1k - f9i);B6v[K7C][T33 + v9i.name]=m7U;s3z=(h44 - m7U * r1V) / v9i.days;B6v[K7C]["Intercept " + v9i.name]=s3z;B6v[K7C]["Forecast " + v9i.name]=s3z + m7U * v9i.days;m4e.X$L(7);var L2F=m4e.D8z(4,6);Z0J=(v9i.days * m1k - f9i) / (v9i.days * H5t - Math.pow(h44,L2F));m4e.X$L(150);B6v[K7C][S7o + v9i.name]=m4e.t1w(Z0J,m7U,m7U);B6v[K7C]["_sums " + v9i.name]=[k1b,h44,H5t];}};X$$.Studies.studyLibrary=X$$.extend(X$$.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!![],calculateFN:X$$.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!!"1",calculateFN:X$$.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:X$$.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" * 1,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:X$$.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:"Time Series Forecast",overlay:!![],calculateFN:X$$.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:D_E},outputs:{Forecast:"auto"}}});}};i$=G7j=>{var U2x=g9BGt;var R3_,W1m;U2x.Z_e();R3_=typeof _CIQ !== "undefined"?_CIQ:G7j.CIQ;if(!R3_.Studies){console.error("macd feature requires first activating studies feature.");}else {W1m="#0";W1m+="0";W1m+="DD";W1m+="00";R3_.Studies.calculateMACD=function(d62,L3s){var c3c,l70,J$u,o$X,y7Z,d9S,x2J,f9Y,p5c,u$l,V$T,M3s,J0p,M7j,T0N,c5s,e_l,U2P,w5Y,K_j,N5l;c3c="_";c3c+="h";c3c+="is";c3c+="t";l70="Sig";l70+="nal";J$u="Si";J$u+="gna";J$u+="l MA Typ";J$u+="e";o$X="Mo";o$X+="ving Averag";o$X+="e";o$X+=" Type";y7Z=L3s.chart.scrubbed;d9S=L3s.inputs;x2J=L3s.name;if(!L3s.macd1Days){L3s.macd1Days=parseFloat(d9S["Fast MA Period"]);}if(!L3s.macd2Days){L3s.macd2Days=parseFloat(d9S["Slow MA Period"]);}if(!L3s.signalDays){L3s.signalDays=parseFloat(d9S["Signal Period"]);}if(!L3s.days){L3s.days=Math.max(L3s.macd1Days,L3s.macd2Days,L3s.signalDays);}if(y7Z.length < L3s.days + 1){L3s.error=!!({});f9Y=829371700;p5c=643261637;u$l=2;for(var v3I=1;U2x.l9L(v3I.toString(),v3I.toString().length,8390) !== f9Y;v3I++){return;}if(U2x.l9L(u$l.toString(),u$l.toString().length,14820) !== p5c){return;}}V$T=L3s.inputs.Field;if(!V$T || V$T == "field"){V$T="Close";}M3s=d9S[o$X];if(!M3s){M3s="exponential";}R3_.Studies.MA(M3s,L3s.macd1Days,V$T,+"0","_MACD1",d62,L3s);R3_.Studies.MA(M3s,L3s.macd2Days,V$T,0,"_MACD2",d62,L3s);T0N=Math.max(L3s.startFrom,L3s.days - 1);for(J0p=T0N;J0p < y7Z.length;J0p++){c5s="_MA";c5s+="CD1 ";e_l="_M";e_l+="AC";e_l+="D";e_l+="1 ";M7j=y7Z[J0p];if((M7j[e_l + x2J] || M7j["_MACD1 " + x2J] === 0) && (M7j["_MACD2 " + x2J] || M7j["_MACD2 " + x2J] === 0)){U2x.X$L(1);M7j[U2x.D8z("MACD ",x2J)]=M7j[c5s + x2J] - M7j["_MACD2 " + x2J];}}U2P=d9S[J$u];if(!U2P){U2P="exponential";}R3_.Studies.MA(U2P,L3s.signalDays,"MACD " + x2J,0,l70,d62,L3s);U2x.O90(1);w5Y=U2x.t1w(x2J,c3c);for(J0p=T0N;J0p < y7Z.length;J0p++){K_j="MAC";K_j+="D";K_j+=" ";M7j=y7Z[J0p];U2x.X$L(1);N5l=M7j[U2x.t1w("Signal ",x2J)];if(!N5l && N5l !== 0)continue;M7j[w5Y]=M7j[K_j + x2J] - M7j["Signal " + x2J];}L3s.outputMap[w5Y]="";};R3_.Studies.studyLibrary=R3_.extend(R3_.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:R3_.Studies.calculateMACD,seriesFN:R3_.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":W1m,"Decreasing Bar":"#FF0000"}}});}};L$=A2_=>{var b_X=g9BGt;b_X.Z_e();var z5b;z5b=typeof _CIQ !== "undefined"?_CIQ:A2_.CIQ;if(!z5b.Studies){console.error("massIndex feature requires first activating studies feature.");}else {z5b.Studies.calculateMassIndex=function(f26,t5N){var w_$,P9P,Z0$,R$y,L1g,w3L,G4Y,r$3;w_$="_";w_$+="tota";w_$+="l ";P9P="_";P9P+="total ";Z0$="e";Z0$+="xp";Z0$+="onentia";Z0$+="l";R$y=t5N.chart.scrubbed;if(R$y.length < Math.max(9,t5N.days + ("1" - 0))){t5N.error=!!1;L1g=-2052317514;w3L=-734732867;G4Y=2;for(var i0X=1;b_X.i7j(i0X.toString(),i0X.toString().length,91014) !== L1g;i0X++){return;}if(b_X.i7j(G4Y.toString(),G4Y.toString().length,48096) !== w3L){return;}return;}for(var A8k=t5N.startFrom;A8k < R$y.length;A8k++){R$y[A8k]["_High-Low " + t5N.name]=R$y[A8k].High - R$y[A8k].Low;}z5b.Studies.MA(Z0$,9,"_High-Low " + t5N.name,0,"_EMA",f26,t5N);z5b.Studies.MA("exponential",9,"_EMA " + t5N.name,0,"_EMA2",f26,t5N);b_X.X$L(8);r$3=b_X.t1w(1,"0");if(R$y[t5N.startFrom - 1] && R$y[t5N.startFrom - 1][P9P + t5N.name]){b_X.O90(14);var d0b=b_X.t1w(4,18,13);r$3=R$y[t5N.startFrom - d0b][w_$ + t5N.name];}for(var F8I=Math.max(17,t5N.startFrom);F8I < R$y.length;F8I++){r$3+=R$y[F8I]["_EMA " + t5N.name] / R$y[F8I]["_EMA2 " + t5N.name];if(F8I >= 17 + t5N.days - "1" * 1){R$y[F8I]["Result " + t5N.name]=r$3;b_X.O90(1);var T2E=b_X.D8z(0,1);b_X.X$L(151);var I3c=b_X.t1w(9,2,10,14,32);r$3-=R$y[F8I - t5N.days + T2E]["_EMA " + t5N.name] / R$y[F8I - t5N.days + I3c]["_EMA2 " + t5N.name];}R$y[F8I]["_total " + t5N.name]=r$3;}};z5b.Studies.displayMassIndex=function(I51,b7f,l5$){var Z7P,P66,S2r,j_h,B0V,d8r;Z7P="Bulge ";Z7P+="Threshol";Z7P+="d";z5b.Studies.displaySeriesAsLine(I51,b7f,l5$);P66=b7f.inputs[Z7P];S2r=I51.panels[b7f.panel];j_h=b7f.getYAxis(I51);B0V=z5b.Studies.determineColor(b7f.outputs.Result);d8r={skipTransform:I51.panels[b7f.panel].name != b7f.chart.name,panelName:b7f.panel,band:"Result " + b7f.name,threshold:P66,direction:1,color:B0V,yAxis:j_h,opacity:0.3};if(!b7f.highlight && I51.highlightedDraggable){d8r.opacity*=+"0.3";}z5b.preparePeakValleyFill(I51,d8r);z5b.Studies.drawHorizontal(I51,b7f,null,P66,j_h,B0V);};z5b.Studies.studyLibrary=z5b.extend(z5b.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:z5b.Studies.displayMassIndex,calculateFN:z5b.Studies.calculateMassIndex,inputs:{Period:"25" >> 32,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};t6=H_s=>{var Q0h=g9BGt;var T_Z,y0b,N5r,s1i,m8D,r_L,f2x,m_t;T_Z=typeof _CIQ !== "undefined"?_CIQ:H_s.CIQ;Q0h.c7b();if(!T_Z.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {T_Z.Studies.calculateMoneyFlowIndex=function(Q0X,e0h){var G8S,v0X,G_1,y2w,Y_9,a2U,K$X,s5j,C1z,y5V,g2h,V7x,M90;G8S="_cum";G8S+="MF ";v0X=e0h.chart.scrubbed;if(v0X.length < e0h.days + 1){e0h.error=!"";return;}G_1=0;y2w=0;Q0h.X$L(152);var v5V=Q0h.t1w(9,8,21,19,14);Y_9=v0X[e0h.startFrom - v5V];a2U="_rawMF " + e0h.name;K$X=G8S + e0h.name;s5j="Result " + e0h.name;if(Y_9 && Y_9[K$X]){G_1=Y_9[K$X][0];y2w=Y_9[K$X][1];}Q0h.c7b();for(var l28=e0h.startFrom;l28 < v0X.length;l28++){C1z=v0X[l28]["hlc/3"];if(l28 > 0 && !v0X[l28].futureTick){y5V="h";y5V+="lc";y5V+="/";y5V+="3";Q0h.X$L(7);g2h=v0X[Q0h.t1w(1,l28)][y5V];V7x=C1z * v0X[l28].Volume;if(C1z > g2h){G_1+=V7x;}else if(C1z < g2h){V7x*=-1;y2w-=V7x;}else {V7x=0;}if(l28 > e0h.days){M90=v0X[l28 - e0h.days][a2U];if(M90 > "0" - 0){G_1-=M90;}else {y2w+=M90;}if(y2w === 0){v0X[l28][s5j]=100;}else if(v0X[l28].Volume){Q0h.O90(153);v0X[l28][s5j]=Q0h.D8z(G_1,y2w,100,1,100);}}v0X[l28][a2U]=V7x;v0X[l28][K$X]=[G_1,y2w];}}};y0b=815561035;N5r=1443347444;s1i=2;for(var i05=1;Q0h.i7j(i05.toString(),i05.toString().length,"91358" * 1) !== y0b;i05++){m8D="M ";m8D+="Flow";T_Z.Studies.studyLibrary=T_Z.extend(T_Z.Studies.studyLibrary,{"M Flow":{name:m8D,range:"0 to 100",calculateFN:T_Z.Studies.calculateMoneyFlowIndex,inputs:{Period:74},parameters:{init:{studyOverZonesEnabled:!!0,studyOverBoughtValue:+"90",studyOverBoughtColor:"M Flow",studyOverSoldValue:92,studyOverSoldColor:"auto"}}}});s1i+=2;}if(Q0h.i7j(s1i.toString(),s1i.toString().length,76685) !== N5r){r_L="a";r_L+="u";r_L+="t";r_L+="o";f2x="0";f2x+=" to 100";m_t="Money Flow I";m_t+="n";m_t+="dex";T_Z.Studies.studyLibrary=T_Z.extend(T_Z.Studies.studyLibrary,{"M Flow":{name:m_t,range:f2x,calculateFN:T_Z.Studies.calculateMoneyFlowIndex,inputs:{Period:+"14"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:"80" * 1,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:r_L}}}});}}};u5=T$C=>{var K0B=g9BGt;var T3h,r3J,k1Q,e8x,p5b,g6m,O_O,C4D,r_R,a$p,R_1,Y$y,Y2p,q9k,G_u,v0j,R5X;T3h=-1370252329;r3J=+"1905875576";K0B.Z_e();K0B.X$L(35);k1Q=K0B.t1w(64,"2");for(var Q32=1;K0B.l9L(Q32.toString(),Q32.toString().length,9) !== T3h;Q32++){e8x="un";e8x+="d";e8x+="efined";p5b=typeof _CIQ !== e8x?_CIQ:T$C.CIQ;k1Q+=2;}if(K0B.l9L(k1Q.toString(),k1Q.toString().length,+"88310") !== r3J){p5b=~_CIQ === ""?_CIQ:T$C.CIQ;}if(!p5b.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {g6m="a";g6m+="u";g6m+="t";g6m+="o";O_O="Hig";O_O+="h Low Bands";C4D="#00DD0";C4D+="0";r_R="m";r_R+="a";a$p="au";a$p+="to";R_1="m";R_1+="a";Y$y="TripleEx";Y$y+="ponent";Y$y+="ial";Y2p="DoubleExpon";Y2p+="en";Y2p+="tial";q9k="Hu";q9k+="ll";G_u="Double Exponentia";G_u+="l";v0j="3";v0j+="-";v0j+="exp";v0j+="onential";R5X="h";R5X+="u";R5X+="ll";p5b.Studies.prettify=p5b.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},p5b.Studies.prettify);p5b.extend(p5b.Studies.movingAverage,{conversions:{hma:R5X,dema:"2-exponential",tema:v0j},translations:{hull:"Hull","2-exponential":G_u,"3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:q9k,dema:"DoubleExponential","2-exponential":Y2p,tema:"TripleExponential","3-exponential":Y$y}});p5b.Studies.calculateMovingAverageHull=function(z7v,A4b){var o7_,F7K,W3Q,d6j,S9c,v5D,x9a,U2Q,k2P,U1Q,H1o,B$E,E8p,W7S;o7_="_";o7_+="M";o7_+="MA";o7_+=" ";F7K="w";F7K+="m";F7K+="a";W3Q="_W";W3Q+="MA1";d6j="fi";d6j+="eld";S9c=A4b.chart.scrubbed;v5D=A4b.inputs.Field;if(!v5D || v5D == d6j){v5D="Close";}K0B.Z_e();p5b.Studies.MA("wma",A4b.days,v5D,0,W3Q,z7v,A4b);p5b.Studies.MA(F7K,Math.ceil(A4b.days / 2),v5D,0,"_WMA2",z7v,A4b);for(x9a=A4b.startFrom - 1;x9a >= 0;x9a--){U2Q=S9c[x9a][v5D];if(U2Q && typeof U2Q == "object"){U2Q=U2Q[A4b.subField];}if(U2Q || U2Q === 0)break;}for(x9a++;x9a < S9c.length;x9a++){k2P="_WM";k2P+="A1 ";U1Q="_";U1Q+="M";U1Q+="MA ";H1o=S9c[x9a];K0B.X$L(20);var y4C=K0B.t1w(17,34,34,16);H1o[U1Q + A4b.name]=y4C * H1o["_WMA2 " + A4b.name] - H1o[k2P + A4b.name];}B$E=parseInt(A4b.inputs.Offset,+"10");if(isNaN(B$E)){B$E=0;}E8p=Math.floor(Math.sqrt(A4b.days));p5b.Studies.MA("wma",E8p,o7_ + A4b.name,B$E,"_HMA",z7v,A4b);W7S=A4b.name;for(var B7m in A4b.outputs){K0B.O90(95);W7S=K0B.t1w(B7m,W7S,6860 > +"849.02"?" ":(7120,518.65) <= 1616?(+"918.53",4563) <= (+"4769",+"6040")?"r":(8.55e+3,740.31):"d");}for(x9a=Math.max(A4b.days + E8p - 1,A4b.startFrom);x9a < S9c.length;x9a++){S9c[x9a][W7S]=S9c[x9a]["_HMA " + A4b.name];}};p5b.Studies.calculateMovingAverageDoubleExponential=function(w0X,T$Y){var q4D,s03,I6F,Q1R,H8h,G6n,O5t,e_L,l3r,e4t,s7k;q4D=T$Y.chart.scrubbed;s03=T$Y.inputs.Field;if(!s03 || s03 == "field"){s03="Close";}p5b.Studies.MA("ema",T$Y.days,s03,0,"_EMA1",w0X,T$Y);p5b.Studies.MA("ema",T$Y.days,"_EMA1 " + T$Y.name,"0" * 1,"_EMA2",w0X,T$Y);I6F=parseInt(T$Y.inputs.Offset,10);if(isNaN(I6F)){I6F=0;}G6n=I6F;for(Q1R=T$Y.startFrom - 1;Q1R >= 0;Q1R--){H8h=q4D[Q1R][s03];if(H8h && typeof H8h == "object"){H8h=H8h[T$Y.subField];}if(!H8h && H8h !== ("0" ^ 0))continue;if(G6n > 0){G6n--;continue;}break;}O5t=T$Y.name;for(var j2P in T$Y.outputs){K0B.X$L(95);O5t=K0B.t1w(j2P,O5t,8625 !== (39.74,+"8460")?69.15 !== (886,136.03)?(6180,5517) !== (9491,46.32)?" ":("P","k"):(+"0x1646",215.38):749.61);}e_L=[];for(Q1R++;Q1R < q4D.length;Q1R++){if(Q1R < 2 * (T$Y.days - 1))continue;l3r=q4D[Q1R];K0B.O90(154);var S2C=K0B.t1w(162,2,16,10,5);e4t=S2C * l3r["_EMA1 " + T$Y.name] - l3r["_EMA2 " + T$Y.name];if(Q1R + I6F >= "0" - 0){if(Q1R + I6F < q4D.length){K0B.X$L(1);q4D[K0B.t1w(Q1R,I6F)][O5t]=e4t;}else {s7k={};s7k[O5t]=e4t;e_L.push(s7k);}}}T$Y.appendFutureTicks(w0X,e_L);};p5b.Studies.calculateMovingAverageTripleExponential=function(J__,N8N){var U0D,Q7P,I7O,Z_$,x_M,p9r,k12,F5O,s$e,F5j,d0q,u2h,K5V,O1W,A34,C2F,I11;U0D="e";U0D+="ma";Q7P="_";Q7P+="E";Q7P+="MA1 ";I7O="C";I7O+="l";I7O+="os";I7O+="e";Z_$="fi";Z_$+="el";Z_$+="d";x_M=N8N.chart.scrubbed;p9r=N8N.inputs.Field;if(!p9r || p9r == Z_$){p9r=I7O;}p5b.Studies.MA("ema",N8N.days,p9r,0,"_EMA1",J__,N8N);p5b.Studies.MA("ema",N8N.days,Q7P + N8N.name,0,"_EMA2",J__,N8N);p5b.Studies.MA(U0D,N8N.days,"_EMA2 " + N8N.name,+"0","_EMA3",J__,N8N);k12=parseInt(N8N.inputs.Offset,10);if(isNaN(k12)){k12=0;}F5j=k12;K0B.Z_e();for(F5O=N8N.startFrom - 1;F5O >= 0;F5O--){s$e=x_M[F5O][p9r];if(s$e && typeof s$e == "object"){s$e=s$e[N8N.subField];}if(!s$e && s$e !== 0)continue;if(F5j > 0){F5j--;continue;}break;}d0q=N8N.name;for(var H0b in N8N.outputs){K0B.O90(95);d0q=K0B.D8z(H0b,d0q,(7184,522) <= 6267?(8431,7970) < 231?("k","0x1f76" << 0):" ":!"1");}u2h=[];for(F5O++;F5O < x_M.length;F5O++){K5V="_EM";K5V+="A3";K5V+=" ";O1W="_";O1W+="EMA2 ";if(F5O < 3 * (N8N.days - 1))continue;A34=x_M[F5O];K0B.X$L(155);var I79=K0B.t1w(28,8,11,12,16);K0B.X$L(5);var L9T=K0B.D8z(30,39,12);C2F=I79 * A34["_EMA1 " + N8N.name] - L9T * A34[O1W + N8N.name] + A34[K5V + N8N.name];if(F5O + k12 >= 0){if(F5O + k12 < x_M.length){K0B.X$L(1);x_M[K0B.t1w(F5O,k12)][d0q]=C2F;}else {I11={};I11[d0q]=C2F;u2h.push(I11);}}}N8N.appendFutureTicks(J__,u2h);};p5b.Studies.calculateMAEnvelope=function(v56,t7q){var w5g,f2L,h97,f90,K5O,d5e;w5g="Moving Av";w5g+="e";w5g+="rage T";K0B.Z_e();w5g+="ype";f2L="f";f2L+="ield";h97=t7q.inputs.Field;if(!h97 || h97 == f2L){h97="Close";}p5b.Studies.MA(t7q.inputs[w5g],t7q.days,h97,0,"MA",v56,t7q);f90=t7q.inputs["Shift Type"];K5O=t7q.inputs.Shift;if(!f90){f90="percent";K5O=t7q.inputs["Shift Percentage"];}if(f90 == "percent"){K0B.O90(23);p5b.Studies.calculateGenericEnvelope(v56,t7q,K0B.t1w(100,K5O),"MA " + t7q.name);}else if(f90 == "points"){d5e="M";d5e+="A";d5e+=" ";p5b.Studies.calculateGenericEnvelope(v56,t7q,null,d5e + t7q.name,null,Number(K5O));}};p5b.Studies.calculateMADev=function(p4V,I8T){var p7e,r7U,C5_,D_9,I8p,b5S,y$3,E8k,N$5,h8Y,z3h,P$_;p7e="_";p7e+="M";p7e+="A";r7U="Movi";r7U+="ng Average";r7U+=" Typ";r7U+="e";C5_=I8T.chart.scrubbed;if(C5_.length < I8T.days + 1){I8T.error=!![];return;}D_9=I8T.inputs.Field;if(!D_9 || D_9 == "field"){D_9="Close";}I8p=I8T.inputs["Points Or Percent"];if(!I8p){I8p="Points";}b5S=I8T.inputs[r7U];if(!b5S){b5S="exponential";}p5b.Studies.MA(b5S,I8T.days,D_9,0,p7e,p4V,I8T);y$3=I8T.name + "_hist";for(var u3x=Math.max(I8T.startFrom,I8T.days - ("1" | 1));u3x < C5_.length;u3x++){E8k="objec";E8k+="t";N$5=C5_[u3x];h8Y=N$5[D_9];if(h8Y && typeof h8Y == E8k){h8Y=h8Y[I8T.subField];}z3h=N$5["_MA " + I8T.name];if(z3h || z3h === 0){P$_="Po";P$_+="ints";if(I8p == P$_){K0B.X$L(7);N$5[y$3]=K0B.t1w(z3h,h8Y);}else {K0B.O90(156);N$5[y$3]=K0B.t1w(z3h,1,h8Y,100);}}}I8T.outputMap={};I8T.outputMap[I8T.name + "_hist"]="";};p5b.Studies.studyLibrary=p5b.extend(p5b.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!0,seriesFN:p5b.Studies.displayChannel,calculateFN:p5b.Studies.calculateMAEnvelope,inputs:{Period:50,Field:"field","Shift Type":["percent","points"],Shift:5,"Moving Average Type":R_1,"Channel Fill":!""},outputs:{"MA Env Top":"auto","MA Env Median":a$p,"MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:p5b.Studies.calculateMADev,seriesFN:p5b.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":r_R,"Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":C4D,"Decreasing Bar":"#FF0000"}},"High Low":{name:O_O,overlay:!"",seriesFN:p5b.Studies.displayChannel,calculateFN:function(L2N,A$B){K0B.c7b();A$B.inputs["Moving Average Type"]="triangular";p5b.Studies.calculateMAEnvelope(L2N,A$B);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!!({})},outputs:{"High Low Top":"auto","High Low Median":g6m,"High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};l1=q1z=>{var K5y=g9BGt;var C8u,a_c,t9_;C8u="un";C8u+="d";K5y.c7b();C8u+="e";C8u+="fined";a_c=typeof _CIQ !== C8u?_CIQ:q1z.CIQ;if(!a_c.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {t9_="Parabolic SA";t9_+="R";a_c.Studies.calculatePSAR=function(j8r,W6s){var F_Q,V3O,T8u,d_j,c3Y,w_N,d8T,e_S,s6a,P_i,d8u,M0v;F_Q="Maxi";F_Q+="mu";F_Q+="m AF";V3O=W6s.chart.scrubbed;T8u=0;d_j=null;K5y.Z_e();c3Y=!({});w_N=0;d8T=parseFloat(W6s.inputs["Minimum AF"]);e_S=parseFloat(W6s.inputs[F_Q]);if(W6s.startFrom > 0){K5y.X$L(7);var S29=K5y.D8z(9,10);w_N=V3O[W6s.startFrom - S29]["Result " + W6s.name];s6a=V3O[W6s.startFrom - ("1" | 0)]["_state " + W6s.name];if(s6a && s6a.length == "3" - 0){T8u=s6a[0];d_j=s6a[1];K5y.O90(7);c3Y=s6a[K5y.t1w(0,"2")];}}function H72(){T8u=0;d_j=null;c3Y=!c3Y;}for(var Y3H=W6s.startFrom - 1;Y3H < V3O.length - 1;Y3H++){if(Y3H < 0)continue;if(V3O[Y3H].futureTick)break;P_i=w_N;if(c3Y){if(!d_j || d_j < V3O[Y3H].High){d_j=V3O[Y3H].High;K5y.X$L(1);T8u=Math.min(K5y.D8z(T8u,d8T),e_S);}K5y.O90(157);w_N=K5y.D8z(T8u,d_j,P_i,P_i);d8u=Math.min(V3O[Math.max(1,Y3H) - 1].Low,V3O[Y3H].Low);if(w_N > V3O[Y3H + 1].Low){w_N=d_j;H72();}else if(w_N > d8u){w_N=d8u;}}else {if(!d_j || d_j > V3O[Y3H].Low){d_j=V3O[Y3H].Low;K5y.O90(1);T8u=Math.min(K5y.D8z(T8u,d8T),e_S);}K5y.X$L(157);w_N=K5y.D8z(T8u,d_j,P_i,P_i);M0v=Math.max(V3O[Math.max(1,Y3H) - 1].High,V3O[Y3H].High);if(w_N < V3O[Y3H + 1].High){w_N=d_j;H72();}else if(w_N < M0v){w_N=M0v;}}K5y.X$L(78);V3O[K5y.t1w(Y3H,"1")]["_state " + W6s.name]=[T8u,d_j,c3Y];if(!isNaN(V3O[Y3H].High) || !isNaN(V3O[Y3H].Low)){K5y.O90(1);V3O[K5y.D8z(Y3H,1)]["Result " + W6s.name]=w_N;}}};a_c.Studies.studyLibrary=a_c.extend(a_c.Studies.studyLibrary,{PSAR:{name:t9_,overlay:!!1,calculateFN:a_c.Studies.calculatePSAR,seriesFN:a_c.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};i0=M5K=>{var K5f=g9BGt;var e3X,W_K,l_9,R_K,l0V,E6p,f5L;e3X="unde";K5f.Z_e();e3X+="fined";W_K=typeof _CIQ !== e3X?_CIQ:M5K.CIQ;if(!W_K.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {l_9="#";l_9+="f";l_9+="fd0";l_9+="cf";R_K="#e364";R_K+="60";l0V="#6";l0V+="99";l0V+="158";E6p="#b8";E6p+="2c0b";f5L="Piv";f5L+="ot ";f5L+="Points";W_K.Studies.calculatePivotPoints=function(u$b,H$$){var d03,u4$,s28,U0c,m6F,p17,j73,l$_,V6Z,c6$,B25,h9Y,G0M,B3D,X8H,L32,Y0y,t4H,w5W,a7_,A5R,b7J;d03="market.b";d03+="egi";d03+="nningDayOfWeek";u4$="seco";u4$+="n";u4$+="d";function Y6x(){K5f.Z_e();K5f.X$L(158);var l4o=K5f.t1w(10,14,20,49,11);K5f.X$L(159);var u2r=K5f.D8z(15,12,19,5,7);X8H.pivotPoint=(X8H.high + X8H.low + j73[f7J - l4o].Close) / u2r;X8H.prevHigh=X8H.high;X8H.prevLow=X8H.low;X8H.hlSpread=X8H.high - X8H.low;X8H.high=X8H.low=0;}K5f.Z_e();s28="y";s28+="ear";U0c="m";U0c+="on";U0c+="t";U0c+="h";m6F="d";m6F+="a";m6F+="y";p17="d";p17+="ay";j73=H$$.chart.scrubbed;l$_=p17;V6Z=u$b.layout.interval;c6$=u$b.layout.timeUnit;if(V6Z == m6F){l$_=U0c;}else if(W_K.ChartEngine.isDailyInterval(V6Z)){l$_=s28;}else if(V6Z == u4$ || V6Z == "millisecond" || c6$ == "second" || c6$ == "millisecond"){l$_="15min";}else {B25="w";B25+="e";B25+="e";B25+="k";h9Y=u$b.layout.periodicity;if(V6Z != "minute"){h9Y*=V6Z;}if(h9Y >= 30){l$_=B25;}}G0M=null;K5f.O90(36);var u6u=K5f.t1w(6,46,10,7,14);B3D=u6u - W_K.getFromNS(u$b.chart,d03,0);X8H={pivotPoint:NaN,high:0,low:0,prevHigh:0,prevLow:0,hlSpread:"0" ^ 0};if(H$$.startFrom > 1 && j73[H$$.startFrom - 1]["_pointers " + H$$.name]){X8H=W_K.clone(j73[H$$.startFrom - +"1"]["_pointers " + H$$.name]);}for(var f7J=Math.max(1,H$$.startFrom);f7J < j73.length;f7J++){L32="_";L32+="pointers ";Y0y="15mi";Y0y+="n";t4H="w";t4H+="e";t4H+="e";t4H+="k";w5W="m";w5W+="o";w5W+="nt";w5W+="h";if(!j73[f7J - 1])continue;X8H.high=Math.max(X8H.high,j73[f7J - 1].High);X8H.low=Math.min(X8H.low > ("0" ^ 0)?X8H.low:j73[f7J - 1].Low,j73[f7J - 1].Low);if(H$$.inputs.Continuous){Y6x();}else if(l$_ == "year" && j73[f7J].DT.getYear() != j73[f7J - 1].DT.getYear()){Y6x();}else if(l$_ == w5W && j73[f7J].DT.getMonth() != j73[f7J - 1].DT.getMonth()){Y6x();}else if(l$_ == t4H && (j73[f7J].DT.getDay() + B3D) % ("7" - 0) < (j73[f7J - 1].DT.getDay() + B3D) % 7){Y6x();}else if(l$_ == "day"){if(G0M === null){G0M=W_K.Studies.getMarketOffset({stx:u$b,localQuoteDate:j73[f7J].DT,shiftToDateBoundary:!!({})});}a7_=new Date(new Date(+j73[f7J].DT).setMilliseconds(j73[f7J].DT.getMilliseconds() + G0M));A5R=new Date(new Date(+j73[f7J - +"1"].DT).setMilliseconds(j73[f7J - 1].DT.getMilliseconds() + G0M));if(A5R.getDate() !== a7_.getDate() && A5R.getDay() !== "0" - 0 && u$b.chart.market.isMarketDate(a7_)){G0M=null;Y6x();}}else if(l$_ == Y0y && (j73[f7J].DT.getHours() != j73[f7J - 1].DT.getHours() || Math.floor(j73[f7J].DT.getMinutes() / 15) != Math.floor(j73[f7J - 1].DT.getMinutes() / ("15" << 64)))){Y6x();}j73[f7J]["Pivot " + H$$.name]=X8H.pivotPoint;if(H$$.inputs.Type.toLowerCase() == "fibonacci"){j73[f7J]["Resistance 1 " + H$$.name]=X8H.pivotPoint + 0.382 * X8H.hlSpread;j73[f7J]["Resistance 2 " + H$$.name]=X8H.pivotPoint + 0.618 * X8H.hlSpread;j73[f7J]["Resistance 3 " + H$$.name]=X8H.pivotPoint + X8H.hlSpread;j73[f7J]["Support 1 " + H$$.name]=X8H.pivotPoint - 0.382 * X8H.hlSpread;j73[f7J]["Support 2 " + H$$.name]=X8H.pivotPoint - +"0.618" * X8H.hlSpread;j73[f7J]["Support 3 " + H$$.name]=X8H.pivotPoint - X8H.hlSpread;}else {b7J="Suppo";b7J+="rt ";b7J+="1 ";K5f.X$L(160);var K_z=K5f.t1w(7,16,6,8,19);j73[f7J]["Resistance 1 " + H$$.name]=K_z * X8H.pivotPoint - X8H.prevLow;j73[f7J]["Resistance 2 " + H$$.name]=X8H.pivotPoint + X8H.hlSpread;K5f.O90(62);var K7i=K5f.t1w(1,16,1,11,17);j73[f7J]["Resistance 3 " + H$$.name]=X8H.prevHigh + K7i * (X8H.pivotPoint - X8H.prevLow);K5f.X$L(161);var Y9H=K5f.t1w(0,258,16,20,12);j73[f7J][b7J + H$$.name]=Y9H * X8H.pivotPoint - X8H.prevHigh;j73[f7J]["Support 2 " + H$$.name]=X8H.pivotPoint - X8H.hlSpread;K5f.O90(9);var g6e=K5f.D8z(10,8,0);j73[f7J]["Support 3 " + H$$.name]=X8H.prevLow - g6e * (X8H.prevHigh - X8H.pivotPoint);}j73[f7J][L32 + H$$.name]=W_K.clone(X8H);}};W_K.Studies.displayPivotPoints=function(a5l,S8v,U8h){var O_q,g4h,s5V,J9J,U6M,t0v,c8K,F38,w$e;S8v.noSlopes=!S8v.inputs.Continuous;W_K.Studies.displaySeriesAsLine(a5l,S8v,U8h);K5f.Z_e();if(S8v.inputs.Shading){O_q="Su";O_q+="pport 3";g4h="Suppor";g4h+="t";g4h+=" ";g4h+="2";s5V="S";s5V+="upport ";s5V+="2 ";J9J="S";J9J+="upport 1 ";U6M="P";U6M+="iv";U6M+="ot ";t0v="Re";t0v+="sistance";t0v+=" 1 ";c8K="R";c8K+="e";c8K+="sista";c8K+="nce 3";F38=a5l.panels[S8v.panel];w$e={noSlopes:S8v.noSlopes,opacity:S8v.parameters.opacity?S8v.parameters.opacity:0.2,skipTransform:F38.name != S8v.chart.name,yAxis:S8v.getYAxis(a5l)};if(!S8v.highlight && a5l.highlightedDraggable){w$e.opacity*=0.3;}W_K.prepareChannelFill(a5l,W_K.extend({panelName:S8v.panel,topBand:"Resistance 3 " + S8v.name,bottomBand:"Resistance 2 " + S8v.name,color:W_K.Studies.determineColor(S8v.outputs[c8K])},w$e));W_K.prepareChannelFill(a5l,W_K.extend({panelName:S8v.panel,topBand:"Resistance 2 " + S8v.name,bottomBand:"Resistance 1 " + S8v.name,color:W_K.Studies.determineColor(S8v.outputs["Resistance 2"])},w$e));W_K.prepareChannelFill(a5l,W_K.extend({panelName:S8v.panel,topBand:t0v + S8v.name,bottomBand:U6M + S8v.name,color:W_K.Studies.determineColor(S8v.outputs["Resistance 1"])},w$e));W_K.prepareChannelFill(a5l,W_K.extend({panelName:S8v.panel,topBand:J9J + S8v.name,bottomBand:"Pivot " + S8v.name,color:W_K.Studies.determineColor(S8v.outputs["Support 1"])},w$e));W_K.prepareChannelFill(a5l,W_K.extend({panelName:S8v.panel,topBand:s5V + S8v.name,bottomBand:"Support 1 " + S8v.name,color:W_K.Studies.determineColor(S8v.outputs[g4h])},w$e));W_K.prepareChannelFill(a5l,W_K.extend({panelName:S8v.panel,topBand:"Support 3 " + S8v.name,bottomBand:"Support 2 " + S8v.name,color:W_K.Studies.determineColor(S8v.outputs[O_q])},w$e));}};W_K.Studies.studyLibrary=W_K.extend(W_K.Studies.studyLibrary,{"Pivot Points":{name:f5L,overlay:!!1,seriesFN:W_K.Studies.displayPivotPoints,calculateFN:W_K.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!!"",Shading:!"1"},outputs:{Pivot:"auto","Resistance 1":E6p,"Support 1":l0V,"Resistance 2":R_K,"Support 2":"#b3d987","Resistance 3":l_9,"Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});}};P4=x3z=>{var F0f,t$$,w3S;F0f="undef";F0f+="ined";t$$=typeof _CIQ !== F0f?_CIQ:x3z.CIQ;if(!t$$.Studies){w3S="prettyGoodOscillator feature requires";w3S+=" first activating";w3S+=" st";w3S+="udies feature.";console.error(w3S);}else {t$$.Studies.calculatePrettyGoodOscillator=function(P$h,h5m){var N$z,M2c,O8Z,m_e,k8o,E_D,H7L,M2X,Y_u,Y9C;N$z="Clo";N$z+="s";N$z+="e";M2c="true";M2c+="Ran";M2c+="ge";O8Z=-955189193;m_e=1998956716;k8o=2;for(var h3G=1;g9BGt.i7j(h3G.toString(),h3G.toString().length,74803) !== O8Z;h3G++){E_D=h5m.chart.scrubbed;k8o+=2;}if(g9BGt.l9L(k8o.toString(),k8o.toString().length,10834) !== m_e){E_D=h5m.chart.scrubbed;}if(E_D.length < h5m.days + 1){h5m.error=!!({});return;}t$$.Studies.MA("exponential",h5m.days,M2c,0,"_EMA",P$h,h5m);t$$.Studies.MA("simple",h5m.days,N$z,0,"_SMA",P$h,h5m);for(var R0O=Math.max(1,h5m.startFrom);R0O < E_D.length;R0O++){H7L="_";H7L+="E";H7L+="M";H7L+="A ";M2X="R";M2X+="esult";M2X+=" ";Y_u="_";Y_u+="E";Y_u+="MA";Y_u+=" ";Y9C="_";Y9C+="SMA ";if(!E_D[R0O][Y9C + h5m.name] || !E_D[R0O][Y_u + h5m.name])continue;E_D[R0O][M2X + h5m.name]=(E_D[R0O].Close - E_D[R0O]["_SMA " + h5m.name]) / E_D[R0O][H7L + h5m.name];}};t$$.Studies.studyLibrary=t$$.extend(t$$.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:t$$.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:+"3",studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}}}});}};i9=B_z=>{var w8B=g9BGt;var R8H,f4f,Y77,q_e,F$u;R8H="undef";R8H+="ined";f4f=typeof _CIQ !== R8H?_CIQ:B_z.CIQ;w8B.Z_e();if(!f4f.Studies){Y77="priceMomentumOscillator feature requires first activating ";Y77+="studies feature.";console.error(Y77);}else {q_e="0";q_e+=".05";F$u="Price Moment";F$u+="um Os";F$u+="c";F$u+="illator";f4f.Studies.calculatePMO=function(C3s,g4J){var z8_,W7R,v5N,v$L,i7k,A1j,w6H,J$L,o2R;w8B.Z_e();z8_="exp";z8_+="onent";z8_+="ial";W7R="_R";W7R+="OCx";W7R+="10 ";v5N="Signal";v5N+=" Period";v$L="Dou";v$L+="ble Smoothin";v$L+="g Period";i7k={Smooth:Number(g4J.inputs["Smoothing Period"]) - 1,Double:Number(g4J.inputs[v$L]) - 1,Signal:Number(g4J.inputs[v5N])};A1j=g4J.chart.scrubbed;if(A1j.length < i7k.Smooth + i7k.Double){g4J.error=!!({});return;}w6H=g4J.inputs.Field;if(!w6H || w6H == "field"){w6H="Close";}for(J$L=g4J.startFrom;J$L < A1j.length;J$L++){if(!A1j[J$L])continue;if(!A1j[J$L - 1])continue;w8B.X$L(7);o2R=A1j[w8B.t1w(1,J$L)][w6H];if(o2R){w8B.X$L(68);var c5C=w8B.t1w(4,3,997,10);w8B.X$L(7);var v7M=w8B.D8z(8,9);A1j[J$L]["_ROCx10 " + g4J.name]=c5C * (A1j[J$L][w6H] / o2R - v7M);}}f4f.Studies.MA("exponential",i7k.Smooth,W7R + g4J.name,0,"_EMAx10",C3s,g4J);f4f.Studies.MA("exponential",i7k.Double,"_EMAx10 " + g4J.name,0,"PMO",C3s,g4J);f4f.Studies.MA(z8_,i7k.Signal,"PMO " + g4J.name,0,"PMOSignal",C3s,g4J);g4J.zoneOutput="PMO";};f4f.Studies.studyLibrary=f4f.extend(f4f.Studies.studyLibrary,{PMO:{name:F$u,calculateFN:f4f.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:q_e},studyOverSoldValue:{max:0,step:"0.05"}}}});}};e1=q01=>{var z$U=g9BGt;var L7B,g$i,V8a,B1W,x1D,e64;z$U.Z_e();L7B=typeof _CIQ !== "undefined"?_CIQ:q01.CIQ;if(!L7B.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {g$i="a";g$i+="ut";g$i+="o";V8a="#";V8a+="F";V8a+="F0";V8a+="000";B1W="v";B1W+="d";B1W+="m";B1W+="a";x1D="Per";x1D+="cen";x1D+="t";e64="Poin";e64+="ts";L7B.Studies.calculatePriceOscillator=function(B6G,h1M){var B3Z,L1I,w2q,g7T,I_m,B7J,g3Z,g0H,r7h,v$9,X0Q,k2w,G2r,n09,G$B,X_p,L4V;B3Z="_Short M";B3Z+="A";L1I="Points";L1I+=" Or Percent";w2q="s";w2q+="imple";g7T="Mov";g7T+="ing Avera";g7T+="ge Type";I_m=h1M.chart.scrubbed;B7J=Number(h1M.inputs["Short Cycle"]);g3Z=Number(h1M.inputs["Long Cycle"]);if(I_m.length < Math.max(B7J,g3Z) + +"1"){h1M.error=!!({});return;}g0H=h1M.inputs.Field;r7h=h1M.inputs[g7T];if(!r7h){r7h=w2q;}if(!g0H || g0H == "field"){g0H="Close";}if(h1M.parameters.isVolume){g0H="Volume";r7h="exponential";}v$9=h1M.inputs[L1I];if(!v$9){v$9="Percent";}L7B.Studies.MA(r7h,B7J,g0H,+"0",B3Z,B6G,h1M);L7B.Studies.MA(r7h,g3Z,g0H,0,"_Long MA",B6G,h1M);for(var L3f=Math.max(g3Z,h1M.startFrom);L3f < I_m.length;L3f++){X0Q="_";X0Q+="Sh";X0Q+="ort MA ";k2w=I_m[L3f];if(!k2w)continue;G2r=k2w[X0Q + h1M.name];n09=k2w["_Long MA " + h1M.name];if((G2r || G2r === "0" << 32) && (n09 || n09 === 0)){G$B="Increasing ";G$B+="Bar";if(v$9 == "Points"){z$U.O90(7);k2w["Result " + h1M.name]=z$U.D8z(n09,G2r);}else {z$U.X$L(156);k2w["Result " + h1M.name]=z$U.t1w(n09,1,G2r,100);}if(h1M.outputs[G$B]){X_p="Res";X_p+="ul";X_p+="t ";L4V="_h";L4V+="i";L4V+="s";L4V+="t";k2w[h1M.name + L4V]=k2w[X_p + h1M.name];h1M.outputMap={};h1M.outputMap[h1M.name + "_hist"]="";}}}};L7B.Studies.displayRAVI=function(W80,I8g,D92){var e6w,e3K,N6S,i4r,F_j,u93,d_u,Q3U,I8S,b$n,c7Z,J$a,g7R,j3a,U3d,Z1k;e6w="stx";e6w+="_hi";e6w+="sto";e6w+="gram";e3K="Decrea";e3K+="s";e3K+="ing B";e3K+="ar";N6S=W80.panels[I8g.panel];i4r=I8g.getContext(W80);F_j=I8g.getYAxis(W80);u93=W80.pixelFromPrice(0,N6S,F_j);z$U.O90(5);var d5O=z$U.D8z(9,27,20);d_u=W80.layout.candleWidth - d5O;if(d_u < 2){d_u=1;}Q3U=L7B.Studies.determineColor(I8g.outputs["Increasing Bar"]);I8S=L7B.Studies.determineColor(I8g.outputs[e3K]);W80.startClip(I8g.panel);W80.canvasColor(e6w);z$U.c7b();if(!I8g.underlay){i4r.globalAlpha=1;}if(!I8g.highlight && W80.highlightedDraggable){i4r.globalAlpha*=0.3;}for(var x$i=0;x$i < D92.length;x$i++){b$n="#CCC";b$n+="CCC";c7Z="_";c7Z+="h";c7Z+="is";c7Z+="t";J$a="_";J$a+="h";J$a+="is";J$a+="t";g7R=D92[x$i];z$U.O90(108);j3a=D92[z$U.D8z(0,"1",x$i)];if(!j3a){j3a=W80.getPreviousBar(W80.chart,I8g.name + "_hist",x$i);}if(!g7R)continue;U3d=0;Z1k=0;if(I8g.parameters && I8g.parameters.studyOverZonesEnabled){U3d=parseFloat(I8g.parameters.studyOverBoughtValue);Z1k=parseFloat(I8g.parameters.studyOverSoldValue);}if(!j3a){i4r.fillStyle="#CCCCCC";}else if(g7R[I8g.name + "_hist"] > U3d && j3a[I8g.name + "_hist"] < g7R[I8g.name + "_hist"]){i4r.fillStyle=Q3U;}else if(g7R[I8g.name + J$a] < Z1k && j3a[I8g.name + "_hist"] > g7R[I8g.name + c7Z]){i4r.fillStyle=I8S;}else {i4r.fillStyle=b$n;}if(g7R.candleWidth){d_u=Math.floor(Math.max(1,g7R.candleWidth - 2));}i4r.fillRect(Math.floor(W80.pixelFromBar(x$i,N6S.chart) - d_u / ("2" << 0)),Math.floor(u93),Math.floor(d_u),Math.floor(W80.pixelFromPrice(g7R[I8g.name + "_hist"],N6S,F_j) - u93));}W80.endClip();};L7B.Studies.studyLibrary=L7B.extend(L7B.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:L7B.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":"ema","Points Or Percent":[e64,"Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:L7B.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points",x1D]},parameters:{init:{isVolume:!""}}},RAVI:{name:"RAVI",seriesFN:L7B.Studies.displayRAVI,calculateFN:L7B.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":B1W,"Short Cycle":7,"Long Cycle":"65" << 0},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":V8a},centerline:0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:g$i}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};Y0=H3X=>{var F_d=g9BGt;var T8I,Z1D;T8I=typeof _CIQ !== "undefined"?_CIQ:H3X.CIQ;F_d.Z_e();if(!T8I.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {Z1D="au";Z1D+="t";Z1D+="o";T8I.Studies.calculatePrimeNumber=function(Q6j,G84){var E2O,f8p,U6T,n4a,P08,q0E,Z3t,p8U,l0m,d1C,N1F;E2O=[];f8p=G84.chart.scrubbed;for(var a0B=G84.startFrom;a0B < f8p.length;a0B++){U6T=f8p[a0B];if(!U6T)continue;n4a=U6T.High;if(!isNaN(n4a)){for(var u$w=0;n4a > 0 && n4a <= 10;u$w++){n4a*=+"10";}if(K$q(n4a)){n4a+=2;}n4a=Math.ceil(n4a);if(n4a % 2 === 0){n4a++;}while(!K$q(n4a)){n4a+=2;}n4a/=Math.pow(10,u$w);}P08=U6T.Low;if(!isNaN(P08)){for(var o16=0;P08 > 0 && P08 <= 10;o16++){P08*=10;}if(K$q(P08)){F_d.O90(8);P08-=F_d.t1w(1,"2");}P08=Math.floor(P08);if(P08 % 2 === 0){P08--;}if(P08 > 0){while(!K$q(P08)){F_d.X$L(3);P08-=F_d.t1w(0,"2");}P08/=Math.pow(10,o16);}}if(G84.type == "Prime Number Bands"){q0E="Pri";q0E+="me Bands Bottom ";if(!isNaN(n4a)){U6T["Prime Bands Top " + G84.name]=n4a;}if(!isNaN(P08)){U6T[q0E + G84.name]=Math.max(0,P08);}}else {Z3t="Re";Z3t+="s";Z3t+="ul";Z3t+="t ";p8U="Tolerance Perc";p8U+="entage";l0m=0;F_d.X$L(9);var P_T=F_d.D8z(11,15,104);d1C=G84.inputs[p8U] * (n4a - P08) / P_T;F_d.O90(6);var q78=F_d.t1w(13,1,17,3);N1F=n4a + P08 - q78 * U6T.Close;if(N1F < d1C){l0m=1;}else if(N1F > d1C){l0m=-+"1";}if(l0m){U6T[Z3t + G84.name]=l0m;}}}function K$q(Z89){var P2E;if(Z89 <= 0){return ![];}else if(Z89 != Math.floor(Z89)){return !1;}else if(E2O[Z89] === !!"1" || E2O[Z89] === !1){return E2O[Z89];}F_d.Z_e();P2E=parseInt(Math.sqrt(Z89),10);for(var l_g=2;l_g <= P2E;l_g++){if(Z89 % l_g === 0){E2O[Z89]=!({});return ![];}}E2O[Z89]=!0;return !!"1";}};T8I.Studies.studyLibrary=T8I.extend(T8I.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:T8I.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!!({}),calculateFN:T8I.Studies.calculatePrimeNumber,seriesFN:T8I.Studies.displayChannel,inputs:{"Channel Fill":!![]},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":Z1D,"Prime Bands Channel":"auto"}}});}};e3=n$R=>{var w35,F7S,A1Y;w35=typeof _CIQ !== "undefined"?_CIQ:n$R.CIQ;if(!w35.Studies){console.error("pring feature requires first activating studies feature.");}else {F7S="w";F7S+="eek";F7S+="ly";A1Y="#00DD0";A1Y+="0";w35.Studies.calculateKST=function(Z66,G9_){var B6j=g9BGt;var s8u,y$R,X6h,o2Q,N8Y,E0L,C2d,i4X,c4S,n4u,N6T,E3u,W$D,i48;s8u="K";s8u+="STSigna";s8u+="l";y$R="Heaviest R";y$R+="ate of Change";y$R+=" Period";X6h="fie";X6h+="l";X6h+="d";o2Q=G9_.chart.scrubbed;N8Y=G9_.inputs.Field;if(!N8Y || N8Y == X6h){N8Y="Close";}E0L={};C2d={};E0L[1]=Number(G9_.inputs["Lightest Rate of Change Period"]);E0L[2]=Number(G9_.inputs["Light Rate of Change Period"]);E0L[3]=Number(G9_.inputs["Heavy Rate of Change Period"]);E0L[+"4"]=Number(G9_.inputs[y$R]);C2d[1]=Number(G9_.inputs["Lightest SMA Period"]);C2d[+"2"]=Number(G9_.inputs["Light SMA Period"]);C2d[+"3"]=Number(G9_.inputs["Heavy SMA Period"]);B6j.O90(35);C2d[B6j.t1w(32,"4")]=Number(G9_.inputs["Heaviest SMA Period"]);i4X=Number(G9_.inputs["Signal Period"]);for(c4S=G9_.startFrom;c4S < o2Q.length;c4S++){if(!o2Q[c4S])continue;for(n4u=1;n4u <= 4;n4u++){N6T="_";N6T+="RO";N6T+="C";if(c4S >= E0L[n4u] && o2Q[c4S - E0L[n4u]] && o2Q[c4S - E0L[n4u]][N8Y]){B6j.O90(22);var d2j=B6j.t1w(13,118950,19,18,111070);B6j.X$L(5);var l7H=B6j.t1w(5269,0,19);B6j.X$L(162);var G$m=B6j.D8z(5631,8,5639,5633);B6j.X$L(68);var h6e=B6j.t1w(15,4,6853,16);B6j.X$L(163);var F2K=B6j.D8z(14,107380,8,8,6864956);B6j.O90(1);var B8d=B6j.t1w(488,3413);B6j.X$L(5);var L3R=B6j.t1w(102,11,9);B6j.O90(164);var B7R=B6j.D8z(14,19,265,1,1);o2Q[c4S][N6T + n4u + (980.06 < 491.44?d2j:(+"197.37",l7H) > (G$m,+"6141")?(h6e,F2K) != (B8d,+"1750")?"S":!"":" ") + G9_.name]=L3R * (o2Q[c4S][N8Y] / o2Q[c4S - E0L[n4u]][N8Y] - B7R);}}}for(n4u=1;n4u <= 4;n4u++){w35.Studies.MA("simple",C2d[n4u],"_ROC" + n4u + " " + G9_.name,"0" - 0,"_SMA" + n4u,Z66,G9_);}for(c4S=G9_.startFrom;c4S < o2Q.length;c4S++){E3u="KST";E3u+=" ";o2Q[c4S][E3u + G9_.name]=null;for(n4u=1;n4u <= 4;n4u++){W$D="KS";W$D+="T ";B6j.X$L(113);var P7b=B6j.D8z(4,19,644,4483);B6j.O90(142);var U_o=B6j.D8z(14,9,14,6871);B6j.X$L(165);var B6d=B6j.D8z(5308,14,5951,2,9);B6j.X$L(7);var Q3d=B6j.t1w(8964,9960);B6j.X$L(77);var d4o=B6j.D8z(7877,7877,7879);B6j.O90(1);var C1A=B6j.D8z(782,14);B6j.O90(7);var e6p=B6j.t1w(100320,109440);B6j.O90(95);var K$U=B6j.D8z(143,2417,10);B6j.X$L(63);var V_a=B6j.t1w(1390,13,196003,13,11);i48=o2Q[c4S]["_SMA" + n4u + (P7b != (+"294.82",U_o)?(B6d,Q3d) !== 242.47?d4o != (C1A,e6p)?" ":("G",!!({})):(K$U,!""):V_a) + G9_.name];if(i48 || i48 === 0){B6j.O90(8);o2Q[c4S][W$D + G9_.name]+=B6j.D8z(i48,n4u);}}}w35.Studies.MA("simple",i4X,"KST " + G9_.name,0,s8u,Z66,G9_);};w35.Studies.calculateSpecialK=function(A52,k7q){var s3t=g9BGt;var f2D,Z$l,I$O,A1z,A6s,g62,O7y,K5D,d6Z,C1S,n3x;f2D="Clo";f2D+="se";Z$l=k7q.chart.scrubbed;I$O=k7q.inputs.Field;if(!I$O || I$O == "field"){I$O=f2D;}A1z=k7q.inputs.Interval;if(!A1z){A1z="daily";}A6s={daily:[10,15,20,30,50,65,75,"100" >> 32,195,265,390,+"530"],weekly:[4,5,"6" << 64,8,10,+"13",15,20,39,52,+"78",104]};g62={daily:[10,10,+"10",15,50,65,+"75",100,130,130,130,195],weekly:[4,5,6,8,10,13,15,20,26,26,+"26",39]};for(O7y=k7q.startFrom;O7y < Z$l.length;O7y++){if(!Z$l[O7y])continue;for(K5D=0;K5D < A6s[A1z].length;K5D++){if(O7y >= A6s[A1z][K5D] && Z$l[O7y - A6s[A1z][K5D]] && Z$l[O7y - A6s[A1z][K5D]][I$O]){s3t.X$L(7);var F22=s3t.D8z(3,103);s3t.O90(166);var c_6=s3t.t1w(13,146,3,15,5);Z$l[O7y]["_ROC" + K5D + " " + k7q.name]=F22 * (Z$l[O7y][I$O] / Z$l[O7y - A6s[A1z][K5D]][I$O] - c_6);}}}for(K5D=0;K5D < g62[A1z].length;K5D++){d6Z="_R";d6Z+="O";d6Z+="C";w35.Studies.MA(A1z == "daily"?"simple":"exponential",g62[A1z][K5D],d6Z + K5D + ((347,8880) === 587.19?"I":8364 === 2753?802.44:+"8050" == 935.18?(+"1.72e+3",696.41):" ") + k7q.name,0,"_MA" + K5D,A52,k7q);}for(O7y=k7q.startFrom;O7y < Z$l.length;O7y++){Z$l[O7y]["Result " + k7q.name]=null;for(K5D="0" - 0;K5D < g62[A1z].length;K5D++){C1S="_";C1S+="MA";s3t.O90(120);var P$Q=s3t.D8z(775,5,6977,155);s3t.O90(77);var k6p=s3t.t1w(33552,16776,8386);s3t.X$L(36);var e7k=s3t.D8z(15,69241,4944,17,11);s3t.O90(68);var V_5=s3t.D8z(17,2,519,5);n3x=Z$l[O7y][C1S + K5D + ((P$Q,k6p) <= (191.24,e7k)?("E",V_5):" ") + k7q.name];if(n3x || n3x === 0){s3t.O90(167);Z$l[O7y]["Result " + k7q.name]+=s3t.t1w(1,n3x,K5D,4);}}}};w35.Studies.studyLibrary=w35.extend(w35.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:w35.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":"10" >> 64,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":"9" << 64},outputs:{KST:A1Y,KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:w35.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily",F7S]}}});}};U7=A2S=>{var N2u,J_p,y13,d92,K$d,h46,m$v,q3q,Q6t,a4j,g0w,c_Z,T2m,P4y;N2u=typeof _CIQ !== "undefined"?_CIQ:A2S.CIQ;J_p=typeof _timezoneJS !== "undefined"?_timezoneJS:A2S.timezoneJS;if(!N2u.Studies){y13="projectedVolume feature requi";y13+="res first activating studies feature.";console.error(y13);}else if(!N2u.Studies.studyLibrary.PVAT){d92="st";d92+="e";d92+="p";K$d="#fe6";K$d+="41c";h46="Pro";h46+="jected ";h46+="Aggregat";h46+="e Volume";m$v="+";m$v+="50%";q3q="hh:";q3q+="mm:ss";Q6t="s";Q6t+="te";Q6t+="p";a4j="#";a4j+="fe641c";g0w="-";g0w+="5";g0w+="0";g0w+="%";c_Z="+25";c_Z+="%";T2m="+5";T2m+="0%";P4y="0";P4y+=" t";P4y+="o m";P4y+="ax";N2u.Studies.initProjectedVolume=function(J1d,w30,Y2b,Y78,x_D,s4L){var V2o,X4R,z7y;V2o="Anc";V2o+="hor";V2o+=" Time";var {market:P7H}=J1d.chart;X4R="00:00";if(P7H){X4R=P7H.getNormalOpen();}if(X4R.match(/^[\d]{2}:[\d]{2}$/)){X4R+=":00";}if(!Y2b["Anchor Time"] || !Y2b[V2o].length){Y2b["Anchor Time"]=X4R;}z7y=N2u.Studies.initializeFN(J1d,w30,Y2b,Y78,x_D,s4L);if(!J1d.currentlyImporting){z7y.defaultAnchorTime=X4R;}return z7y;};N2u.Studies.validateProjectedVolumeLookback=function(o0K,v7y){var {interval:f3V, periodicity:o6Y}=o0K.layout;g9BGt.Z_e();var {"Lookback Days":p15}=v7y.inputs;g9BGt.O90(168);return g9BGt.D8z(f3V,p15,10,o6Y);};N2u.Studies.calculateProjectedVolume=function(J9a,O4y){var N1m=g9BGt;var K9N,I72,L2Z,Z$F,O2S,X1Z,b76,R$p,L54,e$U,G54,p$Z,J_P,N8n,x7Q,o88,p1f,E1i,b1Q,A4U,K9Y,J_f,G2Z,a_m,B_h,c3w,B1R,I7X,I7c,I0C,U7p,Y_0,L$m,P5m,l4E,z2$,E3y,y_h,Z97,W7M,V94,Z4p,T39,N5L,f15,C9m,w_H,J8j,a4x,E1T,F01,K62;K9N=":";K9N+="0";K9N+="0";I72="Anch";I72+="or Sele";I72+="ct";I72+="or";L2Z="hei";L2Z+="kina";L2Z+="shi";Z$F="o";Z$F+="hl";Z$F+="c";O2S="mi";O2S+="nut";O2S+="e";function s1d(B7A,e2r,z6Z){while(e2r){B7A=new Date(new Date(B7A).setDate(B7A.getDate() + (z6Z?+"1":-("1" * 1))));if(Q7t.isMarketDate(B7A)){e2r--;}}return B7A;}var {interval:R2a, timeUnit:t72, aggregationType:b3C}=J9a.layout;var {symbol:l7r, scroll:s5O, scrubbed:D2D, market:Q7t}=J9a.chart;X1Z=O4y.type === "PAV";b76=O4y.study?O4y.study.name:O4y.type;if(N2u.ChartEngine.isDailyInterval(R2a)){O4y.error=`${b76} is Intraday Only`;}else if(t72 === "tick"){N1m.O90(1);O4y.error=`${N1m.t1w("Tick mode not supported fo","r ")}${b76}`;}else if(t72 !== O2S){O4y.error=`Sub-minute periodicities not supported for ${b76}`;}else if(!b3C || ![Z$F,L2Z].includes(b3C)){O4y.error=`Aggregation type not supported for ${b76}`;}else if(!N2u.Studies.validateProjectedVolumeLookback(J9a,O4y)){O4y.error=`Selected lookback/periodicity combo not supported for ${b76}`;}if(O4y.error){return;}function M$V(i8r){return J9a.dateFromTick(i8r,null,!!({}),"scrubbed");}if(O4y.inputs[I72]){N2u.Studies.initAnchorHandle(J9a,O4y);}else {N2u.Studies.removeAnchorHandle(J9a,O4y);}R$p=Q7t?Q7t.getNormalOpen():"00:00";function H9E(r2c){console.error(`Expected data for ${M$V(r2c).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}if(R$p.match(/^[\d]{2}:[\d]{2}$/)){R$p+=K9N;}if(!J9a.currentlyImporting){if(!O4y.defaultAnchorTime){O4y.defaultAnchorTime=R$p;}else if(R$p !== O4y.defaultAnchorTime){O4y.defaultAnchorTime=R$p;O4y.inputs["Anchor Time"]=R$p;N2u.Studies.repositionAnchor(J9a,O4y);return;}}var {"Lookback Days":r$p, "Anchor Time":h8_}=O4y.inputs;N1m.O90(8);var [l_o,L9o,S7c = g9BGt.t1w(1,"0")]=h8_.split(":");L54=N2u.getFn("Market.Symbology.isForexSymbol")(l7r);e$U=O4y.getDependents(J9a);N1m.X$L(35);G54=N1m.D8z(64,"0");p$Z=[];e$U.forEach(({inputs:f$N, outputMap:j6O})=>{N1m.Z_e();if(f$N.Period){G54=Math.max(parseInt(f$N.Period),G54);p$Z.push(...Object.keys(j6O));}});O4y.dependentsOutputMap=p$Z;N8n=A8Q(D2D.length - 1,!0);x7Q=Math.ceil(D2D.length - 1 - s5O);N1m.X$L(7);o88=A8Q(N1m.t1w(G54,x7Q));if(L54 && D2D[o88] && N2u.dateToStr(D2D[o88].DT,"HH:mm") !== R$p){N1m.X$L(7);o88=A8Q(N1m.t1w(1,o88));;}if(!L54 && O4y.startFrom > o88 && D2D[o88] && D2D[o88]["V " + O4y.name] !== undefined && p$Z.every(w9B=>{N1m.c7b();return ![undefined,null].includes(D2D[o88][w9B]);}) && N8n !== !({})){J_P=N8n;;}else {J_P=o88;}function A8Q(N3Q,B_A){var Z79,Q2h,Y0r;Z79=M$V(N3Q);Q2h=Q7t.getOpen(Z79) || V7O(Z79);Y0r=l10(Q2h);if(!B_A){return Y0r;}if(Y0r < 0){Y0r=l10(s1d(Q2h,1,!""));}if(Y0r >= D2D.length){return ![];}return Y0r;}function B7j(R8b){return {hours:R8b.getHours(),minutes:R8b.getMinutes()};}p1f=s1d(M$V(o88),r$p);p1f.setHours(0,+"0",0);E1i=A8Q(0,!![]);b1Q=(E1i || E1i === ("0" ^ 0)) && l10(s1d(D2D[E1i].DT,r$p,!!({})));if(D2D[+"0"].DT > p1f){if(J9a.quoteDriver){J9a.quoteDriver.extendHistoricalData({from:p1f});if(b1Q > 0){J_P=b1Q;}else {return;}}else {N1m.X$L(1);return O4y.error=`${N1m.D8z("Not enough data to calc","ulate ")}${b76}`;}}if(J_P < 0 || J_P > D2D.length - 1){return;}A4U=D2D.length - O4y.startFrom === 1 && O4y.cachedFutureTicks && O4y.cachedLastProjection && +O4y.cachedLastProjection.DT === +D2D[D2D.length - 1].DT && D2D[J_P]["PV " + O4y.name];if(A4U){K9Y="P";K9Y+="V ";D2D[D2D.length - +"1"][K9Y + O4y.name]=O4y.cachedLastProjection.projectedValue;O4y.appendFutureTicks(J9a,O4y.cachedFutureTicks);J_P=O4y.startFrom;}else {O4y.cachedFutureTicks=null;O4y.cachedLastProjection=null;J_f=[N8n];G2Z=[];for(var y88=+"0";y88 < r$p;y88++){a_m=A8Q(J_f[0] - 1);J_f.unshift(a_m);;}while(J_f[r$p] >= J_P){B_h=J_f.pop();if(!D2D[B_h]){return H9E(B_h);}c3w=B7j(D2D[B_h].DT);var {hours:H4D, minutes:Z69}=c3w;B1R=Q7t.getClose(D2D[B_h].DT);I7X=void 0;if(!B1R){I7X={hours:24,minutes:+"0"};}else {I7c=Q7t.getNextClose(D2D[B_h].DT);I7X=B7j(B1R);while(!(I7X.hours === 0 && I7X.minutes === 0) && B1R.getDate() === I7c.getDate()){B1R=I7c;I7c=Q7t.getNextClose(I7c);}I7X=B7j(B1R);if(I7X.hours === 0){I7X.hours=24;}}I0C=J_f.slice();for(var p6m=+"0";p6m < I0C.length;p6m++){U7p=I0C[p6m];if(!D2D[U7p]){return H9E(U7p);}var {hours:m0_, minutes:f6f}=B7j(D2D[U7p].DT);if(m0_ < H4D || m0_ === H4D && f6f < Z69){do {U7p++;({hours:m0_, minutes:f6f}=B7j(D2D[U7p].DT));}while(!(m0_ === H4D && f6f === Z69));}I0C[p6m]=U7p;}while(H4D < I7X.hours || H4D === I7X.hours && Z69 < I7X.minutes){Y_0=!({});L$m=void 0;P5m=void +"0";l4E=0;z2$=0;for(var I7C=0;I7C < I0C.length;I7C++){E3y=I0C[I7C];if(E3y === null)continue;y_h=D2D[E3y];if(!y_h){return H9E(E3y);}var {hours:O2b, minutes:y8E}=B7j(y_h.DT);Z97=y_h.DT.getDate();if(O2b === H4D && y8E === Z69){l4E+=y_h.Volume;z2$++;I0C[I7C]++;if(D2D[I0C[I7C]].DT.getDate() !== Z97){I0C[I7C]=null;}else if(!Y_0){({hours:L$m, minutes:P5m}=B7j(D2D[I0C[I7C]].DT));Y_0=!!({});;}}}H4D=L$m;Z69=P5m;if(z2$ === 0)break;N1m.X$L(23);W7M=N1m.t1w(z2$,l4E);if(D2D[B_h]){V94="PV";V94+=" ";D2D[B_h][V94 + O4y.name]=W7M;}else {G2Z.push({["PV " + O4y.name]:W7M});}B_h++;}J_f.unshift(A8Q(J_f[0] - 1));;}O4y.cachedLastProjection={DT:D2D[D2D.length - 1].DT,projectedValue:D2D[D2D.length - +"1"]["PV " + O4y.name]};O4y.cachedFutureTicks=G2Z;O4y.appendFutureTicks(J9a,G2Z);}Z4p=null;N1m.X$L(7);T39=N1m.t1w(0,"0");N5L=0;if(A4U && X1Z){while(J_P > 0){N1m.X$L(7);C9m=D2D[N1m.t1w(1,J_P)]["V " + O4y.name];if(C9m || C9m === 0){T39=C9m;break;}J_P--;}}function l10(w0U){var s_X;s_X="sc";s_X+="rubbed";return J9a.tickFromDate(w0U,null,null,!!"1",s_X);}for(var u7s=J_P;u7s < D2D.length;u7s++){w_H=D2D[u7s];J8j=w_H.Volume;a4x=w_H["PV " + O4y.name];if(!w_H.futureTick){f15=u7s;}if(Z4p === null){Z4p=N2u.Studies.getMarketOffset({stx:J9a,localQuoteDate:D2D[u7s].DT,shiftToDateBoundary:!0});}E1T=new Date(new Date(w_H.DT).getTime() + Z4p);F01=D2D[u7s - 1] && new Date(new Date(D2D[u7s - 1].DT).getTime() + Z4p);K62=new J_p.Date(w_H.DT,Q7t.market_def.market_tz || "America/New_York");K62.setHours(l_o,L9o,S7c);N1m.O90(1);K62=new Date(N1m.D8z(K62,Z4p));K62.setDate(E1T.getDate());if(F01 && E1T.getDate() !== F01.getDate()){Z4p=null;T39=0;N5L=0;}if(E1T < K62){w_H["V " + O4y.name]=0;w_H["PV " + O4y.name]=0;continue;}if(X1Z){T39+=J8j;N5L+=a4x;}else {T39=J8j;N5L=a4x;}w_H["V " + O4y.name]=T39;if(!A4U){w_H["PV " + O4y.name]=N5L;}if([NaN,null,undefined].includes(T39) && !w_H.futureTick){N1m.O90(95);O4y.error=`${b76}${N1m.D8z(" require","olume","s v")}`;return;}}O4y.cachedLastProjection.projectedValue=D2D[f15]["PV " + O4y.name];O4y.outputMap={};O4y.outputMap["V " + O4y.name]="";O4y.outputMap["PV " + O4y.name]="Average Line";function V7O(Q0G){var T7Z;Q0G.setHours(0);Q0G.setMinutes(0);T7Z=N2u.Studies.getMarketOffset({stx:J9a,localQuoteDate:Q0G});N1m.c7b();return new Date(Q0G.getTime() + T7Z);}e$U.forEach(a5T=>{a5T.startFrom=J_P;a5T.study.calculateFN(J9a,a5T);});};N2u.Studies.displayProjectedVolume=function(O30,h55,s_W){var e02=g9BGt;var I1J,p8Y,o3U,X02,t63,H_C,t0w,P51;I1J="V";I1J+=" ";if(h55.error){return N2u.Studies.removeAnchorHandle(O30,h55);}var {"Alert Threshold":A1s = ""}=h55.inputs;e02.X$L(19);var v5A=e02.t1w(0,5,19,16,14);e02.O90(50);var p$0=e02.t1w(10,20);p8Y=parseInt(A1s.slice(0,v5A),p$0) / ("100" >> 0);o3U=h55.outputs["Alert Bar"];if(typeof o3U === "object"){o3U=o3U.color;}h55.volumeField=I1J + h55.name;h55.alignStepToSide=!"";h55.extendToEndOfLastBar=!"";h55.lineWidth=2;X02=O30.canvasStyle("stx_volume_underlay_up").opacity;t63=O30.canvasStyle("stx_volume_underlay_down").opacity;h55.colorFunction=function(G3k){var q56,f7p,c2e,O4z,K8x,V$X,D54;q56="V";q56+=" ";var {Open:g06, Close:m$t, iqPrevClose:V3u}=G3k;f7p=O30.colorByCandleDirection?g06:V3u;e02.X$L(169);c2e=e02.t1w(m$t,f7p);O4z=G3k["PV " + h55.name];K8x=G3k[q56 + h55.name];e02.X$L(170);V$X=e02.t1w("1",p8Y,O4z);D54=p8Y < 0?K8x < V$X:K8x > V$X;return {fill_color:D54 && o3U || (c2e?this.fill_color_down:this.fill_color_up),border_color:c2e?this.border_color_down:this.border_color_up,opacity:D54?1:c2e?t63:X02,border_opacity:c2e?t63:X02};};H_C=h55.study?h55.study.name:h55.type;var {loadingMore:j3M}=O30.chart;e02.c7b();t0w=s_W.some(z9s=>{var R$O;R$O="P";R$O+="V";R$O+=" ";e02.Z_e();return z9s && z9s[h55.volumeField] && z9s[R$O + h55.name];});P51=s_W["0" ^ 0] && !s_W[+"0"].futureTick && (s_W[0]["PV " + h55.name] === undefined || (h55.dependentsOutputMap || []).some(F12=>{return [undefined,null].includes(s_W[0][F12]);}));if(!t0w && j3M){e02.X$L(113);return h55.error=`${e02.t1w("or","hing data f","Fetc"," ")}${H_C}`;}N2u.Studies.createVolumeChart(O30,h55,s_W);N2u.Studies.displaySeriesAsLine(O30,h55,s_W);if(h55.anchorHandle){N2u.Studies.displayAnchorHandleAndLine(O30,h55,s_W);}if(P51){N2u.Studies.calculateProjectedVolume(O30,h55);}};N2u.Studies.studyLibrary=N2u.extend(N2u.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:P4y,yAxis:{ground:!!({}),initialMarginTop:0,zoom:0},calculateFN:N2u.Studies.calculateProjectedVolume,seriesFN:N2u.Studies.displayProjectedVolume,initializeFN:N2u.Studies.initProjectedVolume,removeFN:N2u.Studies.removeAnchorHandle,inputs:{"Lookback Days":+"10","Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%",T2m,c_Z,"None","-25%",g0w,"-75%","-100%","-125%","-150%"],"Anchor Selector":!!({})},outputs:{"Average Line":a4j,"Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:Q6t},attributes:{"Anchor Time":{placeholder:q3q,step:"1" | 0},"Alert Threshold":{defaultSelected:m$v}}},PAV:{name:h46,range:"0 to max",yAxis:{ground:!![],initialMarginTop:0,zoom:0},calculateFN:N2u.Studies.calculateProjectedVolume,seriesFN:N2u.Studies.displayProjectedVolume,initializeFN:N2u.Studies.initProjectedVolume,removeFN:N2u.Studies.removeAnchorHandle,inputs:{"Lookback Days":"10" | 8,"Anchor Time":"","Anchor Selector":!0},outputs:{"Average Line":K$d,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:d92},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1}}}});}};f6=X0f=>{var D4F,P8S;D4F="unde";D4F+="fined";P8S=typeof _CIQ !== D4F?_CIQ:X0f.CIQ;if(!P8S.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {P8S.Studies.calculatePsychologicalLine=function(k7x,V7T){var P6S=g9BGt;var x6$,U6a,e2h,S5r,u_K,t0m,k2K,g6i,f_T;P6S.Z_e();x6$=1318313658;U6a=-1526940988;e2h=2;for(var i_n=1;P6S.l9L(i_n.toString(),i_n.toString().length,10190) !== x6$;i_n++){S5r=V7T.chart.scrubbed;e2h+=2;}if(P6S.l9L(e2h.toString(),e2h.toString().length,89156) !== U6a){S5r=V7T.chart.scrubbed;}if(S5r.length < V7T.days + 1){V7T.error=!!"1";return;}u_K=[];P6S.O90(129);var d63=P6S.D8z(83,8,3,17,3725);t0m=d63 / V7T.days;k2K=0;for(var e1F=Math.max(V7T.startFrom - V7T.days,1);e1F < S5r.length;e1F++){g6i="Res";g6i+="u";g6i+="lt";g6i+=" ";if(S5r[e1F].futureTick)break;f_T=Number(S5r[e1F].Close > S5r[e1F - 1].Close);if(f_T){k2K+=t0m;}u_K.push(f_T);if(u_K.length > V7T.days){k2K-=u_K.shift() * t0m;}if(e1F < V7T.startFrom)continue;if(!isNaN(S5r[e1F].Close)){S5r[e1F][g6i + V7T.name]=k2K;}}};P8S.Studies.studyLibrary=P8S.extend(P8S.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:"0 to 100",calculateFN:P8S.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};q8=h3z=>{var A3q,D2G;g9BGt.Z_e();A3q=typeof _CIQ !== "undefined"?_CIQ:h3z.CIQ;if(!A3q.Studies){console.error("qstick feature requires first activating studies feature.");}else {D2G="QStic";D2G+="k";A3q.Studies.calculateQStick=function(i7y,r97){var W2L,y3_,o2e;W2L="_Cl";g9BGt.Z_e();W2L+="ose-Op";W2L+="en";W2L+=" ";y3_="Moving Avera";y3_+="ge Type";o2e=r97.chart.scrubbed;if(o2e.length < r97.days + 1){r97.error=!!1;return;}for(var T_O=r97.startFrom;T_O < o2e.length;T_O++){o2e[T_O]["_Close-Open " + r97.name]=o2e[T_O].Close - o2e[T_O].Open;}A3q.Studies.MA(r97.inputs[y3_],r97.days,W2L + r97.name,0,"Result",i7y,r97);};A3q.Studies.studyLibrary=A3q.extend(A3q.Studies.studyLibrary,{QStick:{name:D2G,calculateFN:A3q.Studies.calculateQStick,inputs:{Period:"8" >> 0,"Moving Average Type":"ma"}}});}};c0=m01=>{var c$v,s3I,E2u,N_r,v54,r38,G4z,L$w,R4T;c$v="undef";c$v+="ine";c$v+="d";s3I=typeof _CIQ !== c$v?_CIQ:m01.CIQ;if(!s3I.Studies){console.error("rainbow feature requires first activating studies feature.");}else {E2u="f";E2u+="ie";E2u+="ld";N_r="#FF";N_r+="00F";N_r+="F";v54="#7F00";v54+="FF";r38="#00";r38+="7";r38+="F";r38+="FF";G4z="#0";G4z+="0F";G4z+="FFF";L$w="#F";L$w+="F";L$w+="0";L$w+="000";R4T="R";R4T+="ainbow Moving Average";s3I.Studies.calculateRainbow=function(Y12,U7w){var t81=g9BGt;var w38,x5R,r4G,s5m,K8k,c9n,V9P,w5k,H4V,x$Z,S1x,J30,b8C,H4w,L_m,J3w,e1l,X73,H6f,M$v,E6r,v7v;function h6l(l6E,l1F){var K4y,p3D;t81.X$L(7);var u5z=t81.D8z(1,0);K4y=Number.MAX_VALUE * u5z;p3D=Number.MAX_VALUE;t81.Z_e();for(var l_q=l1F - l6E + 1;l_q <= l1F;l_q++){if(l_q < 0)continue;K4y=Math.max(K4y,x5R[l_q].Close);p3D=Math.min(p3D,x5R[l_q].Close);}return [p3D,K4y];}w38="fi";w38+="eld";x5R=U7w.chart.scrubbed;if(x5R.length < U7w.days + 1){U7w.error=!!({});return;}r4G=-1365760673;s5m=+"1310864647";K8k=2;for(var h0$=1;t81.i7j(h0$.toString(),h0$.toString().length,61315) !== r4G;h0$++){c9n=U7w.inputs.Field;K8k+=2;}if(t81.l9L(K8k.toString(),K8k.toString().length,58595) !== s5m){c9n=U7w.inputs.Field;}if(!c9n || c9n == w38){c9n="Close";}V9P=c9n;for(var u9_=1;u9_ <= 10;u9_++){w5k="S";w5k+="M";w5k+="A";H4V="S";H4V+="MA";s3I.Studies.MA("simple",U7w.days,V9P,0,H4V + u9_,Y12,U7w);t81.O90(171);var b7L=t81.t1w(16710,2,14,8348,8330);t81.X$L(9);var U8O=t81.t1w(13,14,2);t81.X$L(22);var E1a=t81.D8z(19,72930,20,16,67375);t81.O90(44);var E9k=t81.D8z(17,107644,6,6341,6332);t81.O90(66);var M8a=t81.D8z(11,5,163,1);V9P=w5k + u9_ + ((b7L,"459.13" - 0) >= ("2255" * U8O,332.83)?" ":(E1a,940.94) < (E9k,"394.43" - 0)?(+"626.97",!!"1"):M8a) + U7w.name;}for(var N5Y=Math.max(U7w.startFrom,10);N5Y < x5R.length;N5Y++){x$Z="O";x$Z+="s";x$Z+="c";if(!x5R[N5Y])continue;if(x5R[N5Y].futureTick)break;S1x=0;J30=0;t81.O90(60);var e_C=t81.D8z(31,4,8);b8C=Number.MAX_VALUE * e_C;H4w=Number.MAX_VALUE;for(u9_=1;u9_ <= 10;u9_++){L_m="S";L_m+="M";L_m+="A";t81.X$L(31);var X2B=t81.D8z(12,51002,7,8502);t81.X$L(1);var r11=t81.t1w(3767,3);t81.X$L(7);var Q5v=t81.D8z(54890,59880);t81.X$L(11);var V0x=t81.D8z(8,579286,44856,13,16);J3w=x5R[N5Y][L_m + u9_ + (204.6 !== X2B?" ":(+"684.07",+"486.62") <= (11.07,r11)?(Q5v,+"2360") != +"568.69"?!!({}):(!!"",790.32):V0x) + U7w.name];if(J3w || J3w === 0){S1x+=J3w;J30++;b8C=Math.max(b8C,J3w);H4w=Math.min(H4w,J3w);}}if(U7w.name.indexOf(x$Z) > -("1" >> 0)){e1l="H";e1l+="HV";e1l+="/LLV Lo";e1l+="okback";X73=h6l(U7w.inputs[e1l],N5Y);if(J30){H6f="Ov";H6f+="e";H6f+="r";H6f+=" ";M$v="_";M$v+="h";M$v+="is";M$v+="t";t81.X$L(57);var O3_=t81.D8z(200,1,100);x5R[N5Y][U7w.name + M$v]=O3_ * (x5R[N5Y][c9n] - S1x / J30) / Math.max(0.000001,X73["1" >> 0] - X73[0]);t81.X$L(7);var r2m=t81.D8z(10,110);t81.O90(96);var u4b=t81.D8z(16,19,5777,19);x5R[N5Y][H6f + U7w.name]=r2m * (b8C - H4w) / Math.max(+"0.000001",X73[u4b] - X73[0]);x5R[N5Y]["Under " + U7w.name]=-x5R[N5Y]["Over " + U7w.name];x5R[N5Y]["Zero " + U7w.name]=0;}}}if(U7w.name.indexOf("Osc") > -1){E6r="Ze";E6r+="r";E6r+="o";E6r+=" ";v7v="Positive Ba";v7v+="r";U7w.outputMap={};U7w.outputMap["Over " + U7w.name]=v7v;U7w.outputMap["Under " + U7w.name]="Negative Bar";U7w.outputMap[E6r + U7w.name]="";U7w.outputMap[U7w.name + "_hist"]="";}};s3I.Studies.displayRainbowMA=function(m87,A7C,G4_){var J1O,n6L;J1O=m87.panels[A7C.panel];for(var n8A=10;n8A > +"0";n8A--){n6L="S";n6L+="M";n6L+="A";s3I.Studies.displayIndividualSeriesAsLine(m87,A7C,J1O,n6L + n8A + (("3620" - 0,9520) <= 6410?660:2686 > 9.35?" ":2.97e+3) + A7C.name,G4_);}};s3I.Studies.displayRainbowOsc=function(b6H,n5A,n31){var R8Z=g9BGt;var P8G,y21,i9o,Q_x,e97,K8s,g7F,v9T,L7R,V2j,q8L,x7I,P9d,U9Y,s_C;P8G="U";P8G+="n";P8G+="de";P8G+="r ";y21="N";y21+="egative Bar";i9o="Zer";i9o+="o";i9o+=" ";Q_x="O";Q_x+="v";Q_x+="er";Q_x+=" ";s3I.Studies.displaySeriesAsLine(b6H,n5A,n31);e97=b6H.panels[n5A.panel];K8s=n5A.getContext(b6H);g7F=n5A.getYAxis(b6H);b6H.startClip(n5A.panel);if(!n5A.highlight && b6H.highlightedDraggable){K8s.globalAlpha*=0.3;}v9T=b6H.pixelFromPrice(0,e97,g7F);L7R=e97.name != n5A.chart.name;V2j=s3I.Studies.determineColor(n5A.outputs["Positive Bar"]);K8s.strokeStyle=V2j;b6H.plotDataSegmentAsLine("Over " + n5A.name,e97,{skipTransform:L7R,label:![],yAxis:g7F});R8Z.O90(3);q8L=K8s.createLinearGradient(R8Z.t1w(0,"0"),v9T,0,g7F.flipped?g7F.bottom:g7F.top);q8L.addColorStop(0,b6H.containerColor);R8Z.O90(8);q8L.addColorStop(R8Z.t1w(1,"1"),V2j);s3I.prepareChannelFill(b6H,{skipTransform:L7R,color:q8L,opacity:!n5A.highlight && b6H.highlightedDraggable?0.3:1,panelName:n5A.panel,topBand:Q_x + n5A.name,bottomBand:i9o + n5A.name,yAxis:g7F});x7I=s3I.Studies.determineColor(n5A.outputs[y21]);K8s.strokeStyle=x7I;b6H.plotDataSegmentAsLine("Under " + n5A.name,e97,{skipTransform:L7R,label:!!0,yAxis:g7F});R8Z.X$L(0);P9d=K8s.createLinearGradient(0,v9T,R8Z.t1w("0",0),g7F.flipped?g7F.top:g7F.bottom);P9d.addColorStop(0,b6H.containerColor);P9d.addColorStop(1,x7I);s3I.prepareChannelFill(b6H,{skipTransform:L7R,color:P9d,opacity:!n5A.highlight && b6H.highlightedDraggable?0.3:1,panelName:n5A.panel,topBand:"Zero " + n5A.name,bottomBand:P8G + n5A.name,yAxis:g7F});R8Z.X$L(163);var p$f=R8Z.t1w(17,14,12,3,1114);U9Y=b6H.layout.candleWidth - p$f;if(U9Y < 2){U9Y=1;}b6H.canvasColor("stx_histogram");if(!n5A.underlay){K8s.globalAlpha=1;}if(!n5A.highlight && b6H.highlightedDraggable){K8s.globalAlpha*=0.3;}K8s.fillStyle="#CCCCCC";for(var C$x=0;C$x < n31.length;C$x++){s_C=n31[C$x];if(!s_C)continue;if(s_C[n5A.name + "_hist"] > 0){K8s.fillStyle=V2j;}else if(s_C[n5A.name + "_hist"] < 0){K8s.fillStyle=x7I;}if(s_C.candleWidth){U9Y=Math.floor(Math.max(1,s_C.candleWidth - 2));}K8s.fillRect(Math.floor(b6H.pixelFromBar(C$x,e97.chart) - U9Y / 2),Math.floor(v9T),Math.floor(U9Y),Math.floor(b6H.pixelFromPrice(s_C[n5A.name + "_hist"],e97,g7F) - v9T));}b6H.endClip();};s3I.Studies.studyLibrary=s3I.extend(s3I.Studies.studyLibrary,{"Rainbow MA":{name:R4T,overlay:!!({}),calculateFN:s3I.Studies.calculateRainbow,seriesFN:s3I.Studies.displayRainbowMA,inputs:{Period:2,Field:"field"},outputs:{SMA1:L$w,SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:G4z,SMA7:r38,SMA8:"#0000FF",SMA9:v54,SMA10:N_r}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:s3I.Studies.calculateRainbow,seriesFN:s3I.Studies.displayRainbowOsc,centerline:+"0",inputs:{Period:2,Field:E2u,"HHV/LLV Lookback":+"10"},outputs:{"Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};x7=N4O=>{var i2R,q7V;i2R=typeof _CIQ !== "undefined"?_CIQ:N4O.CIQ;g9BGt.c7b();if(!i2R.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {q7V="#0";q7V+="0";q7V+="00";q7V+="FF";i2R.Studies.calculateRandomWalk=function(X0k,w_v){var F33,t$r,g6f,E5W,B6z,E52,J5x,v5z,E$W;F33=w_v.chart.scrubbed;if(F33.length < w_v.days + 1){w_v.error=!!"1";return;}for(var a53=Math.max(2,w_v.startFrom);a53 < F33.length;a53++){t$r=0;g6f=F33[a53].High;E5W=F33[a53].Low;B6z=+"0";E52=0;for(var f1m=1;f1m <= w_v.days;f1m++){if(F33[a53].futureTick)break;if(a53 <= f1m){B6z=E52=0;break;}t$r+=F33[a53 - f1m].trueRange;J5x=t$r / f1m * Math.sqrt(f1m);if(J5x){v5z=(g6f - F33[a53 - f1m].Low) / J5x;E$W=(F33[a53 - f1m].High - E5W) / J5x;B6z=Math.max(B6z,v5z);E52=Math.max(E52,E$W);}}if(!F33[a53].futureTick && (!isNaN(g6f) || !isNaN(E5W))){F33[a53]["Random Walk High " + w_v.name]=B6z;F33[a53]["Random Walk Low " + w_v.name]=E52;}}};i2R.Studies.studyLibrary=i2R.extend(i2R.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:i2R.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":q7V}}});}};J3=K59=>{var f19=g9BGt;var t7W,U3h,l0h;t7W="unde";f19.c7b();t7W+="fin";t7W+="e";t7W+="d";U3h=typeof _CIQ !== t7W?_CIQ:K59.CIQ;if(!U3h.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {l0h="#FF0";l0h+="000";U3h.Studies.calculateRelativeVigor=function(q6A,d3_){var e1R,N53,v6$,b5r,Q0R,H70,w3h,N2g,z_v,n1C,Q38,c6b,I7o;e1R="RelVigSigna";e1R+="l";N53="triangu";N53+="lar";f19.Z_e();v6$="tr";v6$+="iangular";b5r="_Cha";b5r+="ng";b5r+="e";b5r+=" ";Q0R=d3_.chart.scrubbed;if(Q0R.length < d3_.days + 1){d3_.error=!"";return;}for(H70=d3_.startFrom;H70 < Q0R.length;H70++){w3h=Q0R[H70];if(!isNaN(w3h.Close) && !isNaN(w3h.Open)){w3h["_Change " + d3_.name]=w3h.Close - w3h.Open;}if(!isNaN(w3h.High) && !isNaN(w3h.Low)){w3h["_Range " + d3_.name]=w3h.High - w3h.Low;}}U3h.Studies.MA("triangular",4,b5r + d3_.name,0,"_Numer",q6A,d3_);U3h.Studies.MA(v6$,4,"_Range " + d3_.name,0,"_Denom",q6A,d3_);N2g=[];z_v=[];for(H70=Math.max(d3_.startFrom - d3_.days,0);H70 < Q0R.length;H70++){n1C="_Den";n1C+="om";n1C+=" ";if(Q0R[H70].futureTick)break;if(Q0R[H70]["_Numer " + d3_.name] === null && Q0R[H70]["_Denom " + d3_.name] === null)continue;N2g.push(Q0R[H70]["_Numer " + d3_.name]);z_v.push(Q0R[H70][n1C + d3_.name]);if(N2g.length > d3_.days){N2g.shift();z_v.shift();}Q38=0;f19.X$L(18);c6b=f19.t1w("0",0);for(I7o=0;I7o < N2g.length;I7o++){Q38+=N2g[I7o];}for(I7o=0;I7o < z_v.length;I7o++){c6b+=z_v[I7o];}if(c6b === "0" << 32){c6b=0.00000001;}if(H70 < d3_.startFrom)continue;f19.X$L(23);Q0R[H70]["Rel Vig " + d3_.name]=f19.D8z(c6b,Q38);}f19.X$L(35);U3h.Studies.MA(N53,f19.D8z(64,"4"),"Rel Vig " + d3_.name,0,e1R,q6A,d3_);for(H70=d3_.startFrom;H70 < Q0R.length;H70++){Q0R[H70][d3_.name + "_hist"]=Q0R[H70]["Rel Vig " + d3_.name] - Q0R[H70]["RelVigSignal " + d3_.name];}d3_.outputMap[d3_.name + "_hist"]="";};U3h.Studies.studyLibrary=U3h.extend(U3h.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:U3h.Studies.displayHistogramWithSeries,calculateFN:U3h.Studies.calculateRelativeVigor,inputs:{Period:"10" * 1},outputs:{"Rel Vig":"auto",RelVigSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":l0h}}});}};H8=T$j=>{var S5P=g9BGt;S5P.Z_e();var Q4A,C01,L7V;Q4A=typeof _CIQ !== "undefined"?_CIQ:T$j.CIQ;if(!Q4A.Studies){console.error("rsi feature requires first activating studies feature.");}else {C01="a";C01+="ut";C01+="o";L7V="0 ";L7V+="to ";L7V+="1";L7V+="00";Q4A.Studies.calculateRSI=function(H95,F_P){var x6p,r6A,C1t,I7m,e56,k1K,J_Z,d7K,e_o,p1V,u$I,G1_,Z28,e$P;x6p="Clo";x6p+="se";r6A="fi";r6A+="e";r6A+="l";r6A+="d";C1t=F_P.chart.scrubbed;I7m=F_P.inputs.Field;if(!I7m || I7m == r6A){I7m=x6p;}S5P.Z_e();if(C1t.length < F_P.days + 1){F_P.error=!!({});return;}for(var h1Z=F_P.startFrom;h1Z < C1t.length;h1Z++){e56="_";e56+="avgL";e56+=" ";k1K="_";k1K+="avg";k1K+="G ";J_Z="_a";J_Z+="v";J_Z+="gL ";d7K="_";d7K+="av";d7K+="gG ";if(!h1Z)continue;e_o=C1t[h1Z];S5P.O90(89);p1V=C1t[S5P.D8z(h1Z,"1")];if(!e_o[I7m] && e_o[I7m] !== 0)continue;if(!p1V[I7m] && p1V[I7m] !== 0)continue;u$I=e_o[I7m] - p1V[I7m];G1_=Math.min(h1Z,F_P.days);Z28=p1V[d7K + F_P.name];if(!Z28){S5P.O90(8);Z28=S5P.D8z(1,"0");}S5P.O90(23);Z28-=S5P.D8z(G1_,Z28);e$P=p1V[J_Z + F_P.name];if(!e$P){e$P=0;}S5P.X$L(23);e$P-=S5P.t1w(G1_,e$P);if(u$I > 0){S5P.O90(23);Z28+=S5P.t1w(G1_,u$I);}else if(u$I <= 0){S5P.X$L(23);e$P-=S5P.t1w(G1_,u$I);}else continue;if(h1Z >= F_P.days){if((Z28 || Z28 !== 0) && (e$P || e$P !== 0)){e_o["RSI " + F_P.name]=r_I(Z28,e$P);}}e_o[k1K + F_P.name]=Z28;e_o[e56 + F_P.name]=e$P;}function r_I(C6a,K7a){var h1W,L4H,w4W,s8_;S5P.c7b();S5P.O90(7);h1W=S5P.t1w(0,"142210496");L4H=617212667;w4W=+"2";for(var F1c=1;S5P.i7j(F1c.toString(),F1c.toString().length,93840) !== h1W;F1c++){if(K7a === "0" - 0){return +"100";}S5P.O90(23);s8_=S5P.D8z(K7a,C6a);S5P.X$L(172);return S5P.D8z(1,100,1,"100",s8_);}if(S5P.l9L(w4W.toString(),w4W.toString().length,84944) !== L4H){if(K7a != ("2" | 2)){return 964;}S5P.X$L(29);s8_=S5P.D8z(K7a,C6a);S5P.O90(173);return S5P.D8z(s8_,102,7,"351");}}F_P.zoneOutput="RSI";};Q4A.Studies.studyLibrary=Q4A.extend(Q4A.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:Q4A.Studies.calculateRSI,range:L7V,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:C01}}}});}};d8=F8U=>{var w5c=g9BGt;w5c.Z_e();var Q$e,e_J;Q$e=typeof _CIQ !== "undefined"?_CIQ:F8U.CIQ;if(!Q$e.Studies){e_J="schaffTr";e_J+="endCycl";e_J+="e ";e_J+="feature requires first activating studies feature.";console.error(e_J);}else {Q$e.Studies.calculateSchaff=function(j$j,D4c){var o43,r8x,K$D,i3w,w4s,y32,v$y,s5L,q1T,D6N,i4C,Y$e,b7K,q1n,f5f,g7H,H5O,X5P,r42,p6s,y7f,Z$D;o43="M";o43+="ovin";o43+="g Ave";o43+="rage Type";r8x="_M";r8x+="AC";r8x+="D1";K$D="Moving A";K$D+="verage Type";i3w="fi";i3w+="e";i3w+="l";i3w+="d";w4s="Sh";w4s+="o";w4s+="rt Cycle";y32=D4c.chart.scrubbed;v$y=D4c.days;s5L=Number(D4c.inputs[w4s]);q1T=Number(D4c.inputs["Long Cycle"]);if(y32.length < Math.max(v$y,s5L,q1T) + ("1" << 32)){D4c.error=!![];return;}D6N=D4c.inputs.Field;function e6Q(L36,F5P,a_f){w5c.c7b();var J5s,h77,V3w;J5s=null;h77=null;for(var K54=F5P - L36 + +"1";K54 <= F5P;K54++){w5c.X$L(7);var k7B=w5c.D8z(40800,44200);w5c.X$L(65);var s68=w5c.t1w(5,252125,43475,6);w5c.O90(174);var Y3y=w5c.t1w(561,2257,2244,22,11);V3w=y32[K54][a_f + ((k7B,s68) !== Y3y?" ":!"") + D4c.name];if(!V3w)continue;J5s=J5s === null?V3w:Math.min(J5s,V3w);h77=h77 === null?V3w:Math.max(h77,V3w);}return [J5s,h77];}if(!D6N || D6N == i3w){D6N="Close";}i4C=0.5;Q$e.Studies.MA(D4c.inputs[K$D],s5L,D6N,0,r8x,j$j,D4c);Q$e.Studies.MA(D4c.inputs[o43],q1T,D6N,0,"_MACD2",j$j,D4c);Y$e=0;b7K=0;for(var R6P=D4c.startFrom;R6P < y32.length;R6P++){q1n="_";q1n+="M";q1n+="AC";q1n+="D";f5f=y32[R6P];if(R6P < q1T - 1)continue;g7H=f5f["_MACD1 " + D4c.name];H5O=f5f["_MACD2 " + D4c.name];if(g7H || g7H === 0 || H5O || H5O === ("0" | 0)){X5P="_MACD";X5P+=" ";w5c.X$L(7);f5f[X5P + D4c.name]=w5c.D8z(H5O,g7H);}r42=f5f["_MACD " + D4c.name];if(R6P < q1T + (v$y - ("1" | 1)))continue;p6s=e6Q(v$y,R6P,q1n);Y$e=p6s[1] > p6s[0]?100 * (r42 - p6s[0]) / (p6s[+"1"] - p6s[+"0"]):Y$e;if(r42 || r42 === "0" >> 32){y7f="_";y7f+="PF ";f5f[y7f + D4c.name]=y32[R6P - 1]["_PF " + D4c.name]?y32[R6P - 1]["_PF " + D4c.name] + i4C * (Y$e - y32[R6P - 1]["_PF " + D4c.name]):Y$e;}Z$D=f5f["_PF " + D4c.name];if(R6P < q1T + 2 * (v$y - 1))continue;p6s=e6Q(v$y,R6P,"_PF");b7K=p6s[1] > p6s[0]?"100" * 1 * (Z$D - p6s["0" * 1]) / (p6s[1] - p6s[0]):b7K;if(Z$D || Z$D === 0){f5f["Result " + D4c.name]=y32[R6P - 1]["Result " + D4c.name]?y32[R6P - 1]["Result " + D4c.name] + i4C * (b7K - y32[R6P - ("1" >> 64)]["Result " + D4c.name]):b7K;}}};Q$e.Studies.studyLibrary=Q$e.extend(Q$e.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:Q$e.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:75,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};T5=O6A=>{var N_v,n70,S5m,e86,I6d;N_v="u";N_v+="nd";N_v+="efined";n70=typeof _CIQ !== N_v?_CIQ:O6A.CIQ;if(!n70.Studies){S5m="shinoh";S5m+="ara feature requires fir";S5m+="st activating studies featu";S5m+="re.";console.error(S5m);}else {e86="#5";e86+="F";e86+="7";e86+="CB8";I6d="Shinohara Intensi";I6d+="ty Ratio";n70.Studies.calculateShinohara=function(J9c,s8c){var F0l=g9BGt;F0l.c7b();var t2m,E0v,T0b,X6o;t2m=s8c.chart.scrubbed;if(t2m.length < s8c.days + 1){s8c.error=!![];return;}E0v={weakNum:+"0",weakDen:0,strongNum:"0" >> 0,strongDen:0};if(s8c.startFrom > +"1"){E0v=n70.clone(t2m[s8c.startFrom - 1]["_accums " + s8c.name]);}for(var E8G=s8c.startFrom;E8G < t2m.length;E8G++){T0b="_";T0b+="accu";T0b+="m";T0b+="s ";E0v.weakNum+=t2m[E8G].High - t2m[E8G].Close;E0v.weakDen+=t2m[E8G].Close - t2m[E8G].Low;if(E8G > +"0"){F0l.O90(149);var E47=F0l.t1w(0,9,2431,18,15);E0v.strongNum+=t2m[E8G].High - t2m[E8G - E47].Close;F0l.X$L(49);var J5O=F0l.t1w(1,12,9,20);E0v.strongDen+=t2m[E8G - J5O].Close - t2m[E8G].Low;}if(E8G >= s8c.days){X6o="Weak";X6o+=" R";X6o+="atio ";E0v.weakNum-=t2m[E8G - s8c.days].High - t2m[E8G - s8c.days].Close;E0v.weakDen-=t2m[E8G - s8c.days].Close - t2m[E8G - s8c.days].Low;F0l.X$L(1);var u2n=F0l.t1w(5,95);t2m[E8G][X6o + s8c.name]=u2n * E0v.weakNum / E0v.weakDen;if(E8G > s8c.days){F0l.O90(113);var b8b=F0l.t1w(10,16,3,3);E0v.strongNum-=t2m[E8G - s8c.days].High - t2m[E8G - s8c.days - ("1" << b8b)].Close;E0v.strongDen-=t2m[E8G - s8c.days - +"1"].Close - t2m[E8G - s8c.days].Low;t2m[E8G]["Strong Ratio " + s8c.name]=("100" << 0) * E0v.strongNum / E0v.strongDen;}}t2m[E8G][T0b + s8c.name]=n70.clone(E0v);}};n70.Studies.studyLibrary=n70.extend(n70.Studies.studyLibrary,{Shinohara:{name:I6d,calculateFN:n70.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":e86}}});}};C2=j2f=>{var a4E,v7X,q_i,m5j,F4t,l65,b0m;a4E=typeof _CIQ !== "undefined"?_CIQ:j2f.CIQ;if(!a4E.Studies){console.error("stochastics feature requires first activating studies feature.");}else {v7X="a";v7X+="u";v7X+="t";v7X+="o";q_i="#";q_i+="FF000";q_i+="0";m5j="a";m5j+="u";m5j+="t";m5j+="o";F4t="Stoc";F4t+="hast";F4t+="ics (Simple)";l65="a";l65+="u";l65+="to";b0m="a";b0m+="u";b0m+="t";b0m+="o";a4E.Studies.calculateStochastics=function(a8T,D22){var K6o=g9BGt;var E9Y,w$s,Q2R,N5z,v7g,L$9,x3t,S98,u_i,C5V,S2s,l0c,F7n;E9Y="%";E9Y+="D";w$s="%";w$s+="K";Q2R="_Fast";Q2R+="%K ";N5z="%K Smoot";N5z+="hing Pe";N5z+="riods";v7g="%K Pe";v7g+="r";v7g+="io";v7g+="ds";if(!D22.smooth){D22.smooth=D22.inputs.Smooth;}L$9=D22.inputs.Field;if(!L$9 || L$9 == "field"){L$9="Close";}x3t=D22.inputs[v7g];if(!x3t){x3t=D22.days;}S98=D22.chart.scrubbed;if(S98.length < Math.max(x3t,D22.days) + 1){D22.error=!![];return;}u_i=D22.inputs[N5z];if(u_i && !D22.inputs.Fast){D22.smooth=!![];}else if(D22.smooth){K6o.O90(0);u_i=K6o.t1w("3",1);}C5V=D22.inputs["%D Periods"];if(!C5V){C5V=+"3";}if(D22.outputs.Fast){S2s="%D";S2s+=" ";l0c="Fa";l0c+="st";D22.outputMap={};D22.outputMap["%K " + D22.name]=l0c;D22.outputMap[S2s + D22.name]="Slow";}for(var l7$=Math.max(x3t,D22.startFrom);l7$ < S98.length;l7$++){F7n=r1y(l7$,L$9,x3t);if(F7n !== null){S98[l7$]["_Fast%K " + D22.name]=r1y(l7$,L$9,x3t);}}a4E.Studies.MA("simple",D22.smooth?u_i:1,Q2R + D22.name,0,w$s,a8T,D22);a4E.Studies.MA("simple",C5V,"%K " + D22.name,0,E9Y,a8T,D22);function r1y(j8l,F7e,F2y){var q_W,v2o,i0Z,n38,X0Z,p9F,Z9X,J3v,e6f;K6o.O90(175);q_W=K6o.t1w("1",F2y,0,j8l);K6o.X$L(83);var K_g=K6o.t1w(12,15,0,359,12);v2o=Number.MAX_VALUE * -K_g;i0Z=Number.MAX_VALUE;for(var g2R=q_W;g2R <= j8l;g2R++){n38="H";n38+="i";n38+="g";n38+="h";X0Z="L";X0Z+="o";X0Z+="w";p9F="C";p9F+="lose";Z9X=S98[g2R][F7e == p9F?X0Z:F7e];J3v=S98[g2R][F7e == "Close"?n38:F7e];if(!Z9X && Z9X !== +"0")continue;if(!J3v && J3v !== 0)continue;i0Z=Math.min(i0Z,Z9X);v2o=Math.max(v2o,J3v);}if(v2o == Number.MAX_VALUE * -1 || i0Z == Number.MAX_VALUE){return null;}e6f=v2o == i0Z?0:(S98[j8l][F7e] - i0Z) / (v2o - i0Z) * 100;return e6f;}};a4E.Studies.calculateStochMomentum=function(v8u,h4S){var t3_=g9BGt;var V_C,b9$,f5s,w9F,R23,T9c,k7H,A6d,Z$3,A5t,q8y,N47,w9M;V_C="%";V_C+="K ";b9$="_";function s5h(j2o,Z1G){var E6c,Z_z;E6c=null;Z_z=null;for(var U9b=Z1G - j2o + 1;U9b <= Z1G;U9b++){E6c=E6c === null?A5t[U9b].Low:Math.min(E6c,A5t[U9b].Low);Z_z=Z_z === null?A5t[U9b].High:Math.max(Z_z,A5t[U9b].High);}return [E6c,Z_z];}b9$+="DH";b9$+="L1 ";f5s="e";f5s+="xpo";f5s+="nential";w9F="e";w9F+="xp";w9F+="o";w9F+="nential";R23="%";R23+="D Pe";R23+="riods";T9c=Number(h4S.inputs["%K Periods"]);k7H=Number(h4S.inputs["%K Smoothing Periods"]);A6d=Number(h4S.inputs["%K Double Smoothing Periods"]);Z$3=Number(h4S.inputs[R23]);A5t=h4S.chart.scrubbed;if(A5t.length < T9c + k7H + A6d - 1 || A5t.length < Z$3){h4S.error=!![];return;}for(q8y=Math.max(T9c,h4S.startFrom) - 1;q8y < A5t.length;q8y++){N47=A5t[q8y];w9M=s5h(T9c,q8y);t3_.X$L(117);var x9k=t3_.D8z(19,2,19);t3_.O90(117);var a75=t3_.D8z(17,3,17);N47["_H " + h4S.name]=N47.Close - (w9M[0] + w9M[x9k]) / a75;t3_.X$L(27);var L4D=t3_.D8z(18,8,5,9);N47["_DHL " + h4S.name]=w9M[L4D] - w9M[0];}a4E.Studies.MA(w9F,k7H,"_H " + h4S.name,0,"_HS1",v8u,h4S);t3_.Z_e();a4E.Studies.MA(f5s,A6d,"_HS1 " + h4S.name,0,"_HS2",v8u,h4S);a4E.Studies.MA("exponential",k7H,"_DHL " + h4S.name,0,"_DHL1",v8u,h4S);a4E.Studies.MA("exponential",A6d,b9$ + h4S.name,+"0","_DHL2",v8u,h4S);for(q8y=T9c - 1;q8y < A5t.length;q8y++){t3_.O90(176);var P0c=t3_.D8z(6,120,300,20);A5t[q8y]["%K " + h4S.name]=A5t[q8y]["_HS2 " + h4S.name] / (0.5 * A5t[q8y]["_DHL2 " + h4S.name]) * P0c;}a4E.Studies.MA(h4S.inputs["%D Moving Average Type"],Z$3,V_C + h4S.name,0,"%D",v8u,h4S);h4S.zoneOutput="%K";};a4E.Studies.studyLibrary=a4E.extend(a4E.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:a4E.Studies.calculateStochMomentum,inputs:{"%K Periods":+"10","%K Smoothing Periods":"3" ^ 0,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":b0m,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:"40" ^ 0,studyOverBoughtColor:l65,studyOverSoldValue:-("40" ^ 0),studyOverSoldColor:"auto"}}},stochastics:{name:F4t,range:"0 to 100",calculateFN:a4E.Studies.calculateStochastics,inputs:{Period:"14" | 10,Field:"field",Smooth:!""},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:m5j}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:a4E.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:![],"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":q_i},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:+"80",studyOverBoughtColor:v7X,studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){g9BGt.c7b();return this.inputs.Fast;}}},centerline:50}});}};P1=E8W=>{var I81,v5C,S1b;I81="und";I81+="efin";I81+="ed";v5C=typeof _CIQ !== I81?_CIQ:E8W.CIQ;if(!v5C.Studies){S1b="supertrend featur";S1b+="e requires firs";S1b+="t activating studies feature.";console.error(S1b);}else {v5C.Studies.calculateSupertrend=function(Y6h,g_1){var O9k=g9BGt;var t4U,R7E,b$A,t1H,o_n,q7w,K50,Q1E,d90,Y5O,O6m,f1f,b34,S2k;t4U="Tr";O9k.c7b();t4U+="e";t4U+="nd";t4U+=" ";R7E=g_1.chart.scrubbed;if(R7E.length < g_1.days + 1){g_1.error=!!({});return;}v5C.Studies.calculateStudyATR(Y6h,g_1);for(var V9a=g_1.startFrom;V9a < R7E.length;V9a++){b$A="_D";b$A+="owntr";b$A+="en";b$A+="d ";t1H="_U";t1H+="ptre";t1H+="nd ";o_n=R7E[V9a];if(!o_n)continue;O9k.X$L(5);var T2s=O9k.t1w(22,29,9);q7w=(o_n.High + o_n.Low) / T2s;K50=g_1.inputs.Multiplier * o_n["ATR " + g_1.name];O9k.X$L(7);Q1E=O9k.D8z(K50,q7w);O9k.O90(1);d90=O9k.D8z(q7w,K50);if(V9a){Y5O="_Down";Y5O+="trend ";O6m="_D";O6m+="ow";O6m+="ntre";O6m+="nd ";if(R7E[V9a - 1] && R7E[V9a - 1].Close && R7E[V9a - 1].Close > R7E[V9a - 1]["_Uptrend " + g_1.name] && R7E[V9a - ("1" << 96)]["_Uptrend " + g_1.name] > Q1E){O9k.O90(7);Q1E=R7E[O9k.t1w(1,V9a)]["_Uptrend " + g_1.name];}if(R7E[V9a - 1] && R7E[V9a - 1].Close && R7E[V9a - 1].Close < R7E[V9a - 1][O6m + g_1.name] && R7E[V9a - 1][Y5O + g_1.name] < d90){O9k.O90(7);d90=R7E[O9k.D8z(1,V9a)]["_Downtrend " + g_1.name];}}o_n["_Direction " + g_1.name]=1;if(V9a){f1f="_D";f1f+="irection ";b34="_Dire";b34+="ction ";S2k="_Dire";S2k+="cti";S2k+="o";S2k+="n ";O9k.X$L(7);o_n[S2k + g_1.name]=R7E[O9k.t1w(1,V9a)][b34 + g_1.name];if(o_n.Close > R7E[V9a - 1]["_Downtrend " + g_1.name]){o_n[f1f + g_1.name]=1;}else if(o_n.Close < R7E[V9a - "1" * 1]["_Uptrend " + g_1.name]){o_n["_Direction " + g_1.name]=-1;}}o_n[t1H + g_1.name]=Q1E;o_n[b$A + g_1.name]=d90;o_n["Trend " + g_1.name]=o_n["_Direction " + g_1.name] > 0?Q1E:d90;if(!V9a)continue;}g_1.outputMap={};g_1.outputMap[t4U + g_1.name]="";};v5C.Studies.displaySupertrend=function(t4m,H57,u5A){var g46=g9BGt;var U6L,t4h,F4X,F_Y,v4q,h9x,J5Y,W1X,a$u,N0p,u1Q;U6L=t4m.panels[H57.panel];t4h=H57.getContext(t4m);F4X=H57.getYAxis(t4m);F_Y={skipTransform:U6L.name != H57.chart.name,skipProjections:!!"1",label:t4m.preferences.labels,yAxis:F4X,highlight:H57.highlight};t4h.strokeStyle=U_D(t4m,u5A[u5A.length - +"1"]);t4h.lineWidth=2;if(H57.highlight){g46.X$L(8);t4h.lineWidth=g46.t1w(1,"1.5");}v4q="Trend " + H57.name;for(var j1a=0;U6L.chart.transformFunc && F4X != U6L.chart.yAxis && j1a < u5A.length;j1a++){h9x=u5A[j1a];if(h9x && h9x.transform){h9x.transform[v4q]=U6L.chart.transformFunc(t4m,U6L.chart,h9x[v4q]);}}t4m.plotDataSegmentAsLine(v4q,U6L,F_Y,U_D);t4h.lineWidth=1;g46.O90(35);t4h.globalAlpha=g46.D8z(64,"1");t4m.startClip(H57.panel);function U_D(Z60,m3F,m6L){if(m3F && m3F["_Direction " + H57.name] < 0){return H57.outputs.Downtrend;}return H57.outputs.Uptrend;}if(!H57.highlight && t4m.highlightedDraggable){t4h.globalAlpha*=0.3;}g46.O90(115);var t0d=g46.t1w(13,11,9845,118161);g46.X$L(9);var j4M=g46.D8z(9,11,8476);g46.O90(74);var p5m=g46.t1w(8,15,33,9);g46.O90(1);var J$n=g46.t1w(328,4599);g46.X$L(126);var Q75=g46.D8z(21,4,21,5);J5Y=t4h.measureText((352.81,t0d) == +"259.35"?j4M > "463.26" * p5m?(J$n,404.02):!1:"\u25B2").width / Q75;for(W1X=0;W1X < u5A.length;W1X++){a$u="_Dir";a$u+="ect";a$u+="ion ";if(!u5A[W1X] || !u5A[W1X - 1])continue;if(u5A[W1X - 1]["_Direction " + H57.name] > u5A[W1X][a$u + H57.name]){t4h.fillStyle=H57.outputs.Downtrend;t4h.textBaseline="bottom";N0p=t4m.pixelFromPrice(u5A[W1X].High,U6L,F4X);for(var y9p=5;y9p <= 45;y9p+=10){if(F4X.flipped){t4h.fillText("\u25B2",t4m.pixelFromBar(W1X) - J5Y,N0p + y9p);}else {t4h.fillText((4200,+"9810") !== (+"1660",572.7)?("7240" ^ 0) > (1760,1390)?"\u25BC":(297,1460) > (1800,8018)?("d",8.22e+3):!"1":(9.41e+2,+"0xb71"),t4m.pixelFromBar(W1X) - J5Y,N0p - y9p);}}}else if(u5A[W1X - 1]["_Direction " + H57.name] < u5A[W1X]["_Direction " + H57.name]){t4h.fillStyle=H57.outputs.Uptrend;t4h.textBaseline="top";u1Q=t4m.pixelFromPrice(u5A[W1X].Low,U6L,F4X);for(var D1c="5" ^ 0;D1c <= 45;D1c+=10){if(F4X.flipped){t4h.fillText(43 > 3920?("k","f"):"\u25BC",t4m.pixelFromBar(W1X) - J5Y,u1Q - D1c);}else {t4h.fillText("\u25B2",t4m.pixelFromBar(W1X) - J5Y,u1Q + D1c);}}}}t4m.endClip();};v5C.Studies.studyLibrary=v5C.extend(v5C.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!0,seriesFN:v5C.Studies.displaySupertrend,calculateFN:v5C.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:"0.1" - 0,step:0.1}}}});}};r9=e_0=>{var Y41=g9BGt;Y41.c7b();var w9r,D3l;w9r=typeof _CIQ !== "undefined"?_CIQ:e_0.CIQ;if(!w9r.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {D3l="Ac";D3l+="cumula";D3l+="tive Swing Index";w9r.Studies.calculateSwingIndex=function(T26,f6l){var l9C,h0H,b2J,t2i,R4_,E5d,F3k,V21,d0F,M7W,u6_,J6i;l9C="Res";l9C+="ult";l9C+=" ";h0H=f6l.inputs["Limit Move Value"];if(h0H === null || isNaN(h0H)){h0H=99999;}b2J=f6l.chart.scrubbed;t2i=0;if(f6l.startFrom > 1){Y41.O90(72);var v$_=Y41.t1w(18,7,2,2);t2i=b2J[f6l.startFrom - v$_][l9C + f6l.name];}for(var M1q=Math.max(1,f6l.startFrom);M1q < b2J.length;M1q++){R4_=Math.abs(b2J[M1q].High - b2J[M1q - 1].Close);E5d=Math.abs(b2J[M1q].Low - b2J[M1q - 1].Close);F3k=Math.abs(b2J[M1q].High - b2J[M1q].Low);V21=Math.abs(b2J[M1q - +"1"].Close - b2J[M1q - 1].Open);d0F=Math.max(R4_,E5d);M7W=Math.max(F3k,d0F);Y41.X$L(97);u6_=Y41.D8z(V21,0.25,M7W);if(M7W == R4_){Y41.X$L(8);u6_-=Y41.t1w(E5d,0.5);}else if(M7W == E5d){Y41.O90(8);u6_-=Y41.D8z(R4_,0.5);}Y41.O90(177);var z8Q=Y41.t1w(9,1,43,7,9);Y41.O90(176);var G_E=Y41.D8z(38,19,7,16);J6i=z8Q * (b2J[M1q].Close - b2J[M1q - G_E].Close + 0.5 * (b2J[M1q].Close - b2J[M1q].Open) + 0.25 * (b2J[M1q - ("1" ^ 0)].Close - b2J[M1q - +"1"].Open)) / u6_ * (d0F / h0H);if(u6_ === 0 || h0H === 0){J6i=0;}if(f6l.type == "Swing"){t2i=0;}t2i+=J6i;b2J[M1q]["Result " + f6l.name]=t2i;}};w9r.Studies.studyLibrary=w9r.extend(w9r.Studies.studyLibrary,{"Acc Swing":{name:D3l,calculateFN:w9r.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:w9r.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};G6=e0j=>{var e1q,u5x,p9k,t2x;e1q=typeof _CIQ !== "undefined"?_CIQ:e0j.CIQ;if(!e1q.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {u5x="a";u5x+="u";u5x+="t";u5x+="o";p9k="au";p9k+="to";t2x="f";t2x+="iel";t2x+="d";e1q.Studies.calculateTrendIntensity=function(c5w,S7R){var T2K=g9BGt;var P3q,v6O,S3R,d5P,V98,j1P,y8H,L9n,Q$h,S94,O_g,V6v;P3q="T";T2K.c7b();P3q+="II";P3q+=" ";v6O="m";v6O+="a";S3R=S7R.chart.scrubbed;if(S3R.length < S7R.days + 1){S7R.error=!![];return;}d5P=S7R.inputs.Field;if(!d5P || d5P == "field"){d5P="Close";}e1q.Studies.MA(v6O,S7R.days,d5P,0,"_SMA",c5w,S7R);V98=0;j1P=0;Q$h=[];S94=Math.ceil(S7R.days / 2);for(y8H=Math.max("0" ^ 0,S7R.startFrom - S94);y8H < S3R.length;y8H++){O_g="_";O_g+="SMA ";V6v="_S";V6v+="M";V6v+="A ";if(!S3R[y8H]["_SMA " + S7R.name] && S3R[y8H][V6v + S7R.name] !== "0" * 1)continue;L9n=S3R[y8H][d5P] - S3R[y8H][O_g + S7R.name];if(L9n < 0){T2K.X$L(178);j1P+=T2K.t1w(L9n,1);}else {V98+=L9n;}Q$h.push(L9n);if(Q$h.length > S94){L9n=Q$h.shift();if(L9n < 0){T2K.X$L(179);j1P-=T2K.t1w(0,L9n,"1");}else {V98-=L9n;}}if(y8H < S7R.startFrom)continue;S3R[y8H]["TII " + S7R.name]=O7K(V98,j1P);}e1q.Studies.MA("ema",S7R.inputs["Signal Period"],P3q + S7R.name,0,"Signal",c5w,S7R);function O7K(X6l,c9L){if(Math.abs(c9L) < 0.00000001){return 100;}T2K.c7b();T2K.X$L(180);return T2K.D8z("100",100,c9L,1,X6l);}};e1q.Studies.studyLibrary=e1q.extend(e1q.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:e1q.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:t2x,"Signal Period":+"9"},outputs:{TII:p9k,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:u5x}}}});}};g9=z5G=>{var e44=g9BGt;var L3u,A3S,k2M;L3u="undefin";e44.c7b();L3u+="ed";A3S=typeof _CIQ !== L3u?_CIQ:z5G.CIQ;if(!A3S.Studies){console.error("trix feature requires first activating studies feature.");}else {k2M="TR";k2M+="IX";A3S.Studies.calculateTRIX=function(y8_,S18){var P2D,R9m,C8U,i4S,O$M,R12,X3_;e44.c7b();P2D=S18.chart.scrubbed;if(P2D.length < S18.days + 1){S18.error=!!({});return;}R9m=S18.name;e44.O90(1);C8U=["Close",e44.D8z("_MA1 ",R9m),e44.t1w("_MA2 ",R9m),e44.D8z("_MA3 ",R9m)];for(var G5I=0;G5I < C8U.length - 1;G5I++){i4S="expo";i4S+="nent";i4S+="i";i4S+="al";A3S.Studies.MA(i4S,S18.days,C8U[G5I],+"0","_MA" + (G5I + 1).toString(),y8_,S18);}O$M=C8U[3];for(var N0R=Math.max(1,S18.startFrom);N0R < P2D.length;N0R++){e44.X$L(7);R12=P2D[e44.D8z(1,N0R)][O$M];if(!R12)continue;X3_=P2D[N0R][O$M];if(X3_ || X3_ === 0){e44.O90(1);P2D[N0R][e44.D8z("Result ",R9m)]=e44.D8z(R12,1,X3_,100,e44.X$L(156));}}};A3S.Studies.studyLibrary=A3S.extend(A3S.Studies.studyLibrary,{TRIX:{name:k2M,calculateFN:A3S.Studies.calculateTRIX}});}};H7=r0h=>{var l2K;l2K=typeof _CIQ !== "undefined"?_CIQ:r0h.CIQ;if(!l2K.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {l2K.Studies.calculateTwiggsMoneyFlow=function(G02,a3U){var D5s=g9BGt;var A92,L80,Z_V,e5T,h_x,E8f,k1A,r7g,Z$b,z0M;A92=a3U.chart.scrubbed;if(A92.length < a3U.days){a3U.error=!!({});L80=1778052099;D5s.X$L(7);Z_V=D5s.t1w(0,"655077716");e5T=2;for(var L1q=1;D5s.l9L(L1q.toString(),L1q.toString().length,39367) !== L80;L1q++){return;}if(D5s.i7j(e5T.toString(),e5T.toString().length,11259) !== Z_V){return;}}h_x=0;E8f=+"0";D5s.X$L(1);var Z4H=D5s.t1w(0,1);k1A=A92[a3U.startFrom - Z4H];if(k1A){if(k1A["_sumMF " + a3U.name]){h_x=k1A["_sumMF " + a3U.name];}if(k1A["_sumV " + a3U.name]){E8f=k1A["_sumV " + a3U.name];}}for(var A94=Math.max(+"1",a3U.startFrom);A94 < A92.length;A94++){r7g="_M";r7g+="FV";r7g+=" ";Z$b=Math.max(A92[A94 - 1].Close,A92[A94].High);z0M=Math.min(A92[A94 - +"1"].Close,A92[A94].Low);D5s.X$L(181);var I_k=D5s.t1w(7,2,17,16,261);D5s.X$L(67);var w$E=D5s.D8z(9000351,18,1000017,10);A92[A94][r7g + a3U.name]=A92[A94].Volume * (I_k * A92[A94].Close - Z$b - z0M) / (Z$b - z0M === 0?w$E:Z$b - z0M);if(A94 > a3U.days - 1){h_x*=(a3U.days - 1) / a3U.days;D5s.O90(7);var w42=D5s.t1w(14,15);E8f*=(a3U.days - w42) / a3U.days;}h_x+=A92[A94]["_MFV " + a3U.name];E8f+=A92[A94].Volume;if(A94 > a3U.days - 1){if(E8f){D5s.X$L(23);A92[A94]["Result " + a3U.name]=D5s.D8z(E8f > 0?E8f:999999,h_x);}}A92[A94]["_sumMF " + a3U.name]=h_x;A92[A94]["_sumV " + a3U.name]=E8f;}};l2K.Studies.studyLibrary=l2K.extend(l2K.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:l2K.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};P6=v$O=>{var J8F,v9b,a8r;J8F="und";J8F+="ef";J8F+="ined";v9b=typeof _CIQ !== J8F?_CIQ:v$O.CIQ;if(!v9b.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!v9b.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {a8r="Weig";a8r+="hte";a8r+="d ";a8r+="Close";v9b.Studies.studyLibrary=v9b.extend(v9b.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:v9b.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:a8r,calculateFN:v9b.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};B7=x1M=>{var e8k,d8f;g9BGt.Z_e();e8k=typeof _CIQ !== "undefined"?_CIQ:x1M.CIQ;if(!e8k.Studies){d8f="ulcerIndex feature requires first acti";d8f+="vating studi";d8f+="es feature.";console.error(d8f);}else {e8k.Studies.calculateUlcerIndex=function(V_L,d$D){var h$Y,t6G,j$D,c4U,E87,v_2,W$M,x2o;h$Y="_";h$Y+="P";h$Y+="D";h$Y+="2 ";t6G=d$D.chart.scrubbed;function w7F(B6g,b$P,U0A){var p9I;p9I=null;for(var Q3L=b$P - B6g + 1;Q3L <= b$P;Q3L++){if(Q3L < 0)continue;p9I=p9I === null?t6G[Q3L][U0A]:Math.max(p9I,t6G[Q3L][U0A]);}return p9I;}if(t6G.length < 2 * d$D.days - +"1"){d$D.error=!0;return;}j$D=d$D.inputs.Field;if(!j$D || j$D == "field"){j$D="Close";}for(c4U=Math.max(d$D.startFrom,d$D.days - 1);c4U < t6G.length;c4U++){E87="_";E87+="PD";E87+="2 ";t6G[c4U][E87 + d$D.name]=Math.pow(100 * (t6G[c4U][j$D] / w7F(d$D.days,c4U,j$D) - 1),2);}e8k.Studies.MA("simple",d$D.days,h$Y + d$D.name,"0" >> 64,"_MA",V_L,d$D);g9BGt.c7b();for(c4U=Math.max(d$D.startFrom,("2" - 0) * (d$D.days - 1));c4U < t6G.length;c4U++){v_2="R";v_2+="esu";v_2+="lt ";W$M="_M";W$M+="A ";x2o=t6G[c4U][W$M + d$D.name];if(x2o || x2o === 0){t6G[c4U][v_2 + d$D.name]=Math.sqrt(x2o);}}};e8k.Studies.studyLibrary=e8k.extend(e8k.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:e8k.Studies.calculateUlcerIndex,inputs:{Period:"14" | 12,Field:"field"}}});}};k3=b7l=>{var d51=g9BGt;var U0y,m6R,m5a;U0y=typeof _CIQ !== "undefined"?_CIQ:b7l.CIQ;d51.Z_e();if(!U0y.Studies){console.error("ultimateOscillator feature requires first activating studies feature.");}else {m6R="a";m6R+="uto";m5a="Ultimate Os";m5a+="cillator";U0y.Studies.calculateUltimateOscillator=function(T4U,z3_){var I_u,n0D,L4E,N3c,q_t,y6x,e57,b3M,h2T,R3p,M64,H5e,C8L,K8$,T_v,z3i,u2V,k77,E_v,x9u,p8D,V5s,L5w,k6S;I_u="C";I_u+="y";I_u+="cle";I_u+=" 3";n0D=z3_.chart.scrubbed;L4E=[z3_.inputs["Cycle 1"],z3_.inputs["Cycle 2"],z3_.inputs[I_u]];N3c=Math.max(L4E["0" - 0],L4E[1],L4E[2]);if(n0D.length < N3c + 1){z3_.error=!![];return;}d51.O90(131);var M8W=d51.t1w(16,9,183,12,0);q_t=L4E[+"0"] * L4E[M8W];d51.O90(2);d51.c7b();var K9A=d51.D8z(1,3,9,1);y6x=L4E[0] * L4E[K9A];e57=-39753017;b3M=-1260527827;h2T=2;for(var r43=1;d51.i7j(r43.toString(),r43.toString().length,73062) !== e57;r43++){d51.X$L(7);var O7Q=d51.t1w(12,13);d51.O90(163);var a1l=d51.t1w(9,6,10,8,1198);R3p=L4E[O7Q] * L4E[a1l];M64=[+"0",0,0];H5e=[0,0,+"0"];h2T+=+"2";}if(d51.i7j(h2T.toString(),h2T.toString().length,66189) !== b3M){d51.X$L(50);var F0k=d51.D8z(9,14);R3p=L4E[F0k] - L4E[+"5"];M64=[9,1,6];H5e=[5,3,5];}if(z3_.startFrom){C8L="_";C8L+="acc";C8L+="bp";C8L+=" ";K8$="_a";K8$+="ccbp ";if(n0D[z3_.startFrom - 1][K8$ + z3_.name]){M64=n0D[z3_.startFrom - 1][C8L + z3_.name].slice();}if(n0D[z3_.startFrom - +"1"]["_acctr " + z3_.name]){H5e=n0D[z3_.startFrom - +"1"]["_acctr " + z3_.name].slice();}}for(var j2S=Math.max("1" << 96,z3_.startFrom);j2S < n0D.length;j2S++){T_v="Re";T_v+="sul";T_v+="t ";z3i="_";z3i+="accbp ";u2V=Math.min(n0D[j2S].Low,n0D[j2S - ("1" << 32)].Close);k77=n0D[j2S].Close - u2V;d51.O90(42);var Q40=d51.D8z(19,5,10,18,5);E_v=Math.max(n0D[j2S].High,n0D[j2S - Q40].Close) - u2V;for(var j1b=0;j1b < L4E.length;j1b++){M64[j1b]+=k77;H5e[j1b]+=E_v;if(j2S > L4E[j1b]){x9u=Math.min(n0D[j2S - L4E[j1b]].Low,n0D[j2S - L4E[j1b] - 1].Close);p8D=n0D[j2S - L4E[j1b]].Close - x9u;V5s=Math.max(n0D[j2S - L4E[j1b]].High,n0D[j2S - L4E[j1b] - +"1"].Close) - x9u;M64[j1b]-=p8D;H5e[j1b]-=V5s;}}n0D[j2S][z3i + z3_.name]=M64.slice();n0D[j2S]["_acctr " + z3_.name]=H5e.slice();if(j2S < N3c)continue;d51.X$L(142);var E84=d51.t1w(8,13,6,0);d51.X$L(21);var B47=d51.D8z(5,20,8,178,4);d51.X$L(182);var Q9v=d51.t1w(198,9,11,17);L5w=R3p * M64[0] / H5e[0] + y6x * M64["1" << 0] / H5e[E84] + q_t * M64[B47] / H5e[Q9v];d51.O90(95);k6S=d51.t1w(R3p,q_t,y6x);d51.X$L(119);n0D[j2S][T_v + z3_.name]=d51.D8z(100,k6S,L5w);}};U0y.Studies.studyLibrary=U0y.extend(U0y.Studies.studyLibrary,{Ultimate:{name:m5a,calculateFN:U0y.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":+"7","Cycle 2":14,"Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:"70" << 64,studyOverBoughtColor:m6R,studyOverSoldValue:"30" - 0,studyOverSoldColor:"auto"}}}});}};K9=j4w=>{var H9Z,O$j,T1V;H9Z=typeof _CIQ !== "undefined"?_CIQ:j4w.CIQ;if(!H9Z.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {O$j="#ff";O$j+="f";O$j+="69";O$j+="e";T1V="#";T1V+="85";T1V+="c99e";H9Z.Studies.calculateValuationLines=function(n6g,b1w,L2L){var P9q=g9BGt;var H_B,l3M,V_P,g1K,z5o,X$Q,X1L,t$z,y4F,G3Y,b53,a$T,o1P,o27,G5U,h3s,u4c,F7u;H_B="Di";H_B+="splay 3 S";H_B+="tandard Deviation (3\u03C3)";l3M="Disp";l3M+="lay 2 Standard Deviation (2\u03C3)";V_P="Disp";V_P+="lay Average";g1K="Averag";g1K+="e Ty";g1K+="pe";z5o="f";z5o+="ie";z5o+="ld";X$Q=b1w.inputs.Field == z5o?"Close":b1w.inputs.Field;X1L=b1w.inputs[g1K];t$z=b1w.inputs[V_P];y4F=b1w.inputs["Display 1 Standard Deviation (1\u03C3)"];G3Y=b1w.inputs[l3M];b53=b1w.inputs[H_B];a$T=[];for(var j4y=0;j4y < L2L.length;++j4y){if(L2L[j4y] && !isNaN(L2L[j4y][X$Q])){a$T.push(L2L[j4y][X$Q]);}}o1P=(function(i$W,I4K){var W03,S8U,c6I,n_H,v25,e5c,F57;W03="media";W03+="n";S8U=i$W.length;c6I=0;n_H=+"0";P9q.c7b();v25=0;switch(I4K){case "mean":n_H=S8U;for(;v25 < S8U;++v25){c6I+=i$W[v25];}break;case "harmonic":c6I=S8U;for(;v25 < S8U;++v25){P9q.X$L(137);var T1W=P9q.t1w(1,9,9,2,0);n_H+=T1W / i$W[v25];}break;case W03:P9q.X$L(23);e5c=Math.floor(P9q.D8z(2,S8U));F57=i$W.slice().sort(function(w2c,e72){if(w2c > e72){return 1;}if(w2c < e72){return -+"1";}return 0;});if(S8U % 2 === ("0" | 0)){P9q.X$L(7);var p0n=P9q.t1w(20,21);c6I=F57[e5c] + F57[e5c - p0n];n_H=+"2";}else {c6I=F57[e5c];n_H=1;}break;}P9q.O90(23);return P9q.D8z(n_H,c6I);})(a$T,X1L);o27=!(y4F || G3Y || b53) || (function(i3R,n97){P9q.Z_e();var W$7,Z44;W$7=i3R.length;Z44=0;for(var t2z=0;t2z < W$7;++t2z){Z44+=Math.pow(i3R[t2z] - n97,2);}P9q.X$L(23);return Math.sqrt(P9q.t1w(W$7,Z44));})(a$T,o1P);b1w.data={Average:t$z?[o1P]:null,"1 Standard Deviation (1\u03C3)":y4F?[o1P + o27,o1P - o27]:null,"2 Standard Deviation (2\u03C3)":G3Y?[o1P + o27 * 2,o1P - o27 * 2]:null,"3 Standard Deviation (3\u03C3)":b53?[o1P + o27 * 3,o1P - o27 * 3]:null};G5U=o27;if(!b1w.parameters){b1w.parameters={};}if(b53){P9q.O90(183);b1w.parameters.range=[P9q.D8z(G5U,o27,o1P,3),P9q.t1w(3,G5U,o27,o1P,P9q.O90(184))];}else if(G3Y){P9q.X$L(183);b1w.parameters.range=[P9q.t1w(G5U,o27,o1P,2),P9q.D8z(2,G5U,o27,o1P,P9q.O90(184))];}else if(y4F){P9q.X$L(40);b1w.parameters.range=[P9q.t1w(o1P,G5U,o27),P9q.D8z(o1P,G5U,o27,P9q.X$L(95))];}else if(t$z){P9q.X$L(7);b1w.parameters.range=[P9q.t1w(G5U,o1P),P9q.t1w(o1P,G5U,P9q.O90(1))];}if(b1w.panel){h3s=n6g.panels[b1w.panel];u4c=n6g.getYAxisByName(h3s,b1w.name);if(u4c){u4c.decimalPlaces=h3s.chart.yAxis.printDecimalPlaces;F7u={yAxis:u4c};n6g.calculateYAxisRange(h3s,u4c,b1w.parameters.range[0],b1w.parameters.range[1]);n6g.createYAxis(h3s,F7u);n6g.drawYAxis(h3s,F7u);}}};H9Z.Studies.displayValuationLines=function(T1L,n0K){var r7j=g9BGt;var F5Z,K04,T6C,s$9,l92,b2n,D04,V_N,v0m,t80,C2G,t8h,q$Z,d11,o32,b7x,D$$,c4X,O$S,C4U,f1a,k6N,f0w,o8f,E5Z,J0F,f6g,I30,u_v;F5Z="ciq-valuation-deviation-";F5Z+="line";K04="H";K04+="A";K04+="V";K04+="G";T6C="M";T6C+="ED";s$9="A";s$9+="V";s$9+="G";l92=T1L.panels[n0K.panel];b2n=n0K.getYAxis(T1L);D04=n0K.getContext(T1L);V_N=n0K.data;v0m=n0K.parameters.labels;t80=n0K.inputs["Average Type"];C2G={mean:s$9,median:T6C,harmonic:K04};t8h=T1L.canvasStyle("ciq-valuation-average-line");q$Z=T1L.canvasStyle(F5Z);d11=3;r7j.O90(77);var k3O=r7j.t1w(10,10,1);o32=T1L.getCanvasFontSize("stx_yaxis") + d11 * k3O;for(var c9E in V_N){E5Z="Ave";E5Z+="r";E5Z+="age";if(!V_N[c9E])continue;r7j.X$L(185);b7x=r7j.D8z(c9E,E5Z);D$$=H9Z.Studies.determineColor(n0K.outputs[c9E]);c4X=V_N[c9E];for(O$S=0;O$S < c4X.length;++O$S){J0F="l";J0F+="e";J0F+="f";J0F+="t";f6g="so";f6g+="l";f6g+="i";f6g+="d";I30="s";I30+="oli";I30+="d";C4U=c4X[O$S];f1a=T1L.pixelFromPrice(C4U,l92,b2n);if(f1a <= l92.top || f1a >= l92.yAxis.bottom)continue;o8f=b7x?{pattern:t8h.borderStyle != "none"?t8h.borderStyle || I30:f6g,lineWidth:parseFloat(t8h.borderWidth) || 1,opacity:parseFloat(t8h.opacity) || "1" - 0,yAxis:b2n}:{pattern:q$Z.borderStyle != "none"?q$Z.borderStyle || "dashed":"dashed",lineWidth:parseFloat(q$Z.borderWidth) || 1,opacity:parseFloat(q$Z.opacity) || 1,yAxis:b2n};T1L.plotLine(l92.left,l92.right,f1a,f1a,D$$,"line",D04,l92,o8f);if(v0m === "yaxis"){T1L.createYAxisLabel(l92,T1L.formatYAxisPrice(C4U,l92),f1a,D$$,null,D04,b2n);continue;}f1a+=Math.floor(o8f.lineWidth / ("2" >> 32));if(f1a + o32 >= l92.yAxis.bottom)continue;k6N=(b7x?C2G[t80] + ": ":c9E[0] + "\u03C3: ") + T1L.formatYAxisPrice(C4U,l92);f0w=D04.measureText(k6N).width;u_v=l92.right - f0w - d11;if(b2n && b2n.position == J0F){u_v=l92.left + d11;}r7j.O90(186);D04.strokeText(k6N,u_v,r7j.D8z(2,o32,0.5,f1a));}}};H9Z.Studies.studyLibrary=H9Z.extend(H9Z.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(o84,a6G,r6k){H9Z.Studies.calculateValuationLines(o84,a6G,r6k);g9BGt.c7b();H9Z.Studies.displayValuationLines(o84,a6G);},overlay:!!"1",yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median","harmonic"],"Display Average":!!"1","Display 1 Standard Deviation (1\u03C3)":!!"","Display 2 Standard Deviation (2\u03C3)":!({}),"Display 3 Standard Deviation (3\u03C3)":!!""},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":T1V,"3 Standard Deviation (3\u03C3)":O$j}}});}};M_=J4P=>{var O2m=g9BGt;var Q42,E4g,A0z,X4E,P9e,i5Y;Q42="un";Q42+="d";O2m.Z_e();Q42+="efi";Q42+="ned";E4g=typeof _CIQ !== Q42?_CIQ:J4P.CIQ;if(!E4g.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {A0z="a";A0z+="u";A0z+="t";A0z+="o";X4E="aut";X4E+="o";P9e="f";P9e+="iel";P9e+="d";i5Y="Relative Vo";i5Y+="lati";i5Y+="l";i5Y+="ity";E4g.Studies.calculateRelativeVolatility=function(M_P,e1s){var o57,C7X,p4h,k0v,U61,x58,J7b,j_I,h$E,S82,l$v,U70,p54;o57="s";o57+="d";o57+="e";o57+="v";C7X="f";C7X+="i";C7X+="el";C7X+="d";p4h="Sm";p4h+="oothing Period";O2m.c7b();e1s.days=Number(e1s.inputs[p4h]);k0v=Number(e1s.inputs["STD Period"]);U61=e1s.chart.scrubbed;if(U61.length < e1s.days + k0v){e1s.error=!!({});return;}x58=e1s.inputs.Field;if(!x58 || x58 == C7X){x58="Close";}e1s.std=new E4g.Studies.StudyDescriptor(e1s.name,o57,e1s.panel);e1s.std.chart=e1s.chart;e1s.std.days=k0v;e1s.std.startFrom=e1s.startFrom;e1s.std.inputs={Field:x58,"Standard Deviations":1,Type:"ma"};e1s.std.outputs={_STD:null};E4g.Studies.calculateStandardDeviation(M_P,e1s.std);J7b=0;j_I=0;if(e1s.startFrom > "1" << 0){J7b=U61[e1s.startFrom - 1]["_avgG " + e1s.name] || 0;j_I=U61[e1s.startFrom - 1]["_avgL " + e1s.name] || "0" ^ 0;}for(var a0J=Math.max(e1s.startFrom,e1s.days);a0J < U61.length;a0J++){h$E="_av";h$E+="gG ";S82="_S";S82+="TD ";l$v=U61[a0J];O2m.O90(7);U70=U61[O2m.t1w(1,a0J)];if(!l$v[x58] && l$v[x58] !== 0)continue;if(!U70[x58] && U70[x58] !== +"0")continue;if(!l$v["_STD " + e1s.name] && l$v[S82 + e1s.name] !== 0)continue;if(l$v[x58] > U70[x58]){O2m.X$L(5);var C1X=O2m.t1w(0,3,4);J7b=(J7b * (e1s.days - C1X) + l$v["_STD " + e1s.name]) / e1s.days;O2m.X$L(7);var i$K=O2m.D8z(14,15);j_I=j_I * (e1s.days - i$K) / e1s.days;}else {p54="_";p54+="ST";p54+="D";p54+=" ";O2m.X$L(81);var f2Z=O2m.D8z(12,2,0,11);j_I=(j_I * (e1s.days - f2Z) + l$v[p54 + e1s.name]) / e1s.days;O2m.X$L(7);var I6G=O2m.t1w(9,10);J7b=J7b * (e1s.days - I6G) / e1s.days;}l$v["Rel Vol " + e1s.name]=A7M(J7b,j_I);l$v[h$E + e1s.name]=J7b;l$v["_avgL " + e1s.name]=j_I;}e1s.zoneOutput="Rel Vol";function A7M(g8o,b4p){if(g8o + b4p === 0){return 100;}O2m.O90(187);return O2m.D8z(100,g8o,g8o,b4p);}};E4g.Studies.calculateHistoricalVolatility=function(L9F,V6p){var X7a,A17,P2A,d9p,N6y,f$8,T4t,K2t,S$L,K2r,q7x;X7a="Standa";X7a+="rd Deviati";function k3Q(X58){var O2s,n4U;O2s="mo";O2s+="n";O2s+="t";O2s+="h";n4U="d";n4U+="a";n4U+="y";if(isNaN(X58)){X58=365;}if(L9F.layout.interval == n4U){return X58;}else if(L9F.layout.interval == "week"){return 52;}else if(L9F.layout.interval == O2s){return 12;}return X58;}X7a+="ons";A17=V6p.chart.scrubbed;if(A17.length < V6p.days + 1){V6p.error=!!"1";return;}P2A=V6p.inputs.Field;if(!P2A || P2A == "field"){P2A="Close";}d9p=V6p.inputs[X7a];if(d9p < 0){d9p=1;}O2m.X$L(130);var F1d=O2m.t1w(17,86,1254,15,13);N6y=F1d * Math.sqrt(k3Q(V6p.inputs["Days Per Year"])) * d9p;O2m.Z_e();f$8=[];T4t=0;if(V6p.startFrom > 1){O2m.X$L(5);var r_v=O2m.t1w(0,15,16);T4t=A17[V6p.startFrom - r_v]["_state " + V6p.name][0];f$8=A17[V6p.startFrom - 1]["_state " + V6p.name][1].slice();}for(var v1m=Math.max("1" ^ 0,V6p.startFrom);v1m < A17.length;v1m++){O2m.X$L(89);K2t=A17[O2m.t1w(v1m,"1")][P2A];if(K2t){S$L=Math.log(A17[v1m][P2A] / K2t);f$8.push(S$L);T4t+=S$L;if(v1m >= V6p.days){K2r="Re";K2r+="sul";K2r+="t ";q7x=0;T4t/=V6p.days;for(var z2c=0;z2c < f$8.length;z2c++){q7x+=Math.pow(f$8[z2c] - T4t,2);}T4t*=V6p.days;T4t-=f$8.shift();A17[v1m][K2r + V6p.name]=Math.sqrt(q7x / V6p.days) * N6y;}}A17[v1m]["_state " + V6p.name]=[T4t,f$8.slice()];}};E4g.Studies.studyLibrary=E4g.extend(E4g.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:E4g.Studies.calculateHistoricalVolatility,inputs:{Period:"10" >> 96,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:+"0.1"}}},"Rel Vol":{name:i5Y,range:"0 to 100",calculateFN:E4g.Studies.calculateRelativeVolatility,inputs:{Field:P9e,"STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:+"50",parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:"70" >> 32,studyOverBoughtColor:X4E,studyOverSoldValue:30,studyOverSoldColor:A0z}}}});}};A9=c0Z=>{var H9l,t_G,M4N,e7t,M$Y;H9l="und";H9l+="efi";H9l+="ned";t_G=typeof _CIQ !== H9l?_CIQ:c0Z.CIQ;if(!t_G.Studies){M4N="volumeProfi";M4N+="le feature requires first activating studies feature.";console.error(M4N);}else {e7t="#";e7t+="b64";e7t+="a96";M$Y="Vo";M$Y+="lume Profile";t_G.Studies.displayVolumeProfile=function(G6W,g$P,o$I){var l8D,q0v,t4z,V8t,p1N,b9Q,N5P,D_h,E49,h7G,i2V,Z0g,C$l,T0Y,W9k,N_f,E37,Z5w,e6O,Q1B,c44,A4l,f3w,k0J,J9F,S19,r90;l8D="s";l8D+="tx_volume_profile";q0v="Bars";q0v+=" Color";t4z="stx_volu";t4z+="me_profile";if(!G6W || !G6W.chart.dataSet){return;}V8t=G6W.chart;p1N=g$P.parameters.numberOfBars;b9Q=g$P.parameters.widthPercentage;N5P=g$P.parameters.displayBorder;D_h=g$P.parameters.displayVolume;if(!p1N || p1N < ("0" | 0)){p1N=30;}p1N=Math.ceil(p1N);if(!b9Q || b9Q < 0){b9Q=0.25;}if(N5P !== !!""){N5P=!![];}if(D_h !== !![]){D_h=!({});}E49=(V8t.highValue - V8t.lowValue) / p1N;function U_b(U48,C1a){var G1M=g9BGt;var E0T,W3s,e$i,N4H,U9i,J0s,o8O,J2x,E4i;if(!C1a){G1M.X$L(35);f3w-=G1M.t1w(0,"2");}r90.canvasColor(U48);Z5w.beginPath();E0T=h7G[0][+"0"];W3s=f3w;for(var V$M=1;V$M < h7G.length;V$M++){if(h7G[V$M][1]){G1M.X$L(38);var Y7P=G1M.D8z(16,319,20);e$i=Math.round(f3w - h7G[V$M][Y7P] * k0J / Z0g) - 0.5;N4H=Math.round(r90.pixelFromTransformedValue(E0T,c44)) + 0.5;U9i=Math.round(r90.pixelFromTransformedValue(h7G[V$M][0],c44)) + 0.5;if(!C1a){G1M.X$L(7);N4H-=G1M.t1w(0,"0.5");U9i+=0.5;e$i+=0.5;}if(N4H > A4l){N4H=A4l;}if(U9i < A4l){Z5w.moveTo(f3w,N4H);Z5w.lineTo(f3w,U9i);Z5w.lineTo(e$i,U9i);Z5w.lineTo(e$i,N4H);if(C1a){if(W3s > e$i || V$M == 1){Z5w.lineTo(W3s,N4H);};}else {Z5w.lineTo(f3w,N4H);if(D_h){J0s=t_G.condenseInt(h7G[V$M][1]);G1M.X$L(7);o8O=G1M.D8z(U9i,N4H);if(Q1B <= o8O - 2){try{J2x=Z5w.measureText(J0s).width;}catch(Y9Y){J2x=0;}Z5w.textBaseline="top";E4i=Z5w.fillStyle;Z5w.fillStyle=J9F;G1M.O90(111);Z5w.fillText(J0s,G1M.t1w(e$i,"3",0,J2x),G1M.D8z(U9i,1,2,"2",Q1B,o8O,G1M.O90(188)));Z5w.fillStyle=E4i;}}}}W3s=e$i;}else {W3s=f3w;;}E0T=h7G[V$M][0];}if(!g$P.highlight && G6W.highlightedDraggable){Z5w.globalAlpha*=0.3;}if(!C1a){Z5w.fill();}Z5w.strokeStyle=J9F;G1M.Z_e();if(C1a){Z5w.stroke();}Z5w.closePath();}if(E49 === 0){return;}h7G=[];for(var W9N=V8t.lowValue;W9N < V8t.highValue + 0.1;W9N+=E49){h7G.push([W9N,0]);}if(h7G.length < 2){i2V="Not enoug";i2V+="h data to re";i2V+="nder the Volume Profile";G6W.displayErrorAsWatermark("chart",G6W.translateIf(i2V));return;}Z0g=0;for(var r3g=0;r3g < o$I.length;r3g++){C$l=o$I[r3g];if(!C$l)continue;T0Y=C$l.Volume;if(g$P.panel == V8t.name && C$l.transform){C$l=C$l.transform;}W9k=h7G[0][0];N_f=0;for(var j_s=+"1";j_s < h7G.length;j_s++){N_f=h7G[j_s][0];if(C$l.Low >= W9k && C$l.Low <= N_f || C$l.Low < W9k && C$l.High > N_f || C$l.High >= W9k && C$l.High <= N_f){h7G[j_s][1]+=T0Y;if(h7G[j_s][1] > Z0g){Z0g=h7G[j_s][1];}}W9k=N_f;}}if(Z0g === 0){E37="ch";E37+="a";E37+="r";E37+="t";G6W.displayErrorAsWatermark(E37,G6W.translateIf("Not enough data to render the Volume Profile"));return;}G6W.setStyle(t4z,"color",t_G.Studies.determineColor(g$P.outputs[q0v]));Z5w=g$P.getContext(G6W);e6O="stx-float-date";G6W.canvasFont(e6O,Z5w);Q1B=G6W.getCanvasFontSize(e6O);c44=V8t.panel;A4l=c44.yAxis.bottom;f3w=Math.round(V8t.right) - 0.5;k0J=V8t.width * b9Q;J9F=G6W.canvasStyle(l8D).borderTopColor;S19=!t_G.isTransparent(G6W.canvasStyle("stx_volume_profile").borderTopColor) && N5P;r90=G6W;U_b("stx_volume_profile",![]);if(S19){U_b("stx_volume_profile",!"");}Z5w.globalAlpha=+"1";};t_G.Studies.studyLibrary=t_G.extend(t_G.Studies.studyLibrary,{"vol profile":{name:M$Y,underlay:!!({}),seriesFN:t_G.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":e7t},customRemoval:!![],parameters:{init:{displayBorder:!!"1",displayVolume:![],numberOfBars:30,widthPercentage:"0.25" * 1}},attributes:{yaxisDisplayValue:{hidden:!!1},panelName:{hidden:!!"1"},flippedEnabled:{hidden:!!({})}}}});}};G2=U1Z=>{var T6B=g9BGt;T6B.c7b();var A6b,H5f,j0z,m1o,u4o,O1Q,Z1H,B7_,R3W,E6C,r30;A6b=typeof _CIQ !== "undefined"?_CIQ:U1Z.CIQ;if(!A6b.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {H5f="#";H5f+="8cc176";j0z="n";j0z+="o";j0z+="n";j0z+="e";m1o="Vo";m1o+="lume Rate";m1o+=" of Ch";m1o+="ange";u4o="a";u4o+="uto";O1Q="m";O1Q+="a";Z1H="f";Z1H+="ield";B7_="On B";B7_+="alanc";B7_+="e";B7_+=" Volume";R3W="#FF";R3W+="0";R3W+="000";E6C="a";E6C+="u";E6C+="t";E6C+="o";r30="Negative ";r30+="Volume Index";A6b.Studies.calculateOnBalanceVolume=function(a5e,N6Y){var A2c,J9i,Q_P,V_p,y2j,i2t,M54,P4Q;A2c=N6Y.inputs.Field;if(!A2c || A2c == "field"){A2c="Close";}J9i=N6Y.inputs["Min Tick Value"];Q_P=!!"";if(!J9i && J9i !== 0){Q_P=!!({});T6B.O90(8);J9i=T6B.t1w(1,"0");}V_p=N6Y.chart.scrubbed;y2j=0;for(var M8T=N6Y.startFrom;M8T < V_p.length;M8T++){i2t=V_p[M8T];if(!M8T || !i2t[A2c])continue;if(V_p[M8T - 1][A2c]){T6B.O90(7);M54=V_p[T6B.t1w(1,M8T)];}if(!M54)continue;if(i2t[A2c] - M54[A2c] > J9i){y2j=+"1";}else if(M54[A2c] - i2t[A2c] > J9i){y2j=-1;}else if(Q_P){T6B.O90(35);y2j=T6B.t1w(64,"0");}P4Q=M54["Result " + N6Y.name];if(!P4Q){P4Q=+"0";}P4Q+=i2t.Volume * y2j;i2t["Result " + N6Y.name]=P4Q;}};A6b.Studies.calculatePriceVolumeTrend=function(k2f,h3Y){var E7m,r$q,P_L,x6H;T6B.Z_e();E7m=h3Y.inputs.Field;if(!E7m || E7m == "field"){E7m="Close";}r$q=h3Y.chart.scrubbed;P_L=0;if(h3Y.startFrom > 1){T6B.X$L(131);var K65=T6B.t1w(15,6,69,5,0);P_L=r$q[h3Y.startFrom - K65]["Result " + h3Y.name];}for(var n86=Math.max(+"1",h3Y.startFrom);n86 < r$q.length;n86++){x6H="Re";x6H+="sult ";if(!r$q[n86][E7m])continue;if(!r$q[n86 - 1][E7m])continue;T6B.O90(49);var r$X=T6B.D8z(3,5,0,12);P_L+=r$q[n86].Volume * (r$q[n86][E7m] - r$q[n86 - ("1" - 0)][E7m]) / r$q[n86 - r$X][E7m];r$q[n86][x6H + h3Y.name]=P_L;}};A6b.Studies.calculateVolumeIndex=function(M1t,a9y){var x43,B3M,j3d,B8x,l$E,X67,x5t,o0w,H5q,C8A,y9L,U2O;x43="Ind";x43+="e";x43+="x ";B3M="C";B3M+="l";B3M+="os";B3M+="e";j3d="f";j3d+="ie";j3d+="l";j3d+="d";B8x=a9y.inputs.Field;if(!B8x || B8x == j3d){B8x=B3M;}l$E=a9y.chart.scrubbed;if(l$E.length < a9y.days + +"1"){a9y.error=!![];return;}X67=100;if(a9y.startFrom > 1){T6B.X$L(22);var V6_=T6B.D8z(3,10,13,4,29);X67=l$E[a9y.startFrom - V6_][x43 + a9y.name];}for(var Z6X=Math.max(1,a9y.startFrom);Z6X < l$E.length;Z6X++){x5t="N";x5t+="eg Vol";o0w="o";o0w+="b";o0w+="j";o0w+="ect";H5q=l$E[Z6X][B8x];C8A=l$E[Z6X].Volume;if(H5q && typeof H5q == o0w){C8A=H5q.Volume;H5q=H5q[a9y.subField];}T6B.O90(7);y9L=l$E[T6B.D8z(1,Z6X)][B8x];U2O=l$E[Z6X - 1].Volume;if(y9L && typeof y9L == "object"){U2O=y9L.Volume;y9L=y9L[a9y.subField];}if(!H5q)continue;if(!y9L)continue;if(a9y.type == "Pos Vol" && C8A > U2O || a9y.type == x5t && C8A < U2O){T6B.X$L(23);X67*=T6B.t1w(y9L,H5q);}l$E[Z6X]["Index " + a9y.name]=X67;}A6b.Studies.MA(a9y.inputs["Moving Average Type"],a9y.days,"Index " + a9y.name,+"0","MA",M1t,a9y);};A6b.Studies.studyLibrary=A6b.extend(A6b.Studies.studyLibrary,{"Neg Vol":{name:r30,calculateFN:A6b.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:"field","Moving Average Type":"ma"},outputs:{Index:E6C,MA:R3W}},"On Bal Vol":{name:B7_,calculateFN:A6b.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:A6b.Studies.calculateVolumeIndex,inputs:{Period:255,Field:Z1H,"Moving Average Type":O1Q},outputs:{Index:u4o,MA:"#FF0000"}},"Price Vol":{name:"Price Volume Trend",calculateFN:A6b.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:"Trade Volume Index",calculateFN:A6b.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:m1o,calculateFN:function(U98,U4P){T6B.c7b();var C9E,C_L,l$d;if(A6b.Studies.calculateRateOfChange){A6b.Studies.calculateRateOfChange(U98,U4P);}else {C9E=-1123530507;T6B.X$L(35);C_L=-T6B.D8z(0,"1125563075");l$d=2;for(var K2M="1" * 1;T6B.i7j(K2M.toString(),K2M.toString().length,73305) !== C9E;K2M++){console.error("Volume Rate of Change study requires first activating momentum feature.");l$d+=2;}if(T6B.l9L(l$d.toString(),l$d.toString().length,+"91402") !== C_L){console.error("");}A6b.Studies.calculateRateOfChange=function(P2b,s4_){};}},parameters:{init:{isVolume:!!({})}}},"vol undr":{name:"Volume Underlay",underlay:!0,range:"0 to max",yAxis:{ground:!!({}),initialMarginTop:0,position:j0z,zoom:0,heightFactor:0.25},seriesFN:A6b.Studies.createVolumeChart,calculateFN:A6b.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":H5f,"Down Volume":"#b82c0c"},customRemoval:!"",removeFN:function(s7T,O$U){var m76;m76="l";m76+="ayout";s7T.layout.volumeUnderlay=![];s7T.changeOccurred(m76);},attributes:{panelName:{hidden:!!"1"}}}});}};L3=Z3d=>{var U7C,U5R,T7J,h5A,x_x;U7C=typeof _CIQ !== "undefined"?_CIQ:Z3d.CIQ;if(!U7C.Studies){console.error("vortex feature requires first activating studies feature.");}else {U5R="0.";U5R+="0";U5R+="1";T7J="0";T7J+=".";T7J+="0";T7J+="1";h5A="#FF000";h5A+="0";x_x="Vor";x_x+="tex Ind";x_x+="ica";x_x+="tor";U7C.Studies.calculateVortex=function(w2k,j$u){var n9e=g9BGt;var s6D,y8X,B_4,M2I,C0y,J$w,H6O,D0C,Z7d,B3p,D$L,I4z;s6D=j$u.chart.scrubbed;y8X=j$u.days;if(s6D.length < y8X + 1){j$u.error=!![];return;}B_4={tr:0,vmPlus:0,vmMinus:0};if(j$u.startFrom > 1){M2I=1339993391;C0y=-1377162757;J$w=2;for(var B2m=1;n9e.l9L(B2m.toString(),B2m.toString().length,52496) !== M2I;B2m++){B_4=U7C.clone(s6D[j$u.startFrom % 2]["" - j$u.name]);J$w+=2;}if(n9e.i7j(J$w.toString(),J$w.toString().length,"61834" * 1) !== C0y){B_4=U7C.clone(s6D[j$u.startFrom - ("1" ^ 0)]["_totals " + j$u.name]);}}for(var r0e=Math.max(j$u.startFrom,1);r0e < s6D.length;r0e++){H6O=s6D[r0e];n9e.X$L(7);D0C=s6D[n9e.D8z(1,r0e)];Z7d=Math.abs(H6O.High - D0C.Low);B3p=Math.abs(H6O.Low - D0C.High);D$L=Math.max(H6O.High,D0C.Close) - Math.min(H6O.Low,D0C.Close);B_4.tr+=D$L;B_4.vmPlus+=Z7d;B_4.vmMinus+=B3p;if(r0e > y8X){n9e.O90(7);B_4.tr-=s6D[n9e.D8z(y8X,r0e)]["_True Range " + j$u.name];n9e.O90(7);B_4.vmPlus-=s6D[n9e.t1w(y8X,r0e)]["_VMPlus " + j$u.name];n9e.X$L(7);B_4.vmMinus-=s6D[n9e.D8z(y8X,r0e)]["_VMMinus " + j$u.name];}H6O["_True Range " + j$u.name]=D$L;H6O["_VMPlus " + j$u.name]=Z7d;H6O["_VMMinus " + j$u.name]=B3p;if(r0e >= y8X){I4z="-";I4z+="V";I4z+="I ";H6O["+VI " + j$u.name]=B_4.vmPlus / B_4.tr;H6O[I4z + j$u.name]=B_4.vmMinus / B_4.tr;}H6O["_totals " + j$u.name]=U7C.clone(B_4);}};U7C.Studies.studyLibrary=U7C.extend(U7C.Studies.studyLibrary,{Vortex:{name:x_x,calculateFN:U7C.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":h5A},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:T7J},studyOverSoldValue:{max:1,step:U5R}}}});}};c3=f5E=>{var h7w=g9BGt;var k_7,r_7,h6F,B_w;k_7="unde";k_7+="fined";r_7=typeof _CIQ !== k_7?_CIQ:f5E.CIQ;h7w.c7b();if(!r_7.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {h6F="#5";h6F+="f";h6F+="7cb8";B_w="#8b";B_w+="c176";r_7.Studies.calculateMFI=function(k5N,v9Y){var J1p,f0r,N9x,C1G,S0U,i01,h7z;J1p="S";J1p+="cal";J1p+="e Factor";f0r=v9Y.chart.scrubbed;C1G=0;S0U=v9Y.inputs[J1p];if(!S0U){S0U=v9Y.study.inputs["Scale Factor"];}h7w.c7b();i01=Math.pow(10,Number(S0U));if(v9Y.startFrom > +"1"){h7w.O90(128);var v6D=h7w.D8z(20,18,17,20);C1G=f0r[v9Y.startFrom - v6D]["_high " + v9Y.name];}for(h7z=v9Y.startFrom;h7z < f0r.length;h7z++){if(!f0r[h7z])continue;if(f0r[h7z].Volume){f0r[h7z][v9Y.name + "_hist"]=N9x=i01 * (f0r[h7z].High - f0r[h7z].Low) / f0r[h7z].Volume;f0r[h7z]["_high " + v9Y.name]=C1G=Math.max(C1G,N9x);}}v9Y.outputMap={};v9Y.outputMap[v9Y.name + "_hist"]="";};r_7.Studies.displayMFI=function(a39,G6g,Q2c){var d69,Q_7,v5s,E57,N2W,Q$5,l_F,i52,H5n,B1U,b8l,j4t;d69=a39.panels[G6g.panel];Q_7=G6g.getContext(a39);v5s=G6g.getYAxis(a39);E57=v5s.flipped?v5s.top:v5s.bottom;h7w.X$L(7);var b08=h7w.t1w(11,13);N2W=a39.layout.candleWidth - b08;if(N2W < 2){N2W=1;}Q$5=r_7.Studies.determineColor(G6g.outputs.Green);l_F=r_7.Studies.determineColor(G6g.outputs.Fade);i52=r_7.Studies.determineColor(G6g.outputs.Fake);H5n=r_7.Studies.determineColor(G6g.outputs.Squat);a39.canvasColor("stx_histogram");if(!G6g.underlay){Q_7.globalAlpha=1;}Q_7.fillStyle="#CCCCCC";a39.startClip(G6g.panel);if(!G6g.highlight && a39.highlightedDraggable){Q_7.globalAlpha*=0.3;}for(var U0J=+"0";U0J < Q2c.length;U0J++){B1U="_";B1U+="hist";b8l=Q2c[U0J];h7w.X$L(7);j4t=Q2c[h7w.D8z(1,U0J)];if(!j4t){j4t=a39.getPreviousBar(a39.chart,G6g.name + "_hist",U0J);}if(!b8l)continue;if(!j4t);else if(j4t[G6g.name + B1U] < b8l[G6g.name + "_hist"]){if(j4t.Volume < b8l.Volume){Q_7.fillStyle=Q$5;}else if(j4t.Volume > b8l.Volume){Q_7.fillStyle=i52;}}else if(j4t[G6g.name + "_hist"] > b8l[G6g.name + "_hist"]){if(j4t.Volume < b8l.Volume){Q_7.fillStyle=H5n;}else if(j4t.Volume > b8l.Volume){Q_7.fillStyle=l_F;}}if(b8l.candleWidth){N2W=Math.floor(Math.max(1,b8l.candleWidth - 2));}Q_7.fillRect(Math.floor(a39.pixelFromBar(U0J,d69.chart) - N2W / ("2" >> 0)),Math.floor(E57),Math.floor(N2W),Math.floor(a39.pixelFromPrice(b8l[G6g.name + "_hist"],d69,v5s) - E57));}a39.endClip();};r_7.Studies.studyLibrary=r_7.extend(r_7.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:r_7.Studies.displayMFI,calculateFN:r_7.Studies.calculateMFI,yAxis:{ground:!!({})},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:B_w,Fade:"#ab611f",Fake:h6F,Squat:"#ffd0cf"}}});}};R8={CIQ:u8,SplinePlotter:J7,timezoneJS:X1,$$:Q5,$$$:n2};export {Z as aggregations};export {X as drawingAdvanced};export {W as equationsAdvanced};export {Q as highPerformanceMarkers};export {G as renderersAdvanced};export {I as accumulationDistribution};export {o as adx};export {N as alligator};export {S as aroon};export {U as atr};export {Y as awesomeOscillator};export {E as balanceOfPower};export {g as bollinger};export {F as cci};export {K5 as centerOfGravity};export {z0 as chaikin};export {z$ as chande};export {w8 as choppiness};export {S3 as comparisonStudies};export {f_ as coppock};export {M8 as darvasBox};export {q3 as detrended};export {c7 as disparity};export {w2 as easeOfMovement};export {J9 as ehlerFisher};export {r7 as elder};export {N0 as fractalChaos};export {Y5 as highLowStudies};export {k5 as ichimoku};export {O6 as intradayMomentum};export {G_ as keltner};export {X0 as klinger};export {Z_ as linearRegression};export {i$ as macd};export {L$ as massIndex};export {t6 as moneyFlow};export {u5 as movingAverages};export {l1 as parabolicSAR};export {i0 as pivotPoints};export {P4 as prettyGoodOscillator};export {i9 as priceMomentumOscillator};export {e1 as priceVolumeOscillator};export {Y0 as primeNumber};export {e3 as pring};export {U7 as projectedVolume};export {f6 as psychologicalLine};export {q8 as qstick};g9BGt.c7b();export {c0 as rainbow};export {x7 as randomWalk};export {J3 as relativeVigor};export {H8 as rsi};export {d8 as schaffTrendCycle};export {T5 as shinohara};export {C2 as stochastics};export {P1 as supertrend};export {r9 as swingIndex};export {G6 as trendIntensity};export {g9 as trix};export {H7 as twiggsMoneyFlow};export {P6 as typicalPrice};export {B7 as ulcerIndex};export {k3 as ultimateOscillator};export {K9 as valuationLines};export {M_ as volatilityIndex};export {A9 as volumeProfile};export {G2 as volumeStudies};export {L3 as vortex};export {c3 as williamsMFI};export {u8 as CIQ, J7 as SplinePlotter, X1 as timezoneJS, Q5 as $$, n2 as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){x2b=190530277;p2t=1598321179;p1v=2;for(var q4t=1;g9BGt.l9L(q4t.toString(),q4t.toString().length,76356) !== x2b;q4t++){R8.CIQ.activateImports(Z,X,W,Q,G,I,o,N,S,U,Y,E,g,F,K5,z0,z$,w8,S3,f_,M8,q3,c7,w2,J9,r7,N0,Y5,k5,O6,G_,X0,Z_,i$,L$,t6,u5,l1,i0,P4,i9,e1,Y0,e3,U7,f6,q8,c0,x7,J3,H8,d8,T5,C2,P1,r9,G6,g9,H7,P6,B7,k3,K9,M_,A9,G2,L3,c3,1);p1v+=2;}if(g9BGt.l9L(p1v.toString(),p1v.toString().length,41270) !== p2t){R8.CIQ.activateImports(Z,X,W,Q,G,I,o,N,S,U,Y,E,g,F,K5,z0,z$,w8,S3,f_,M8,q3,c7,w2,J9,r7,N0,Y5,k5,O6,G_,X0,Z_,i$,L$,t6,u5,l1,i0,P4,i9,e1,Y0,e3,U7,f6,q8,c0,x7,J3,H8,d8,T5,C2,P1,r9,G6,g9,H7,P6,B7,k3,K9,M_,A9,G2,L3,c3,1);}R8.CIQ.activateImports(Z,X,W,Q,G,I,o,N,S,U,Y,E,g,F,K5,z0,z$,w8,S3,f_,M8,q3,c7,w2,J9,r7,N0,Y5,k5,O6,G_,X0,Z_,i$,L$,t6,u5,l1,i0,P4,i9,e1,Y0,e3,U7,f6,q8,c0,x7,J3,H8,d8,T5,C2,P1,r9,G6,g9,H7,P6,B7,k3,K9,M_,A9,G2,L3,c3,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
