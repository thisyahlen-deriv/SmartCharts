/**
 *	8.2.0
 *	Generation date: 2022-02-18T13:21:32.984Z
 *	Client name: deriv limited
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2023/04/01"
 *	Domain lock: ["127.0.0.1","localhost","deriv.com","deriv.app","deriv.me","binary.com","binary.sx","binary.me","binary.bot","deriv.be"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
i6UVR[50848]=(function(){var D=2;for(;D !== 9;){switch(D){case 1:return globalThis;break;case 5:var J;try{var Z=2;for(;Z !== 6;){switch(Z){case 9:delete J['\u0053\x69\x32\x6d\x4f'];var U=Object['\u0070\u0072\x6f\u0074\u006f\x74\x79\x70\u0065'];delete U['\u0059\x66\x38\u0044\x4f'];Z=6;break;case 3:throw "";Z=9;break;case 4:Z=typeof Si2mO === '\x75\u006e\x64\u0065\x66\x69\x6e\u0065\u0064'?3:9;break;case 5:J['\u0053\x69\u0032\u006d\x4f']=J;Z=4;break;case 2:Object['\u0064\u0065\u0066\x69\u006e\u0065\u0050\x72\x6f\x70\u0065\x72\x74\u0079'](Object['\x70\u0072\u006f\x74\x6f\u0074\x79\x70\u0065'],'\x59\u0066\u0038\u0044\x4f',{'\x67\x65\x74':function(){var B=2;for(;B !== 1;){switch(B){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});J=Yf8DO;Z=5;break;}}}catch(q){J=window;}return J;break;case 2:D=typeof globalThis === '\u006f\x62\x6a\x65\u0063\u0074'?1:5;break;}}})();J07(i6UVR[50848]);i6UVR.l5h=function(){return typeof i6UVR[459327].w4xZ2A7 === 'function'?i6UVR[459327].w4xZ2A7.apply(i6UVR[459327],arguments):i6UVR[459327].w4xZ2A7;};i6UVR[158192]=i6UVR[220353];i6UVR.N0k=function(){return typeof i6UVR[356525].n8eaqyR === 'function'?i6UVR[356525].n8eaqyR.apply(i6UVR[356525],arguments):i6UVR[356525].n8eaqyR;};i6UVR.W5N=function(){return typeof i6UVR[220353].V3nM4Cy === 'function'?i6UVR[220353].V3nM4Cy.apply(i6UVR[220353],arguments):i6UVR[220353].V3nM4Cy;};i6UVR.N4H=function(){return typeof i6UVR[247674].A$uBw0P === 'function'?i6UVR[247674].A$uBw0P.apply(i6UVR[247674],arguments):i6UVR[247674].A$uBw0P;};i6UVR[345871]=false;i6UVR[220353]=(function(){var V9b=2;for(;V9b !== 9;){switch(V9b){case 2:var Q1k=[arguments];Q1k[6]=undefined;Q1k[4]={};Q1k[4].V3nM4Cy=function(){var K8a=2;for(;K8a !== 90;){switch(K8a){case 24:Z39[21]=Z39[14];Z39[96]={};Z39[96].y1E=['B46'];Z39[96].e3i=function(){var w8h=function(){return ('aaaa').padEnd(5,'a');};var o0I=(/\x61\u0061\x61\u0061\x61/).o4KTVo(w8h + []);return o0I;};Z39[88]=Z39[96];K8a=34;break;case 4:Z39[5]=[];Z39[8]={};Z39[8].y1E=['n8T'];Z39[8].e3i=function(){var z3_=typeof T7$ssh === 'function';return z3_;};Z39[9]=Z39[8];Z39[2]={};Z39[2].y1E=['B46'];K8a=13;break;case 69:K8a=(function(B43){var o_4=2;for(;o_4 !== 22;){switch(o_4){case 5:return;break;case 1:o_4=A9J[0][0].length === 0?5:4;break;case 25:A9J[4]=true;o_4=24;break;case 11:A9J[6][A9J[7][Z39[20]]].t+=true;o_4=10;break;case 13:A9J[6][A9J[7][Z39[20]]]=(function(){var R1G=2;for(;R1G !== 9;){switch(R1G){case 2:var H_O=[arguments];R1G=1;break;case 1:H_O[4]={};H_O[4].h=0;H_O[4].t=0;return H_O[4];break;}}}).h$vFof(this,arguments);o_4=12;break;case 24:A9J[3]++;o_4=16;break;case 12:A9J[5].j3S5_x(A9J[7][Z39[20]]);o_4=11;break;case 26:o_4=A9J[2] >= 0.5?25:24;break;case 16:o_4=A9J[3] < A9J[5].length?15:23;break;case 14:o_4=typeof A9J[6][A9J[7][Z39[20]]] === 'undefined'?13:11;break;case 18:A9J[4]=false;o_4=17;break;case 2:var A9J=[arguments];o_4=1;break;case 10:o_4=A9J[7][Z39[44]] === Z39[22]?20:19;break;case 6:A9J[7]=A9J[0][0][A9J[3]];o_4=14;break;case 20:A9J[6][A9J[7][Z39[20]]].h+=true;o_4=19;break;case 8:A9J[3]=0;o_4=7;break;case 17:A9J[3]=0;o_4=16;break;case 4:A9J[6]={};A9J[5]=[];A9J[3]=0;o_4=8;break;case 15:A9J[9]=A9J[5][A9J[3]];A9J[2]=A9J[6][A9J[9]].h / A9J[6][A9J[9]].t;o_4=26;break;case 23:return A9J[4];break;case 7:o_4=A9J[3] < A9J[0][0].length?6:18;break;case 19:A9J[3]++;o_4=7;break;}}})(Z39[79])?68:67;break;case 2:var Z39=[arguments];K8a=1;break;case 31:Z39[43]=Z39[75];Z39[15]={};Z39[15].y1E=['n8T'];K8a=28;break;case 67:Q1k[6]=75;return 26;break;case 34:Z39[75]={};Z39[75].y1E=['n8T'];Z39[75].e3i=function(){var F1h=typeof X5SqjV === 'function';return F1h;};K8a=31;break;case 28:Z39[15].e3i=function(){var w4F=false;var g7D=[];try{for(var A8t in console){g7D.j3S5_x(A8t);}w4F=g7D.length === 0;}catch(j2Z){}var F2v=w4F;return F2v;};Z39[85]=Z39[15];Z39[94]={};Z39[94].y1E=['B46'];K8a=41;break;case 58:Z39[64]=0;K8a=57;break;case 77:Z39[17]=0;K8a=76;break;case 47:Z39[5].j3S5_x(Z39[43]);Z39[5].j3S5_x(Z39[85]);Z39[5].j3S5_x(Z39[26]);Z39[79]=[];K8a=64;break;case 15:Z39[3]=Z39[7];Z39[14]={};Z39[14].y1E=['B46'];Z39[14].e3i=function(){var O8T=function(){return ('xy').substring(0,1);};var t8G=!(/\x79/).o4KTVo(O8T + []);return t8G;};K8a=24;break;case 54:Z39[5].j3S5_x(Z39[9]);Z39[5].j3S5_x(Z39[55]);Z39[5].j3S5_x(Z39[4]);Z39[5].j3S5_x(Z39[21]);Z39[5].j3S5_x(Z39[6]);Z39[5].j3S5_x(Z39[3]);Z39[5].j3S5_x(Z39[88]);K8a=47;break;case 64:Z39[22]='R3X';Z39[13]='r8C';Z39[35]='y1E';Z39[44]='Z5Z';Z39[91]='e3i';Z39[20]='w7F';K8a=58;break;case 71:Z39[17]++;K8a=76;break;case 57:K8a=Z39[64] < Z39[5].length?56:69;break;case 68:K8a=31?68:67;break;case 13:Z39[2].e3i=function(){var Z0b=function(){return ('aa').endsWith('a');};var t04=(/\u0074\u0072\x75\x65/).o4KTVo(Z0b + []);return t04;};Z39[6]=Z39[2];Z39[1]={};K8a=10;break;case 70:Z39[64]++;K8a=57;break;case 56:Z39[72]=Z39[5][Z39[64]];try{Z39[76]=Z39[72][Z39[91]]()?Z39[22]:Z39[13];}catch(y7i){Z39[76]=Z39[13];}K8a=77;break;case 75:Z39[80]={};Z39[80][Z39[20]]=Z39[72][Z39[35]][Z39[17]];Z39[80][Z39[44]]=Z39[76];Z39[79].j3S5_x(Z39[80]);K8a=71;break;case 18:Z39[7]={};Z39[7].y1E=['B46'];Z39[7].e3i=function(){var m5a=function(){return ('x').startsWith('x');};var S0N=(/\u0074\u0072\u0075\u0065/).o4KTVo(m5a + []);return S0N;};K8a=15;break;case 10:Z39[1].y1E=['B46'];Z39[1].e3i=function(){var l4f=function(){return ('X').toLocaleLowerCase();};var i2C=(/\u0078/).o4KTVo(l4f + []);return i2C;};Z39[4]=Z39[1];K8a=18;break;case 37:Z39[36].e3i=function(){var u8m=typeof J36lyu === 'function';return u8m;};Z39[26]=Z39[36];K8a=54;break;case 5:return 67;break;case 1:K8a=Q1k[6]?5:4;break;case 76:K8a=Z39[17] < Z39[72][Z39[35]].length?75:70;break;case 41:Z39[94].e3i=function(){var y8I=function(){return ('x').toLocaleUpperCase();};var l4Y=(/\x58/).o4KTVo(y8I + []);return l4Y;};Z39[55]=Z39[94];Z39[36]={};Z39[36].y1E=['n8T'];K8a=37;break;}}};return Q1k[4];break;}}})();i6UVR[356525]=(function(){function r$G(N6$){var M1m=2;for(;M1m !== 7;){switch(M1m){case 3:T_D+=O4PYW.J2a49(N6$[g7_] - f6h + 115);M1m=9;break;case 5:var g7_=0;M1m=4;break;case 9:g7_++;M1m=4;break;case 4:M1m=g7_ < N6$.length?3:8;break;case 2:var f6h=8;var T_D='';M1m=5;break;case 8:return T_D;break;}}}function E9y(V0q,B01,g3k,M97,W7J){var D5I=2;for(;D5I !== 15;){switch(D5I){case 6:return i6UVR.l5h(a6X,q1e,g3k);break;case 9:D5I=M97 > 0?8:19;break;case 19:D5I=V0q === null || V0q <= 0?18:14;break;case 8:a6X=I0b.l7IrZr(V0q,M97);q1e=a6X.length;D5I=6;break;case 2:var a6X,q1e,I0b,x8K;x8K=W9b[r$G([1,4,-8,-10,9,-2,4,3])];!i3E && (i3E=typeof x8K !== "undefined"?x8K[r$G([-3,4,8,9,3,-10,2,-6])] || ' ':"");!o8t && (o8t=typeof x8K !== "undefined"?x8K[r$G([-3,7,-6,-5])]:"");D5I=3;break;case 11:a6X=I0b.l7IrZr(S6n,I0b.length);q1e=a6X.length;return i6UVR.l5h(a6X,q1e,g3k);break;case 12:return false;break;case 16:return i6UVR.l5h(a6X,q1e,g3k);break;case 3:I0b=W7J?o8t:i3E;D5I=9;break;case 18:a6X=I0b.l7IrZr(0,I0b.length);q1e=a6X.length;D5I=16;break;case 13:D5I=B01 && S6n > 0 && I0b.F6JWB(S6n - 1) !== 46?12:11;break;case 14:var S6n=I0b.length - V0q;D5I=13;break;}}}var p80=2;for(;p80 !== 4;){switch(p80){case 2:var W9b=i6UVR[50848];var i3E,o8t;return {K9OPwob:function(C7i,P2q,v_3,Y66){var B3U=2;for(;B3U !== 1;){switch(B3U){case 2:return E9y(C7i,P2q,v_3,Y66);break;}}},n8eaqyR:function(S9w,h_6,W0Z,n8k){var s1f=2;for(;s1f !== 1;){switch(s1f){case 2:return E9y(S9w,h_6,W0Z,n8k,true);break;}}}};break;}}})();i6UVR.Z4a=function(){return typeof i6UVR[356525].K9OPwob === 'function'?i6UVR[356525].K9OPwob.apply(i6UVR[356525],arguments):i6UVR[356525].K9OPwob;};function J07(r1E){function t$U(X5R){var y86=2;for(;y86 !== 5;){switch(y86){case 2:var k2r=[arguments];return k2r[0][0].RegExp;break;}}}function c59(u1S){var O7y=2;for(;O7y !== 5;){switch(O7y){case 2:var p9K=[arguments];return p9K[0][0].String;break;}}}function E3o(W9M){var T8x=2;for(;T8x !== 5;){switch(T8x){case 2:var f2W=[arguments];return f2W[0][0].Array;break;}}}function y8x(D7F,f1r,H5X,F8S,I9p){var n8C=2;for(;n8C !== 14;){switch(n8C){case 8:r2S[6]="defin";r2S[1]=false;try{var q_w=2;for(;q_w !== 13;){switch(q_w){case 9:r2S[9][r2S[0][4]]=r2S[9][r2S[0][2]];r2S[5].set=function(Y_k){var L09=2;for(;L09 !== 5;){switch(L09){case 2:var C9F=[arguments];r2S[9][r2S[0][2]]=C9F[0][0];L09=5;break;}}};r2S[5].get=function(){var l6k=2;for(;l6k !== 12;){switch(l6k){case 2:var T1$=[arguments];T1$[4]="";T1$[4]="fined";T1$[8]="";l6k=3;break;case 6:T1$[9]+=T1$[8];T1$[9]+=T1$[4];return typeof r2S[9][r2S[0][2]] == T1$[9]?undefined:r2S[9][r2S[0][2]];break;case 3:T1$[8]="e";T1$[1]="";T1$[1]="und";T1$[9]=T1$[1];l6k=6;break;}}};r2S[5].enumerable=r2S[1];try{var L$Q=2;for(;L$Q !== 3;){switch(L$Q){case 4:r2S[0][0].Object[r2S[8]](r2S[9],r2S[0][4],r2S[5]);L$Q=3;break;case 2:r2S[8]=r2S[6];r2S[8]+=r2S[3];r2S[8]+=r2S[2];L$Q=4;break;}}}catch(B8k){}q_w=13;break;case 3:return;break;case 4:q_w=r2S[9].hasOwnProperty(r2S[0][4]) && r2S[9][r2S[0][4]] === r2S[9][r2S[0][2]]?3:9;break;case 2:r2S[5]={};r2S[7]=(1,r2S[0][1])(r2S[0][0]);r2S[9]=[r2S[7],r2S[7].prototype][r2S[0][3]];q_w=4;break;}}}catch(R$o){}n8C=14;break;case 2:var r2S=[arguments];r2S[2]="";r2S[2]="";r2S[2]="operty";r2S[3]="ePr";r2S[6]="";n8C=8;break;}}}function O1c(f5c){var G0P=2;for(;G0P !== 5;){switch(G0P){case 2:var N54=[arguments];return N54[0][0];break;}}}var c81=2;for(;c81 !== 126;){switch(c81){case 134:E6r(c59,"replace",A9w[76],A9w[43]);c81=133;break;case 105:E6r(c59,"fromCharCode",A9w[93],A9w[92]);c81=135;break;case 33:A9w[59]="Z9Jc";A9w[16]="";A9w[79]="ptimize";A9w[16]="7";c81=29;break;case 108:var E6r=function(z2m,k4b,M37,E6y){var c8C=2;for(;c8C !== 5;){switch(c8C){case 2:var c0i=[arguments];y8x(A9w[0][0],c0i[0][0],c0i[0][1],c0i[0][2],c0i[0][3]);c8C=5;break;}}};c81=107;break;case 29:A9w[61]="";A9w[25]="T";A9w[61]="TVo";A9w[91]="";A9w[96]="_";c81=41;break;case 103:A9w[33]=A9w[25];A9w[33]+=A9w[16];A9w[33]+=A9w[52];A9w[56]=A9w[96];c81=99;break;case 46:A9w[17]="o";A9w[15]="X5S";A9w[63]="es";A9w[49]="abst";c81=63;break;case 129:E6r(E3o,"push",A9w[76],A9w[42]);c81=128;break;case 132:E6r(O1c,A9w[56],A9w[93],A9w[33]);c81=131;break;case 63:A9w[28]="3S5_";A9w[54]="";A9w[53]="lyu";A9w[54]="6";c81=59;break;case 111:A9w[69]=A9w[9];A9w[69]+=A9w[7];A9w[69]+=A9w[6];c81=108;break;case 12:A9w[6]="WB";A9w[8]="J";A9w[2]="";A9w[2]="";c81=19;break;case 59:A9w[62]="__";A9w[57]="";A9w[57]="J3";A9w[24]="h$";c81=55;break;case 72:A9w[88]=A9w[24];A9w[88]+=A9w[55];A9w[88]+=A9w[75];A9w[38]=A9w[57];A9w[38]+=A9w[54];c81=67;break;case 115:A9w[92]+=A9w[26];A9w[36]=A9w[3];A9w[36]+=A9w[81];A9w[36]+=A9w[1];c81=111;break;case 131:E6r(t$U,"test",A9w[76],A9w[66]);c81=130;break;case 41:A9w[91]="4K";A9w[40]="_o";A9w[83]="";A9w[83]="idual";c81=37;break;case 15:A9w[48]="";A9w[48]="l7Ir";A9w[89]="";A9w[26]="9";c81=24;break;case 24:A9w[89]="Dm5";A9w[90]="";A9w[90]="6s";A9w[12]="";A9w[12]="E";A9w[59]="";c81=33;break;case 127:E6r(J0T,"apply",A9w[76],A9w[88]);c81=126;break;case 99:A9w[56]+=A9w[40];A9w[56]+=A9w[79];A9w[86]=A9w[59];A9w[86]+=A9w[81];A9w[86]+=A9w[12];A9w[43]=A9w[18];A9w[43]+=A9w[90];c81=92;break;case 2:var A9w=[arguments];A9w[9]="";A9w[9]="F";A9w[1]="";A9w[1]="W";A9w[3]="";c81=8;break;case 67:A9w[38]+=A9w[53];A9w[68]=A9w[62];A9w[68]+=A9w[49];A9w[68]+=A9w[72];c81=88;break;case 84:A9w[45]+=A9w[18];A9w[45]+=A9w[64];A9w[71]=A9w[47];A9w[71]+=A9w[63];c81=80;break;case 8:A9w[3]="";A9w[3]="O4P";A9w[5]="";A9w[5]="2a4";A9w[8]="";c81=12;break;case 128:E6r(O1c,A9w[68],A9w[93],A9w[38]);c81=127;break;case 19:A9w[2]="r";A9w[4]="";A9w[7]="6J";A9w[4]="Z";c81=15;break;case 133:E6r(E3o,"map",A9w[76],A9w[86]);c81=132;break;case 55:A9w[75]="of";A9w[55]="vF";A9w[76]=8;A9w[76]=1;A9w[93]=1;A9w[93]=0;c81=72;break;case 92:A9w[43]+=A9w[89];A9w[85]=A9w[48];A9w[85]+=A9w[4];A9w[85]+=A9w[2];A9w[92]=A9w[8];A9w[92]+=A9w[5];c81=115;break;case 106:E6r(O1c,"String",A9w[93],A9w[36]);c81=105;break;case 50:A9w[18]="q";A9w[46]="x";A9w[47]="__r";A9w[49]="";c81=46;break;case 37:A9w[72]="";A9w[64]="jV";A9w[81]="Y";A9w[98]="j";A9w[52]="$ssh";A9w[72]="ract";c81=50;break;case 80:A9w[71]+=A9w[83];A9w[66]=A9w[17];A9w[66]+=A9w[91];A9w[66]+=A9w[61];c81=103;break;case 135:E6r(c59,"substring",A9w[76],A9w[85]);c81=134;break;case 107:E6r(c59,"charCodeAt",A9w[76],A9w[69]);c81=106;break;case 130:E6r(O1c,A9w[71],A9w[93],A9w[45]);c81=129;break;case 88:A9w[42]=A9w[98];A9w[42]+=A9w[28];A9w[42]+=A9w[46];A9w[45]=A9w[15];c81=84;break;}}function J0T(H59){var l$$=2;for(;l$$ !== 5;){switch(l$$){case 2:var V9x=[arguments];return V9x[0][0].Function;break;}}}}i6UVR.m6F=function(){return typeof i6UVR[459327].w4xZ2A7 === 'function'?i6UVR[459327].w4xZ2A7.apply(i6UVR[459327],arguments):i6UVR[459327].w4xZ2A7;};i6UVR.V9a=function(){return typeof i6UVR[150036].q52sdNp === 'function'?i6UVR[150036].q52sdNp.apply(i6UVR[150036],arguments):i6UVR[150036].q52sdNp;};i6UVR.i8e=function(){return typeof i6UVR[247674].A$uBw0P === 'function'?i6UVR[247674].A$uBw0P.apply(i6UVR[247674],arguments):i6UVR[247674].A$uBw0P;};i6UVR.h3V=function(){return typeof i6UVR[356525].K9OPwob === 'function'?i6UVR[356525].K9OPwob.apply(i6UVR[356525],arguments):i6UVR[356525].K9OPwob;};i6UVR.O_b=function(){return typeof i6UVR[150036].Z7m4YCh === 'function'?i6UVR[150036].Z7m4YCh.apply(i6UVR[150036],arguments):i6UVR[150036].Z7m4YCh;};i6UVR.W3G=function(){return typeof i6UVR[220353].V3nM4Cy === 'function'?i6UVR[220353].V3nM4Cy.apply(i6UVR[220353],arguments):i6UVR[220353].V3nM4Cy;};i6UVR[150036]=(function(B6t){return {q52sdNp:function(){var J5D,r_V=arguments;switch(B6t){case 39:J5D=r_V[0] ^ r_V[1];break;case 64:J5D=(r_V[0] - r_V[1] - r_V[3]) / r_V[4] + r_V[2];break;case 71:J5D=(r_V[0] - r_V[4]) * r_V[1] - r_V[3] - r_V[2];break;case 8:J5D=(r_V[2] + r_V[4] - r_V[3]) * r_V[1] - r_V[0];break;case 128:J5D=r_V[2] * ((r_V[0] - r_V[1]) / r_V[4] + r_V[3]);break;case 77:J5D=(r_V[1] + r_V[3] - r_V[0]) / r_V[4] + r_V[2];break;case 118:J5D=r_V[1] * r_V[0] + r_V[2] + r_V[4] - r_V[3];break;case 102:J5D=r_V[0] - r_V[4] - r_V[1] - r_V[3] + r_V[2];break;case 12:J5D=r_V[1] >> r_V[0];break;case 85:J5D=r_V[1] | r_V[2] | r_V[0];break;case 38:J5D=(r_V[3] - r_V[4] - r_V[1]) * r_V[0] - r_V[2];break;case 2:J5D=r_V[1] * r_V[0];break;case 65:J5D=(r_V[2] + r_V[3]) * r_V[0] + r_V[1] - r_V[4];break;case 18:J5D=-r_V[2] - r_V[1] + r_V[0];break;case 87:J5D=r_V[1] === r_V[0];break;case 74:J5D=r_V[1] >= r_V[0];break;case 134:J5D=+r_V[2] + r_V[3] + r_V[0] + r_V[1];break;case 132:J5D=(-r_V[1] + r_V[3]) / r_V[0] * r_V[4] + r_V[2];break;case 40:J5D=r_V[1] + r_V[0] - (r_V[2] - r_V[3]);break;case 36:J5D=r_V[1] - +r_V[0];break;case 121:J5D=(r_V[3] - r_V[4]) * r_V[0] * r_V[1] + r_V[2];break;case 145:J5D=(+r_V[3] + r_V[0] / r_V[1]) * r_V[2];break;case 52:J5D=r_V[3] + r_V[2] + +r_V[1] + r_V[0];break;case 135:J5D=r_V[2] * r_V[3] * r_V[1] - r_V[4] - r_V[0];break;case 119:J5D=r_V[0] / r_V[1] + r_V[2];break;case 48:J5D=(-r_V[0] + r_V[4]) * r_V[3] * r_V[2] - r_V[1];break;case 10:J5D=+r_V[1] * r_V[0];break;case 143:J5D=r_V[2] * r_V[1] * r_V[0];break;case 26:J5D=(r_V[0] - r_V[1]) / r_V[3] + r_V[2];break;case 28:J5D=(r_V[0] + r_V[1]) * r_V[3] - r_V[2];break;case 53:J5D=-r_V[3] / r_V[1] - r_V[2] + r_V[0];break;case 112:J5D=r_V[3] - r_V[1] + (r_V[2] | r_V[0]);break;case 139:J5D=r_V[0] / r_V[2] / r_V[1];break;case 68:J5D=r_V[3] + r_V[0] + r_V[2] + r_V[1] - r_V[4];break;case 35:J5D=r_V[2] + r_V[0] + r_V[1];break;case 9:J5D=r_V[0] / r_V[1];break;case 15:J5D=r_V[0] / r_V[4] / r_V[2] / r_V[1] - r_V[3];break;case 81:J5D=r_V[0] < r_V[1];break;case 21:J5D=r_V[1] * r_V[0] - r_V[2];break;case 42:J5D=r_V[0] | r_V[1];break;case 75:J5D=r_V[2] + r_V[1] + r_V[4] + r_V[0] + r_V[3];break;case 116:J5D=r_V[4] / r_V[0] / r_V[3] * r_V[1] + r_V[2];break;case 127:J5D=r_V[1] * r_V[0] * r_V[2] * r_V[3];break;case 25:J5D=(r_V[0] - r_V[4]) * r_V[1] / r_V[2] + r_V[3];break;case 29:J5D=r_V[0] << r_V[1];break;case 95:J5D=r_V[0] / r_V[2] * r_V[3] - r_V[1];break;case 72:J5D=r_V[0] == r_V[1];break;case 140:J5D=(r_V[4] - r_V[5]) * (r_V[0] - r_V[2]) + (r_V[6] - r_V[3]) * (r_V[7] - r_V[1]);break;case 11:J5D=(r_V[3] + r_V[0]) / (r_V[1] | r_V[2]);break;case 51:J5D=r_V[2] + r_V[3] + r_V[1] + r_V[0];break;case 54:J5D=r_V[0] / r_V[2] + r_V[1] - r_V[3];break;case 113:J5D=r_V[3] - (r_V[2] - r_V[1]) - r_V[0];break;case 114:J5D=r_V[3] / r_V[1] - r_V[0] - r_V[2];break;case 37:J5D=r_V[2] - r_V[0] - r_V[1];break;case 92:J5D=r_V[3] * r_V[2] + r_V[1] - r_V[0];break;case 4:J5D=r_V[2] - r_V[3] / r_V[1] + r_V[0];break;case 60:J5D=(-r_V[2] + r_V[0]) * r_V[3] - r_V[1];break;case 123:J5D=(r_V[4] + r_V[1]) * r_V[0] * r_V[3] - r_V[2];break;case 59:J5D=r_V[1] / r_V[3] - r_V[0] + r_V[2];break;case 131:J5D=r_V[0] + r_V[3] - r_V[2] + r_V[1];break;case 32:J5D=r_V[0] * r_V[4] / r_V[2] * r_V[1] - r_V[3];break;case 124:J5D=r_V[1] * r_V[3] / r_V[4] - r_V[0] + r_V[2];break;case 5:J5D=r_V[0] + r_V[1] / r_V[2] - r_V[3];break;case 55:J5D=r_V[0] * r_V[2] / r_V[4] / r_V[3] - r_V[1];break;case 16:J5D=r_V[1] + r_V[0] - r_V[2];break;case 129:J5D=(r_V[2] - r_V[4]) * r_V[3] + r_V[1] - r_V[0];break;case 0:J5D=r_V[0] + r_V[1];break;case 14:J5D=-r_V[2] / r_V[0] * r_V[3] + r_V[1];break;case 47:J5D=r_V[1] - r_V[0] / r_V[2];break;case 88:J5D=r_V[1] - (r_V[2] - r_V[0]);break;case 138:J5D=(r_V[1] - r_V[4] + r_V[0]) * r_V[2] - r_V[3];break;case 70:J5D=(-r_V[4] + r_V[2]) * r_V[3] / r_V[1] + r_V[0];break;case 126:J5D=r_V[0] + r_V[1] / (r_V[3] - r_V[2]);break;case 33:J5D=r_V[0] - r_V[2] + r_V[1];break;case 31:J5D=r_V[3] + (r_V[4] + r_V[1] * r_V[2]) * r_V[0];break;case 19:J5D=(r_V[2] + r_V[4]) * r_V[3] / r_V[0] - r_V[1];break;case 69:J5D=(r_V[2] - r_V[1]) * r_V[3] - r_V[0];break;case 89:J5D=(r_V[0] + r_V[1]) / r_V[2] + r_V[3];break;case 141:J5D=r_V[1] / r_V[4] / r_V[0] + r_V[3] - r_V[2];break;case 50:J5D=r_V[1] + r_V[0] - r_V[2] - r_V[3];break;case 110:J5D=r_V[0] / r_V[2] + r_V[3] + r_V[4] - r_V[1];break;case 133:J5D=r_V[2] / r_V[4] / r_V[1] + r_V[3] + r_V[0];break;case 43:J5D=r_V[0] + r_V[2] / r_V[1];break;case 62:J5D=r_V[4] / r_V[0] * r_V[1] + r_V[3] - r_V[2];break;case 24:J5D=r_V[3] + r_V[0] + r_V[1] - r_V[2];break;case 56:J5D=r_V[4] / r_V[0] - r_V[3] - r_V[2] + r_V[1];break;case 105:J5D=(-r_V[4] + r_V[0]) * r_V[3] - r_V[1] - r_V[2];break;case 80:J5D=+r_V[1] << r_V[0];break;case 57:J5D=(r_V[1] * r_V[4] + r_V[2]) * r_V[3] - r_V[0];break;case 30:J5D=(r_V[0] - r_V[2]) * r_V[1];break;case 79:J5D=r_V[0] % r_V[1];break;case 76:J5D=r_V[0] != r_V[1];break;case 44:J5D=r_V[3] - r_V[0] / r_V[1] - r_V[2];break;case 22:J5D=(r_V[2] - r_V[0]) * r_V[3] + r_V[1];break;case 136:J5D=(r_V[4] + r_V[1] - r_V[0]) / r_V[2] - r_V[3];break;case 97:J5D=r_V[3] * (+r_V[2] + r_V[0] / r_V[1]);break;case 107:J5D=r_V[4] / r_V[2] + r_V[3] - r_V[0] + r_V[1];break;case 103:J5D=-r_V[1] * r_V[2] + r_V[4] + r_V[0] + r_V[3];break;case 93:J5D=r_V[0] * r_V[3] / (r_V[2] + r_V[1]);break;case 111:J5D=r_V[2] / r_V[1] / r_V[0] + r_V[3];break;case 61:J5D=(r_V[2] - r_V[0]) / (r_V[1] - r_V[3]);break;case 99:J5D=-r_V[0] * r_V[2] + r_V[1];break;case 137:J5D=r_V[2] - (r_V[1] >> r_V[0]);break;case 109:J5D=r_V[2] * r_V[1] / r_V[3] + r_V[4] - r_V[0];break;case 115:J5D=(r_V[1] - r_V[3]) * r_V[4] + r_V[2] + r_V[0];break;case 63:J5D=r_V[0] * r_V[1] + r_V[2];break;case 73:J5D=r_V[0] > r_V[1];break;case 104:J5D=r_V[3] - r_V[1] + r_V[0] + r_V[2];break;case 144:J5D=(r_V[1] - r_V[0] / r_V[3]) * r_V[2];break;case 41:J5D=r_V[3] * r_V[1] + r_V[2] * r_V[0];break;case 120:J5D=r_V[0] / (r_V[2] + r_V[1]);break;case 106:J5D=r_V[3] * r_V[4] - r_V[2] - r_V[1] - r_V[0];break;case 17:J5D=r_V[3] - r_V[4] + r_V[0] + r_V[2] - r_V[1];break;case 108:J5D=r_V[1] * r_V[4] * r_V[0] / r_V[3] - r_V[2];break;case 66:J5D=-r_V[2] / r_V[1] / r_V[3] + r_V[0];break;case 130:J5D=r_V[2] * r_V[1] / r_V[3] + r_V[4] + r_V[0];break;case 13:J5D=r_V[1] - r_V[3] + r_V[2] - r_V[0];break;case 84:J5D=r_V[3] | r_V[0] | r_V[1] | r_V[2];break;case 23:J5D=-r_V[1] + r_V[0];break;case 20:J5D=-r_V[1] - r_V[0] + r_V[2] - r_V[3];break;case 86:J5D=r_V[2] | r_V[0] | r_V[4] | r_V[3] | r_V[1];break;case 46:J5D=r_V[1] + r_V[0] * r_V[2];break;case 67:J5D=r_V[0] - r_V[1] - r_V[3] + r_V[2];break;case 6:J5D=r_V[0] + +r_V[1];break;case 7:J5D=(r_V[0] + r_V[2]) / r_V[1] - r_V[3];break;case 82:J5D=r_V[2] << r_V[0] - r_V[1];break;case 78:J5D=r_V[1] <= r_V[0];break;case 96:J5D=r_V[0] - r_V[1] - r_V[3] - r_V[2];break;case 125:J5D=r_V[1] - r_V[2] / (r_V[0] ^ r_V[3]);break;case 101:J5D=r_V[2] / (r_V[0] * r_V[1]);break;case 45:J5D=r_V[2] + (r_V[1] - r_V[3]) * r_V[0];break;case 91:J5D=r_V[2] / r_V[0] - r_V[1];break;case 27:J5D=(r_V[3] + r_V[4]) * r_V[0] - r_V[1] - r_V[2];break;case 49:J5D=r_V[1] / r_V[0] / r_V[3] - r_V[2];break;case 3:J5D=r_V[1] * r_V[0] + r_V[4] - r_V[2] - r_V[3];break;case 1:J5D=r_V[1] - r_V[0];break;case 100:J5D=r_V[0] * (r_V[2] / r_V[1]);break;case 117:J5D=-r_V[2] + r_V[0] - r_V[1];break;case 83:J5D=r_V[0] * r_V[1];break;case 98:J5D=r_V[1] * r_V[0] / r_V[2];break;case 90:J5D=r_V[2] - r_V[1] * r_V[0];break;case 94:J5D=r_V[3] - r_V[2] - r_V[1] + r_V[0] + r_V[4];break;case 122:J5D=r_V[3] * r_V[4] * r_V[1] + (r_V[6] - r_V[5] * r_V[2]) * r_V[0];break;case 58:J5D=r_V[2] * r_V[1] / r_V[3] + r_V[0];break;case 142:J5D=r_V[3] * (r_V[1] / r_V[2] - r_V[4]) + r_V[0];break;case 34:J5D=(r_V[1] << r_V[2]) + r_V[0];break;}return J5D;},Z7m4YCh:function(o58){B6t=o58;}};})();i6UVR[247674]=(function(L7J){function b0J(q4G){var s1p=2;for(;s1p !== 15;){switch(s1p){case 9:s1p=!b5i--?8:7;break;case 8:R75=L7J[6];s1p=7;break;case 2:var B3D,r2T,R75,e3W,X1M,l5m,S1q;s1p=1;break;case 3:r2T=30;s1p=9;break;case 7:s1p=!b5i--?6:14;break;case 16:B3D=e3W - q4G > r2T;s1p=19;break;case 11:l5m=(X1M || X1M === 0) && S1q(X1M,r2T);s1p=10;break;case 6:e3W=R75 && S1q(R75,r2T);s1p=14;break;case 19:return B3D;break;case 18:s1p=l5m >= 0?17:16;break;case 14:s1p=!b5i--?13:12;break;case 1:s1p=!b5i--?5:4;break;case 5:S1q=Z7Y[L7J[4]];s1p=4;break;case 4:s1p=!b5i--?3:9;break;case 20:B3D=q4G - l5m > r2T && e3W - q4G > r2T;s1p=19;break;case 10:s1p=l5m >= 0 && e3W >= 0?20:18;break;case 17:B3D=q4G - l5m > r2T;s1p=19;break;case 12:s1p=!b5i--?11:10;break;case 13:X1M=L7J[7];s1p=12;break;}}}var Y1h=2;for(;Y1h !== 10;){switch(Y1h){case 14:L7J=L7J.Z9JcYE(function(e_E){var b5Z=2;for(;b5Z !== 13;){switch(b5Z){case 4:var G2f=0;b5Z=3;break;case 5:A_v='';b5Z=4;break;case 6:return;break;case 1:b5Z=!b5i--?5:4;break;case 3:b5Z=G2f < e_E.length?9:7;break;case 9:A_v+=Z7Y[b7j][T9F](e_E[G2f] + 100);b5Z=8;break;case 14:return A_v;break;case 7:b5Z=!A_v?6:14;break;case 2:var A_v;b5Z=1;break;case 8:G2f++;b5Z=3;break;}}});Y1h=13;break;case 7:b7j=V7A.q6sDm5(new Z7Y[I$d]("^['-|]"),'S');Y1h=6;break;case 5:Z7Y=i6UVR[50848];Y1h=4;break;case 9:V7A=typeof T9F;Y1h=8;break;case 2:var Z7Y,V7A,b7j,b5i;Y1h=1;break;case 1:Y1h=!b5i--?5:4;break;case 11:return {A$uBw0P:function(j0G){var O60=2;for(;O60 !== 6;){switch(O60){case 9:O$F=Z2T + 60000;O60=8;break;case 3:O60=!b5i--?9:8;break;case 4:x7e=b0J(Z2T);O60=3;break;case 5:O60=!b5i--?4:3;break;case 1:O60=Z2T > O$F?5:8;break;case 2:var Z2T=new Z7Y[L7J[0]]()[L7J[1]]();O60=1;break;case 8:var j7f=(function(f2Y,x0x){var W0V=2;for(;W0V !== 10;){switch(W0V){case 8:var E6W=Z7Y[x0x[4]](f2Y[x0x[2]](R1p),16)[x0x[3]](2);var g$$=E6W[x0x[2]](E6W[x0x[5]] - 1);W0V=6;break;case 4:x0x=L7J;W0V=3;break;case 13:R1p++;W0V=9;break;case 5:W0V=typeof x0x === 'undefined' && typeof L7J !== 'undefined'?4:3;break;case 6:W0V=R1p === 0?14:12;break;case 3:var d0r,R1p=0;W0V=9;break;case 11:return d0r;break;case 1:f2Y=j0G;W0V=5;break;case 2:W0V=typeof f2Y === 'undefined' && typeof j0G !== 'undefined'?1:5;break;case 9:W0V=R1p < f2Y[x0x[5]]?8:11;break;case 12:d0r=d0r ^ g$$;W0V=13;break;case 14:d0r=g$$;W0V=13;break;}}})(undefined,undefined);return j7f?x7e:!x7e;break;}}}};break;case 13:Y1h=!b5i--?12:11;break;case 3:Y1h=!b5i--?9:8;break;case 8:Y1h=!b5i--?7:6;break;case 4:var T9F='fromCharCode',I$d='RegExp';Y1h=3;break;case 6:Y1h=!b5i--?14:13;break;case 12:var x7e,O$F=0;Y1h=11;break;}}})([[-32,-3,16,1],[3,1,16,-16,5,9,1],[-1,4,-3,14,-35,16],[16,11,-17,16,14,5,10,3],[12,-3,14,15,1,-27,10,16],[8,1,10,3,16,4],[-50,3,15,2,-49,-3,-52,-52,-52],[]]);i6UVR[459327]=(function(){var z3n=function(m43,v6G){var J$X=v6G & 0xffff;var c3i=v6G - J$X;return (c3i * m43 | 0) + (J$X * m43 | 0) | 0;},d4D=function(m0U,S6f,r5c){var K5Y=0xcc9e2d51,t0P=0x1b873593;var v45=r5c;var A3b=S6f & ~0x3;for(var r9q=0;r9q < A3b;r9q+=4){var f5O=m0U.F6JWB(r9q) & 0xff | (m0U.F6JWB(r9q + 1) & 0xff) << 8 | (m0U.F6JWB(r9q + 2) & 0xff) << 16 | (m0U.F6JWB(r9q + 3) & 0xff) << 24;f5O=z3n(f5O,K5Y);f5O=(f5O & 0x1ffff) << 15 | f5O >>> 17;f5O=z3n(f5O,t0P);v45^=f5O;v45=(v45 & 0x7ffff) << 13 | v45 >>> 19;v45=v45 * 5 + 0xe6546b64 | 0;}f5O=0;switch(S6f % 4){case 3:f5O=(m0U.F6JWB(A3b + 2) & 0xff) << 16;case 2:f5O|=(m0U.F6JWB(A3b + 1) & 0xff) << 8;case 1:f5O|=m0U.F6JWB(A3b) & 0xff;f5O=z3n(f5O,K5Y);f5O=(f5O & 0x1ffff) << 15 | f5O >>> 17;f5O=z3n(f5O,t0P);v45^=f5O;}v45^=S6f;v45^=v45 >>> 16;v45=z3n(v45,0x85ebca6b);v45^=v45 >>> 13;v45=z3n(v45,0xc2b2ae35);v45^=v45 >>> 16;return v45;};return {w4xZ2A7:d4D};})();i6UVR.s$9=function(){return typeof i6UVR[150036].Z7m4YCh === 'function'?i6UVR[150036].Z7m4YCh.apply(i6UVR[150036],arguments):i6UVR[150036].Z7m4YCh;};i6UVR.v$j=function(){return typeof i6UVR[150036].q52sdNp === 'function'?i6UVR[150036].q52sdNp.apply(i6UVR[150036],arguments):i6UVR[150036].q52sdNp;};i6UVR[106140]=786;i6UVR.f9L=function(){return typeof i6UVR[356525].n8eaqyR === 'function'?i6UVR[356525].n8eaqyR.apply(i6UVR[356525],arguments):i6UVR[356525].n8eaqyR;};i6UVR[50848].N4kk=i6UVR;function i6UVR(){}i6UVR.h8D=function(S2C){i6UVR.W3G();if(i6UVR)return i6UVR.N4H(S2C);};i6UVR.U56=function(T1H){i6UVR.W5N();if(i6UVR)return i6UVR.i8e(T1H);};i6UVR.N_P=function(r3G){i6UVR.W5N();if(i6UVR && r3G)return i6UVR.N4H(r3G);};i6UVR.z2h=function(T5Z){i6UVR.W5N();if(i6UVR && T5Z)return i6UVR.i8e(T5Z);};i6UVR.V1Y=function(z8o){i6UVR.W3G();if(i6UVR && z8o)return i6UVR.N4H(z8o);};i6UVR.N$t=function(t3x){i6UVR.W3G();if(i6UVR)return i6UVR.N4H(t3x);};i6UVR.x$F=function(Z2P){i6UVR.W3G();if(i6UVR && Z2P)return i6UVR.N4H(Z2P);};i6UVR.O0o=function(E$y){if(i6UVR && E$y)return i6UVR.i8e(E$y);};i6UVR.x1I=function(s4J){i6UVR.W5N();if(i6UVR)return i6UVR.N4H(s4J);};var f6ulV,N,u,X,S,P,I,Q,V,M,T,R,W,Y,g,K,A,G,G6,k$,w6,q2,K_,D5,S8,V4,U$,v8,I3;f6ulV="u";f6ulV+="n";f6ulV+="de";f6ulV+="fined";import {CIQ as Z0, SplinePlotter as d7, timezoneJS as U8, $$ as Z9, $$$ as v5} from "../js/chartiq.js";N=e4=>{var T3m=i6UVR;var j0,E6,b$;j0=typeof _CIQ !== "undefined"?_CIQ:e4.CIQ;E6=class K${get(Q7,q1) {var d9v;d9v="n";d9v+="o storage ";d9v+="defi";d9v+="ned";q1(d9v);}set(I7,D2) {}remove(i2) {}};j0.ChartEngine.create=function({container:G1, config:O9, deferLoad:o9} = {}){var R8z,C8,s0,z2;R8z=".chartCon";R8z+="ta";R8z+="in";R8z+="er";if(!G1){G1=document.querySelector(R8z) || document.body;}if(!O9){O9={};}C8=Object.assign({container:G1},O9.chartEngineParams);function V$(){s0.loadChart(O9.initialSymbol,{masterData:O9.initialData},l7);s0.draw();}s0=new this(C8);var {quoteFeeds:R7, marketFactory:K6, addOns:S4, chartId:L4, onChartReady:w0}=O9;if(R7 && s0.attachQuoteFeed){R7.forEach(({quoteFeed:E_, behavior:p3, filter:h1})=>{s0.attachQuoteFeed(E_,p3,h1);});}T3m.W3G();if(K6){s0.setMarketFactory(K6);}if(S4){Object.entries(S4).filter(([,Y9])=>{return !!Y9;}).forEach(([Z8,V7])=>{var t5;if(!O9.enabledAddOns[Z8]){return;}t5=V7.moduleName || j0.capitalize(Z8);if(j0[t5]){var {cssRequired:b5}=new j0[t5](Object.assign({stx:s0},V7,{config:O9}));if(b5 && j0.UI){j0.UI.activatePluginUI(s0,t5);}}else if(j0.debug){console.log(`${t5} not available for addons with params:`,V7);}});}z2=j0.ensureDefaults(O9.callbacks || ({}),{layout:this.getSaveLayout(O9),symbolChange:this.getSaveLayout(O9),drawing:this.getSaveDrawings(O9),preferences:this.getSavePreferences(O9),newChart:this.getRetoggleEvents(O9)});for(var e5 in z2){if(z2[e5]){s0.addEventListener(e5,z2[e5]);}}b$=O9.nameValueStore || j0.NameValueStore || E6;b$=new b$();function l7(){if(!w0){return;}T3m.W3G();setTimeout(()=>{return w0(s0);});}if(!o9){if(O9.restore){this.restorePreferences(s0,L4);this.restoreLayout(s0,O5=>{if(!s0.chart.symbol && O9.initialSymbol){V$();}else {l7();}},L4);}else {V$();}}return s0;};j0.ChartEngine.getSaveLayout=function(p2){return function v_({stx:X7}){T3m.W3G();var L5;if(p2.restore && X7.exportLayout){L5=JSON.stringify(X7.exportLayout(!!1));b$.set("myChartLayout" + (p2.chartId || ""),L5);}};};j0.ChartEngine.restoreLayout=function(q9,j9,d6){T3m.W5N();var {restoreDrawings:l8}=this;if(!d6){d6="";}T3m.O_b(0);b$.get(T3m.v$j("myChartLayout",d6),function(Q$,Q3){if(Q$){return;}try{Q3=JSON.parse(Q3);}catch(u9){}if(q9.importLayout){q9.importLayout(Q3,{managePeriodicity:!!({}),cb:Y4});}if(q9.termStructure){q9.setCandleWidth(1);;}});function Y4(){T3m.W3G();l8(q9,q9.chart.symbol,d6);if(j9){j9();}}};j0.ChartEngine.getSaveDrawings=function(u_){T3m.W5N();return function y7({stx:P$, symbol:v$}){var w3,a9;T3m.W5N();if(u_.restore && P$.exportDrawings){w3=P$.exportDrawings();a9=u_.chartId?u_.chartId + (6920 >= 3809?2871 === 6048?("4.89e+3" << 0,637.10):"~":("I",0x1191)) + v$:v$;if(w3.length === "0" * 1){b$.remove(a9);}else {b$.set(a9,JSON.stringify(w3));}}};};j0.ChartEngine.restoreDrawings=function(R_,A3,r7){var v6;T3m.W5N();if(!j0.Drawing){return;}v6=r7?r7 + (895 > "349" >> 64?"~":(!0,3.80e+3)) + A3:A3;b$.get(v6,function(X4,V2){if(X4){return;}T3m.W3G();try{V2=JSON.parse(V2);}catch(B7){}if(V2){R_.importDrawings(V2);R_.draw();}});};T3m.W3G();j0.ChartEngine.getSavePreferences=function(B3){T3m.W5N();return function Y3({stx:o4}){T3m.W5N();var M$1,b1;if(B3.restore && o4.exportPreferences){M$1="myChartPref";M$1+="eren";M$1+="ces";b1=JSON.stringify(o4.exportPreferences());b$.set(M$1 + (B3.chartId || ""),b1);}};};j0.ChartEngine.restorePreferences=function(B0,o$){if(!o$){o$="";}T3m.O_b(0);b$.get(T3m.v$j("myChartPreferences",o$),function(Y0,q8){if(Y0){return;}try{q8=JSON.parse(q8);}catch(N7){}if(q8 && B0.importPreferences){B0.importPreferences(q8);}});};j0.ChartEngine.getRetoggleEvents=function(q$){return function P1({stx:C$}){var E5,A6;E5=document.getElementById(q$.chartId);if(!E5){E5=(j0.getFn("UI.getMyContext")(C$.container) || ({})).topNode;}if(!E5){E5=document;}T3m.W3G();A6=E5.querySelectorAll(`${q$.selector.markersMenuItem}.ciq-active:not(.span-event)`);A6.forEach(function(e$){e$.dispatchEvent(new Event("stxtap"));});};};};u=C3=>{var g4p=i6UVR;g4p.W5N();var c0;c0=typeof _CIQ !== "undefined"?_CIQ:C3.CIQ;c0.ChartEngine.prototype.drawHeatmap=function(X3,P2){var A1,U7,M5,g0,a1,h6,J2,V9,D4,m4,R8,O_,J4,q3;if(!P2 || !P2.length){return;}A1=X3.panel;if(!A1){A1="chart";}U7=this.panels[A1];if(!U7){return;}M5=X3.yAxis?X3.yAxis:U7.yAxis;g0=this.chart.dataSegment;if(!X3.name){X3.name="Data";}if(!X3.widthFactor){g4p.O_b(1);X3.widthFactor=g4p.V9a(0,"1");}if(!X3.height){X3.height=Math.pow(10,1 - (U7.decimalPlaces || U7.chart.decimalPlaces));}a1="stx-float-date";h6=this.chart.context;this.canvasFont(a1,h6);J2=this.getCanvasFontSize(a1);V9=1;if(!X3.highlight && this.highlightedDraggable){V9=0.3;}D4=0.5;if(U7.chart.tmpWidth <= 1){D4=0;}function n9(O0,o7,f3,D7,M2,r0,u0,j3){var X6B,E0k,i6,P4,O8,g6,C4,j8,A9,x9,E0,B8,Q8,U5,I8,h0;X6B="num";X6B+="ber";E0k="ce";E0k+="nt";E0k+="e";E0k+="r";h6.beginPath();h6.fillStyle=o7;h6.strokeStyle=o7;g4p.W5N();h6.textAlign=E0k;i6=O_.layout.candleWidth * M2;P4=Math.floor(O_.pixelFromBar(0,U7.chart) - O_.layout.candleWidth);if(typeof f3 == X6B){g4p.O_b(2);h6.globalAlpha=g4p.v$j(V9,f3);}if(typeof f3 == "object"){C4={minOpacity:f3.min || 0,maxOpacity:f3.max || 1};}for(var L1=0;L1 < g0.length;L1++){j8=g0[L1];if(j8 && j8.candleWidth){if(L1 === 0){P4+=O_.layout.candleWidth;}else {g4p.O_b(3);var Y4I=g4p.V9a(10,19,9,185,6);P4+=(j8.candleWidth + i6 / M2) / Y4I;}i6=j8.candleWidth * M2;}else {P4+=O_.layout.candleWidth;}g4p.O_b(4);O8=g4p.v$j(u0,2,P4,i6);g4p.O_b(5);g6=g4p.v$j(P4,i6,2,u0);if(g6 - O8 < 2){g4p.s$9(6);g6=g4p.V9a(O8,"1");}if(!j8)continue;A9=j8[O0];if(!A9)continue;if(A9[j3]){A9=A9[j3];}if(typeof A9 == "number"){A9=[A9];}for(var S7=+"0";S7 < A9.length;S7++){x9=A9[S7];E0=0;if(x9 instanceof Array){if(C4){g4p.s$9(7);var g69=g4p.V9a(0,1,2,0);g4p.O_b(8);var X$C=g4p.v$j(379,19,18,13,15);h6.globalAlpha=V9 * (x9[g69] * C4.maxOpacity + (X$C - x9[+"2"]) * C4.minOpacity);}E0=x9[1];x9=x9[0];}B8=O_.pixelFromPrice(x9,U7,M5);if(!J4){if(!r0){r0=X3.height;}Q8=O_.pixelFromPrice(x9 + r0 * (M5.flipped?1:-1),U7,M5);h6.lineWidth=1;g4p.O_b(1);m4=g4p.v$j(B8,Q8);g4p.O_b(9);R8=g4p.V9a(m4,2);J4=h6.lineWidth;}if(D7){g4p.s$9(1);U5=g4p.V9a(R8,B8);g4p.O_b(0);I8=g4p.v$j(B8,R8);g4p.s$9(1);h6.rect(O8,U5,g4p.V9a(O8,g6),g4p.v$j(U5,I8));}else {g4p.s$9(1);h6.fillRect(O8,g4p.V9a(R8,B8),g4p.v$j(O8,g6),m4);if(X3.showSize && E0 && J2 <= m4 - 2){h0=h6.globalAlpha;h6.fillStyle=O_.defaultColor;g4p.s$9(10);h6.globalAlpha=g4p.V9a(V9,"0.5");g4p.s$9(11);h6.fillText(E0,g4p.V9a(O8,"2",2,g6),B8);h6.fillStyle=o7;g4p.s$9(2);h6.globalAlpha=g4p.V9a(V9,h0);}}if(C4 && x9 instanceof Array){h6.globalAlpha=0;}}}if(D7){h6.stroke();}h6.globalAlpha=V9;h6.closePath();}m4=null;R8=null;O_=this;J4=null;this.startClip(A1);h6.globalAlpha=V9;for(var c1=0;c1 < P2.length;c1++){q3=P2[c1];n9(q3.field,q3.color,q3.opacity,null,X3.widthFactor,q3.height,q3.border_color?D4:-D4 / 4,q3.subField);if(q3.border_color && this.layout.candleWidth >= 2){n9(q3.field,q3.border_color,q3.opacity,!0,X3.widthFactor,q3.height,D4,q3.subField);}}h6.lineWidth=1;h6.globalAlpha=1;g4p.W3G();this.endClip();};c0.ChartEngine.prototype.drawCandles=function(m7,L2,c4){var G9,v5c,G3c,q_Z,N$,K5,s$,F_,l1,x7,J3,O7,m1,D1,j$,t9,D8,A5,V0,g9,f_,k0,V6,J1,G$,S6,P8,v3,o6,Z6,f1,e8,E9,X2,k8,H7,A0,h3;G9=m7.chart;if(!G9){v5c=1732729279;G3c=-1260121;q_Z=2;for(var S27=1;g4p.m6F(S27.toString(),S27.toString().length,3798) !== v5c;S27++){G9=m7;g4p.O_b(12);q_Z+=g4p.v$j(64,"2");}if(g4p.l5h(q_Z.toString(),q_Z.toString().length,11601) !== G3c){G9=m7;}G9=m7;m7=m7.chart;}N$=!1;K5=!"1";s$=null;F_=m7.yAxis;if(c4 && typeof c4 == "object"){N$=c4.isOutline;K5=c4.isHistogram;s$=c4.field;F_=c4.yAxis;}else {N$=c4;K5=arguments[3];}l1=G9.dataSegment;x7=G9.context;J3=F_.top;O7=F_.bottom;t9=new Array(l1.length);D8="transparent";A5="transparent";V0=0;g4p.s$9(13);var P08=g4p.V9a(5,0,18,12);g9=G9.dataSet.length - G9.scroll - P08;f_={};g4p.O_b(14);var j6V=g4p.v$j(4,16,4,14);k0=G9.tmpWidth / j6V;V6=this.layout.candleWidth;g4p.s$9(0);var h5T=g4p.V9a(0,1);J1=m7.left - 0.5 * V6 + this.micropixels - h5T;for(var K8=0;K8 <= l1.length;K8++){G$=k0;g4p.s$9(9);J1+=g4p.v$j(V6,2);V6=this.layout.candleWidth;g4p.O_b(9);J1+=g4p.V9a(V6,2);S6=l1[K8];if(!S6)continue;if(S6.projection)continue;if(S6.candleWidth){g4p.s$9(15);var I_p=g4p.V9a(12,2,3,0,1);J1+=(S6.candleWidth - V6) / I_p;V6=S6.candleWidth;if(c4.isVolume || V6 < G9.tmpWidth){g4p.s$9(9);G$=g4p.V9a(V6,2);}}if(G9.transformFunc && F_ == G9.panel.yAxis && S6.transform){S6=S6.transform;}if(S6 && s$){S6=S6[s$];}if(!S6 && S6 !== 0)continue;P8=S6.Close;v3=S6.Open === undefined?P8:S6.Open;if(K5 && G9.defaultPlotField){P8=S6[G9.defaultPlotField];}if(!P8 && P8 !== +"0")continue;if(!K5 && (v3 == P8 || v3 === null))continue;o6=L2(this,S6,N$?"outline":"solid");if(!o6)continue;if(N$){D8=o6;}else {A5=o6;}g4p.O_b(2);f_[A5]=g4p.V9a(1,"1");Z6=D8 && !c0.isTransparent(D8);if(Z6 && !c4.highlight){V0=0.5;}x7.beginPath();x7.fillStyle=A5;if(!S6.cache){S6.cache={};}f1=S6.cache;g4p.O_b(0);e8=g4p.v$j(g9,K8);if(e8 < m7.cacheLeft || e8 > m7.cacheRight || !f1.open){E9=F_.semiLog?F_.height * (1 - (Math.log(Math.max(v3,0)) / Math.LN10 - F_.logLow) / F_.logShadow):(F_.high - v3) * F_.multiplier;X2=F_.semiLog?F_.height * (1 - (Math.log(Math.max(P8,0)) / Math.LN10 - F_.logLow) / F_.logShadow):(F_.high - P8) * F_.multiplier;if(F_.flipped){g4p.O_b(1);E9=g4p.V9a(E9,O7);g4p.O_b(1);X2=g4p.v$j(X2,O7);}else {E9+=J3;X2+=J3;}t9[K8]=X2;m1=Math.floor(K5?X2:Math.min(E9,X2)) + V0;D1=K5?F_.bottom:Math.max(E9,X2);g4p.O_b(1);j$=Math.floor(g4p.v$j(m1,D1));if(m1 < J3){if(m1 + j$ < J3){f1.open=m1;f1.close=m1;continue;}g4p.s$9(1);j$-=g4p.V9a(m1,J3);m1=J3;}if(m1 + j$ > O7){g4p.O_b(16);j$-=g4p.v$j(j$,m1,O7);}j$=Math.max(j$,2);f1.open=m1;f1.close=f1.open + j$;}if(f1.open >= O7)continue;if(f1.close <= J3)continue;k8=Math.floor(J1) + (!c4.highlight && +"0.5");H7=Math.floor(k8 - G$) + V0;A0=Math.round(k8 + G$) - V0;if(f1.open != f1.close){x7.rect(H7,f1.open,Math.max(1,A0 - H7),Math.max(+"1",f1.close - f1.open));}if(!c4.highlight && this.highlightedDraggable){x7.globalAlpha*=0.3;}if(A5 != "transparent"){x7.fill();}if(Z6){x7.lineWidth=1;if(c4.highlight){g4p.s$9(1);x7.lineWidth*=g4p.V9a(0,"2");}x7.strokeStyle=D8;x7.stroke();}}h3={colors:[],cache:t9};for(var u5 in f_){if(!c4.hollow || !c0.equals(u5,this.containerColor)){h3.colors.push(u5);}}return h3;};c0.ChartEngine.prototype.drawShadows=function(c$,R9,j7){var c7,X8,U0,D9,z9,s_,U4,u1,V1,v9,v4,C9,J7,P0,X_,U9,x5,O4,R3,g_,A4,d3,S1,q7,l3,x$;c7=c$.chart;if(!c7){c7=c$;c$=c$.chart;}X8=c7.dataSegment;U0=this.chart.context;U0.lineWidth=1;if(j7.highlight){U0.lineWidth*=+"2";}if(!j7.highlight && this.highlightedDraggable){U0.globalAlpha*=0.3;}D9=j7.field;z9=j7.yAxis || c$.yAxis;s_=z9.top;U4=z9.bottom;g4p.O_b(17);var G83=g4p.V9a(14,36,18,18,13);u1=c7.dataSet.length - c7.scroll - G83;V1=this.layout.candleWidth;g4p.O_b(1);var L_T=g4p.V9a(19,20);v9=c$.left - 0.5 * V1 + this.micropixels - L_T;for(var c5=0;c5 <= X8.length;c5++){g4p.s$9(9);v9+=g4p.v$j(V1,2);V1=this.layout.candleWidth;g4p.O_b(9);v9+=g4p.v$j(V1,2);v4=X8[c5];if(!v4)continue;if(v4.projection)continue;if(v4.candleWidth){g4p.s$9(18);var H6v=g4p.v$j(22,16,4);v9+=(v4.candleWidth - V1) / H6v;V1=v4.candleWidth;}C9=R9(this,v4,"shadow");if(!C9)continue;if(c7.transformFunc && z9 == c7.panel.yAxis && v4.transform){v4=v4.transform;}if(v4 && D9){v4=v4[D9];}if(!v4 && v4 !== +"0")continue;J7=v4.Close;P0=v4.Open === undefined?J7:v4.Open;X_=v4.High === undefined?Math.max(J7,P0):v4.High;U9=v4.Low === undefined?Math.min(J7,P0):v4.Low;if(!J7 && J7 !== 0)continue;if(!v4.cache){v4.cache={};}x5=v4.cache;g4p.s$9(0);O4=g4p.v$j(u1,c5);if(O4 < c$.cacheLeft || O4 > c$.cacheRight || !x5.top){R3=z9.semiLog?z9.height * (("1" | 0) - (Math.log(Math.max(X_,+"0")) / Math.LN10 - z9.logLow) / z9.logShadow):(z9.high - X_) * z9.multiplier;g_=z9.semiLog?z9.height * (1 - (Math.log(Math.max(U9,"0" ^ 0)) / Math.LN10 - z9.logLow) / z9.logShadow):(z9.high - U9) * z9.multiplier;if(z9.flipped){g4p.s$9(1);R3=g4p.v$j(R3,U4);g4p.O_b(1);g_=g4p.V9a(g_,U4);}else {R3+=s_;g_+=s_;}g4p.s$9(1);A4=g4p.v$j(R3,g_);if(R3 < s_){if(R3 + A4 < s_){x5.top=R3;x5.bottom=R3;continue;}g4p.O_b(1);A4-=g4p.V9a(R3,s_);R3=s_;}if(R3 + A4 > U4){g4p.s$9(16);A4-=g4p.v$j(A4,R3,U4);}x5.top=R3;x5.bottom=x5.top + A4;}if(x5.top >= U4)continue;if(x5.bottom <= s_)continue;d3=Math.floor(v9) + (!j7.highlight && 0.5);U0.beginPath();if(J7 == P0){S1=this.offset;if(j7.isVolume){g4p.s$9(9);S1=g4p.V9a(V1,2);}g4p.s$9(1);q7=g4p.v$j(S1,d3);g4p.O_b(0);l3=g4p.v$j(d3,S1);x$=z9.semiLog?z9.height * (1 - (Math.log(Math.max(J7,+"0")) / Math.LN10 - z9.logLow) / z9.logShadow):(z9.high - J7) * z9.multiplier;if(z9.flipped){g4p.s$9(1);x$=g4p.v$j(x$,U4);}else {x$+=s_;}if(x$ <= U4 && x$ >= s_){U0.moveTo(q7,x$);U0.lineTo(l3,x$);}}if(X_ != U9){U0.moveTo(d3,x5.top);U0.lineTo(d3,x5.bottom);}U0.strokeStyle=C9;U0.stroke();}};c0.ChartEngine.prototype.drawBarChart=function(y_,h9,V8,L0){var v2,o1,x8,T7,I0,m0,s4,s2,T$,d4,B_,S2,J9,r8,w_,W5,i7,c6,E4,n5,C0,N9,u8,a$,a2,X5,Y5,H$;v2=y_.chart;if(!v2){v2=y_;y_=y_.chart;}o1=v2.dataSegment;x8=new Array(o1.length);T7=v2.context;I0=this.canvasStyle(h9);if(I0.width && parseInt(I0.width,10) <= "25" * 1){T7.lineWidth=Math.max(1,c0.stripPX(I0.width));}else {T7.lineWidth=1;}if(L0.highlight){T7.lineWidth*=2;}if(!L0.highlight && this.highlightedDraggable){T7.globalAlpha*=0.3;}m0=L0.field;s4=L0.yAxis || y_.yAxis;s2=s4.top;T$=s4.bottom;g4p.O_b(19);var o$_=g4p.V9a(76,6,12,19,16);B_=v2.dataSet.length - v2.scroll - o$_;S2={};g4p.O_b(20);var C3S=g4p.V9a(10,6,20,2);J9=v2.tmpWidth / C3S;g4p.O_b(21);var G$x=g4p.V9a(16,40,638);r8=T7.lineWidth / G$x;w_=this.layout.candleWidth;g4p.s$9(22);var L4x=g4p.v$j(8,81,0,10);W5=y_.left - 0.5 * w_ + this.micropixels - L4x;for(var e6=0;e6 <= o1.length;e6++){g4p.s$9(9);W5+=g4p.V9a(w_,2);w_=this.layout.candleWidth;g4p.O_b(9);W5+=g4p.v$j(w_,2);i7=o1[e6];if(!i7)continue;if(i7.projection)break;if(i7.candleWidth){g4p.O_b(23);var B4k=g4p.v$j(10,8);W5+=(i7.candleWidth - w_) / B4k;w_=i7.candleWidth;}c6=V8(this,i7);if(!c6)continue;S2[c6]=1;T7.strokeStyle=c6;T7.beginPath();if(v2.transformFunc && s4 == v2.panel.yAxis && i7.transform){i7=i7.transform;}if(i7 && m0){i7=i7[m0];}if(!i7 && i7 !== 0)continue;E4=i7.Close;n5=i7.Open === undefined?E4:i7.Open;C0=i7.High === undefined?Math.max(E4,n5):i7.High;N9=i7.Low === undefined?Math.min(E4,n5):i7.Low;if(!E4 && E4 !== 0)continue;if(!i7.cache){i7.cache={};}u8=i7.cache;g4p.O_b(0);a$=g4p.V9a(B_,e6);if(a$ < y_.cacheLeft || a$ > y_.cacheRight || !u8.top){a2=this.pixelFromTransformedValue(C0,y_,s4);X5=this.pixelFromTransformedValue(N9,y_,s4);u8.open=s4.semiLog?s4.height * (1 - (Math.log(Math.max(n5,0)) / Math.LN10 - s4.logLow) / s4.logShadow):(s4.high - n5) * s4.multiplier;u8.close=s4.semiLog?s4.height * (1 - (Math.log(Math.max(E4,"0" >> 32)) / Math.LN10 - s4.logLow) / s4.logShadow):(s4.high - E4) * s4.multiplier;if(s4.flipped){u8.open=s4.bottom - u8.open;u8.close=s4.bottom - u8.close;}else {u8.open+=s4.top;u8.close+=s4.top;}x8[e6]=u8.close;g4p.O_b(1);d4=g4p.v$j(a2,X5);if(a2 < s2){if(a2 + d4 < s2){u8.top=a2;u8.bottom=a2;continue;}g4p.s$9(1);d4-=g4p.v$j(a2,s2);a2=s2;}if(a2 + d4 > T$){g4p.O_b(16);d4-=g4p.V9a(d4,a2,T$);}u8.top=a2;g4p.s$9(0);u8.bottom=g4p.v$j(a2,d4);}Y5=Math.floor(W5) + (!L0.highlight && 0.5);if(u8.top < T$ && u8.bottom > s2 && i7.High != i7.Low){T7.moveTo(Y5,u8.top - r8);T7.lineTo(Y5,u8.bottom + r8);}if(L0.type != "hlc" && u8.open > s2 && u8.open < T$){T7.moveTo(Y5,u8.open);g4p.s$9(1);T7.lineTo(g4p.v$j(J9,Y5),u8.open);}if(u8.close > s2 && u8.close < T$){T7.moveTo(Y5,u8.close);g4p.O_b(0);T7.lineTo(g4p.v$j(Y5,J9),u8.close);}T7.stroke();}T7.lineWidth=1;H$={colors:[],cache:x8};for(var I6 in S2){if(!c0.equals(I6,this.containerColor)){H$.colors.push(I6);}}return H$;};c0.ChartEngine.prototype.drawWaveChart=function(g$,e0){var i45,O3,r6,A7,U_,e7,l_,l$,Q4,h$,Y$,M_,Q9,r3,H_,d$,R2,j5,b_,B2,j4,w5,f$,P5;i45="stx_l";i45+="i";i45+="n";i45+="e_chart";O3=g$.chart;r6=O3.dataSegment;A7=new Array(r6.length);U_=O3.context;if(!e0){e0={};}e7=e0.yAxis || g$.yAxis;this.startClip(g$.name);U_.beginPath();l_=![];l$=!"1";Q4=g$.yAxis.top;g4p.W5N();h$=g$.yAxis.bottom;Y$=g$.left + Math.floor(-0.5 * this.layout.candleWidth + this.micropixels);M_=this;for(var e_=0;e_ <= r6.length;e_++){Y$+=this.layout.candleWidth;Q9=r6[e_];if(!Q9)continue;if(Q9.projection)break;if(O3.transformFunc && e7 == O3.panel.yAxis && Q9.transform){Q9=Q9.transform;}if(Q9 && e0.field){Q9=Q9[e0.field];}if(!Q9 && Q9 !== 0)continue;r3=Q9.Close;H_=Q9.Open === undefined?r3:Q9.Open;d$=Q9.High === undefined?Math.max(r3,H_):Q9.High;R2=Q9.Low === undefined?Math.min(r3,H_):Q9.Low;if(!r3 && r3 !== 0)continue;g4p.s$9(24);var O07=g4p.V9a(19,12,64,36);g4p.s$9(25);var k4Y=g4p.v$j(2,16,1,232,16);j5=Y$ - O07 * this.layout.candleWidth / k4Y;b_=W6(H_);if(b_ < Q4){b_=Q4;if(l$){U_.moveTo(j5,b_);continue;}l$=!!"1";}else if(b_ > h$){b_=h$;if(l$){U_.moveTo(j5,b_);continue;}l$=!!"1";}else {l$=!"1";}if(!l_){l_=!!1;g4p.s$9(26);var j45=g4p.v$j(0,19,2,19);B2=O3.dataSet.length - O3.scroll - j45;if(B2 < "0" << 64){U_.moveTo(j5,b_);}else if(B2 >= +"0"){j4=O3.dataSet[B2];if(j4.transform){j4=j4.transform;}w5=j4.Close;w5=W6(w5);w5=Math.min(Math.max(w5,Q4),h$);U_.moveTo(g$.left + (e_ - 1) * this.layout.candleWidth + this.micropixels,w5);U_.lineTo(j5,b_);}U_.moveTo(j5,b_);}else {U_.lineTo(j5,b_);}g4p.s$9(16);var e6t=g4p.v$j(16,20,32);j5+=this.layout.candleWidth / e6t;if(H_ < r3){b_=W6(R2);if(b_ < Q4){b_=Q4;}if(b_ > h$){b_=h$;}U_.lineTo(j5,b_);g4p.O_b(21);var t3_=g4p.v$j(9,19,167);j5+=this.layout.candleWidth / t3_;b_=W6(d$);if(b_ < Q4){b_=Q4;}if(b_ > h$){b_=h$;}U_.lineTo(j5,b_);}else {b_=W6(d$);if(b_ < Q4){b_=Q4;}if(b_ > h$){b_=h$;}U_.lineTo(j5,b_);g4p.O_b(27);var D51=g4p.v$j(8,16,52,0,9);j5+=this.layout.candleWidth / D51;b_=W6(R2);if(b_ < Q4){b_=Q4;}if(b_ > h$){b_=h$;}U_.lineTo(j5,b_);}g4p.O_b(28);var C7W=g4p.v$j(80,7,1040,12);j5+=this.layout.candleWidth / C7W;b_=W6(r3);A7[e_]=b_;if(b_ < Q4){b_=Q4;}if(b_ > h$){b_=h$;}U_.lineTo(j5,b_);}f$=this.canvasStyle(i45);if(f$.width && parseInt(f$.width,10) <= 25){U_.lineWidth=Math.max(1,c0.stripPX(f$.width));}else {U_.lineWidth=1;}if(e0.highlight){g4p.s$9(2);U_.lineWidth*=g4p.v$j(1,"2");}this.canvasColor("stx_line_chart");if(e0.color){U_.strokeStyle=e0.color;}if(!e0.highlight && this.highlightedDraggable){U_.globalAlpha*=0.3;}U_.stroke();function W6(l2){g4p.W3G();return M_.pixelFromTransformedValue(l2,g$,e7);}U_.closePath();P5={colors:[U_.strokeStyle],cache:A7};this.endClip();U_.lineWidth=1;return P5;};c0.ChartEngine.prototype.drawHistogram=function(H3,M4){var I4C,f2,w7,c9,g1,N8,F7,Z_,G0,D0,T_,F$,b7,T8,Y6,q6,K1,Q6,o3,g8,q5,b3,m3,N_,F6,L$,h4,l5,O1,d5,p6,W8,D9z;I4C="Da";I4C+="ta";if(!M4 || !M4.length){return;}f2=H3.panel;if(!f2){f2="chart";}w7=this.panels[f2];if(!w7){return;}c9=H3.yAxis?H3.yAxis:w7.yAxis;g1=H3.type;N8=this.chart.dataSegment;F7=!"1";g4p.O_b(29);Z_=g4p.v$j("1",32);G0=1;for(T_=0;T_ < M4.length;T_++){F7|=M4[T_].border_color_up && !c0.isTransparent(M4[T_].border_color_up);F7|=M4[T_].border_color_down && !c0.isTransparent(M4[T_].border_color_down);Z_=M4[T_].opacity_up;G0=M4[T_].opacity_down;if(!H3.highlight && this.highlightedDraggable){Z_*=0.3;G0*=0.3;}}if(H3.borders === !"1"){F7=!"1";}if(!H3.name){H3.name=I4C;}F$=c9.multiplier;g4p.W5N();if(!H3.heightPercentage){H3.heightPercentage=0.7;}if(!H3.widthFactor){H3.widthFactor=0.8;}b7=0;T8=+"0";for(var n_=+"0";n_ < this.chart.maxTicks;n_++){Y6=N8[n_];if(!Y6)continue;q6=0;for(T_=0;T_ < M4.length;T_++){K1=Y6[M4[T_].field];if(K1 || K1 === 0){D0=M4[T_].subField || this.chart.defaultPlotField || "Close";if(typeof K1 == "object" && K1[D0]){K1=K1[D0];}if(g1 == "stacked"){q6+=K1;}else {q6=K1;}if(q6 > b7){b7=q6;}if(q6 < T8){T8=q6;}}}}if(b7 === 0 && T8 === 0){this.displayErrorAsWatermark(f2,this.translateIf(H3.name + " Not Available"));return;}o3=!({});if(!H3.bindToYAxis){if(c9.flipped){Q6=Math.floor(c9.top) - 0.5;g8=Math.floor(c9.bottom) - 0.5;}else {Q6=Math.floor(c9.bottom) + 0.5;g8=Math.floor(c9.top) + 0.5;}F$=Math.abs(Q6 - g8) * H3.heightPercentage / (b7 - T8);}else {if(c9.baseline){T8=c9.baseline.value;o3=!!1;}Q6=Math.floor(this.pixelFromPrice(T8,w7,c9)) + (c9.flipped?-0.5:0.5);}this.startClip(f2);q5=this.layout.candleWidth <= 1 || !F7?"0" ^ 0:0.5;b3=this.chart.context;if(c9.flipped){b3.translate(0,2 * c9.top);b3.scale(1,-1);}m3=Math.max(+"0",(1 - H3.widthFactor) * this.layout.candleWidth / 2);N_=new Array(N8.length);F6=[];L$=this;h4=1;for(T_="0" | 0;T_ < M4.length;T_++){l5=M4[T_];h4=this.layout.candleWidth * H3.widthFactor;if(m3){if(this.layout.candleWidth - h4 <= 2){F7=!({});}}O1=0;if(g1 == "clustered"){O1=T_;h4/=M4.length;}D0=l5.subField || this.chart.defaultPlotField || "Close";if(typeof l5.color_function == "function"){p6={};for(var n8=0;n8 < N8.length;n8++){if(N8[n8]){D9z="border";D9z+="_opacity";d5=l5.color_function(N8[n8]);if(typeof d5 == "string"){d5={fill_color:d5,border_color:d5};}if(!d5.hasOwnProperty(D9z)){d5.border_opacity=d5.opacity;}W8=d5.fill_color + "," + d5.border_color;if((W8 in p6)){p6[W8].positions.push(n8);}else {d5.positions=[n8];p6[W8]=d5;}}}for(W8 in p6){d5=p6[W8];u3(l5.field,D0,d5.fill_color,d5.opacity,null,null,O1,h4,d5.positions);u3(l5.field,D0,d5.border_color,d5.border_opacity,!0,null,O1,h4,d5.positions);}}else {u3(l5.field,D0,l5.fill_color_up,Z_,null,!"",O1,h4);u3(l5.field,D0,l5.fill_color_down,G0,null,null,O1,h4);if(this.layout.candleWidth >= 2 && F7){u3(l5.field,D0,l5.border_color_up,Z_,!!({}),!!"1",O1,h4);u3(l5.field,D0,l5.border_color_down,G0,!"",null,O1,h4);}}if(g1 == "stacked"){F6=c0.shallowClone(N_);}}b3.globalAlpha=1;this.endClip();function u3(C7,R$,p4,C1,t$,i8,t3,M1,V_){var P_,e9,P3,H0b,m_,o2,U2,N3,r_,D3,n3,O$,N6,j_,a7,Q8b,g$a;if(!C1){C1=1;}b3.globalAlpha=C1;b3.beginPath();g4p.s$9(0);P_=g4p.V9a(Q6,0.5);e9=Math.floor(L$.pixelFromBar("0" - 0,w7.chart) - L$.layout.candleWidth / 2);P3=e9;for(var v7=0;v7 < N8.length;v7++){H0b="clust";H0b+="er";H0b+="e";H0b+="d";m_=F6[v7] || Q6;if(v7 === 0){P_=m_;}if(!N8[v7] || !N8[v7][C7]){P_=m_;P3+=L$.layout.candleWidth;continue;}o2=N8[v7];U2=o2[C7];if(typeof U2 == "object" && U2[R$]){U2=U2[R$];}g4p.s$9(30);N3=g4p.v$j(U2,F$,T8);if(isNaN(N3))continue;r_=L$.layout.candleWidth;if(o2.candleWidth){r_=o2.candleWidth;if(v7 === 0){e9=P3=Math.floor(L$.pixelFromBar(0,w7.chart) - o2.candleWidth / 2);}}D3=Math.floor(m_ - N3) + 0.5;if(D3 > m_ && !o3){D3=m_;}if(V_ && V_.indexOf(v7) == -1 || !V_ && (i8 && o2.Close < o2.iqPrevClose || !i8 && o2.Close >= o2.iqPrevClose)){P_=D3;P3+=r_;continue;}n3=r_ / L$.layout.candleWidth;if(m3){g4p.O_b(31);O$=Math.round(g4p.v$j(n3,t3,M1,P3,m3));g4p.O_b(0);N6=g4p.v$j(O$,t$?0:q5);j_=O$ + Math.round(M1 * n3) - (t$?0:q5);}else {g4p.O_b(31);O$=g4p.V9a(n3,t3,M1,P3,m3);N6=Math.round(O$) + (t$?0:q5);j_=Math.round(O$ + M1 * n3) - (t$?0:q5);}if(j_ - N6 < ("2" ^ 0)){g4p.O_b(0);j_=g4p.V9a(N6,1);}a7=t$?+"0":0.5;if(N6 % 1 == a7){N6+=+"0.5";}if(j_ % 1 == a7){g4p.O_b(2);j_+=g4p.V9a(1,"0.5");}b3.moveTo(j_,m_);if(Q6 != m_ && t$ && !m3 && F6[v7 + 1]){b3.moveTo(j_,Math.max(D3,Math.min(m_,F6[v7 + 1])));}b3.lineTo(j_,D3);b3.lineTo(N6,D3);if(t$ && t3){if(N_[v7] > D3 || v7 === 0){b3.lineTo(N6,Math.min(m_,N_[v7]));}}else if(t$ && !m3 && g1 == H0b){if(v7 > 0 && N_[v7 - 1] && N_[v7 - +"1"] > D3){b3.lineTo(N6,Math.min(m_,N_[v7 - ("1" ^ 0)]));}}else if(t$ && !m3){if(P_ > D3 || v7 === 0){b3.lineTo(N6,Math.min(m_,P_));}}else {b3.lineTo(N6,m_);}P_=D3;P3+=r_;if(g1 != "clustered" || t$){N_[v7]=D3;}}if(t$){Q8b="au";Q8b+="t";Q8b+="o";b3.strokeStyle=!p4 || p4 == Q8b?L$.defaultColor:p4;b3.stroke();}else {g$a="a";g$a+="u";g$a+="to";b3.fillStyle=!p4 || p4 == g$a?L$.defaultColor:p4;b3.fill();}b3.closePath();}};c0.ChartEngine.prototype.scatter=function(W7,y6){var F0Y,N8n,z1,T9,X6,m9,S5,d9,P7,n6,g2,h7,Z7,B9,z5,R4,Z3,f9,x3,n4;F0Y="Cl";F0Y+="ose";N8n="stx_s";N8n+="catter_chart";z1=W7.chart;T9=z1.dataSegment;X6=new Array(T9.length);m9=this.chart.context;this.canvasColor(N8n);if(!y6){y6={};}S5=y6.field || z1.defaultPlotField;d9=y6.yAxis || W7.yAxis;P7=y6.subField || z1.defaultPlotField || F0Y;this.startClip(W7.name);m9.beginPath();m9.lineWidth=y6.lineWidth || 4;if(y6.highlight){m9.lineWidth*=2;}if(!y6.highlight && this.highlightedDraggable){m9.globalAlpha*=0.3;}if(y6.color){m9.strokeStyle=y6.color;}n6=d9.top;g2=d9.bottom;h7=this.layout.candleWidth;g4p.O_b(1);var W_b=g4p.V9a(4,5);Z7=W7.left - 0.5 * h7 + this.micropixels - W_b;for(var T4=0;T4 <= T9.length;T4++){g4p.O_b(9);Z7+=g4p.V9a(h7,2);h7=this.layout.candleWidth;g4p.s$9(9);Z7+=g4p.v$j(h7,2);B9=T9[T4];if(!B9)continue;if(B9.candleWidth){Z7+=(B9.candleWidth - h7) / +"2";h7=B9.candleWidth;}if(!B9.projection){if(z1.transformFunc && d9 == z1.panel.yAxis && B9.transform){B9=B9.transform;}z5=B9[S5];if(z5 && z5[P7] !== undefined){z5=z5[P7];}if(!(z5 instanceof Array)){z5=[z5];}if(("Scatter" in B9)){z5=B9.Scatter;}for(var i3=0;i3 < z5.length;i3++){if(!z5[i3] && z5[i3] !== 0)continue;R4=z5[i3];Z3=0;if(z5[i3] instanceof Array){R4=z5[i3][0];Z3=z5[i3][2];}f9=d9.semiLog?d9.height * (1 - (Math.log(Math.max(R4,0)) / Math.LN10 - d9.logLow) / d9.logShadow):(d9.high - R4) * d9.multiplier;if(d9.flipped){g4p.s$9(1);f9=g4p.v$j(f9,g2);}else {f9+=n6;}if(f9 < n6)continue;if(f9 > g2)continue;x3=2;if(Z3){g4p.O_b(2);x3=g4p.v$j(Z3,h7);}g4p.s$9(1);m9.moveTo(g4p.V9a(x3,Z7),f9);g4p.s$9(0);m9.lineTo(g4p.V9a(Z7,x3),f9);X6[T4]=f9;}}}m9.stroke();m9.closePath();n4={colors:[m9.strokeStyle],cache:X6};this.endClip();m9.lineWidth=+"1";return n4;};};X=L9=>{var E9u=i6UVR;var j2t,p10,x4b,c6X,Y2s,K1J,d0u,n0x,R$w,A4x,N6T,S9,W2,I9e,y3V,v79;j2t="p";j2t+="atter";j2t+="n";p10="lineW";p10+="i";p10+="dt";p10+="h";x4b="fillCo";x4b+="lo";x4b+="r";c6X="so";c6X+="l";c6X+="id";Y2s="a";Y2s+="u";Y2s+="t";Y2s+="o";K1J="a";K1J+="u";K1J+="t";K1J+="o";d0u="soli";d0u+="d";n0x="au";n0x+="t";n0x+="o";R$w="s";R$w+="o";R$w+="lid";A4x="sol";A4x+="i";A4x+="d";N6T="au";N6T+="t";N6T+="o";S9=typeof _CIQ !== "undefined"?_CIQ:L9.CIQ;W2=typeof _timezoneJS !== "undefined"?_timezoneJS:L9.timezoneJS;S9.ChartEngine.drawingTools={};S9.ChartEngine.currentVectorParameters={vectorType:null,pattern:"solid",lineWidth:1,fillColor:"#7DA6F5",currentColor:"auto",axisLabel:!![],fibonacci:{trend:{color:N6T,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},fibs:[{level:-("0.786" - 0),color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:-("0.618" * 1),color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"},display:!!({})},{level:-0.5,color:"auto",parameters:{pattern:A4x,opacity:0.25,lineWidth:1}},{level:-("0.382" * 1),color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!""},{level:-0.236,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:0,color:"auto",parameters:{pattern:R$w,lineWidth:1},display:!""},{level:0.236,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:"0.382" - 0,color:n0x,parameters:{pattern:"solid",opacity:"0.25" - 0,lineWidth:1},display:!0},{level:0.5,color:"auto",parameters:{pattern:"solid",opacity:"0.25" - 0,lineWidth:1},display:!!"1"},{level:0.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!!({})},{level:0.786,color:"auto",parameters:{pattern:d0u,opacity:0.25,lineWidth:"1" * 1}},{level:1,color:K1J,parameters:{pattern:"solid",lineWidth:1},display:!""},{level:1.272,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:1.382,color:Y2s,parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!0},{level:"1.618" - 0,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1},display:!![]},{level:2.618,color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}},{level:+"4.236",color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}}],extendLeft:!!0,printLevels:!![],printValues:!"1",timezone:{color:"auto",parameters:{pattern:c6X,opacity:0.25,lineWidth:+"1"}}},annotation:{font:{style:null,size:null,weight:null,family:null}}};S9.ChartEngine.registerDrawingTool=function(g5,q4){S9.ChartEngine.drawingTools[g5]=q4;};S9.ChartEngine.prototype.setDrawingContainer=function(c2){E9u.W3G();this.drawingContainer=c2;};S9.ChartEngine.prototype.exportDrawings=function(){var W9;W9=[];E9u.W3G();for(var F9=0;F9 < this.drawingObjects.length;F9++){W9.push(this.drawingObjects[F9].serialize());}return W9;};S9.ChartEngine.prototype.abortDrawings=function(q_){var Y5M,X0o,k1O,R6;Y5M=-1260672070;X0o=-1243885496;E9u.O_b(29);k1O=E9u.v$j("2",64);for(var D2k=1;E9u.m6F(D2k.toString(),D2k.toString().length,80440) !== Y5M;D2k++){if(q_ == !0){q_=![];}k1O+=2;}if(E9u.m6F(k1O.toString(),k1O.toString().length,63266) !== X0o){if(q_ !== !({})){q_=!!({});}}for(var D_=this.drawingObjects.length - 1;D_ >= ("0" ^ 0);D_--){R6=this.drawingObjects[D_];R6.abort(!![]);if(q_ || !R6.permanent){this.drawingObjects.splice(D_,1);}}};S9.ChartEngine.prototype.importDrawings=function(a4){var k2,I_,K2;if(!S9.Drawing){return;}E9u.W3G();for(var Z1=+"0";Z1 < a4.length;Z1++){k2=a4[Z1];if(k2.name == "fibonacci"){k2.name="retracement";}I_=S9.ChartEngine.drawingTools[k2.name];if(!I_){if(S9.Drawing[k2.name]){I_=S9.Drawing[k2.name];S9.ChartEngine.registerDrawingTool(k2.name,I_);}}if(I_){K2=new I_();K2.reconstruct(this,k2);this.drawingObjects.push(K2);}}};S9.ChartEngine.prototype.clearDrawings=function(f0,f4){var F8,K7;if(f4 !== !!0){f4=!!"1";}F8=this.exportDrawings();this.abortDrawings(f4);if(f0){this.undoStamps=[];}else {this.undoStamp(F8,this.exportDrawings());}this.changeOccurred("vector");this.cancelTouchSingleClick=!!"1";S9.clearCanvas(this.chart.tempCanvas,this);this.draw();E9u.W3G();K7=this.controls.mSticky;if(K7){K7.style.display="none";K7.children["0" << 64].innerHTML="";}};S9.ChartEngine.prototype.createDrawing=function(w9,d8){var m5,B6;if(!S9.Drawing){return;}m5=new S9.Drawing[w9]();m5.reconstruct(this,d8);B6=new S9.Drawing[w9]();B6.stx=this;B6.copyConfig();for(var r1 in B6){m5[r1]=m5[r1] || B6[r1];}this.drawingObjects.push(m5);this.draw();return m5;};S9.ChartEngine.prototype.removeDrawing=function(G2){var O3c;for(var f5=0;f5 < this.drawingObjects.length;f5++){if(this.drawingObjects[f5] == G2){O3c="v";O3c+="ector";E9u.s$9(2);this.drawingObjects.splice(f5,E9u.V9a(1,"1"));this.changeOccurred(O3c);this.draw();return;}};};S9.ChartEngine.prototype.undo=function(){if(this.runPrepend("undo",arguments)){return;}if(this.activeDrawing){this.activeDrawing.abort();this.activeDrawing.hidden=!1;this.drawingSnapshot=null;this.activateDrawing(null);S9.clearCanvas(this.chart.tempCanvas,this);this.draw();this.controls.crossX.classList.replace("stx_crosshair_drawing","stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing","stx_crosshair");S9.ChartEngine.drawingLine=!1;}this.runAppend("undo",arguments);};S9.ChartEngine.prototype.undoStamp=function(n0,s9){this.undoStamps.push(n0);this.dispatch("undoStamp",{before:n0,after:s9,stx:this});};S9.ChartEngine.prototype.undoLast=function(){E9u.W5N();if(this.activeDrawing){this.undo();}else {if(this.undoStamps.length){this.drawingObjects=[];this.importDrawings(this.undoStamps.pop());this.changeOccurred("vector");this.draw();}}};S9.ChartEngine.prototype.addDrawing=function(l0){var Q_;Q_=this.exportDrawings();this.drawingObjects.push(l0);this.undoStamp(Q_,this.exportDrawings());};S9.ChartEngine.prototype.repositionDrawing=function(X9,F3){var V3,A2,H0;V3=this.panels[X9.panelName];E9u.W3G();A2=this.adjustIfNecessary(V3,this.crosshairTick,this.valueFromPixel(this.backOutY(S9.ChartEngine.crosshairY),V3));H0=this.chart.tempCanvas;S9.clearCanvas(H0,this);if(F3){this.drawingSnapshot=this.exportDrawings();X9.render(H0.context);}else {X9.reposition(H0.context,X9.repositioner,this.crosshairTick,A2);if(this.drawingSnapshot){this.undoStamp(S9.shallowClone(this.drawingSnapshot),this.exportDrawings());}this.drawingSnapshot=null;}if(X9.measure){X9.measure();}};S9.ChartEngine.prototype.activateRepositioning=function(G7){var z$9,H1;z$9="b";z$9+="lock";E9u.W3G();H1=this.repositioningDrawing=G7;if(G7){this.draw();this.repositionDrawing(G7,!!1);}this.chart.tempCanvas.style.display=G7?z$9:"none";};S9.ChartEngine.prototype.activateDrawing=function(y4,W4){var A1H,J_A,M5m,Q3H,B1;if(!W4){W4=this.currentPanel;}if(!y4){A1H="no";A1H+="n";A1H+="e";this.activeDrawing=null;this.chart.tempCanvas.style.display=A1H;s5(this);return ![];}function s5(z3){var G4;if(!z3.layout.studies){return;}E9u.W3G();G4=z3.layout.studies[W4.name];if(G4 && !G4.overlay){delete z3.overlays[G4.name];}}J_A=-+"823830164";M5m=-113927890;Q3H=2;E9u.W3G();for(var c5q=1;E9u.m6F(c5q.toString(),c5q.toString().length,98162) !== J_A;c5q++){B1=S9.ChartEngine.drawingTools[y4];Q3H+=2;}if(E9u.l5h(Q3H.toString(),Q3H.toString().length,43136) !== M5m){B1=S9.ChartEngine.drawingTools[y4];}if(!B1){if(S9.Drawing[y4]){B1=S9.Drawing[y4];S9.ChartEngine.registerDrawingTool(y4,B1);}}if(B1){this.activeDrawing=new B1();this.activeDrawing.construct(this,W4);if(!this.charts[W4.name]){if(this.activeDrawing.chartsOnly){this.activeDrawing=null;s5(this);return ![];}}}this.chart.tempCanvas.style.display="block";if(this.controls.drawOk){this.controls.drawOk.style.display="none";}s5(this);return !![];};S9.ChartEngine.prototype.drawingClick=function(B5,t4,C5){var X0,Z$,Y1,Z8c,M_q,b0g,O4C,L81;if(!S9.Drawing){return;}if(!B5){return;}if(this.openDialog !== ""){return;}if(!this.activeDrawing){if(!this.activateDrawing(this.currentVectorParameters.vectorType,B5)){return;}}if(this.activeDrawing){if(this.userPointerDown && !this.activeDrawing.dragToDraw){if(!S9.ChartEngine.drawingLine){this.activateDrawing(null);}return;}X0=this.tickFromPixel(t4,B5.chart);Z$=this.panels[this.activeDrawing.panelName];Y1=this.adjustIfNecessary(Z$,X0,this.valueFromPixel(C5,Z$));if(this.magnetizedPrice){Y1=this.adjustIfNecessary(Z$,X0,this.magnetizedPrice);}if(this.activeDrawing.click(this.chart.tempCanvas.context,X0,Y1)){if(this.activeDrawing){Z8c="s";Z8c+="tx_crosshair";M_q="st";M_q+="x_crosshair_drawing";b0g="ve";b0g+="ct";b0g+="o";b0g+="r";S9.ChartEngine.drawingLine=!({});S9.clearCanvas(this.chart.tempCanvas,this);this.addDrawing(this.activeDrawing);this.activateDrawing(null);this.adjustDrawings();this.draw();this.changeOccurred(b0g);this.controls.crossX.classList.replace(M_q,"stx_crosshair");this.controls.crossY.classList.replace("stx_crosshair_drawing",Z8c);}}else {O4C="stx_cross";O4C+="ha";O4C+="ir_draw";O4C+="ing";L81="stx_";L81+="crosshair";this.changeOccurred("drawing");S9.ChartEngine.drawingLine=!0;this.controls.crossX.classList.replace("stx_crosshair","stx_crosshair_drawing");this.controls.crossY.classList.replace(L81,O4C);}return !0;}return ![];};S9.ChartEngine.prototype.rightClickDrawing=function(a_,p_){var Q5m,r9,m$;Q5m="rightCli";Q5m+="ck";Q5m+="Drawing";if(this.runPrepend(Q5m,arguments)){return;}if(a_.permanent){return;}if(this.callbackListeners.drawingEdit.length){this.dispatch("drawingEdit",{stx:this,drawing:a_,forceEdit:p_});}else {r9=a_.abort();if(!r9){m$=this.exportDrawings();this.removeDrawing(a_);this.undoStamp(m$,this.exportDrawings());}this.changeOccurred("vector");}this.runAppend("rightClickDrawing",arguments);};S9.ChartEngine.prototype.magnetize=function(){var P4m,u0T,I77,P6s,j_s,s86,x6,s1,k5,D$,K0,A$,Z5,t8,R0,x39,z$,s6,Z2,M$,H8,z4,W3,k4,e1,c8;P4m="stx-dragg";P4m+="a";P4m+="b";P4m+="le";u0T="#";u0T+="398dff";I77="C";I77+="l";I77+="o";I77+="se";P6s="L";P6s+="o";P6s+="w";j_s="ca";j_s+="ll";j_s+="ou";j_s+="t";s86="f";s86+="ree";s86+="f";s86+="orm";this.magnetizedPrice=null;if(!this.preferences.magnet){return;}if(this.runPrepend("magnetize",arguments)){return;}if(this.repositioningDrawing){return;}x6=this.currentVectorParameters.vectorType;if(!x6 || x6 == "projection" || x6 == s86){return;}if((x6 == "annotation" || x6 == j_s) && S9.ChartEngine.drawingLine){return;}s1=this.currentPanel;k5=s1.chart;D$=this.crosshairTick;if(D$ > k5.dataSet.length){return;}K0=k5.dataSet[D$];if(!K0){return;}A$=k5.transformFunc && s1.yAxis === k5.yAxis;if(A$ && K0.transform){K0=K0.transform;}t8=this.getRenderedItems();R0=["Open","High",P6s,I77];if(this.magneticHold && this.activeDrawing && this.activeDrawing.penDown){x39="Hi";x39+="gh";if(R0.indexOf(this.magneticHold) != -1 && t8.indexOf(x39) != -1){t8=R0;}else {t8=[this.magneticHold];}}else {this.magneticHold=null;}z$=1000000000;s6=parseFloat(this.preferences.magnet);for(var U3="0" >> 0;U3 < t8.length;U3++){Z2=K0[t8[U3]];M$=this.getYAxisByField(s1,t8[U3]);H8=S9.existsInObjectChain(K0,t8[U3]);if(H8){Z2=H8.obj[H8.member];}if(Z2 || Z2 === "0" - 0){z4=this.pixelFromTransformedValue(Z2,s1,M$);if(Math.abs(this.cy - z4) < z$){z$=Math.abs(this.cy - z4);if(s6 && s6 <= z$)continue;this.magnetizedPrice=A$?this.valueFromPixel(z4,s1):Z2;Z5=z4;this.magneticHold=t8[U3];}}}W3=this.pixelFromTick(D$,k5);k4=Z5;S9.clearCanvas(k5.tempCanvas,this);e1=k5.tempCanvas.context;e1.beginPath();e1.lineWidth=1;E9u.s$9(32);var k2c=E9u.V9a(30,17,40,90,8);E9u.O_b(33);var n86=E9u.v$j(13,1,11);c8=Math.max(this.layout.candleWidth,k2c) / n86;e1.arc(W3,k4,Math.min(c8,8),0,+"2" * Math.PI,!({}));e1.fillStyle="#398dff";e1.strokeStyle=u0T;e1.fill();e1.stroke();e1.closePath();k5.tempCanvas.style.display="block";if(this.anyHighlighted){this.container.classList.remove(P4m);}if(this.activeDrawing){this.activeDrawing.move(e1,this.crosshairTick,this.magnetizedPrice);}this.runAppend("magnetize",arguments);};S9.ChartEngine.prototype.changeVectorType=function(E$){this.currentVectorParameters.vectorType=E$;if(S9.Drawing){S9.Drawing.initializeSettings(this,E$);}if(S9.ChartEngine.drawingLine){this.undo();}if(this.insideChart){this.doDisplayCrosshairs();}};S9.ChartEngine.prototype.changeVectorParameter=function(I2,L6){var T0r,g2a,s99,J6,q0o,D0V;T0r="fon";T0r+="tSize";g2a="t";g2a+="r";g2a+="u";g2a+="e";s99="ax";s99+="isLa";s99+="bel";if(I2 == s99){L6=L6.toString() === g2a || Number(L6);}else if(I2 == "lineWidth"){L6=Number(L6);}else if(I2 == T0r){E9u.s$9(23);var r0x=E9u.v$j(11,1);L6=parseInt(L6,r0x) + "px";}J6=this.currentVectorParameters;if(typeof J6[I2] !== "undefined"){J6[I2]=L6;return !!({});}else if(I2.substr(0,4) == "font"){q0o="defau";q0o+="lt";D0V="fa";D0V+="mily";I2=I2.substr(4).toLowerCase();if(I2 == D0V && L6.toLowerCase() == q0o){L6=null;}J6=J6.annotation.font;if(typeof J6[I2] !== "undefined"){J6[I2]=L6;return !!1;}}return !({});};S9.ChartEngine.prototype.drawVectors=function(){var h5,m6,j2,N0,l9;if(this.vectorsShowing){return;}if(this.runPrepend("drawVectors",arguments)){return;}this.vectorsShowing=!![];if(!this.chart.hideDrawings && !this.highlightedDraggable){h5={};for(j2=0;j2 < this.drawingObjects.length;j2++){N0=this.drawingObjects[j2];if(N0.hidden)continue;if(this.repositioningDrawing === N0)continue;m6=N0.panelName;if(!this.panels[N0.panelName] || this.panels[N0.panelName].hidden)continue;if(!h5[m6]){h5[m6]=[];}h5[m6].push(N0);}for(m6 in h5){this.startClip(m6);l9=h5[m6];for(j2=0;j2 < l9.length;j2++){l9[j2].render(this.chart.context);}this.endClip();}}E9u.W3G();this.runAppend("drawVectors",arguments);};S9.ChartEngine.prototype.adjustDrawings=function(){var Q2;for(var w1=+"0";w1 < this.drawingObjects.length;w1++){Q2=this.drawingObjects[w1];if(this.panels[Q2.panelName]){Q2.adjust();}}};S9.Drawing=S9.Drawing || (function(){this.chartsOnly=!!0;this.penDown=!!"";E9u.W5N();;});S9.Drawing.getDrawingParameters=function(J$,h_){var i4,s3,u6,a6;E9u.W5N();try{i4=new S9.Drawing[h_]();}catch(k7){}if(!i4){return null;}i4.stx=J$;i4.copyConfig(!0);s3={};u6=i4.configs;for(var n7=0;n7 < u6.length;n7++){s3[u6[n7]]=i4[u6[n7]];}a6=J$.canvasStyle("stx_annotation");if(a6 && s3.font){s3.font.size=a6.fontSize;s3.font.family=a6.fontFamily;s3.font.style=a6.fontStyle;s3.font.weight=a6.fontWeight;}return s3;};S9.Drawing.saveConfig=function(w2,Y8){var D6,W_;if(!Y8){return;}D6=w2.preferences;if(!D6.drawings){D6.drawings={};}D6.drawings[Y8]={};W_=new S9.Drawing[Y8]();W_.stx=w2;S9.Drawing.copyConfig(W_);W_.configs.forEach(function(d2){E9u.W3G();D6.drawings[Y8][d2]=W_[d2];});w2.changeOccurred("preferences");};S9.Drawing.restoreDefaultConfig=function(z8,u4,f8){var Z4c,u$g,M$m;if(f8){z8.preferences.drawings=null;}else {z8.preferences.drawings[u4]=null;}z8.changeOccurred("preferences");E9u.W5N();Z4c=-935116489;u$g=-137411935;M$m=2;for(var v5h=1;E9u.m6F(v5h.toString(),v5h.toString().length,27367) !== Z4c;v5h++){z8.currentVectorParameters=S9.clone(S9.ChartEngine.currentVectorParameters);z8.currentVectorParameters.vectorType=u4;M$m+=2;}if(E9u.m6F(M$m.toString(),M$m.toString().length,73385) !== u$g){z8.currentVectorParameters=S9.clone(S9.ChartEngine.currentVectorParameters);z8.currentVectorParameters.vectorType=u4;}};S9.Drawing.initializeSettings=function(Q1,U1){var i1,C6;i1=S9.Drawing[U1];if(i1){C6=new i1();if(C6.initializeSettings){C6.initializeSettings(Q1);}}};S9.Drawing.updateSource=function(B4,T5,z6,r5){var i_,j1;if(!T5){return;}i_=!"1";for(var i5 in B4.drawingObjects){j1=B4.drawingObjects[i5];if(!j1.field)continue;if(z6){if(j1.field == T5){j1.field=z6;i_=!"";}else if(j1.field.indexOf(T5) > -1 && j1.field.indexOf(T5 + ((594.84,+"864.07") > (3954,7230)?(0x1358,"0xebf" - 0):"1448" - 0 >= ("4053" ^ 0)?4850 == (4460,5880)?(0x1242,"G"):(3.88e+3,800.65):"-")) == -("1" ^ 0)){j1.field=j1.field.replace(T5,z6);i_=!![];}}else {if(j1.field.split("-->")[0] == T5 || j1.panelName == T5){j1.panelName=r5;i_=!!({});}}}if(i_){B4.changeOccurred("vector");}};S9.Drawing.prototype.copyConfig=function(Y_){E9u.W5N();S9.Drawing.copyConfig(this,Y_);};S9.Drawing.copyConfig=function(N1,E2){var h8,b4,K4,I9,g8u,o5,s9M,c51;h8=N1.stx.currentVectorParameters;b4=N1.configs;for(K4=0;K4 < b4.length;K4++){g8u="f";g8u+="o";g8u+="n";g8u+="t";I9=b4[K4];if(I9 == "color"){N1.color=h8.currentColor;}else if(I9 == "parameters"){N1.parameters=S9.clone(h8.fibonacci);}else if(I9 == g8u){N1.font=S9.clone(h8.annotation.font);}else {N1[I9]=h8[I9];}}if(!E2){return;}o5=N1.stx.preferences;if(o5 && o5.drawings){S9.extend(N1,o5.drawings[h8.vectorType]);for(K4=+"0";K4 < b4.length;K4++){s9M="f";s9M+="o";s9M+="n";s9M+="t";c51="p";c51+="arameters";I9=b4[K4];if(I9 == "color"){h8.currentColor=N1.color;}else if(I9 == c51){h8.fibonacci=S9.clone(N1.parameters);}else if(I9 == s9M){h8.annotation.font=S9.clone(N1.font);}else {h8[I9]=N1[I9];}}}};S9.Drawing.prototype.dragToDraw=![];S9.Drawing.prototype.permanent=!({});S9.Drawing.prototype.chartsOnly=![];S9.Drawing.prototype.abort=function(N2){};S9.Drawing.prototype.measure=function(){};S9.Drawing.prototype.construct=function(X1,r$){this.stx=X1;this.panelName=r$.name;};S9.Drawing.prototype.render=function(T6){console.warn("must implement render function!");};S9.Drawing.prototype.click=function(M3,F4,o_){console.warn("must implement click function!");};S9.Drawing.prototype.move=function(u2,T3,L7){console.warn("must implement move function!");};S9.Drawing.prototype.reposition=function(k6,a5,H5,e3){};S9.Drawing.prototype.intersected=function(w4,P9,U6){var X67;X67="must implement intersected functi";X67+="on!";console.warn(X67);};S9.Drawing.prototype.reconstruct=function(M9,P6){console.warn("must implement reconstruct function!");};S9.Drawing.prototype.serialize=function(){console.warn("must implement serialize function!");};S9.Drawing.prototype.adjust=function(){console.warn("must implement adjust function!");};S9.Drawing.prototype.highlight=function(x4){if(x4 && !this.highlighted){this.highlighted=x4;}else if(!x4 && this.highlighted){this.highlighted=x4;}return this.highlighted;};S9.Drawing.prototype.littleCircleRadius=function(){var s8;s8=6;return s8;};S9.Drawing.prototype.littleCircle=function(z7,f6,k_,c3){var y3,p9;if(this.permanent){return;}y3=this.stx.defaultColor;p9=S9.chooseForegroundColor(y3);z7.beginPath();E9u.s$9(1);z7.lineWidth=E9u.v$j(0,"1");z7.arc(f6,k_,this.littleCircleRadius(),0,2 * Math.PI,!"1");if(c3){z7.fillStyle=y3;}else {z7.fillStyle=p9;}z7.strokeStyle=y3;z7.setLineDash([]);z7.fill();z7.stroke();z7.closePath();};S9.Drawing.prototype.rotator=function(S3,w8,p7,o0){var O2,S_,p8;if(this.permanent){return;}O2=this.littleCircleRadius();S_=this.stx.defaultColor;S3.beginPath();S3.lineWidth=2;if(!o0){S3.globalAlpha=0.5;}E9u.s$9(34);p8=E9u.v$j(O2,"4",64);S3.arc(w8,p7,p8,0,+"3" * Math.PI / 2,!({}));E9u.s$9(35);S3.moveTo(E9u.V9a(2,p8,w8),E9u.v$j(p7,2,E9u.s$9(0)));E9u.s$9(0);S3.lineTo(E9u.V9a(w8,p8),p7);E9u.O_b(33);S3.lineTo(E9u.V9a(w8,p8,2),E9u.V9a(p7,2,E9u.O_b(0)));E9u.O_b(36);S3.moveTo(E9u.v$j("2",w8),E9u.v$j(2,p7,p8,E9u.O_b(16)));E9u.O_b(1);S3.lineTo(w8,E9u.V9a(p8,p7));E9u.s$9(1);E9u.W3G();S3.lineTo(E9u.v$j(2,w8),E9u.v$j(2,p8,p7,E9u.s$9(37)));S3.strokeStyle=S_;S3.stroke();S3.closePath();E9u.O_b(29);S3.globalAlpha=E9u.v$j("1",32);};S9.Drawing.prototype.mover=function(R5,I5,K9,Z4){var y8,G8,L8,I$;if(this.permanent){return;}y8=this.littleCircleRadius();G8=this.stx.defaultColor;L8=5;E9u.s$9(0);I$=E9u.v$j(y8,1);R5.save();E9u.O_b(29);R5.lineWidth=E9u.V9a("2",32);R5.strokeStyle=G8;R5.translate(I5,K9);if(!Z4){R5.globalAlpha=0.5;}for(var S$=0;S$ < 4;S$++){R5.rotate(Math.PI / 2);R5.beginPath();R5.moveTo(0,I$);E9u.O_b(0);R5.lineTo(0,E9u.V9a(I$,L8));E9u.s$9(16);R5.moveTo(-2,E9u.V9a(L8,I$,2));E9u.O_b(0);R5.lineTo(0,E9u.v$j(I$,L8));E9u.s$9(16);R5.lineTo(2,E9u.V9a(L8,I$,2));R5.closePath();R5.stroke();}E9u.s$9(29);R5.globalAlpha=E9u.v$j("1",32);R5.restore();};S9.Drawing.prototype.resizer=function(u7,I4,a3,y9){var B$,d_,t6,k9;if(this.permanent){return;}E9u.W5N();B$=this.littleCircleRadius();d_=this.stx.defaultColor;E9u.s$9(38);var x6z=E9u.V9a(20,7,18,18,10);t6=+"5" * Math.sqrt(x6z);E9u.s$9(6);k9=E9u.v$j(B$,"1");u7.save();u7.lineWidth=2;u7.strokeStyle=d_;u7.translate(I4,a3);u7.rotate(-(I4 * a3) / Math.abs(I4 * a3) * Math.PI / 4);if(!y9){u7.globalAlpha=0.5;}for(var E8=0;E8 < 2;E8++){u7.rotate(Math.PI);u7.beginPath();u7.moveTo(0,k9);E9u.O_b(0);u7.lineTo(0,E9u.v$j(k9,t6));E9u.O_b(16);u7.moveTo(-2,E9u.V9a(t6,k9,2));E9u.s$9(39);u7.lineTo(E9u.V9a("0",0),E9u.v$j(k9,t6,E9u.s$9(0)));E9u.s$9(40);u7.lineTo(2,E9u.V9a(t6,k9,"2",0));u7.closePath();u7.stroke();}u7.globalAlpha=+"1";u7.restore();};S9.Drawing.prototype.pointIntersection=function(G5,l4,F5,i9){var i$;i$=this.stx.panels[this.panelName];if(!i$){return !({});}if(i9){if(G5 >= F5.cx0 && G5 <= F5.cx1 && l4 >= F5.cy0 && l4 <= F5.cy1){return !"";}}else {if(G5 >= F5.x0 && G5 <= F5.x1 && l4 >= Math.min(F5.y0,F5.y1) && l4 <= Math.max(F5.y0,F5.y1)){return !0;}}return !({});};S9.Drawing.prototype.setPoint=function(l6,F2,c_,n$){var u4x,t_,y5,i0,o85,X$,g3;u4x="num";u4x+="ber";t_=null;y5=null;E9u.W5N();if(typeof F2 == u4x){t_=F2;}else if(F2.length >= 8){y5=F2;}else {t_=Number(F2);}if(c_ || c_ === 0){E9u.O_b(0);this[E9u.V9a("v",l6)]=c_;}if(t_ !== null){o85="t";o85+="zo";i0=this.stx.dateFromTick(t_,n$,!![]);E9u.O_b(0);this[E9u.V9a(o85,l6)]=i0.getTimezoneOffset();E9u.O_b(0);this[E9u.V9a(552.6 <= 132.77?!({}):(121.89,1257) >= 8120?(0xe6b,"k"):"d",l6)]=S9.yyyymmddhhmmssmmm(i0);E9u.O_b(0);this[E9u.V9a(492.95 >= (764.01,+"8600")?!0:(747,475) === +"5378"?+"4.34e+3":+"865.5" == "4205" << 0?(!!"1",!!1):"p",l6)]=[t_,c_];}else if(y5 !== null){i0=S9.strToDateTime(y5);if(!this["tzo" + l6] && this["tzo" + l6] !== 0){E9u.O_b(0);this[E9u.V9a("tzo",l6)]=i0.getTimezoneOffset();}E9u.s$9(0);this[E9u.V9a(("7151" - 0,7725) == (5871,9983)?6.14e+3:(4520,40.49) <= (1060,5291)?"d":(3357,"2416" << 32) == (742,6171)?"9.65e+3" << 0:!![],l6)]=y5;X$=this["tzo" + l6] - i0.getTimezoneOffset();i0.setMinutes(i0.getMinutes() + X$);g3=![];if(this.name != "freeform" && !S9.ChartEngine.isDailyInterval(this.stx.layout.interval) && !i0.getHours() && !i0.getMinutes() && !i0.getSeconds() && !i0.getMilliseconds()){g3=!!({});}E9u.O_b(0);this[E9u.V9a(19 != (8146,1010)?"p":0xa7,l6)]=[this.stx.tickFromDate(S9.yyyymmddhhmmssmmm(i0),n$,null,g3),c_];}};S9.Drawing.prototype.getLineColor=function(R1){var L6d,F29,M6,e2,W$,K3,w$,b6,t7,Q5F,A8,L_;E9u.W3G();L6d="a";L6d+="u";L6d+="t";L6d+="o";F29="a";F29+="u";F29+="t";F29+="o";if(!R1){R1=this.color;}M6=this.stx;e2=R1;if(this.highlighted){e2=M6.getCanvasColor("stx_highlight_vector");}else if(S9.isTransparent(e2)){e2=M6.defaultColor;}else if(e2 == F29){e2=M6.defaultColor;if(this.field){for(W$ in M6.layout.studies){K3=M6.layout.studies[W$];w$=K3.outputs[K3.outputMap[this.field]];if(w$){e2=w$.color || w$;break;}}for(W$ in M6.chart.seriesRenderers){t7=M6.chart.seriesRenderers[W$];for(var Q0=0;Q0 < t7.seriesParams.length;Q0++){Q5F="-";Q5F+="-";Q5F+=">";A8=t7.seriesParams[Q0];L_=A8.field;if(!L_ && !t7.highLowBars){L_=this.defaultPlotField || "Close";}if(A8.symbol && A8.subField){L_+=Q5F + A8.subField;}if(this.field == L_){e2=A8.color;break;}if(A8.field && A8.field == this.field.split("-->")[0]){b6=A8.color;}}}if(b6){e2=b6;}}}if(e2 == L6d){e2=M6.defaultColor;}return e2;};S9.Drawing.BaseTwoPoint=function(){E9u.W5N();this.p0=null;this.p1=null;this.color="";};S9.inheritsFrom(S9.Drawing.BaseTwoPoint,S9.Drawing);S9.Drawing.BaseTwoPoint.prototype.configs=[];S9.Drawing.BaseTwoPoint.prototype.lineIntersection=function(s7,k1,Y2,E7,G_,M8,N4){E9u.W3G();var N5,F1,b8;if(!G_){G_=this.p0;}if(!M8){M8=this.p1;}N5=this.stx;if(!(G_ && M8)){return ![];}F1=S9.convertBoxToPixels(N5,this.panelName,Y2);if(F1.x0 === undefined){return ![];}b8={x0:G_[0],x1:M8["0" << 0],y0:G_[1],y1:M8[1]};if(!N4){b8=S9.convertBoxToPixels(N5,this.panelName,b8);}return S9.boxIntersects(F1.x0,F1.y0,F1.x1,F1.y1,b8.x0,b8.y0,b8.x1,b8.y1,E7);};S9.Drawing.BaseTwoPoint.prototype.boxIntersection=function(b0,x_,G3){E9u.W3G();if(!this.p0 || !this.p1){return !({});}if(G3.x0 > Math.max(this.p0[0],this.p1[0]) || G3.x1 < Math.min(this.p0[0],this.p1[+"0"])){return !!"";}if(G3.y1 > Math.max(this.p0[1],this.p1[1]) || G3.y0 < Math.min(this.p0["1" >> 32],this.p1[1])){return !"1";}return !0;};S9.Drawing.BaseTwoPoint.prototype.accidentalClick=function(H2,O6){var H6,Q5,J0,T2,Y7,M0,k3,a0;H6=this.stx.panels[this.panelName];Q5=this.stx.pixelFromTick(this.p0[0],H6.chart);J0=this.stx.pixelFromTick(H2,H6.chart);T2=this.stx.pixelFromValueAdjusted(H6,this.p0[0],this.p0[1]);Y7=this.stx.pixelFromValueAdjusted(H6,H2,O6);E9u.s$9(1);M0=Math.abs(E9u.v$j(Q5,J0));E9u.s$9(1);k3=Math.abs(E9u.V9a(T2,Y7));E9u.O_b(41);a0=Math.sqrt(E9u.v$j(k3,M0,k3,M0));if(a0 < 10){this.penDown=!({});if(this.dragToDraw){this.stx.undo();}return !"";}};S9.Drawing.BaseTwoPoint.prototype.click=function(H4,b9,z0){var W0,c8G,H37,M9i;this.copyConfig();W0=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,b9,z0,W0.chart);this.penDown=!!"1";return !"1";}E9u.W5N();if(this.accidentalClick(b9,z0)){return this.dragToDraw;}this.setPoint(1,b9,z0,W0.chart);this.penDown=!1;c8G=-1085514531;E9u.s$9(42);H37=-E9u.V9a("57670071",35);M9i=2;for(var B9D="1" << 0;E9u.m6F(B9D.toString(),B9D.toString().length,93560) !== c8G;B9D++){return !![];;M9i+=2;}if(E9u.m6F(M9i.toString(),M9i.toString().length,14266) !== H37){return !({});;}};S9.Drawing.BaseTwoPoint.prototype.adjust=function(){var g7;g7=this.stx.panels[this.panelName];if(!g7){return;}this.setPoint(0,this.d0,this.v0,g7.chart);this.setPoint(1,this.d1,this.v1,g7.chart);};S9.Drawing.BaseTwoPoint.prototype.move=function(I1,y$,T0){var C$c,C8B,f2$;if(!this.penDown){return;}C$c=1115619788;C8B=-1774743925;f2$=+"2";for(var O1w="1" * 1;E9u.l5h(O1w.toString(),O1w.toString().length,14235) !== C$c;O1w++){this.copyConfig();f2$+=2;}if(E9u.l5h(f2$.toString(),f2$.toString().length,5357) !== C8B){this.copyConfig();}this.p1=[y$,T0];this.render(I1);};S9.Drawing.BaseTwoPoint.prototype.measure=function(){var g4,E3,G_O,H9;if(this.p0 && this.p1){this.stx.setMeasure(this.p0[1],this.p1[1],this.p0[0],this.p1[0],!![],this.name);g4=this.stx.controls.mSticky;E3=g4 && g4.querySelector(".mStickyInterior");if(E3){G_O="<";G_O+="br>";H9=[];H9.push(S9.capitalize(this.name));if(this.getYValue){H9.push(this.field || this.stx.defaultPlotField || "Close");}H9.push(E3.innerHTML);E3.innerHTML=H9.join(G_O);}}};S9.Drawing.BaseTwoPoint.prototype.reposition=function(o8,T1,V5,b2){var G5s,X8l,L3,S0,W1;G5s="d";G5s+="r";G5s+="a";G5s+="g";X8l="m";X8l+="ov";X8l+="e";if(!T1){return;}L3=this.stx.panels[this.panelName];S0=T1.tick - V5;W1=T1.value - b2;if(T1.action == X8l){this.setPoint(+"0",T1.p0[0] - S0,T1.p0[1] - W1,L3.chart);E9u.s$9(2);this.setPoint(E9u.V9a(1,"1"),T1.p1[0] - S0,T1.p1[1] - W1,L3.chart);this.render(o8);}else if(T1.action == G5s){this[T1.point]=[V5,b2];this.setPoint(0,this.p0[0],this.p0[1],L3.chart);this.setPoint(1,this.p1[0],this.p1[1],L3.chart);this.render(o8);}};S9.Drawing.BaseTwoPoint.prototype.drawDropZone=function(J8,f7,u$,a8,C_){var A_,r4,J5,E1,p$;A_=this.stx.panels[this.panelName];if(!A_){return;}r4=A_.left;J5=A_.width;if(a8 || a8 === 0){r4=this.stx.pixelFromTick(a8,A_.chart);}if(C_ || C_ === "0" << 0){J5=this.stx.pixelFromTick(C_,A_.chart);}E1=this.stx.pixelFromPrice(f7,A_);p$=this.stx.pixelFromPrice(u$,A_);J8.fillStyle="#008000";J8.globalAlpha=0.2;E9u.O_b(1);J8.fillRect(r4,E1,E9u.v$j(r4,J5),E9u.V9a(E1,p$));J8.globalAlpha=1;};S9.Drawing.annotation=function(){this.name="annotation";this.arr=[];this.w=0;this.h=0;this.padding=4;this.text="";this.ta=null;this.fontSize=+"0";this.font={};};S9.inheritsFrom(S9.Drawing.annotation,S9.Drawing.BaseTwoPoint);S9.Drawing.annotation.prototype.getFontString=function(){var S$V,J_,j6;E9u.W3G();S$V="12";S$V+="p";S$V+="x";this.fontDef={style:null,weight:null,size:S$V,family:null};J_=this.stx.canvasStyle("stx_annotation");if(J_){if(J_.fontStyle){this.fontDef.style=J_.fontStyle;}if(J_.fontWeight){this.fontDef.weight=J_.fontWeight;}if(J_.fontSize){this.fontDef.size=J_.fontSize;}if(J_.fontFamily){this.fontDef.family=J_.fontFamily;}}if(this.font.style){this.fontDef.style=this.font.style;}if(this.font.weight){this.fontDef.weight=this.font.weight;}if(this.font.size){this.fontDef.size=this.font.size;}if(this.font.family){this.fontDef.family=this.font.family;}this.fontString="";j6=!!({});for(var p5 in this.fontDef){if(this.fontDef[p5]){if(!j6){this.fontString+=" ";}else {j6=!!"";}this.fontString+=this.fontDef[p5];}}};S9.Drawing.annotation.prototype.configs=["color","font"];S9.Drawing.annotation.prototype.measure=function(){};S9.Drawing.annotation.prototype.render=function(m8){var a0K,o$x,i7k,F0,z_,O3j,M7,s6I,h5q,b_6,f05,s26,C2,v6i;if(this.ta){return;}a0K=this.stx.panels[this.panelName];if(!a0K){return;}o$x=this.stx.pixelFromTick(this.p0[0],a0K.chart);i7k=this.stx.pixelFromValueAdjusted(a0K,this.p0[0],this.p0[1]);m8.font=this.fontString;m8.textBaseline="middle";F0=o$x;z_=i7k;O3j=this.w;M7=this.h;s6I=this.getLineColor();if(this.stem){if(this.stem.d){h5q=this.stx.pixelFromTick(this.stem.t);f05=this.stx.pixelFromValueAdjusted(a0K,this.stem.t,this.stem.v);E9u.O_b(43);b_6=E9u.v$j(F0,2,O3j);E9u.s$9(43);s26=E9u.v$j(z_,2,M7);}else if(this.stem.x){h5q=F0;f05=z_;F0+=this.stem.x;z_+=this.stem.y;E9u.s$9(43);b_6=E9u.V9a(F0,2,O3j);E9u.O_b(43);s26=E9u.V9a(z_,2,M7);}m8.beginPath();if(this.borderColor){m8.strokeStyle=this.borderColor;}else {m8.strokeStyle=s6I;}m8.moveTo(h5q,f05);m8.lineTo(b_6,s26);m8.stroke();}C2=m8.lineWidth;if(this.highlighted){v6i="stx_a";v6i+="nnotation_highlight_bg";this.stx.canvasColor(v6i,m8);E9u.O_b(1);m8.fillRect(E9u.v$j(C2,F0),E9u.V9a(M7,2,C2,z_,E9u.O_b(44)),E9u.v$j(C2,"2",O3j,0,E9u.s$9(45)),E9u.V9a(2,M7,C2,E9u.O_b(46)));}else {if(this.fillColor){m8.fillStyle=this.fillColor;E9u.s$9(47);m8.fillRect(F0,E9u.v$j(M7,z_,2),O3j,M7);}else if(this.stem){m8.fillStyle=this.stx.containerColor;E9u.s$9(47);m8.fillRect(F0,E9u.V9a(M7,z_,2),O3j,M7);}}if(this.borderColor){m8.beginPath();m8.strokeStyle=this.highlighted?this.stx.getCanvasColor("stx_highlight_vector"):this.borderColor;E9u.s$9(1);m8.rect(E9u.v$j(C2,F0),E9u.V9a(M7,2,C2,z_,E9u.s$9(44)),E9u.v$j(2,O3j,C2,E9u.s$9(46)),E9u.v$j(2,M7,C2,E9u.s$9(46)));m8.stroke();}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",m8);}else {m8.fillStyle=s6I;}E9u.s$9(0);var J_R=E9u.V9a(1,1);z_+=this.padding / J_R;if(!this.ta){for(var Q9N=0;Q9N < this.arr.length;Q9N++){m8.fillText(this.arr[Q9N],F0 + this.padding,z_ - M7 / 2 + this.fontSize / 2);E9u.O_b(48);var P1s=E9u.V9a(13,28,10,3,14);z_+=this.fontSize + P1s;;}}m8.textBaseline="alphabetic";};S9.Drawing.annotation.prototype.onChange=function(P7f){;};S9.Drawing.annotation.prototype.edit=function(h69,Q9n){var J$F,r5y,c9t,y9C,m6p,v_f,p4Q,m6D,F03,E3D,c_I,m8T,T_z,g2N,J$u,E9x,Y9B;function k_U(b32){return function(I2o){if(b32.manageTouchAndMouse && S9.ChartEngine.drawingLine){b32.mouseup(I2o);}};}J$F="p";J$F+="x";r5y="p";r5y+="x";c9t="ann";c9t+="otat";c9t+="i";c9t+="on";y9C=this.stx.panels[this.panelName];if(!y9C){return;}m6p=this.stx.controls.annotationSave;v_f=this.stx.controls.annotationCancel;if(!m6p || !v_f){return;}p4Q=this.stx;m6D=this.ta;p4Q.editingAnnotation=!![];function l$q(r5j){return function(k9X){var o2F,W21,x3O,G6P,H5f,o$g,H_L,l1X,C9H,B$i,m3x,h3t,H1l;o2F="p";o2F+="x";if(k9X){W21=k9X.keyCode;switch(W21){case 27:r5j.stx.undo();return;}}x3O=r5j.stx;G6P=r5j.ta;H5f=G6P.value.split("\n");o$g=+"0";x3O.chart.context.font=r5j.fontString;for(var J76=0;J76 < H5f.length;J76++){H_L=x3O.chart.context.measureText(H5f[J76]).width;if(H_L > o$g){o$g=H_L;}}E9u.O_b(49);E9u.W3G();var N6D=E9u.V9a(3,15,0,5);E9u.s$9(50);var B3i=E9u.v$j(20,0,16,1);l1X=(H5f.length + N6D) * (r5j.fontSize + B3i);if(o$g < 50){o$g=50;}E9u.s$9(35);G6P.style.width=E9u.v$j(30,o2F,o$g);E9u.O_b(0);G6P.style.height=E9u.V9a(l1X,"px");C9H=parseInt(S9.stripPX(G6P.style.top),10);B$i=S9.stripPX(G6P.style.left);o$g=G6P.clientWidth;l1X=G6P.clientHeight;if(B$i + o$g + ("100" | 36) < r5j.stx.chart.canvasWidth){m3x="p";m3x+="x";E9u.s$9(0);m6p.style.top=E9u.V9a(C9H,"px");E9u.s$9(0);v_f.style.top=E9u.v$j(C9H,"px");E9u.O_b(51);m6p.style.left=E9u.v$j(m3x,10,B$i,o$g);E9u.s$9(52);v_f.style.left=E9u.v$j("px","60",o$g,B$i);}else if(C9H + l1X + +"30" < r5j.stx.chart.canvasHeight){h3t="p";h3t+="x";E9u.s$9(51);m6p.style.top=E9u.v$j("px",10,C9H,l1X);E9u.O_b(51);v_f.style.top=E9u.v$j("px",10,C9H,l1X);E9u.O_b(0);m6p.style.left=E9u.V9a(B$i,"px");E9u.s$9(35);v_f.style.left=E9u.V9a(50,h3t,B$i);}else {H1l="p";H1l+="x";E9u.O_b(33);m6p.style.top=E9u.v$j(C9H,H1l,35);E9u.O_b(33);v_f.style.top=E9u.v$j(C9H,"px",35);E9u.s$9(0);m6p.style.left=E9u.V9a(B$i,"px");E9u.O_b(35);v_f.style.left=E9u.v$j(50,"px",B$i);}};}function K0l(Y2c){return function(B6p){var w1X;w1X=Y2c.stx;w1X.editingAnnotation=!({});w1X.undo();w1X.cancelTouchSingleClick=!!1;};}p4Q.undisplayCrosshairs();p4Q.openDialog=c9t;if(!m6D){F03="plac";F03+="ehol";F03+="der";m6D=this.ta=document.createElement("TEXTAREA");m6D.className="stx_annotation";m6D.onkeyup=l$q(this);m6D.onmouseup=k_U(p4Q);m6D.setAttribute("wrap","hard");if(S9.isIOS7or8){m6D.setAttribute(F03,"Enter Text");}p4Q.chart.container.appendChild(m6D);m6D.style.position="absolute";m6D.style.width="100px";m6D.style.height="20px";m6D.value=this.text;if(S9.touchDevice){m6D.ontouchstart=function(P$5){P$5.stopPropagation();};;}}E3D=this;function R92(k79){E9u.W5N();return function(u3O){var T8o,d1M;T8o="ve";T8o+="ct";T8o+="o";T8o+="r";if(k79.ta.value === ""){return;}k79.text=k79.ta.value;d1M=k79.stx;d1M.editingAnnotation=![];k79.adjust();if(d1M.drawingSnapshot){d1M.undoStamp(S9.shallowClone(d1M.drawingSnapshot),d1M.exportDrawings());}else {d1M.addDrawing(k79);}d1M.undo();d1M.cancelTouchSingleClick=!![];d1M.changeOccurred(T8o);};}m6D.oninput=function(n1f){if(n1f.inputType != "historyUndo" && n1f.inputType != "historyRedo"){E3D.onChange(n1f);}};m6D.style.font=this.fontString;if(this.color){if(this.color == "transparent" || this.color == "auto"){c_I=getComputedStyle(m6D);if(c_I && S9.isTransparent(c_I.backgroundColor)){m6D.style.color=p4Q.defaultColor;}else {m6D.style.color="#000";;}}else {m6D.style.color=this.color;}}m8T=p4Q.pixelFromTick(this.p0[+"0"],y9C.chart);T_z=p4Q.pixelFromValueAdjusted(y9C,this.p0["0" ^ 0],this.p0[1]);m6D.style.left=m8T + 140 < p4Q.chart.canvasRight?m8T + "px":p4Q.chart.canvasRight - 200 + r5y;m6D.style.top=T_z + 60 < p4Q.chart.canvasHeight?T_z - (!isNaN(this.h)?this.h / 2:this.defaultHeight) + "px":T_z - 60 + J$F;if(this.name == "callout"){E9u.s$9(53);var I1Q=E9u.V9a(10,10,7,10);m6D.style.left=S9.stripPX(m6D.style.left) - (!isNaN(this.w)?this.w / I1Q:this.defaultWidth) + "px";}S9.safeClickTouch(m6p,R92(this));S9.safeClickTouch(v_f,K0l(this));l$q(this)();m6p.style.display="inline-block";v_f.style.display="inline-block";if(Q9n){p4Q.drawingSnapshot=p4Q.exportDrawings();this.hidden=!"";p4Q.draw();p4Q.activeDrawing=this;S9.ChartEngine.drawingLine=!!({});h69=p4Q.chart.tempCanvas.context;p4Q.chart.tempCanvas.style.display="block";this.w=m6D.clientWidth;this.h=m6D.clientHeight;S9.clearCanvas(h69.canvas,p4Q);this.render(h69);this.edit(h69);}m6D.focus();if(S9.isAndroid && !S9.is_chrome && !S9.isFF){this.priorBottom=p4Q.chart.container.style.bottom;g2N=400;E9u.s$9(28);var Y1D=E9u.v$j(1500,12,24092,16);J$u=p4Q.resolveY(T_z) + Y1D;if(J$u > S9.pageHeight() - g2N){E9x=S9.pageHeight() - J$u;E9u.O_b(1);Y9B=E9u.V9a(E9x,g2N);E9u.O_b(0);p4Q.chart.container.style.bottom=E9u.v$j(Y9B,"px");}}};S9.Drawing.annotation.prototype.click=function(W3j,e3O,U$u){var j6T;if(this.stx.overXAxis || this.stx.overYAxis){return;}j6T=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,e3O,U$u,j6T.chart);this.adjust();this.edit(W3j);return !!"";};S9.Drawing.annotation.prototype.reposition=function(Y7w,z9q,t7a,l5M){var R4F,f1w,v9r;if(!z9q){return;}R4F=this.stx.panels[this.panelName];f1w=z9q.tick - t7a;v9r=z9q.value - l5M;this.setPoint(0,z9q.p0[0] - f1w,z9q.p0[1] - v9r,R4F.chart);this.render(Y7w);};S9.Drawing.annotation.prototype.intersected=function(R6r,T9b,D5Z){var Z$I,I$s,s$u,R95,a0a,h2c,o0H;Z$I=this.stx.panels[this.panelName];if(!this.p0){return null;}I$s=this.stx.pixelFromTick(this.p0[0],Z$I.chart);E9u.s$9(54);var L2e=E9u.V9a(9,6,1,14);s$u=this.stx.pixelFromValueAdjusted(Z$I,this.p0[0],this.p0[+"1"]) - this.h / ("2" * L2e);R95=I$s + this.w;a0a=s$u + this.h;E9u.W3G();if(this.stem && this.stem.x){I$s+=this.stem.x;R95+=this.stem.x;s$u+=this.stem.y;a0a+=this.stem.y;}h2c=this.stx.pixelFromTick(R6r,Z$I.chart);o0H=this.stx.pixelFromValueAdjusted(Z$I,R6r,T9b);if(h2c + D5Z.r >= I$s && h2c - D5Z.r <= R95 && o0H + D5Z.r >= s$u && o0H - D5Z.r <= a0a){this.highlighted=!![];return {p0:S9.clone(this.p0),tick:R6r,value:T9b};}return !({});};S9.Drawing.annotation.prototype.abort=function(){var h3R,Y$D;h3R=this.stx.controls.annotationSave;Y$D=this.stx.controls.annotationCancel;if(h3R){h3R.style.display="none";}E9u.W3G();if(Y$D){Y$D.style.display="none";}if(this.ta){this.stx.chart.container.removeChild(this.ta);}this.ta=null;this.stx.openDialog="";this.stx.showCrosshairs();this.stx.editingAnnotation=!({});S9.clearCanvas(this.stx.chart.tempCanvas,this.stx);if(S9.isAndroid && !S9.is_chrome && !S9.isFF){this.stx.chart.container.style.bottom=this.priorBottom;}S9.fixScreen();};S9.Drawing.annotation.prototype.reconstruct=function(W4L,f7C){var P_u;P_u="f";P_u+="amil";P_u+="y";this.stx=W4L;this.color=f7C.col;this.panelName=f7C.pnl;this.d0=f7C.d0;this.tzo0=f7C.tzo0;this.v0=f7C.v0;this.text=W4L.escapeOnSerialize?decodeURIComponent(f7C.text):f7C.text;this.stem=f7C.stem;this.borderColor=f7C.bc;this.fillColor=f7C.bg;E9u.W3G();this.lineWidth=f7C.lw;this.pattern=f7C.ptrn;this.font=S9.replaceFields(f7C.fnt,{st:"style",sz:"size",wt:"weight",fl:P_u});if(!this.font){this.font={};}this.adjust();};S9.Drawing.annotation.prototype.serialize=function(){var r1c,F$z,D_g;r1c={name:this.name,pnl:this.panelName,col:this.color,d0:this.d0,tzo0:this.tzo0,v0:this.v0,text:this.stx.escapeOnSerialize?encodeURIComponent(this.text):this.text};if(this.font){F$z="s";F$z+="z";D_g=S9.removeNullValues(S9.replaceFields(this.font,{style:"st",size:F$z,weight:"wt",family:"fl"}));if(!S9.isEmpty(D_g)){r1c.fnt=D_g;}}if(this.stem){r1c.stem={d:this.stem.d,v:this.stem.v,x:this.stem.x,y:this.stem.y};}if(this.borderColor){r1c.bc=this.borderColor;}if(this.fillColor){r1c.bg=this.fillColor;}if(this.lineWidth){r1c.lw=this.lineWidth;}if(this.pattern){r1c.ptrn=this.pattern;}return r1c;};S9.Drawing.annotation.prototype.renderText=function(){var J3O,H$P,Z3K,M0Q,R_T,q8$;this.getFontString();J3O=this.stx.panels[this.panelName];if(!J3O){return;}this.arr=this.text.split("\n");H$P=0;this.stx.chart.context.font=this.fontString;for(var Z79=0;Z79 < this.arr.length;Z79++){Z3K=this.stx.chart.context.measureText(this.arr[Z79]).width;if(Z3K > H$P){H$P=Z3K;}}if(H$P === ("0" | 0)){E9u.s$9(17);var d1N=E9u.v$j(2,3,13,1,11);H$P=d1N * this.defaultWidth;}this.fontSize=S9.stripPX(this.fontDef.size);M0Q=this.arr.length * (this.fontSize + +"2");if(S9.touchDevice){M0Q+=5;}E9u.O_b(23);var l$g=E9u.v$j(11,9);this.w=H$P + this.padding * l$g;E9u.s$9(0);var R6z=E9u.V9a(0,2);this.h=M0Q + this.padding * R6z;R_T=this.stx.pixelFromTick(this.p0[0],J3O.chart) + H$P;E9u.O_b(55);var w9A=E9u.V9a(19,0,5,1,95);q8$=this.stx.pixelFromValueAdjusted(J3O,this.p0[0],this.p0[w9A]) + M0Q;this.p1=[this.stx.tickFromPixel(R_T,J3O.chart),this.stx.valueFromPixel(q8$,J3O)];if(this.stem && this.stem.d){this.stem.t=this.stx.tickFromDate(this.stem.d,J3O.chart);}};S9.Drawing.annotation.prototype.adjust=function(){var j2P;j2P=this.stx.panels[this.panelName];if(!j2P){return;}this.setPoint(0,this.d0,this.v0,j2P.chart);E9u.W5N();this.renderText();};S9.Drawing.segment=function(){E9u.W3G();this.name="segment";};S9.inheritsFrom(S9.Drawing.segment,S9.Drawing.BaseTwoPoint);S9.Drawing.segment.prototype.render=function(w62){var V3G,d10,k_u,J9g,L8h,K$O,P0b,L03,P2v,w3Q,B8u,z16,f6p,U24,Q3f,Q93,D1j,P9j,p$U;V3G="n";V3G+="o";V3G+="ne";d10=this.stx.panels[this.panelName];if(!d10){return;}k_u=this.stx.pixelFromTick(this.p0[0],d10.chart);J9g=this.stx.pixelFromTick(this.p1["0" >> 32],d10.chart);L8h=this.stx.pixelFromValueAdjusted(d10,this.p0[0],this.p0[1]);E9u.W5N();K$O=this.stx.pixelFromValueAdjusted(d10,this.p1[0],this.p1[1]);P0b=this.lineWidth;L03=this.getLineColor();P2v={pattern:this.pattern,lineWidth:P0b};if(P2v.pattern == V3G){P2v.pattern="solid";}this.stx.plotLine(k_u,J9g,L8h,K$O,L03,this.name,w62,d10,P2v);if(this.axisLabel && !this.repositioner){w3Q="v";w3Q+="e";w3Q+="rt";w3Q+="ical";B8u="hor";B8u+="izo";B8u+="n";B8u+="tal";if(this.name == B8u){this.stx.endClip();z16=this.p0[1];if(d10.chart.transformFunc){z16=d10.chart.transformFunc(this.stx,d10.chart,z16);}if(d10.yAxis.priceFormatter){z16=d10.yAxis.priceFormatter(this.stx,d10,z16);}else {z16=this.stx.formatYAxisPrice(z16,d10);}this.stx.createYAxisLabel(d10,z16,L8h,L03);this.stx.startClip(d10.name);}else if(this.name == w3Q && this.p0["0" - 0] >= 0 && !this.stx.chart.xAxis.noDraw){f6p=this.stx.dateFromTick(this.p0[0],d10.chart,!![]);if(!S9.ChartEngine.isDailyInterval(this.stx.layout.interval)){E9u.O_b(56);var g5o=E9u.v$j(995,1022,15,8,995);Q3f=f6p.getSeconds() * g5o + f6p.getMilliseconds();if(W2.Date && this.stx.displayZone){U24=new W2.Date(f6p.getTime(),this.stx.displayZone);f6p=new Date(U24.getFullYear(),U24.getMonth(),U24.getDate(),U24.getHours(),U24.getMinutes());f6p=new Date(f6p.getTime() + Q3f);}}else {E9u.s$9(1);f6p.setHours(0,0,E9u.v$j(0,"0"),E9u.V9a("0",0,E9u.s$9(39)));}Q93=S9.mmddhhmm(S9.yyyymmddhhmm(f6p));if(d10.chart.xAxis.formatter){Q93=d10.chart.xAxis.formatter(f6p,this.name,null,null,Q93);}else if(this.stx.internationalizer){if(f6p.getHours() !== 0 || f6p.getMinutes() !== 0){D1j=this.stx.internationalizer.monthDay.format(f6p);E9u.O_b(0);var B1k=E9u.v$j(6042,18);E9u.s$9(57);var e6d=E9u.V9a(752574,6872,9,10,11);E9u.O_b(16);var L1v=E9u.V9a(20,6653,31);E9u.s$9(58);var e5c=E9u.V9a(225,15,111,1);E9u.O_b(1);var d9Z=E9u.v$j(20,5390);E9u.s$9(1);var e$Z=E9u.V9a(117344,124678);E9u.O_b(0);var L7e=E9u.v$j(4733,13);E9u.O_b(21);var G31=E9u.V9a(19,441,3969);E9u.O_b(0);var J3c=E9u.V9a(1450,7252);D1j+=(B1k !== (e6d,L1v)?" ":(e5c,+"979.47") <= (d9Z,e$Z)?(205.17,L7e) !== (G31,447.84)?(87.31,"0x2180" | 0):393.32:(874.80,J3c)) + this.stx.internationalizer.hourMinute.format(f6p);}else {D1j=this.stx.internationalizer.yearMonthDay.format(f6p);}Q93=D1j;}this.stx.endClip();this.stx.createXAxisLabel({panel:d10,txt:Q93,x:k_u,backgroundColor:L03,color:null,pointed:!!1,padding:2});this.stx.startClip(d10.name);}}if(this.highlighted && this.name != "horizontal" && this.name != "vertical"){P9j=this.highlighted == "p0"?!![]:![];p$U=this.highlighted == "p1"?!!({}):!!"";this.littleCircle(w62,k_u,L8h,P9j);this.littleCircle(w62,J9g,K$O,p$U);}};S9.Drawing.segment.prototype.abort=function(){E9u.W5N();this.stx.setMeasure(null,null,null,null,!!"");};S9.Drawing.segment.prototype.intersected=function(E3m,z9n,I6a){var r0O,M1Q,t_C,l0b,k1y;r0O="vert";r0O+="ical";M1Q="h";M1Q+="orizo";M1Q+="ntal";if(!this.p0 || !this.p1){return null;}t_C=this.name;if(t_C != "horizontal" && t_C != "vertical" && t_C != "gartley"){l0b={0:this.p0,1:this.p1};for(var V2x in l0b){if(this.pointIntersection(l0b[V2x][0],l0b[V2x][1],I6a)){E9u.s$9(0);this.highlighted=E9u.v$j((+"6700",2090) != (491.24,+"5093")?"p":("898.18" * 1,9225) == 604.54?(!!1,8.44e+3):("l",5.20e+3),V2x);return {action:"drag",point:"p" + V2x};}}}if(t_C == M1Q || t_C == r0O){t_C="line";}E9u.W5N();k1y=this.lineIntersection(E3m,z9n,I6a,t_C);if(k1y){this.highlighted=!![];return {action:"move",p0:S9.clone(this.p0),p1:S9.clone(this.p1),tick:E3m,value:z9n};}return null;};S9.Drawing.segment.prototype.configs=["color","lineWidth","pattern"];S9.Drawing.segment.prototype.copyConfig=function(B0T){var t8F;t8F="s";t8F+="ol";E9u.W3G();t8F+="id";S9.Drawing.copyConfig(this,B0T);if(this.pattern == "none" && this.configs.indexOf("fillColor") == -("1" | 1)){this.pattern=t8F;}};S9.Drawing.segment.prototype.reconstruct=function(H9g,O8Q){this.stx=H9g;this.color=O8Q.col;this.panelName=O8Q.pnl;this.pattern=O8Q.ptrn;this.lineWidth=O8Q.lw;this.d0=O8Q.d0;this.d1=O8Q.d1;this.tzo0=O8Q.tzo0;this.tzo1=O8Q.tzo1;this.v0=O8Q.v0;E9u.W5N();this.v1=O8Q.v1;this.adjust();};S9.Drawing.segment.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};S9.Drawing.line=function(){this.name="line";};S9.inheritsFrom(S9.Drawing.line,S9.Drawing.segment);S9.Drawing.line.prototype.dragToDraw=![];E9u.W5N();S9.Drawing.line.prototype.calculateOuterSet=function(K7C){var U1E,B8T,y1k;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1[+"1"] || S9.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}U1E={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};if(U1E.x0 > U1E.x1){U1E={x0:this.p1[0],y0:this.p1[+"1"],x1:this.p0[+"0"],y1:this.p0[1]};}E9u.O_b(59);var o5B=E9u.v$j(15,981,688,3);B8T=U1E.x0 - o5B;E9u.s$9(21);var Y5t=E9u.V9a(13,5000,64000);y1k=U1E.x1 + Y5t;this.v0B=S9.yIntersection(U1E,B8T);this.v1B=S9.yIntersection(U1E,y1k);this.d0B=this.stx.dateFromTick(B8T,K7C.chart);this.d1B=this.stx.dateFromTick(y1k,K7C.chart);};S9.Drawing.line.prototype.click=function(r7R,b5I,t3H){var L1t;L1t=this.stx.panels[this.panelName];if(!L1t){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,b5I,t3H,L1t.chart);this.penDown=!![];return !"1";}if(this.accidentalClick(b5I,t3H)){return this.dragToDraw;}E9u.W5N();this.setPoint(1,b5I,t3H,L1t.chart);this.calculateOuterSet(L1t);this.penDown=!({});return !"";;};S9.Drawing.line.prototype.reconstruct=function(R_z,H56){this.stx=R_z;this.color=H56.col;this.panelName=H56.pnl;this.pattern=H56.ptrn;this.lineWidth=H56.lw;this.v0=H56.v0;this.v1=H56.v1;this.d0=H56.d0;this.d1=H56.d1;this.tzo0=H56.tzo0;this.tzo1=H56.tzo1;if(H56.d0B){this.d0B=H56.d0B;this.d1B=H56.d1B;this.v0B=H56.v0B;this.v1B=H56.v1B;}this.adjust();};S9.Drawing.line.prototype.serialize=function(){var C_n;C_n={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};if(this.d0B){C_n.d0B=this.d0B;C_n.d1B=this.d1B;C_n.v0B=this.v0B;C_n.v1B=this.v1B;}E9u.W5N();return C_n;};S9.Drawing.line.prototype.adjust=function(){var i3g;i3g=this.stx.panels[this.panelName];if(!i3g){return;}this.setPoint(0,this.d0,this.v0,i3g.chart);this.setPoint(1,this.d1,this.v1,i3g.chart);if(S9.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(0,this.d0B,this.v0B,i3g.chart);this.setPoint(1,this.d1B,this.v1B,i3g.chart);}};S9.Drawing.horizontal=function(){this.name="horizontal";};S9.inheritsFrom(S9.Drawing.horizontal,S9.Drawing.segment);S9.Drawing.horizontal.prototype.dragToDraw=![];S9.Drawing.horizontal.prototype.measure=function(){};S9.Drawing.horizontal.prototype.click=function(r_Q,M1s,M_z){var s6A;s6A=this.stx.panels[this.panelName];if(!s6A){return;}this.copyConfig();this.setPoint(0,M1s,M_z,s6A.chart);return !![];;};S9.Drawing.horizontal.prototype.intersected=function(s5L,Y76,r0l){var z0K,s4r,i8u,J1P;if(this.lineIntersection(s5L,Y76,r0l,"line")){z0K="m";z0K+="o";z0K+="v";z0K+="e";s4r=this.stx;i8u=s4r.chart.dataSet.length;J1P=this.p0[+"1"];this.highlighted=!!({});return {action:z0K,p0:[i8u - 2,J1P],p1:[i8u - 1,J1P],tick:s5L,value:Y76};}return null;};S9.Drawing.horizontal.prototype.reconstruct=function(y_e,h4b){this.stx=y_e;this.color=h4b.col;this.panelName=h4b.pnl;this.pattern=h4b.ptrn;this.lineWidth=h4b.lw;this.v0=h4b.v0;this.d0=h4b.d0;this.tzo0=h4b.tzo0;this.axisLabel=h4b.al;this.adjust();};S9.Drawing.horizontal.prototype.serialize=function(){var y_f;E9u.W5N();y_f={name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,v0:this.v0,d0:this.d0,tzo0:this.tzo0,al:this.axisLabel};return y_f;};S9.Drawing.horizontal.prototype.adjust=function(){var w_x;w_x=this.stx.panels[this.panelName];if(!w_x){return;}this.setPoint(0,this.d0,this.v0,w_x.chart);E9u.s$9(37);var x0c=E9u.v$j(4,896,1000);this.p1=[this.p0[0] + x0c,this.p0[1]];};S9.Drawing.horizontal.prototype.configs=["color","lineWidth","pattern","axisLabel"];S9.Drawing.vertical=function(){var I2U;I2U="ve";I2U+="rt";I2U+="ical";this.name=I2U;};S9.inheritsFrom(S9.Drawing.vertical,S9.Drawing.horizontal);S9.Drawing.vertical.prototype.measure=function(){};I9e=-221171804;y3V=-282884049;v79=+"2";for(var z_i="1" >> 32;E9u.l5h(z_i.toString(),z_i.toString().length,4939) !== I9e;z_i++){S9.Drawing.vertical.prototype.intersected=S9.Drawing.segment.prototype.intersected;v79+=2;}if(E9u.l5h(v79.toString(),v79.toString().length,83949) !== y3V){S9.Drawing.vertical.prototype.intersected=S9.Drawing.segment.prototype.intersected;}S9.Drawing.vertical.prototype.adjust=function(){var w_1;w_1=this.stx.panels[this.panelName];if(!w_1){return;}this.setPoint(0,this.d0,this.v0,w_1.chart);E9u.O_b(16);var D27=E9u.v$j(17,6,22);E9u.O_b(60);var I_G=E9u.V9a(18,99,8,10);this.p1=[this.p0[0],this.p0[D27] + I_G];};S9.Drawing.measure=function(){this.name="measure";};S9.inheritsFrom(S9.Drawing.measure,S9.Drawing.segment);S9.Drawing.measure.prototype.click=function(d0E,r0r,K77){this.copyConfig();if(!this.penDown){this.p0=[r0r,K77];this.penDown=!"";return !!0;}this.stx.undo();this.penDown=!!0;return !![];};S9.Drawing.rectangle=function(){var P0s;P0s="rec";E9u.W5N();P0s+="t";P0s+="angl";P0s+="e";this.name=P0s;};S9.inheritsFrom(S9.Drawing.rectangle,S9.Drawing.BaseTwoPoint);S9.Drawing.rectangle.prototype.render=function(z54){var J$z,r2l,k2_,w8N,F4u,a6q,U93,H5e,J_J,K9c,Q7P,J0w,X7P,V_i,B5z,G4M,M23,a8n,g2G,F9Y;J$z="s";J$z+="e";J$z+="gm";J$z+="ent";r2l="a";r2l+="u";r2l+="t";r2l+="o";k2_=this.stx.panels[this.panelName];if(!k2_){return;}w8N=this.stx.pixelFromTick(this.p0[0],k2_.chart);F4u=this.stx.pixelFromTick(this.p1[0],k2_.chart);a6q=this.stx.pixelFromValueAdjusted(k2_,this.p0[0],this.p0[1]);U93=this.stx.pixelFromValueAdjusted(k2_,this.p1[+"0"],this.p1[+"1"]);H5e=Math.round(Math.min(w8N,F4u)) + 0.5;J_J=Math.min(a6q,U93);K9c=Math.max(w8N,F4u) - H5e;Q7P=Math.max(a6q,U93) - J_J;J0w=this.color;if(this.highlighted){J0w=this.stx.getCanvasColor("stx_highlight_vector");}X7P=-48847820;E9u.O_b(29);V_i=E9u.V9a("532562126",64);B5z=+"2";for(var a61=1;E9u.m6F(a61.toString(),a61.toString().length,"65541" - 0) !== X7P;a61++){G4M=this.fillColor;B5z+=2;}if(E9u.l5h(B5z.toString(),B5z.toString().length,+"85890") !== V_i){G4M=this.fillColor;}if(G4M && !S9.isTransparent(G4M) && G4M != r2l){z54.beginPath();z54.rect(H5e,J_J,K9c,Q7P);z54.fillStyle=G4M;z54.globalAlpha=0.2;z54.fill();z54.closePath();z54.globalAlpha=1;}M23={pattern:this.pattern,lineWidth:this.lineWidth};if(this.highlighted && M23.pattern == "none"){a8n="so";a8n+="li";a8n+="d";M23.pattern=a8n;if(M23.lineWidth == "0.1" * 1){M23.lineWidth=1;}}this.stx.plotLine(w8N,F4u,a6q,a6q,J0w,"segment",z54,k2_,M23);E9u.O_b(36);this.stx.plotLine(F4u,F4u,E9u.V9a("0.5",a6q),E9u.V9a(U93,0.5,E9u.s$9(0)),J0w,J$z,z54,k2_,M23);this.stx.plotLine(F4u,w8N,U93,U93,J0w,"segment",z54,k2_,M23);E9u.O_b(0);this.stx.plotLine(w8N,w8N,E9u.v$j(U93,0.5),E9u.v$j("0.5",a6q,E9u.s$9(36)),J0w,"segment",z54,k2_,M23);if(this.highlighted){g2G=this.highlighted == "p0"?!"":!({});F9Y=this.highlighted == "p1"?!!({}):!1;this.littleCircle(z54,w8N,a6q,g2G);this.littleCircle(z54,F4u,U93,F9Y);}};S9.Drawing.rectangle.prototype.intersected=function(C8N,n4l,Z_o){var q0B;if(!this.p0 || !this.p1){return null;}q0B={0:this.p0,1:this.p1};for(var B8w in q0B){if(this.pointIntersection(q0B[B8w][0],q0B[B8w][1],Z_o)){E9u.s$9(0);this.highlighted=E9u.V9a(8670 >= ("552.67" * 1,"790.91" - 0)?"5146" >> 32 < (8098,"1840" - 0)?(!!({}),818.63):"p":"J",B8w);return {action:"drag",point:"p" + B8w};}}if(this.boxIntersection(C8N,n4l,Z_o)){this.highlighted=!!({});return {action:"move",p0:S9.clone(this.p0),p1:S9.clone(this.p1),tick:C8N,value:n4l};}return null;};S9.Drawing.rectangle.prototype.configs=["color",x4b,"lineWidth","pattern"];S9.Drawing.rectangle.prototype.reconstruct=function(w2p,f$5){this.stx=w2p;this.color=f$5.col;this.fillColor=f$5.fc;this.panelName=f$5.pnl;this.pattern=f$5.ptrn;this.lineWidth=f$5.lw;this.d0=f$5.d0;this.d1=f$5.d1;this.tzo0=f$5.tzo0;this.tzo1=f$5.tzo1;this.v0=f$5.v0;this.v1=f$5.v1;this.adjust();};S9.Drawing.rectangle.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};S9.Drawing.shape=function(){this.name="shape";E9u.W5N();this.radians=0;this.a=0;this.rotating=!"1";this.textMeasure=!!0;this.configurator="shape";this.dimension=[0,0];this.points=[];};S9.inheritsFrom(S9.Drawing.shape,S9.Drawing.BaseTwoPoint);S9.Drawing.shape.prototype.setRotationOnInitialDraw=!1;S9.Drawing.shape.prototype.measure=function(){};S9.Drawing.shape.prototype.render=function(w5R){var C9b,j_X,j0k,F$f,E4J,m6d,u3x,Z3X,h0Q,Z28,Z_J,T0V,o9B,c2A,i7m,K4P,w84,Z0q,J$2,d8S,t_T,e3r,D0$,m0D;if(!this.points.length){return;}C9b=this.stx.panels[this.panelName];if(!C9b){return;}j_X=this.stx.pixelFromTick(this.p0[0],C9b.chart);j0k=this.stx.pixelFromValueAdjusted(C9b,this.p0[+"0"],this.p0[1]);if(this.p1){F$f="#0";F$f+="000";F$f+="00";E4J=this.stx.pixelFromTick(this.p1[0],C9b.chart);m6d=this.stx.pixelFromValueAdjusted(C9b,this.p1[0],this.p1[+"1"]);w5R.globalAlpha=0.5;w5R.fillStyle=F$f;if(this.rotating){E9u.s$9(61);this.radians=Math.atan(E9u.v$j(j0k,E4J,m6d,j_X));if(E4J < j_X){this.radians+=Math.PI;}else if(m6d < j0k){E9u.s$9(16);var H89=E9u.v$j(18,19,35);this.radians+=H89 * Math.PI;}E9u.O_b(1);var z5v=E9u.v$j(6,16);E9u.O_b(0);var M3u=E9u.v$j(1,4);this.a=parseInt((this.radians * 36 / Math.PI).toFixed(0),z5v) * M3u;E9u.s$9(12);this.a%=E9u.V9a(32,"360");E9u.O_b(1);var U1J=E9u.V9a(1800,1980);this.radians=this.a * Math.PI / U1J;if(this.textMeasure){w5R.fillText(this.a + (("7106" | 66,+"4240") != 6206?"\u00b0":9960 < +"630.94"?(!"1","A"):729.73 == (197.75,6520)?!({}):562.39),E4J + 10,m6d + 10);}}else if(this.penDown){u3x="x";u3x+=",";this.sx=Math.max(1,parseFloat(Math.abs(2 * (E4J - j_X) / this.dimension[0]).toFixed(1)));if(E4J < j_X){this.sx*=-1;}this.sy=Math.max(1,parseFloat(Math.abs(2 * (m6d - j0k) / this.dimension["1" | 0]).toFixed(1)));if(m6d < j0k){E9u.s$9(2);this.sy*=-E9u.V9a(1,"1");}if(this.textMeasure){w5R.fillText(this.sx + u3x + this.sy + (7874 === (3780,1680)?(729.20,2.10e+3):(2610,967.15) != (+"2913",509.56)?712.62 <= (139.67,4570)?"x":(7.27e+3,!0):"g"),E4J + this.sx + 5,m6d + this.sy + ("5" << 0));}}w5R.globalAlpha=+"1";}if(typeof this.sx === "undefined"){this.sx=this.sy=1;}Z3X=this.lineWidth;if(!Z3X){Z3X=1.1;}h0Q={pattern:this.pattern,lineWidth:Z3X};if(this.highlighted && h0Q.pattern == "none"){h0Q.pattern="solid";if(h0Q.lineWidth == "0.1" * 1){h0Q.lineWidth=1;}}Z28=this.color;if(Z28 == "auto" || S9.isTransparent(Z28)){Z28=this.stx.defaultColor;}if(this.highlighted){Z28=this.stx.getCanvasColor("stx_highlight_vector");if(Z3X == 0.1){Z3X=1.1;}}Z_J=this.fillColor;E9u.s$9(62);var m2q=E9u.v$j(9,2,4,4,9);Z3X/=Math.abs(this.sx * this.sy) * m2q / (Math.abs(this.sx) + Math.abs(this.sy));w5R.save();w5R.translate(j_X,j0k);w5R.rotate(this.radians);w5R.scale(this.sx,C9b.yAxis.flipped?-this.sy:this.sy);c2A={x:(this.dimension[0] - +"1") / 2,y:(this.dimension[1] - 1) / +"2"};for(T0V=+"0";T0V < this.points.length;T0V++){w5R.beginPath();for(o9B=0;o9B < this.points[T0V].length;o9B++){if(this.points[T0V][o9B] == (335.91 == (6108,338.45)?(0x2126,!!({})):143.45 != 261.98?(+"7413",9662) <= 486.73?(+"735.20",0x11):"M":(763.20,951.86))){i7m=this.points[T0V][++o9B] - c2A.x;K4P=this.points[T0V][++o9B] - c2A.y;w5R.moveTo(i7m,K4P);}else if(this.points[T0V][o9B] == "L"){i7m=this.points[T0V][++o9B] - c2A.x;K4P=this.points[T0V][++o9B] - c2A.y;w5R.lineTo(i7m,K4P);}else if(this.points[T0V][o9B] == "Q"){w84=this.points[T0V][++o9B] - c2A.x;J$2=this.points[T0V][++o9B] - c2A.y;i7m=this.points[T0V][++o9B] - c2A.x;K4P=this.points[T0V][++o9B] - c2A.y;w5R.quadraticCurveTo(w84,J$2,i7m,K4P);}else if(this.points[T0V][o9B] == ((3240,"118.23" - 0) !== (2596,894.42)?"B":(+"769.03",774.94) > +"4508"?439.87:"d")){w84=this.points[T0V][++o9B] - c2A.x;J$2=this.points[T0V][++o9B] - c2A.y;Z0q=this.points[T0V][++o9B] - c2A.x;d8S=this.points[T0V][++o9B] - c2A.y;i7m=this.points[T0V][++o9B] - c2A.x;K4P=this.points[T0V][++o9B] - c2A.y;w5R.bezierCurveTo(w84,J$2,Z0q,d8S,i7m,K4P);}}w5R.closePath();if(Z_J && !S9.isTransparent(Z_J) && Z_J != "auto"){w5R.fillStyle=Z_J;w5R.fill();;}if(Z28 && this.pattern != "none"){w5R.strokeStyle=Z28;w5R.lineWidth=Z3X;if(w5R.setLineDash){w5R.setLineDash(S9.borderPatternToArray(Z3X,this.pattern));w5R.lineDashOffset=0;;}w5R.stroke();}}w5R.restore();w5R.save();w5R.translate(j_X,j0k);w5R.rotate(this.radians);if(this.highlighted){t_T="#0";t_T+="0";t_T+="000";t_T+="0";e3r=this.highlighted == "p0"?!"":![];D0$=this.highlighted == "p1"?!!({}):!!"";m0D=this.highlighted == "p2"?!!"1":![];this.littleCircle(w5R,0,0,e3r);this.mover(w5R,0,0,e3r);this.littleCircle(w5R,this.sx * this.dimension[+"0"] / ("2" - 0),this.sy * this.dimension[1] / 2,D0$);this.resizer(w5R,this.sx * this.dimension[0] / +"2",this.sy * this.dimension[1] / 2,D0$);this.littleCircle(w5R,this.sx * this.dimension["0" ^ 0] / 2,0,m0D);this.rotator(w5R,this.sx * this.dimension["0" ^ 0] / 2,0,m0D);w5R.globalAlpha=0.5;w5R.fillStyle=t_T;if(this.textMeasure){w5R.fillText(this.sx + "x," + this.sy + "x",this.sx * this.dimension[0] / 2 + 12,this.sy * this.dimension[1] / 2 + 5);w5R.fillText(this.a + "\u00b0",this.sx * this.dimension[0] / 2 + 12,5);}w5R.globalAlpha=+"1";}else if(this.penDown){if(this.rotating){this.rotator(w5R,this.sx * this.dimension[0] / 2,0,!!1);}else {this.resizer(w5R,this.sx * this.dimension[0] / 2,this.sy * this.dimension[1] / ("2" * 1),!!"1");}}w5R.restore();};S9.Drawing.shape.prototype.reposition=function(s7I,F57,t1n,K_P){var c4S,F$Y,e2b,c2w,k2q,s8$,E$Z,k9I;if(!F57){return;}c4S=this.stx.panels[this.panelName];if(F57.action == "move"){F$Y=F57.tick - t1n;e2b=F57.value - K_P;this.setPoint(0,F57.p0[0] - F$Y,F57.p0[1] - e2b,c4S.chart);this.render(s7I);}else {c2w="ro";c2w+="t";c2w+="ate";k2q=this.stx.pixelFromTick(this.p0[0],c4S.chart);s8$=this.stx.pixelFromValueAdjusted(c4S,this.p0["0" * 1],this.p0[1]);E$Z=this.stx.pixelFromTick(t1n,c4S.chart);k9I=this.stx.pixelFromValueAdjusted(c4S,t1n,K_P);if(F57.action == "scale"){this[F57.point]=[t1n,K_P];this.sx=parseFloat((((E$Z - k2q) * Math.cos(this.radians) + (k9I - s8$) * Math.sin(this.radians)) / (this.dimension[0] / 2)).toFixed(1));if(Math.abs(this.sx) < "1" * 1){this.sx/=Math.abs(this.sy);}this.sy=parseFloat((((k9I - s8$) * Math.cos(this.radians) - (E$Z - k2q) * Math.sin(this.radians)) / (this.dimension[1] / 2)).toFixed(1));if(Math.abs(this.sy) < 1){this.sy/=Math.abs(this.sy);}this.render(s7I);}else if(F57.action == c2w){this[F57.point]=[t1n,K_P];E9u.O_b(61);this.radians=Math.atan(E9u.V9a(s8$,E$Z,k9I,k2q));if(E$Z < k2q){this.radians+=Math.PI;}else if(k9I < s8$){E9u.O_b(0);var h9F=E9u.V9a(0,2);this.radians+=h9F * Math.PI;}E9u.O_b(63);var L$v=E9u.v$j(1,5,5);E9u.s$9(0);var J3m=E9u.V9a(2,3);this.a=parseInt((this.radians * 36 / Math.PI).toFixed(0),L$v) * J3m;if(this.sx < 0){E9u.O_b(21);var N85=E9u.v$j(8,192,1356);this.a=this.a + N85;}this.a%=360;E9u.O_b(58);var Q0t=E9u.v$j(171,4,1980,880);this.radians=this.a * Math.PI / Q0t;this.render(s7I);}}};S9.Drawing.shape.prototype.intersected=function(s9o,d3v,U6O){var T1c,K0Z,K_Y,P_J,J3_,q7e,t27,C1A,R1u,M1R,J9j,g0J,n6w,h3L,N$Q,X9W;if(!this.p0){return null;}if(this.stx.repositioningDrawing == this && this.stx.repositioningDrawing.repositioner){return this.stx.repositioningDrawing.repositioner;}T1c=this.stx.panels[this.panelName];K0Z=this.stx.pixelFromTick(this.p0[0],T1c.chart);K_Y=this.stx.pixelFromValueAdjusted(T1c,this.p0[0],this.p0["1" | 0]);P_J=this.stx.pixelFromTick(s9o,T1c.chart);J3_=this.stx.pixelFromValueAdjusted(T1c,s9o,d3v);P_J-=K0Z;J3_-=K_Y;q7e=J3_;t27=P_J;P_J=Math.cos(this.radians) * t27 + Math.sin(this.radians) * q7e;J3_=Math.cos(this.radians) * q7e - Math.sin(this.radians) * t27;P_J/=this.sx;J3_/=this.sy;this.padding=S9.ensureDefaults(this.padding || ({}),{left:0,right:+"0",top:0,bottom:0});C1A=this.padding.right + this.padding.left;R1u=this.padding.bottom + this.padding.top;M1R=Math.pow(S9.touchDevice?25:5 + this.littleCircleRadius(),2);J9j=Math.abs(M1R / (this.sx * this.sy));g0J=3;E9u.s$9(16);var F8i=E9u.V9a(13,0,12);E9u.O_b(64);var V73=E9u.V9a(11,16,3,18,23);E9u.O_b(65);E9u.W5N();var t_l=E9u.v$j(3,10,21,19,128);E9u.O_b(21);var r80=E9u.v$j(12,5,59);E9u.s$9(1);var e3A=E9u.v$j(15,17);E9u.s$9(66);var L07=E9u.V9a(4,1,2,1);E9u.O_b(53);var F5g=E9u.v$j(12,3,9,3);E9u.O_b(0);var d49=E9u.v$j(0,2);n6w=Math.pow((this.dimension["0" * F8i] - C1A + g0J) / V73,t_l) + Math.pow((this.dimension[r80] - R1u + g0J) / ("2" | 0),e3A) > Math.pow(P_J - C1A / L07,F5g) + Math.pow(J3_ - R1u / +"2",d49);E9u.s$9(33);var c6u=E9u.V9a(7,11,16);E9u.s$9(67);var S2Y=E9u.V9a(17,5,3,14);h3L=(M1R - (Math.pow(P_J * this.sx,c6u) + Math.pow(J3_ * this.sy,"2" * S2Y))) / Math.abs(this.sx * this.sy);E9u.s$9(68);var F5N=E9u.v$j(4,19,6,6,33);E9u.O_b(18);var U5S=E9u.V9a(15,12,1);E9u.s$9(69);var Q63=E9u.v$j(53,6,9,18);E9u.O_b(1);var j7J=E9u.V9a(6,8);E9u.s$9(70);var B_c=E9u.V9a(5,16,6,6,14);N$Q=J9j - Math.pow(P_J - this.dimension[0] / F5N,U5S) - Math.pow(J3_ - this.dimension[Q63] / j7J,B_c);E9u.s$9(21);var c_b=E9u.V9a(3,40,118);E9u.O_b(23);var q8J=E9u.V9a(12,10);E9u.O_b(26);var N1B=E9u.v$j(0,14,4,7);X9W=J9j - Math.pow(P_J - this.dimension[0] / c_b,q8J) - Math.pow(J3_,N1B);if(n6w){if(N$Q >= X9W && N$Q >= h3L && N$Q > -1){this.highlighted="p1";return {action:"scale"};}if(X9W >= N$Q && X9W >= h3L && X9W > -1){this.highlighted="p2";return {action:"rotate"};}this.highlighted=h3L > -1?"p0":!"";return {action:"move",p0:S9.clone(this.p0),tick:s9o,value:d3v};}return null;};S9.Drawing.shape.prototype.configs=["color","fillColor",p10,j2t];S9.Drawing.shape.prototype.littleCircleRadius=function(){return +"3";};S9.Drawing.shape.prototype.click=function(T5X,t63,I6r){var I9w;if(!this.points.length){return ![];}this.copyConfig();I9w=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,t63,I6r,I9w.chart);this.penDown=!![];return ![];}this.setPoint(1,t63,I6r,I9w.chart);if(this.rotating || !this.setRotationOnInitialDraw){this.penDown=![];this.rotating=![];return !![];;}this.rotating=!!"1";return ![];};S9.Drawing.shape.prototype.adjust=function(){var O$L,B4p,x2h,g2Z;O$L="_";O$L+="v";B4p=this.stx.panels[this.panelName];if(!B4p){return;}x2h=this.name + O$L + (this.version || 0);if(S9.Drawing[x2h]){g2Z=new S9.Drawing[x2h]();this.name=g2Z.name;this.dimension=g2Z.dimension;this.padding=g2Z.padding;this.points=g2Z.points;this.version=g2Z.version;}this.setPoint(0,this.d0,this.v0,B4p.chart);E9u.s$9(3);var J82=E9u.V9a(11,95,16,1044,20);E9u.O_b(71);var i_e=E9u.v$j(216,2,378,10,4);this.radians=Math.round(this.a / J82) * Math.PI / i_e;};S9.Drawing.shape.prototype.reconstruct=function(a2x,g9z){this.stx=a2x;this.color=g9z.col;this.fillColor=g9z.fc;this.panelName=g9z.pnl;E9u.W5N();this.pattern=g9z.ptrn;this.lineWidth=g9z.lw;this.d0=g9z.d0;this.v0=g9z.v0;this.tzo0=g9z.tzo0;this.a=g9z.a;this.sx=g9z.sx;this.sy=g9z.sy;this.version=g9z.ver;this.adjust();};S9.Drawing.shape.prototype.serialize=function(){E9u.W5N();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,v0:this.v0,tzo0:this.tzo0,a:this.a,sx:this.sx,sy:this.sy,ver:this.version};};S9.Drawing.arrow=function(){this.name="arrow";E9u.W5N();this.version=1;E9u.O_b(29);this.dimension=[E9u.v$j("11",32),22];this.padding={left:+"0",right:0,top:11,bottom:"0" ^ 0};E9u.O_b(29);this.points=[[(7787,"3226" - 0) >= 7040?2950 >= (604.81,821.88)?(740,"457.44" * 1) == (873.16,3780)?"b":"l":"Q":"M",3,E9u.v$j("21",64),"L",7,21,(+"4170",433) != "3810" - 0?3080 != (8080,7460)?"L":("l",55.81):797.07,7,16,"L",10,16,9730 > 1130?"L":("M",!"1"),5,11,2980 >= (1300,5130)?3390 == (128,3520)?9.29e+3:(5220,7845) !== 7950?("M",!![]):!!"1":"L",0,16,1781 > (956.35,24.85)?"L":937.72,3,16,(5460,"6930" >> 32) == 2470?3540 > (907.05,5710)?"3.85e+3" << 64:5.80e+3:"L",3,21]];;};S9.inheritsFrom(S9.Drawing.arrow,S9.Drawing.shape);S9.Drawing.getDrawingToolList=function(I4d){var x0t,O6Y;x0t={};O6Y={arrow_v0:!"",BaseTwoPoint:!!"1",fibonacci:!!({}),shape:!![]};S9.extend(O6Y,I4d);for(var e2Q in S9.Drawing){if(!O6Y[e2Q] && S9.Drawing[e2Q].prototype.render){x0t[new S9.Drawing[e2Q]().name]=e2Q;}}return x0t;};};S=D7R=>{var Y5$,m_b;Y5$="un";Y5$+="defined";m_b=typeof _CIQ !== Y5$?_CIQ:D7R.CIQ;m_b.EaseMachine=function(G_U,s39,G0n,d0b){this.fc=G_U;this.ms=s39;if(G0n || G0n === 0){this.reset(G0n,d0b);}};m_b.EaseMachine.prototype.reset=function(i_F,p3g){var X8A;X8A="o";X8A+="bje";i6UVR.W3G();X8A+="ct";if(!i_F && i_F !== 0){i_F=this.currentValues;}this.hasCompleted=!({});this.running=!({});this.okayToRun=!!"1";i6UVR.s$9(72);this.useNameValuePairs=i6UVR.V9a(typeof p3g,X8A);this.startTime=Date.now();if(this.useNameValuePairs){this.startValues=i_F;this.endValues=p3g;}else {this.startValues={default:i_F};this.endValues={default:p3g};}this.changeValues={};this.currentValues={};for(var s9x in this.startValues){this.changeValues[s9x]=this.endValues[s9x] - this.startValues[s9x];}};m_b.EaseMachine.prototype.next=function(){var Z2L;Z2L=Date.now();if(Z2L >= this.startTime + this.ms){Z2L=this.startTime + this.ms;this.hasCompleted=!"";this.running=!!0;}this.currentValues={};for(var z0A in this.changeValues){this.currentValues[z0A]=this.fc(Z2L - this.startTime,this.startValues[z0A],this.changeValues[z0A],this.ms);}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};m_b.EaseMachine.prototype.hasCompleted=!"";m_b.EaseMachine.prototype.run=function(h0D,g7H,e6J,c7L){i6UVR.W5N();var p_Z;function F5f(){var n2J;p_Z.afid=null;if(!p_Z.okayToRun){return;}n2J=p_Z.next();h0D(n2J);i6UVR.W5N();if(p_Z.hasCompleted){return;}p_Z.afid=requestAnimationFrame(F5f);}if(this.afid){cancelAnimationFrame(this.afid);}if(g7H || g7H === 0){this.reset(g7H,e6J);}else if(e6J || e6J === "0" * 1){this.reset(this.currentValues,e6J);}p_Z=this;this.running=!![];if(c7L){this.afid=requestAnimationFrame(F5f);}else {F5f();}};m_b.EaseMachine.prototype.stop=function(){if(this.afid){cancelAnimationFrame(this.afid);}this.afid=null;this.okayToRun=!"1";i6UVR.W3G();this.hasCompleted=!!1;this.running=!({});if(typeof this.useNameValuePairs == "undefined"){return {};}if(!this.useNameValuePairs){return this.currentValues["default"];}return this.currentValues;};if(m_b.ChartEngine.prototype.animations.zoom.isStub){m_b.ChartEngine.prototype.animations.zoom=new m_b.EaseMachine(Math.easeOutCubic,400);}};i6UVR.W3G();P=q3Y=>{var g6e,o5i;g6e=typeof _CIQ !== "undefined"?_CIQ:q3Y.CIQ;o5i=function(){var C1y=i6UVR;var i7a,k4l,H7l,b7P,z$i,z6D,m53,F3N,Z_Z,S85,M4H,n_a,g6G,q_N,m22,F6t,m$R,v0_;function t13(Q7l){C1y.W5N();return Math.cosh?Math.cosh(Q7l):(Math.exp(Q7l) + Math.exp(-Q7l)) / 2;}i7a="\\";i7a+="n";k4l=0;function m_t(){this.success=!"1";this.errormsg="";C1y.W5N();this.expression="";this.pos=0;this.tokennumber=+"0";this.tokenprio=0;this.tokenindex=0;this.tmpprio=0;this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Y3H,cosh:t13,tanh:Y$V,asinh:h$6,acosh:V7a,atanh:c3D,sqrt:Math.sqrt,log:Math.log,lg:F6A,log10:F6A,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:B33,"-":A3u,exp:Math.exp};this.ops2={"+":P_M,"-":Z5d,"*":s6y,"/":L$K,"%":M0O,"^":Math.pow,",":J4x,"||":u5F,"==":O3Y,"!=":T3M,">":c1M,"<":I4V,">=":s0K,"<=":r5p,and:c9x,or:t4c};this.functions={random:f7i,fac:K38,min:Math.min,max:Math.max,hypot:w0e,pyt:w0e,pow:Math.pow,atan2:Math.atan2,if:f_c};this.consts={E:Math.E,PI:Math.PI};}function h$6(T$0){if(Math.asinh){return Math.asinh(T$0);}if(T$0 === -Infinity){return T$0;}C1y.W3G();return Math.log(T$0 + Math.sqrt(T$0 * T$0 + +"1"));}H7l=1;function c1M(P4d,e7f){C1y.O_b(73);C1y.W3G();return C1y.V9a(P4d,e7f);}b7P=2;function u5F(R1f,t_J){C1y.W5N();C1y.O_b(35);return C1y.V9a(R1f,t_J,"");}z$i=3;function J4x(G3L,b_W){if(Object.prototype.toString.call(G3L) != "[object Array]"){return [G3L,b_W];}G3L=G3L.slice();G3L.push(b_W);return G3L;}function A3u(E0E){return -E0E;}function O3Y(I0f,p$k){C1y.s$9(72);C1y.W5N();return C1y.v$j(I0f,p$k);}function s0K(V6r,C5V){C1y.s$9(74);return C1y.V9a(C5V,V6r);}C1y.O_b(29);z6D=C1y.v$j("4",64);function w0e(){var Y1w,E6Y;if(Math.hypot){return Math.hypot.apply(this,arguments);}Y1w=0;C1y.W3G();E6Y=arguments.length;for(var r7w=0;r7w < E6Y;r7w++){if(arguments[r7w] === Infinity || arguments[r7w] === -Infinity){return Infinity;}Y1w+=arguments[r7w] * arguments[r7w];}return Math.sqrt(Y1w);}m53=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;F3N=/[\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;Z_Z={"\b":"\\b","\t":"\\t","\n":i7a,"\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};g6e.extend(n8a.prototype,{simplify:function(F1W){var r69,o9Z,p3n,g6K,q0e,y6U,N_k,X84,Z2a;F1W=F1W || ({});r69=[];o9Z=[];y6U=this.tokens.length;X84=0;for(X84=0;X84 < y6U;X84++){N_k=this.tokens[X84];Z2a=N_k.type_;if(Z2a === k4l){r69.push(N_k);}else if(Z2a === z$i && (N_k.index_ in F1W)){N_k=new J_K(k4l,0,0,F1W[N_k.index_]);r69.push(N_k);}else if(Z2a === b7P && r69.length > 1){g6K=r69.pop();p3n=r69.pop();q0e=this.ops2[N_k.index_];N_k=new J_K(k4l,0,0,q0e(p3n.number_,g6K.number_));r69.push(N_k);}else if(Z2a === H7l && r69.length > 0){p3n=r69.pop();q0e=this.ops1[N_k.index_];C1y.O_b(39);N_k=new J_K(k4l,0,C1y.v$j("0",0),q0e(p3n.number_));r69.push(N_k);}else {while(r69.length > +"0"){o9Z.push(r69.shift());}o9Z.push(N_k);}}while(r69.length > 0){o9Z.push(r69.shift());}return new n8a(o9Z,P$0(this.ops1),P$0(this.ops2),P$0(this.functions));},substitute:function(f8z,S$_){C1y.W3G();var j40,h3u,J7j,A7p,l_H,l$3,e3H,k9m;if(!(S$_ instanceof n8a)){S$_=new m_t().parse(String(S$_));}j40=[];h3u=this.tokens.length;A7p=0;for(A7p=0;A7p < h3u;A7p++){J7j=this.tokens[A7p];l_H=J7j.type_;if(l_H === z$i && J7j.index_ === f8z){for(var s6u=0;s6u < S$_.tokens.length;s6u++){l$3=S$_.tokens[s6u];e3H=new J_K(l$3.type_,l$3.index_,l$3.prio_,l$3.number_);j40.push(e3H);}}else {j40.push(J7j);}}k9m=new n8a(j40,P$0(this.ops1),P$0(this.ops2),P$0(this.functions));return k9m;},evaluate:function(O_G){var p9z,j8i,p$O,N2H,o9w,a2T,S8V,R0N,H4s,C_O;O_G=O_G || ({});p9z=[];o9w=this.tokens.length;S8V=+"0";for(S8V=0;S8V < o9w;S8V++){a2T=this.tokens[S8V];R0N=a2T.type_;if(R0N === k4l){p9z.push(a2T.number_);}else if(R0N === b7P){p$O=p9z.pop();j8i=p9z.pop();N2H=this.ops2[a2T.index_];p9z.push(N2H(j8i,p$O));}else if(R0N === z$i){if((a2T.index_ in O_G)){p9z.push(O_G[a2T.index_]);}else if((a2T.index_ in this.functions)){p9z.push(this.functions[a2T.index_]);}else {H4s="undefined var";H4s+="iabl";H4s+="e: ";throw new Error(H4s + a2T.index_);}}else if(R0N === H7l){j8i=p9z.pop();N2H=this.ops1[a2T.index_];p9z.push(N2H(j8i));}else if(R0N === z6D){j8i=p9z.pop();N2H=p9z.pop();if(N2H.apply && N2H.call){if(Object.prototype.toString.call(j8i) == "[object Array]"){p9z.push(N2H.apply(undefined,j8i));}else {p9z.push(N2H.call(undefined,j8i));}}else {C1y.s$9(0);throw new Error(C1y.V9a(N2H," is not a function"));}}else {throw new Error("invalid Expression");}}C1y.W3G();if(p9z.length > 1){C_O="invalid Exp";C_O+="ression (p";C_O+="arity)";throw new Error(C_O);}return p9z[0];},toString:function(e3p){var c1Y,S0p,G7g,O9i,b5y,n8d,r4J,Z$_,l6o,v5I;c1Y=[];b5y=this.tokens.length;r4J=0;for(r4J=0;r4J < b5y;r4J++){n8d=this.tokens[r4J];Z$_=n8d.type_;if(Z$_ === k4l){c1Y.push(M6c(n8d.number_));}else if(Z$_ === b7P){G7g=c1Y.pop();S0p=c1Y.pop();O9i=n8d.index_;if(e3p && O9i == (6630 != (2532,"496" << 32)?"^":840.82)){l6o="Math.p";l6o+="ow(";C1y.O_b(75);c1Y.push(C1y.v$j(G7g,S0p,l6o,")",42.25 == ("8466" >> 0,4269)?8636 == ("4859" * 1,4526)?(666,+"88.29"):9.91e+3:","));}else {C1y.s$9(75);c1Y.push(C1y.v$j(G7g,S0p,(2140,10000) <= 11.16?(0x18cb,!!1):8960 != (2230,28.46)?("8534" << 64,9383) == 2000?("F","E"):"(":(641.79,763.74),(713.12,"111.97" * 1) > 5756?"P":")",O9i));}}else if(Z$_ === z$i){c1Y.push(n8d.index_);}else if(Z$_ === H7l){S0p=c1Y.pop();O9i=n8d.index_;if(O9i === "-"){C1y.s$9(51);c1Y.push(C1y.v$j((+"9700",368.76) !== 1838?")":78 === 6530?911.65:16.39 === 4374?"496.07" * 1:9.02e+3,S0p,1110 !== ("132.65" - 0,+"637.64")?"(":2670 < 1110?(!!({}),+"4.21e+3"):(2980,7390) >= 5290?9.59e+3:(!!1,"r"),O9i));}else {C1y.O_b(51);c1Y.push(C1y.v$j(1230 < 2896?")":(!({}),"4.03e+3" | 52),S0p,O9i,1211 <= (1070,5956)?114.58 == (325.55,221)?(575.84,8485) > 2422?(!!({}),"957.61" * 1):(0x1df2,0x73f):"(":(!!"",+"7.35e+3")));}}else if(Z$_ === z6D){S0p=c1Y.pop();O9i=c1Y.pop();C1y.O_b(51);c1Y.push(C1y.v$j(")",S0p,O9i,9790 != (+"8635",167)?"(":("8280" | 0,+"8170") <= "888.29" * 1?(+"479",0x2387):("5546" >> 0,2152) <= (8595,518.24)?824.15:7.79e+3));}else {throw new Error("invalid Expression");}}if(c1Y.length > 1){v5I="invali";v5I+="d Expr";v5I+="e";v5I+="ssion (parity)";throw new Error(v5I);}C1y.W3G();C1y.s$9(29);return c1Y[C1y.V9a("0",64)];},variables:function(){var L4e,A9f,P6d;L4e=this.tokens.length;A9f=[];for(var V_Q="0" ^ 0;V_Q < L4e;V_Q++){P6d=this.tokens[V_Q];if(P6d.type_ === z$i && A9f.indexOf(P6d.index_) == -1){A9f.push(P6d.index_);}}return A9f;}},!"");m_t.parse=function(f_8){C1y.W5N();return new m_t().parse(f_8);};function T3M(l7K,W9i){C1y.s$9(76);C1y.W5N();return C1y.V9a(l7K,W9i);}m_t.evaluate=function(L_B,y0h){return m_t.parse(L_B).evaluate(y0h);};function Z5d(q6q,n4m){C1y.O_b(1);C1y.W5N();return C1y.V9a(n4m,q6q);}function F6A(G3v){C1y.W3G();return Math.log(G3v) * Math.LOG10E;}function f7i(W8y){C1y.O_b(77);var F11=C1y.V9a(19,6,4,10,1);return Math.random() * (W8y || "1" * F11);}function t4c(n17,W3B){return Boolean(n17 || W3B);}m_t.Expression=n8a;m_t.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Y3H,cosh:t13,tanh:Y$V,asinh:h$6,acosh:V7a,atanh:c3D,sqrt:Math.sqrt,log:Math.log,lg:F6A,log10:F6A,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:B33,random:f7i,fac:K38,exp:Math.exp,min:Math.min,max:Math.max,hypot:w0e,pyt:w0e,pow:Math.pow,atan2:Math.atan2,if:f_c,E:Math.E,PI:Math.PI};function M6c(k7G){C1y.W5N();if(typeof k7G === "string"){F3N.lastIndex=0;return F3N.test(k7G)?"'" + k7G.replace(F3N,function(l1d){var Y7R;Y7R=Z_Z[l1d];return typeof Y7R === "string"?Y7R:"\\u" + ("0000" + l1d.charCodeAt(0).toString(16)).slice(-4);}) + (2469 < 8290?+"38.54" <= 476.22?"'":(835.39,2931) > ("8540" | 28,727.05)?("204" * 1,+"4.90e+3"):!!"":(74.33,!({}))):"'" + k7G + (+"965.06" == (7703,271)?("971.25" * 1,2070) <= 323.32?(+"559","D"):5.36e+3:"'");}return k7G;}function J_K(f$U,o_S,b8F,W5K){var J8p,G41,A4W;this.type_=f$U;C1y.s$9(1);J8p=C1y.v$j(0,"1661587523");G41=986628675;A4W=2;for(var e$a=1;C1y.l5h(e$a.toString(),e$a.toString().length,3797) !== J8p;e$a++){this.index_=o_S && 2;A4W+=2;}C1y.W3G();if(C1y.m6F(A4W.toString(),A4W.toString().length,25147) !== G41){this.index_=o_S || 0;}this.prio_=b8F || 0;this.number_=W5K !== undefined && W5K !== null?W5K:0;this.toString=function(){C1y.W3G();switch(this.type_){case k4l:return this.number_;case H7l:case b7P:case z$i:return this.index_;case z6D:return "CALL";default:return "Invalid Token";}};}function P_M(o3f,B6z){return Number(o3f) + Number(B6z);}function P$0(W4g){A5L.prototype=W4g;C1y.W3G();function A5L(){}return new A5L();}C1y.O_b(29);S85=C1y.V9a(1,0);C1y.O_b(29);M4H=C1y.V9a(1,1);function r5p(q2R,I0T){C1y.O_b(78);C1y.W5N();return C1y.v$j(I0T,q2R);}C1y.O_b(29);n_a=C1y.v$j(1,2);C1y.s$9(29);g6G=C1y.v$j(1,3);function s6y(x0g,E_q){C1y.O_b(2);C1y.W3G();return C1y.v$j(E_q,x0g);}function M0O(i51,p2z){C1y.O_b(79);return C1y.v$j(i51,p2z);}function Y$V(p0L){C1y.W3G();if(Math.tanh){return Math.tanh(p0L);}if(p0L === Infinity){C1y.O_b(42);return C1y.v$j("1",1);}if(p0L === -Infinity){return -1;}return (Math.exp(p0L) - Math.exp(-p0L)) / (Math.exp(p0L) + Math.exp(-p0L));}function V7a(i4u){C1y.W3G();return Math.acosh?Math.acosh(i4u):Math.log(i4u + Math.sqrt(i4u * i4u - 1));}C1y.s$9(29);q_N=C1y.V9a(1,4);function f_c(l_u,o2m,B4R){return l_u?o2m:B4R;}C1y.s$9(29);m22=C1y.v$j(1,5);function n8a(d_0,B4t,V7O,X9Q){this.tokens=d_0;this.ops1=B4t;C1y.W3G();this.ops2=V7O;this.functions=X9Q;}function L$K(O3l,p3j){C1y.W3G();C1y.O_b(9);return C1y.V9a(O3l,p3j);}C1y.s$9(80);F6t=C1y.V9a(6,"1");function c9x(p65,X3b){C1y.W3G();return Boolean(p65 && X3b);}function c3D(u5c){return Math.atanh?Math.atanh(u5c):Math.log((1 + u5c) / ("1" - 0 - u5c)) / 2;}function B33(p$Z){C1y.W3G();if(Math.trunc){return Math.trunc(p$Z);}return p$Z < 0?Math.ceil(p$Z):Math.floor(p$Z);}function Y3H(R1I){C1y.W5N();return Math.sinh?Math.sinh(R1I):(Math.exp(R1I) - Math.exp(-R1I)) / 2;}function I4V(q2t,o33){C1y.s$9(81);return C1y.v$j(q2t,o33);}C1y.O_b(82);m$R=C1y.v$j("7",0,1);C1y.s$9(29);v0_=C1y.V9a(1,8);function K38(T8S){C1y.W5N();var E0x;T8S=Math.floor(T8S);E0x=T8S;while(T8S > 1){C1y.s$9(83);E0x=C1y.V9a(E0x,--T8S);}return E0x;}g6e.extend(m_t.prototype,{parse:function(N$M){var G47,w$k,K_N,A7J,q4z,T1T,n0w,E8Y,m6h,W1E,A7C,E$_,Q_t,D__;this.errormsg="";this.success=!![];G47=[];w$k=[];this.tmpprio=0;C1y.s$9(84);K_N=C1y.V9a(g6G,n_a,F6t,S85);A7J=0;this.expression=N$M;this.pos=0;while(this.pos < this.expression.length){if(this.isOperator()){if(this.isSign() && K_N & F6t){if(this.isNegativeSign()){this.tokenprio=2;this.tokenindex=3747 <= ("3240" ^ 0,777)?+"2.87e+3":"-";A7J++;this.addfunc(w$k,G47,H7l);}C1y.s$9(84);K_N=C1y.v$j(g6G,n_a,F6t,S85);}else if(this.isComment()){}else {if((K_N & M4H) === 0){this.error_parsing(this.pos,"unexpected operator");}C1y.s$9(39);A7J+=C1y.V9a("2",0);this.addfunc(w$k,G47,b7P);C1y.s$9(84);K_N=C1y.v$j(g6G,n_a,F6t,S85);}}else if(this.isNumber()){if((K_N & S85) === 0){T1T="unexpected";T1T+=" number";this.error_parsing(this.pos,T1T);}q4z=new J_K(k4l,0,0,this.tokennumber);w$k.push(q4z);C1y.O_b(85);K_N=C1y.V9a(m22,M4H,q_N);}else if(this.isString()){if((K_N & S85) === 0){this.error_parsing(this.pos,"unexpected string");}C1y.s$9(12);q4z=new J_K(k4l,0,C1y.v$j(0,"0"),this.tokennumber);w$k.push(q4z);C1y.s$9(85);K_N=C1y.V9a(m22,M4H,q_N);}else if(this.isLeftParenth()){if((K_N & g6G) === 0){n0w="unexpecte";n0w+="d";n0w+=" \"(\"";this.error_parsing(this.pos,n0w);}if(K_N & m$R){A7J+=2;this.tokenprio=-2;this.tokenindex=-1;this.addfunc(w$k,G47,z6D);}C1y.O_b(86);K_N=C1y.V9a(g6G,v0_,S85,F6t,n_a);}else if(this.isRightParenth()){if(K_N & v0_){q4z=new J_K(k4l,+"0",0,[]);w$k.push(q4z);}else if((K_N & q_N) === 0){this.error_parsing(this.pos,'unexpected ")"');}C1y.O_b(86);K_N=C1y.V9a(q_N,m$R,M4H,g6G,m22);}else if(this.isComma()){if((K_N & m22) === 0){this.error_parsing(this.pos,'unexpected ","');}this.addfunc(w$k,G47,b7P);A7J+=2;C1y.O_b(84);K_N=C1y.v$j(g6G,n_a,F6t,S85);}else if(this.isConst()){if((K_N & S85) === 0){E8Y="un";E8Y+="expected constant";this.error_parsing(this.pos,E8Y);}m6h=new J_K(k4l,0,0,this.tokennumber);w$k.push(m6h);C1y.O_b(85);K_N=C1y.V9a(m22,M4H,q_N);}else if(this.isOp2()){if((K_N & n_a) === 0){W1E="une";W1E+="xpected f";W1E+="unction";this.error_parsing(this.pos,W1E);}this.addfunc(w$k,G47,b7P);A7J+=2;K_N=g6G;}else if(this.isOp1()){if((K_N & n_a) === 0){A7C="une";A7C+="xpected function";this.error_parsing(this.pos,A7C);}this.addfunc(w$k,G47,H7l);A7J++;K_N=g6G;}else if(this.isVar()){if((K_N & S85) === 0){this.error_parsing(this.pos,"unexpected variable");}E$_=new J_K(z$i,this.tokenindex,0,0);w$k.push(E$_);C1y.s$9(86);K_N=C1y.v$j(q_N,m$R,M4H,g6G,m22);}else if(this.isWhite()){}else {if(this.errormsg === ""){this.error_parsing(this.pos,"unknown character");}else {this.error_parsing(this.pos,this.errormsg);}}}if(this.tmpprio < 0 || this.tmpprio >= 10){this.error_parsing(this.pos,'unmatched "()"');}while(G47.length > 0){Q_t=G47.pop();w$k.push(Q_t);}if(A7J + 1 !== w$k.length){D__="parit";D__+="y";this.error_parsing(this.pos,D__);}return new n8a(w$k,P$0(this.ops1),P$0(this.ops2),P$0(this.functions));},evaluate:function(M_y,b4j){C1y.W3G();return this.parse(M_y).evaluate(b4j);},error_parsing:function(i3F,Z4s){this.success=!1;C1y.s$9(51);this.errormsg=C1y.v$j(Z4s,"]: ","parse error [column ",i3F);this.column=i3F;throw new Error(this.errormsg);},addfunc:function(d1A,h$2,O7K){var E8m;E8m=new J_K(O7K,this.tokenindex,this.tokenprio + this.tmpprio,0);while(h$2.length > 0){if(E8m.prio_ <= h$2[h$2.length - 1].prio_){d1A.push(h$2.pop());}else {break;}}C1y.W3G();h$2.push(E8m);},isNumber:function(){var m1W,Y4O,G9s;m1W=!1;C1y.W3G();Y4O="";while(this.pos < this.expression.length){G9s=this.expression.charCodeAt(this.pos);if(G9s >= 48 && G9s <= +"57" || G9s === 46){Y4O+=this.expression.charAt(this.pos);this.pos++;this.tokennumber=parseFloat(Y4O);m1W=!"";}else {break;}}return m1W;},unescape:function(N_J,J$T){var l4c,Q_C,a7y,r4o,J_E;C1y.W5N();l4c=[];Q_C=!!"";for(var L01=0;L01 < N_J.length;L01++){a7y=N_J.charAt(L01);if(Q_C){switch(a7y){case "'":l4c.push("'");break;case 9041 === "410.64" - 0?(0x261a,17.46):"\\":l4c.push((7580,826) == (538.61,2700)?(!!1,!![]):(2810,4680) == 1928?3630 !== 9870?("k",772.75):(!"",371.59):"\\");break;case (4168,3730) <= (+"593.61",6154)?(2220,+"3671") == ("8480" >> 64,2600)?(+"5961",9470) >= 827.69?(0x64,+"145.73"):(2.41e+3,!"1"):"/":("E",631):l4c.push((8294,+"189") != (1180,1900)?"/":(+"9000",8217) == (+"1967",9890)?(0xa,0x131):(8.86e+3,7.82e+3));break;case (1340,"656.3" - 0) > (6810,+"2710")?0x1d7b:(340.62,640.22) > "644.95" - 0?(+"908.08",4050) > (538,"807.28" * 1)?"325.87" * 1:478.76:"b":l4c.push(3110 < (4880,7541)?(207,+"8920") > (5020,+"5990")?"\b":!![]:!!"");break;case "f":l4c.push("\f");break;case 5510 != (361,5580)?"n":(2.34e+3,!![]):l4c.push("\n");break;case 818.84 === 4060?"0xc47" << 32:"r":l4c.push(9720 >= (4600,41.3)?(157,792.62) > (833,"7540" - 0)?2.85e+3:229.07 != 703?"\r":+"1.81e+3":"562" ^ 0);break;case "t":l4c.push(1110 <= (+"7363",7788)?"\t":(9230,+"211.67") < 613.36?(8.53e+3,0x1b5):(5.09e+2,0x19));break;case 7979 != (1320,4100)?"u":"M":r4o=parseInt(N_J.substring(L01 + ("1" - 0),L01 + 5),16);l4c.push(String.fromCharCode(r4o));L01+=4;break;default:J_E="Illega";J_E+="l escape";J_E+=" sequence:";J_E+=" '\\";C1y.O_b(0);throw this.error_parsing(C1y.v$j(J$T,L01),C1y.v$j(a7y,2913 === 1300?("0x1a8e" * 1,!!""):3783 >= (410.62,2120)?"'":(562.97,250.05) != 898?(0xe1d,!1):6.98e+2,J_E,C1y.O_b(35)));}Q_C=!({});}else {if(a7y == "\\"){Q_C=!![];}else {l4c.push(a7y);}}}return l4c.join("");},isString:function(){var F$D,P1z,p33,N8B;F$D=!"1";P1z="";p33=this.pos;if(this.pos < this.expression.length && this.expression.charAt(this.pos) == ((+"865.22",5982) < (6060,509.62)?(486.67,!!0):"'")){this.pos++;while(this.pos < this.expression.length){N8B=this.expression.charAt(this.pos);if(N8B != ((4000,698.42) <= +"2710"?"'":(4317,+"4151") <= (763.92,299)?![]:4729 <= 648.31?0x2fc:588.48) || P1z.slice(-1) == (+"1960" === 4473?493 != (6350,690.58)?103.15:5.07e+3:"\\")){P1z+=this.expression.charAt(this.pos);this.pos++;}else {this.pos++;this.tokennumber=this.unescape(P1z,p33);F$D=!0;break;}}}return F$D;},isConst:function(){var w0g,r4y;for(var W60 in this.consts){if(!![]){r4y=W60.length;w0g=this.expression.substr(this.pos,r4y);if(W60 === w0g){this.tokennumber=this.consts[W60];this.pos+=r4y;return !0;}}}C1y.W3G();return !!0;},isOperator:function(){C1y.W5N();var M4D,m7i,V6A,I0s;M4D=this.expression.charCodeAt(this.pos);if(M4D === 43){this.tokenprio=2;this.tokenindex="+";}else if(M4D === 45){this.tokenprio=2;this.tokenindex=(1010,"3240" << 0) != 5157?5370 < (709.38,7570)?"-":!![]:("D",0xc6f);}else if(M4D === 62){if(this.expression.charCodeAt(this.pos + 1) === 61){m7i=">";m7i+="=";this.pos++;this.tokenprio=1;this.tokenindex=m7i;}else {this.tokenprio=1;this.tokenindex=("494.7" - 0,183.23) <= (9255,843.18)?90.68 == 1266?("703.96" * 1,8.35e+3):">":!"";}}else if(M4D === 60){if(this.expression.charCodeAt(this.pos + 1) === ("61" | 56)){this.pos++;this.tokenprio=1;this.tokenindex="<=";}else {this.tokenprio=1;this.tokenindex=(817.55,5125) !== 88.89?+"5730" !== (1350,814)?4890 != (3134,9581)?"<":"f":(+"258.90",3.49e+2):("e","d");}}else if(M4D === 124){if(this.expression.charCodeAt(this.pos + +"1") === 124){this.pos++;C1y.O_b(29);this.tokenprio=C1y.V9a("1",64);this.tokenindex="||";}else {return !({});}}else if(M4D === 61){if(this.expression.charCodeAt(this.pos + 1) === +"61"){V6A="=";V6A+="=";this.pos++;this.tokenprio=1;this.tokenindex=V6A;}else {return ![];}}else if(M4D === 33){if(this.expression.charCodeAt(this.pos + 1) === 61){this.pos++;this.tokenprio=1;this.tokenindex="!=";}else {return ![];}}else if(M4D === 97){if(this.expression.charCodeAt(this.pos + 1) === 110 && this.expression.charCodeAt(this.pos + 2) === 100){I0s="a";I0s+="n";I0s+="d";this.pos++;this.pos++;C1y.O_b(39);this.tokenprio=C1y.v$j("0",0);this.tokenindex=I0s;}else {return !({});}}else if(M4D === 111){if(this.expression.charCodeAt(this.pos + 1) === 114){this.pos++;C1y.O_b(1);this.tokenprio=C1y.v$j(0,"0");this.tokenindex="or";}else {return !"1";}}else if(M4D === 42 || M4D === +"8729" || M4D === 8226){this.tokenprio=3;this.tokenindex="*";}else if(M4D === +"47"){this.tokenprio=4;this.tokenindex=5001 >= ("1100" >> 64,6621)?(0x19c4,0x1228):"/";}else if(M4D === 37){this.tokenprio=4;this.tokenindex=5222 !== 7130?"%":("O",2.63e+3);}else if(M4D === 94){this.tokenprio=5;this.tokenindex=2760 > +"6520"?3.15e+3:(107,6819) == 827.3?(0x20f2,0xde1):"^";}else {return !!"";}this.pos++;return !!"1";},isSign:function(){var Y5o;Y5o=this.expression.charCodeAt(this.pos - 1);if(Y5o === +"45" || Y5o === 43){return !!({});}C1y.W3G();return !1;},isPositiveSign:function(){var z32;z32=this.expression.charCodeAt(this.pos - 1);if(z32 === 43){return !![];}return !({});},isNegativeSign:function(){var J1f;J1f=this.expression.charCodeAt(this.pos - 1);if(J1f === 45){return !!({});}return ![];},isLeftParenth:function(){var V95;V95=this.expression.charCodeAt(this.pos);if(V95 === "40" - 0){this.pos++;C1y.O_b(29);this.tmpprio+=C1y.v$j("10",0);return !!"1";}return !({});},isRightParenth:function(){var n_8;n_8=this.expression.charCodeAt(this.pos);if(n_8 === 41){this.pos++;this.tmpprio-=10;return !!1;}return !!"";},isComma:function(){var y4M;y4M=this.expression.charCodeAt(this.pos);if(y4M === 44){this.pos++;this.tokenprio=-1;this.tokenindex=(8144,+"8944") >= 4720?",":411.92;return !!"1";}return !!0;},isWhite:function(){var O6Q;O6Q=this.expression.charCodeAt(this.pos);if(O6Q === +"32" || O6Q === 9 || O6Q === 10 || O6Q === 13){this.pos++;return !0;}return ![];},isOp1:function(){var V4A,q15;V4A="";for(var m7b=this.pos;m7b < this.expression.length;m7b++){q15=this.expression.charAt(m7b);if(q15.toUpperCase() === q15.toLowerCase()){if(m7b === this.pos || q15 != ((8360,95.4) === 9092?4.86e+3:"_") && (q15 < (+"1712" == 571?!0:"0") || q15 > ((9090,145) >= 3120?+"919.64" === (3950,3080)?"5.49e+3" * 1:"B":"9"))){break;}}V4A+=q15;}if(V4A.length > 0 && (V4A in this.ops1)){this.tokenindex=V4A;this.tokenprio=5;this.pos+=V4A.length;return !!1;}return !!"";},isOp2:function(){var n89,h5M;n89="";for(var x__=this.pos;x__ < this.expression.length;x__++){h5M=this.expression.charAt(x__);if(h5M.toUpperCase() === h5M.toLowerCase()){if(x__ === this.pos || h5M != (914.01 <= (9050,549.23)?("B",0xce1):"_") && (h5M < "0" || h5M > "9")){break;}}n89+=h5M;}if(n89.length > 0 && (n89 in this.ops2)){this.tokenindex=n89;this.tokenprio=5;this.pos+=n89.length;return !0;}return !({});},isVar:function(){var S2T,Q5f;C1y.W3G();S2T="";for(var Q0Z=this.pos;Q0Z < this.expression.length;Q0Z++){Q5f=this.expression.charAt(Q0Z);if(Q5f.toUpperCase() === Q5f.toLowerCase()){if(Q0Z === this.pos || Q5f != (728.79 < (600,5915)?"_":(839.96,1730) <= 1210?(1.38e+3,0x1f82):(!"","c")) && (Q5f < (496.86 == 6810?(649.53,+"610.47"):"0") || Q5f > (1560 <= 705.69?7909 >= +"7752"?(![],237.49):383.46:"9"))){break;}}S2T+=Q5f;}if(S2T.length > 0){this.tokenindex=S2T;C1y.s$9(1);this.tokenprio=C1y.v$j(0,"4");this.pos+=S2T.length;return !!({});}return ![];},isComment:function(){var m9g;m9g=this.expression.charCodeAt(this.pos - 1);if(m9g === 47 && this.expression.charCodeAt(this.pos) === 42){C1y.s$9(37);var X3B=C1y.V9a(3,19,24);this.pos=this.expression.indexOf("*/",this.pos) + X3B;if(this.pos === "1" << 0){this.pos=this.expression.length;}return !!({});}return !!"";}},!!({}));return m_t;};g6e.computeEquationChart=function(W8g,p$m){var L0O=i6UVR;var r6l,R2d,b6m,x8w,U8m,j82,t47,d3m,b7$,a6Y,h0V,V0U,C_f,U6Y,d78,I2M,V6u,o9E,Z3i,V1$,M8x,t6R,M73;W8g=W8g.replace(/[:]/,7130 <= (408.06,323.19)?9980 <= 6070?(!1,![]):2.45e+3:"/");r6l=+"0";for(var c48 in p$m){R2d="\\";R2d+="]";b6m="\\";b6m+="[";x8w="\\";x8w+="[";U8m=new RegExp(x8w + c48.replace(/\[/g,b6m).replace(/\]/g,"\\]").replace(/\$/g,"\\$").replace(/\^/g,"\\^").replace(/[+\-*/%()]/g,"\\$&") + R2d,"g");L0O.s$9(0);W8g=W8g.replace(U8m,L0O.V9a("symbol",r6l));r6l++;}j82=o5i().parse(W8g);t47=[];d3m={};b7$=0;function F4H(p71){L0O.W3G();p71.i++;if(p$m[p71.s]){if(p71.i >= p$m[p71.s].length){return 0;}a6Y=p$m[p71.s][p71.i];}if(!a6Y.DT){a6Y.DT=g6e.strToDateTime(a6Y.Date);}p71.d=a6Y.DT;return +"1";}h0V=null;function P2R(){var U7J,t5Y;U7J=null;L0O.W5N();t5Y=null;for(var R$V in d3m){if(!t5Y){t5Y=d3m[R$V];}else if(d3m[R$V].d.getTime() < t5Y.d.getTime()){U7J=t5Y=d3m[R$V];}else if(d3m[R$V].d.getTime() > t5Y.d.getTime()){U7J=t5Y;}}if(U7J){if(!F4H(U7J)){return 0;}return -+"1";}return 1;}V0U=![];C_f=[];for(c48 in p$m){U6Y={sym:c48,map:p$m[c48]};if(p$m[c48]){C_f.unshift(U6Y);}else {C_f.push(U6Y);}}for(var s5S=0;s5S < C_f.length;s5S++){d78=C_f[s5S];d3m[d78.sym]={i:0,s:d78.sym};if(d78.map){b7$++;a6Y=d78.map[0];}else if(b7$ == 1){V0U=d78.sym;}if(!a6Y.DT){a6Y.DT=g6e.strToDateTime(a6Y.Date);}d3m[d78.sym].d=a6Y.DT;if(!h0V){h0V=d3m[d78.sym];}}L0O.O_b(87);L0O.W3G();I2M=L0O.v$j(0,b7$);V6u=b7$ == "1" * 1 && W8g.indexOf((2319,8790) >= 639.51?(3489,4187) < 192.01?("9.16e+3" | 8,118.10):("360.9" * 1,"4756" >> 0) !== +"4630"?"%":+"148.04":(174.86,"F")) == -+"1";a:while(!0){o9E=P2R();if(!o9E)break;if(o9E == 1){if(V0U){V1$=p$m[h0V.s][h0V.i][V0U];if(V1$ && (V1$.Close || V1$.Close === 0)){V1$=V1$.Close;}M8x=j82.evaluate({symbol0:p$m[h0V.s][h0V.i].Close,symbol1:V1$});M8x=Number(M8x.toFixed(+"8"));Z3i={DT:h0V.d,Close:M8x,Adj_Close:M8x};Z3i[h0V.s]=p$m[h0V.s][h0V.i].Close;if(!isNaN(M8x) && M8x != Infinity){t47.push(Z3i);}}else if(I2M){t6R=j82.evaluate({});L0O.s$9(35);g6e.alert(L0O.V9a((2200,3290) <= (9500,1570)?"b":(165.46,"8290" | 98) == 3380?(9070,994.77) === 204?60.08:0xca1:"=",t6R,W8g));throw {name:"NoException",message:""};}else {r6l=0;M73={Adj_Close:{},Close:{},Open:{},High:{},Low:{},Volume:{}};for(c48 in p$m){for(var B8e in M73){L0O.O_b(0);M73[B8e][L0O.v$j("symbol",r6l)]=p$m[c48][d3m[c48].i][B8e];}r6l++;}Z3i={DT:h0V.d};Z3i.Adj_Close=j82.evaluate(M73.Adj_Close);Z3i.Close=j82.evaluate(M73.Close);Z3i.Open=j82.evaluate(M73.Open);Z3i.Volume=j82.evaluate(M73.Volume);if(isNaN(Z3i.Volume)){Z3i.Volume=+"0";}if(V6u){Z3i.High=j82.evaluate(M73.High);Z3i.Low=j82.evaluate(M73.Low);}else {Z3i.High=Math.max(Z3i.Open,Z3i.Close);Z3i.Low=Math.min(Z3i.Open,Z3i.Close);}if(!isNaN(Z3i.Close) && Z3i.Close != Infinity){t47.push(Z3i);}if(!isNaN(Z3i.High)){Z3i.High=Number(Z3i.High.toFixed(8));}if(!isNaN(Z3i.Low)){Z3i.Low=Number(Z3i.Low.toFixed(8));}if(!isNaN(Z3i.Open)){Z3i.Open=Number(Z3i.Open.toFixed(8));}if(!isNaN(Z3i.Close)){Z3i.Close=Number(Z3i.Close.toFixed("8" * 1));}if(!isNaN(Z3i.Adj_Close)){Z3i.Adj_Close=Number(Z3i.Adj_Close.toFixed(8));}else {Z3i.Adj_Close=Z3i.Close;}}for(c48 in p$m){if(!F4H(d3m[c48]))break a;}}}return t47;};};I=o9j=>{var R6l=i6UVR;var R8b;R8b=typeof _CIQ !== "undefined"?_CIQ:o9j.CIQ;R8b.ChartEngine.prototype.setLocale=function(R1z,H4i){var u1A,V5K,z1h,e_D,p1e,S_S,o0A,Z4m,T2Z,H6y,v6P,A33;u1A="n";u1A+="ume";u1A+="ri";u1A+="c";V5K="n";V5K+="umeri";V5K+="c";z1h="n";z1h+="um";z1h+="e";z1h+="ric";e_D="2-";e_D+="d";e_D+="ig";e_D+="it";p1e="2";p1e+="-d";p1e+="igit";S_S="h";S_S+="2";S_S+="3";if(typeof Intl == "undefined"){return;}if(this.locale != R1z){this.locale=R1z;}else {return;}Z4m=this.internationalizer={};Z4m.hourMinute=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hourCycle:"h23"});Z4m.hourMinuteSecond=new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",second:"numeric",hourCycle:S_S});Z4m.mdhm=new Intl.DateTimeFormat(this.locale,{year:"2-digit",month:p1e,day:e_D,hour:"2-digit",minute:"2-digit"});Z4m.monthDay=new Intl.DateTimeFormat(this.locale,{month:"numeric",day:z1h});Z4m.yearMonthDay=new Intl.DateTimeFormat(this.locale,{year:V5K,month:u1A,day:"numeric"});Z4m.yearMonth=new Intl.DateTimeFormat(this.locale,{year:"numeric",month:"numeric"});Z4m.month=new Intl.DateTimeFormat(this.locale,{month:"short"});Z4m.numbers=new Intl.NumberFormat(this.locale);Z4m.priceFormatters=[];if(!H4i){H4i=8;}for(o0A=0;o0A < H4i + 1;o0A++){Z4m.priceFormatters.push(new Intl.NumberFormat(this.locale,{maximumFractionDigits:o0A,minimumFractionDigits:o0A}));}for(o0A=0;o0A < 5;o0A++){T2Z="pe";T2Z+="rcen";T2Z+="t";H6y="per";H6y+="cent";v6P=o0A;A33=o0A;if(!o0A){v6P="";A33=2;}R6l.O_b(0);Z4m[R6l.V9a(H6y,v6P)]=new Intl.NumberFormat(this.locale,{style:T2Z,minimumFractionDigits:A33,maximumFractionDigits:A33});}if(R8b.I18N.createMonthArrays){R8b.I18N.createMonthArrays(this,Z4m.month,this.locale);}};R8b.I18N=function(){};R8b.I18N.hereDoc=function(B93){return B93.toString().replace(/^[^/]+\/\*!?/,"").replace(/\*\/[^/]+$/,"");};R6l.W5N();R8b.I18N.language="en";R8b.I18N.longMonths={zh:!0};R8b.I18N.reverseColorsByLocale={zh:!!1,ja:!!1};R8b.I18N.findAllTextNodes=function(f$o){var k07,P82,X7p,j4S,O_P,S_x,P0z,A4w,N1i,x55,i$1,v3t,m4f,Q4O,W4b,N3D,V9l,h_D,s0G,f5H,J9b,n5n;if(!f$o){f$o=document.body;}if(f$o == document.body){if(!document.querySelector(".ciq_stashed_texts")){k07="n";k07+="o";k07+="ne";P82=document.createElement("div");P82.className="ciq_stashed_texts";P82.style.display=k07;f$o.appendChild(P82);X7p=document.querySelectorAll("input,textarea,.editable_content");for(var m4G="0" | 0;m4G < X7p.length;m4G++){j4S="pl";j4S+="aceholder";O_P=X7p[m4G].getAttribute(j4S);if(O_P){S_x="orig";S_x+="ina";S_x+="l";P0z=P82.appendChild(document.createElement("translate"));P0z.setAttribute(S_x,O_P);P0z.placeholderFor=X7p[m4G];P0z.appendChild(document.createTextNode(O_P));}}}}A4w=document.createTreeWalker(f$o,NodeFilter.SHOW_TEXT,null,![]);N1i=A4w.nextNode();x55=new RegExp("^\\s*$");i$1=new RegExp("\n|\t|\f",9354 != ("178" ^ 0,8453)?"g":("8.46e+3" >> 0,0xe88));v3t={};m4f={SCRIPT:!!1,STYLE:!![],TEXTAREA:!!({})};while(N1i){Q4O=N1i.nodeValue;if(!x55.test(Q4O)){W4b=N1i.parentNode;N3D=N1i.nextSibling;V9l=W4b.tagName;if(!m4f[V9l]){if(V9l != "TRANSLATE"){h_D="tr";h_D+="ans";h_D+="late";s0G=document.createElement(h_D);s0G.setAttribute("original",Q4O);s0G.appendChild(N1i);W4b.insertBefore(s0G,N3D);}else {f5H="orig";f5H+="i";f5H+="n";f5H+="al";Q4O=W4b.getAttribute(f5H);}if(i$1.test(Q4O)){Q4O=Q4O.replace(i$1,"");}if(!v3t[Q4O]){v3t[Q4O]=[];}v3t[Q4O].push(N1i);}}N1i=A4w.nextNode();}if(f$o == document.body){J9b=R8b.Studies?R8b.Studies.studyLibrary:null;if(J9b){for(var l2x in J9b){if(v3t[l2x] === null){v3t[l2x]=[];}n5n=J9b[l2x];if(n5n.inputs){for(var c7B in n5n.inputs){if(!v3t[c7B]){v3t[c7B]=[];}}}if(n5n.outputs){for(var b73 in n5n.outputs){if(!v3t[b73]){v3t[b73]=[];}}}}}}return v3t;};R8b.I18N.missingWordList=function(Z$8){var z$0,V51,W5r,i80,t$T,T6C,s7Q,y7N,F6l;z$0="Sho";z$0+="w Zone";z$0+="s";if(!Z$8){Z$8=R8b.I18N.language;}V51=R8b.I18N.findAllTextNodes();W5r={};i80=R8b.I18N.wordLists[Z$8];if(!i80){i80={};}t$T=function(B6q){if(typeof i80[B6q] == "undefined"){W5r[B6q]="";}};for(var R3_ in V51){t$T(R3_);}if(!(R8b.Studies && R8b.Studies.studyLibrary)){return W5r;}for(var Q8P in R8b.Studies.studyLibrary){T6C=R8b.Studies.studyLibrary[Q8P];t$T(T6C.name);for(var g5Q in T6C.inputs){y7N="[object Ar";y7N+="ra";y7N+="y]";F6l="[obj";F6l+="ect String]";t$T(g5Q);s7Q=T6C.inputs[g5Q];switch(Object.prototype.toString.call(s7Q)){case F6l:t$T(s7Q);break;case y7N:for(var J2X=+"0";J2X < s7Q.length;++J2X){t$T(s7Q[J2X]);}break;}}for(var p68 in T6C.outputs){t$T(p68);}}t$T(z$0);t$T("OverBought");R6l.W3G();t$T("OverSold");t$T("Panel");t$T("Show as Underlay");t$T("Y-Axis");t$T("Invert Y-Axis");return W5r;};R8b.I18N.printableMissingWordList=function(l7V){R6l.W3G();var Y6I;Y6I=JSON.stringify(R8b.I18N.missingWordList(l7V));Y6I=Y6I.replace(/","/g,'",\n"');return Y6I;};R8b.I18N.translateUI=function(Z7e,i0V){var u0Z,Z7A,r0L,p6G,K3r,C1j,z3c,I2d,A3i;if(Z7e == "pu"){Z7e="pt";}if(!R8b.I18N.wordLists){return;}if(!Z7e){Z7e=R8b.I18N.language;}u0Z=R8b.I18N.findAllTextNodes(i0V);Z7A=R8b.I18N.wordLists[Z7e];if(!Z7A){return;}for(var y72 in u0Z){r0L=R8b.I18N.translateSections(y72,Z7A);p6G=u0Z[y72];for(var f7b=+"0";f7b < p6G.length;f7b++){K3r="o";K3r+="r";K3r+="igi";K3r+="nal";C1j=p6G[f7b];z3c=C1j.parentNode;I2d=z3c.getAttribute(K3r);if(r0L === ((437,7750) === (1820,6381)?(400.99,"Z"):",") || !r0L){r0L=I2d;}A3i=z3c.placeholderFor;if(A3i){A3i.placeholder=r0L;}else {C1j.data=r0L;}}}};R8b.I18N.translate=function(Z5Q,W50){var I1B,Q3$;if(!W50){W50=R8b.I18N.language;}if(!R8b.I18N.wordLists){console.log("Must include translations.js in order to use CIQ.I18N.translate()");return Z5Q;}R6l.W5N();I1B=R8b.I18N.wordLists[W50];Q3$=null;if(I1B){Q3$=R8b.I18N.translateSections(Z5Q,I1B) || Z5Q;}return Q3$ === ","?Z5Q:Q3$;};R8b.I18N.translateSections=function(n2u,i9m){var a0h,V6_,Q4N;a0h="str";a0h+="i";a0h+="n";R6l.W3G();a0h+="g";V6_=675 < 8615?"\u200c":705.50;if(typeof n2u == a0h && n2u.indexOf(V6_) != -1){R6l.s$9(35);n2u=n2u.replace(/([(),])/g,R6l.V9a("$1",V6_,V6_));Q4N=n2u.split(V6_);Q4N.forEach(function(r5B,D3K,b3y){var h4t,B7R;h4t=r5B.match(/^(\s*).*\S(\s*)$/);R6l.W3G();B7R=i9m[r5B.trim()];if(B7R){if(h4t){R6l.O_b(77);var N5N=R6l.v$j(13,0,3,10,3);B7R=h4t["1" ^ 0] + B7R + h4t[N5N];}b3y[D3K]=B7R;}});return Q4N.join("");}return i9m[n2u];};R8b.I18N.convertCSV=function(L$1){var Y5h,V__,t1K,B17,L4r,F5L,a3D,I24,h9H,Q9L,y2b;Y5h="^(\")";Y5h+="|(\")$";V__=new RegExp("[\u201C\u201D]|[\u2018\u2019]",(168.52,2000) != 311?"5980" * 1 > (4034,6750)?+"1545" < (335.82,"8800" | 32)?1.80e+3:(!0,!""):"g":(0x4d9,0x1e09));t1K=new RegExp(Y5h,544.04 !== 8100?"g":2359 === 275.75?"343.30" - 0:608.10);B17=R8b.I18N.wordLists;R6l.W3G();if(!L$1){L$1=R8b.I18N.csv;}if(!L$1){return;}L4r=L$1.split("\n");F5L=L4r[0];a3D=F5L.split(301.15 <= +"4102"?775.78 == (9510,345)?(!({}),+"1.84e+3"):",":(80.42,893.61));for(var Z7h=0;Z7h < a3D.length;Z7h++){I24=a3D[Z7h];if(!B17[I24]){B17[I24]={};}}for(var X2b=1;X2b < L4r.length;X2b++){h9H=L4r[X2b].match(/(".*?"|[^",]+)(?=\s*,|\s*$)|(,(?=,))/g) || [];Q9L=h9H[0];if(t1K.test(Q9L)){Q9L=Q9L.replace(t1K,"");}if(V__.test(Q9L)){Q9L=Q9L.replace(V__,9800 !== 4870?559 == "7630" - 0?(!!0,!1):"303.89" * 1 >= 3310?!"1":'"':972.67);}for(var L0y=1;L0y < h9H.length;L0y++){y2b=h9H[L0y];if(t1K.test(y2b)){y2b=y2b.replace(t1K,"");}B17[a3D[L0y]][Q9L]=y2b;}}};R8b.I18N.setLanguage=function(K92,C5F,Y0v,D2q,a_L){var F9C;F9C="p";F9C+="t";if(!a_L){a_L=(K92.uiContext || ({})).topNode || document.body;}if(C5F == "pu"){C5F=F9C;}R8b.I18N.convertCSV(D2q);R8b.I18N.language=C5F;R6l.W5N();R8b.I18N.translateUI(C5F,a_L);if(!Y0v){Y0v=R8b.I18N.translate;}K92.translationCallback=Y0v;};R8b.I18N.setLocale=function(p81,U5l,g8q,s2Q,t9N){var T$z,F8O,G9Z,N9F,i$i,E7g;T$z="SC";T$z+="RIPT";F8O="locale";F8O+="-";F8O+="data/jso";F8O+="np";G9Z="un";G9Z+="de";G9Z+="fin";G9Z+="ed";if(R8b.xor(this.reverseColorsByLocale[U5l],this.reverseColorsByLocale[p81.locale])){this.reverseCandles(p81);}if(typeof Intl == G9Z || !Intl.__addLocaleData){p81.setLocale(U5l,t9N);if(g8q){g8q(null);}return;}s2Q=typeof s2Q == "undefined"?F8O:s2Q;R6l.O_b(51);N9F=R6l.V9a(".js",U5l,s2Q,"/");i$i=document.createElement(T$z);i$i.async=!![];i$i.src=N9F;E7g=document.getElementsByTagName("script")[0];E7g.parentNode.insertBefore(i$i,E7g.nextSibling);i$i.onload=function(){p81.setLocale(U5l,t9N);if(g8q){g8q(null);}};i$i.onerror=function(){if(g8q){g8q("cannot load script");}};};R8b.I18N.createMonthArrays=function(P5G,Z3T,t44){var g0V,e2w,j_W,U28,O$d,o5P;P5G.monthAbv=[];P5G.monthLetters=[];g0V=new Date();R6l.W3G();e2w=!![];if(R8b.I18N.longMonths && R8b.I18N.longMonths[t44]){e2w=!!0;}for(var k4r=0;k4r < 12;k4r++){g0V.setDate(1);g0V.setMonth(k4r);j_W=Z3T.format(g0V);if(e2w){U28="";for(var d0K=0;d0K < j_W.length;d0K++){O$d=j_W.charAt(d0K);o5P=O$d.charCodeAt(0);if(o5P < 65)continue;U28+=O$d;}P5G.monthAbv[k4r]=U28;P5G.monthLetters[k4r]=U28[0];}else {P5G.monthAbv[k4r]=j_W;P5G.monthLetters[k4r]=j_W;}}};R8b.I18N.localize=function(y$b,U1S){this.setLocale(y$b,U1S);this.setLanguage(y$b,U1S);};R8b.I18N.reverseCandles=function(a2l){var N_T,Y33,e86;N_T=a2l.styles;Y33=a2l.cloneStyle(N_T.stx_candle_down);R6l.W3G();e86=a2l.cloneStyle(N_T.stx_candle_up);N_T.stx_candle_up=Y33;N_T.stx_candle_down=e86;};R8b.I18N.wordLists={en:{}};R8b.I18N.languages={en:"English"};};Q=q3j=>{var Z7f=i6UVR;var F44,J3z,e9u,s69,n2V,Q34,O3f,J0h;F44="<div class=\"stx_drag_ok\"";F44+="><div class=\"icon\"></div><div c";F44+="lass=\"field\"></div></div>";J3z="<div class=\"st";J3z+="x_draw_ok\"><div c";J3z+="lass=\"icon\"></div><div class=\"";J3z+="field\"></div></div>";e9u="<div class=\"stx_sticky\"> <span class=\"mStickyInterior\"></span> <span class=\"mStickyRightClick\"><span class=\"overlayEdit stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span cla";e9u+="ss=\"";e9u+="overlayTrashCan stx-btn\" style=\"display:none\"><span>&nbsp;</span></span> <span class=\"mouseDeleteInstructions\"><span>(</span><span class=\"mouseDeleteText\">right-click to delete</span><span class=\"mouseManageText\">right-click to";e9u+=" manage</span><span class=\"dragAnchorText\">drag to change anchor time</span><span>)</span></span></span><span class=\"stickyLongPressText\">(long-press to drag)</span></div>";s69="<span ";s69+="class=\"stx-btn stx_annotation_cancel\" style=\"display: none; margin-left:10px;\">cancel</span>";n2V="co";n2V+="ntextmen";n2V+="u";Q34="und";Q34+="efine";Q34+="d";O3f=typeof _CIQ !== "undefined"?_CIQ:q3j.CIQ;O3f.ChartEngine.prototype.pointerEvents={down:[],up:[]};O3f.ChartEngine.prototype.manageTouchAndMouse=!![];O3f.ChartEngine.prototype.registerTouchAndMouseEvents=function(){var h__,F4_,w6q,N$k,y9k,I9r,z2D,H6d,h_j,P3E,I$_,h4U,L2v,a2b;if(this.touchAndMouseEventsRegistered){return;}this.touchAndMouseEventsRegistered=!!1;h__=this.controls.chartControls || document;F4_=h__.querySelector(".stx-zoom-in");w6q=h__.querySelector(".stx-zoom-out");N$k=this.chart.container;y9k=this;I9r=function(o7_,q11,t6o){y9k.addDomEventListener(N$k,o7_,A9H,t6o);Z7f.W3G();function A9H(T4T){if(y9k.mainSeriesRenderer && y9k.mainSeriesRenderer.nonInteractive){return;}q11(T4T);}};if(!O3f.touchDevice){z2D="mo";z2D+="us";z2D+="edown";H6d="mo";H6d+="usemo";H6d+="ve";I9r(H6d,function(O9W){y9k.mousemove(O9W);});I9r("mouseenter",function(u85){Z7f.W5N();y9k.mousemove(u85);});I9r(z2D,function(W2A){Z7f.W5N();y9k.mousedown(W2A);});I9r("mouseup",function(O$a){Z7f.W5N();y9k.mouseup(O$a);});}else {if(O3f.isSurface){h_j="po";h_j+="inter";h_j+="d";h_j+="own";P3E="mou";P3E+="s";P3E+="edown";I9r("mousemove",function(h8f){y9k.msMouseMoveProxy(h8f);});I9r("mouseenter",function(N5B){Z7f.W3G();y9k.msMouseMoveProxy(N5B);});I9r(P3E,function(n7k){Z7f.W5N();y9k.msMouseDownProxy(n7k);});I9r("mouseup",function(Z$G){y9k.msMouseUpProxy(Z$G);});I9r(h_j,function(e7l){Z7f.W5N();return y9k.startProxy(e7l);});I9r("pointermove",function(h3E){Z7f.W3G();y9k.moveProxy(h3E);});I9r("pointerenter",function(K3T){Z7f.W3G();return y9k.moveProxy(K3T);});I9r("pointerup",function(h_e){return y9k.endProxy(h_e);});}else {if(!O3f.isMobile){I$_="mouseent";I$_+="er";I9r("mousemove",function(y6n){Z7f.W3G();y9k.iosMouseMoveProxy(y6n);});I9r(I$_,function(J40){Z7f.W5N();y9k.iosMouseMoveProxy(J40);});I9r("mousedown",function(v1g){Z7f.W3G();y9k.iosMouseDownProxy(v1g);});I9r("mouseup",function(O69){Z7f.W3G();y9k.iosMouseUpProxy(O69);});}I9r("touchstart",function(C08){Z7f.W3G();y9k.touchstart(C08);});I9r("touchmove",function(l5D){y9k.touchmove(l5D);});I9r("touchend",function(j$O){y9k.touchend(j$O);});I9r("pointerdown",function(y6H){y9k.touchPointerType=y6H.pointerType;});if(F4_){h4U="onMo";h4U+="useO";h4U+="ver";F4_.removeAttribute(h4U);F4_.removeAttribute("onMouseOut");}if(w6q){L2v="onMouseOve";L2v+="r";w6q.removeAttribute(L2v);w6q.removeAttribute("onMouseOut");}}}a2b=O3f.wheelEvent;Z7f.W5N();if(this.captureMouseWheelEvents){I9r(a2b,function(T36){y9k.mouseWheel(T36);},{passive:!({})});}};O3f.ChartEngine.prototype.mousedown=function(s9i){var g29,T9y,c6R,V6w,u05,q4o,v4n,F9R,s0_,s81,I$G;g29="moused";g29+="own";if(this.runPrepend(g29,arguments)){return;}this.grabOverrideClick=!1;if(!this.displayInitialized){return;}if(!this.displayCrosshairs){return;}if(this.repositioningDrawing){return;}if(this.editingAnnotation){return;}if(s9i.button && s9i.button >= 2){return;}T9y=this.container.getBoundingClientRect();this.top=T9y.top;this.left=T9y.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(s9i.clientX >= this.left && s9i.clientX <= this.right && s9i.clientY >= this.top && s9i.clientY <= this.bottom){this.insideChart=!!"1";}else {c6R=-134656921;V6w=-1137160748;u05=2;for(var U34=1;Z7f.m6F(U34.toString(),U34.toString().length,41752) !== c6R;U34++){this.insideChart=!({});u05+=2;}if(Z7f.l5h(u05.toString(),u05.toString().length,20166) !== V6w){this.insideChart=!!({});}return;}if(!this.currentPanel){return;}if(this.manageTouchAndMouse && s9i && s9i.preventDefault && this.captureTouchEvents){s9i.preventDefault();}this.mouseTimer=Date.now();this.longHoldTookEffect=!({});this.hasDragged=![];this.userPointerDown=!0;if(this.openDialog === ""){this.registerPointerEvent({x:s9i.clientX,y:s9i.clientY,time:this.mouseTimer},"down");}q4o=this.currentPanel.chart;for(var m0n=0;m0n < this.drawingObjects.length;m0n++){v4n=this.drawingObjects[m0n];if(v4n.highlighted && !v4n.permanent){if(this.cloneDrawing){F9R=O3f.ChartEngine.drawingTools[v4n.name];s0_=new F9R();s0_.reconstruct(this,v4n.serialize());this.drawingObjects.push(s0_);this.activateRepositioning(s0_);s0_.repositioner=v4n.repositioner;return;}s81=this.currentVectorParameters.vectorType;if(!O3f.Drawing || !s81 || !O3f.Drawing[s81] || !new O3f.Drawing[s81]().dragToDraw){this.activateRepositioning(v4n);return;}}}I$G=this.mainSeriesRenderer || ({});var {baselineHelper:A1Z}=this;if(A1Z.size){if(this.findBaselineHandle(s9i,!!({}))){return;}}if(this.controls.anchorHandles){var {anchorHandles:c1n}=this.controls;for(var y7P in c1n){var {handle:U_t, sd:R60, highlighted:r2r}=c1n[y7P];if(r2r){this.repositioningAnchorSelector={sd:R60};U_t.classList.add("stx-grab");return;}}}if(this.drawingClick){if(this.currentPanel.subholder === s9i.target){this.drawingClick(this.currentPanel,this.cx,this.cy);}if(this.activeDrawing && this.activeDrawing.dragToDraw){return;}}this.grabbingScreen=!!1;q4o.spanLock=![];this.yToleranceBroken=!!"";this.grabStartX=s9i.clientX;this.grabStartY=s9i.clientY;this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=q4o.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(this.currentPanel);this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;this.grabStartPanel=this.currentPanel;setTimeout((function(g8U){Z7f.W3G();return function(){Z7f.W5N();g8U.grabbingHand();};})(this),100);if(this.swipeStart){this.swipeStart(q4o);}if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer();}this.runAppend("mousedown",arguments);};O3f.ChartEngine.prototype.mousemove=function(d7U){var r0i,L4M;r0i="mou";r0i+="se";r0i+="move";L4M=d7U;O3f.ChartEngine.crosshairX=L4M.clientX;O3f.ChartEngine.crosshairY=L4M.clientY;if(L4M.type.toLowerCase().indexOf("enter") > -1){this.positionCrosshairsAtPointer();return;}if(this.runPrepend(r0i,arguments)){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(this.baselineHelper.size){this.findBaselineHandle(L4M);}if(this.grabbingScreen && L4M.buttons !== 1){this.cancelLongHold=!!1;this.displayDragOK();this.grabbingScreen=!1;this.findHighlights(!({}),!!"1");}this.mousemoveinner(L4M.clientX,L4M.clientY);this.runAppend("mousemove",arguments);};O3f.ChartEngine.prototype.mouseup=function(j4w){var r_R,J4j,W1Y,g6i,r7x,G3q,E1E,x9i,W55,U8u,F_H,M9a;r_R="mo";r_R+="use";r_R+="up";if(this.runPrepend("mouseup",arguments)){return;}this.swipe.end=!0;this.cancelLongHold=!![];if(this.repositioningDrawing){if(!this.currentVectorParameters.vectorType || Date.now() - this.mouseTimer > 250){this.changeOccurred("vector");O3f.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.adjustDrawings();this.draw();return;}this.activateRepositioning(null);}if(this.repositioningBaseline){var {handle:O9b}=this.repositioningBaseline;this.repositioningBaseline=null;O9b.classList.remove("stx-grab");J4j=this.mainSeriesRenderer || ({});if(J4j.params && J4j.params.baseline && J4j.params.type != "mountain"){;}this.draw();return;}if(this.repositioningAnchorSelector){O3f.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd);this.repositioningAnchorSelector=null;Object.values(this.controls.anchorHandles).forEach(({handle:D4O})=>{return D4O.classList.remove("stx-grab");});this.findHighlights();return;}W1Y=this.userPointerDown;this.userPointerDown=!!0;if(!this.displayInitialized){return;}g6i=this.backOutY(j4w.clientY);r7x=this.backOutX(j4w.clientX);G3q=j4w.which && j4w.which >= 2 || j4w.button && j4w.button >= 2;E1E=this.openDialog !== "";if(!E1E && !G3q){this.registerPointerEvent({x:j4w.clientX,y:j4w.clientY,time:Date.now()},"up");}x9i=this.isDoubleClick();this.grabbingScreen=!"1";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(r7x,g6i);}this.currentPanel=this.whichPanel(g6i);}W55=this.currentPanel;this.grabStartYAxis=null;this.displayDragOK();if(this.openDialog !== ""){U8u="s";U8u+="tx-drag-ch";U8u+="ar";U8u+="t";if(this.insideChart){this.container.classList.remove(U8u);}return;}if(this.grabOverrideClick){F_H="st";F_H+="x-d";F_H+="rag-chart";if(!this.overXAxis && !this.overYAxis && this.swipeRelease){this.swipeRelease();}this.container.classList.remove(F_H);this.grabOverrideClick=!!"";this.doDisplayCrosshairs();this.updateChartAccessories();return;}if(this.insideChart){this.container.classList.remove("stx-drag-chart");}if(O3f.ChartEngine.resizingPanel){this.releaseHandle();return;}if(G3q || j4w.ctrlKey){if(this.anyHighlighted && this.bypassRightClick !== !!({})){this.rightClickHighlighted();if(j4w.preventDefault && this.captureTouchEvents){j4w.preventDefault();}j4w.stopPropagation();return !!0;}this.dispatch("rightClick",{stx:this,panel:W55,x:r7x,y:g6i});return !!"1";}if(j4w.clientX < this.left || j4w.clientX > this.right){return;}if(j4w.clientY < this.top || j4w.clientY > this.bottom){return;}M9a=W55 && W55.subholder === j4w.target;if(x9i && (M9a || this.overYAxis || this.overXAxis)){this.doubleClick({button:j4w.button,x:r7x,y:g6i});}else {if(W1Y && M9a){if(!this.longHoldTookEffect || this.activeDrawing){this.drawingClick(W55,r7x,g6i);}if(!this.longHoldTookEffect && this.activeMarker){this.activeMarker.click({cx:r7x,cy:g6i,panel:W55});}}if(!this.longHoldTookEffect && !this.activeDrawing){this.dispatch("tap",{stx:this,panel:W55,x:r7x,y:g6i});}}this.runAppend(r_R,arguments);};O3f.ChartEngine.prototype.registerPointerEvent=function(g_Y,t7c){if(this.pointerEvents[t7c].length > 1){this.pointerEvents[t7c].pop();}this.pointerEvents[t7c].unshift(g_Y);};Z7f.W5N();O3f.ChartEngine.prototype.resetPointerEvent=function(S2t){this.pointerEvents[S2t].splice(0);};O3f.ChartEngine.prototype.isDoubleClick=function(Z7m){var q6U,b_Z,V1g,E36;q6U=Z7m?1200:400;Z7f.W5N();var {up:c3w, down:t1Z}=this.pointerEvents;this.cancelTouchSingleClick=![];if(c3w.length < +"2" || t1Z.length < 2){return !"1";}b_Z=t1Z["0" ^ 0].time - c3w[1].time < this.doubleClickTime && Math.pow(c3w[1].x - c3w[0].x,2) + Math.pow(c3w[1].y - c3w[+"0"].y,2) <= q6U && c3w[1].time - t1Z[1].time < this.longHoldTime && c3w[+"0"].time - t1Z[0].time < this.longHoldTime;if(b_Z){V1g="dow";V1g+="n";E36="u";E36+="p";this.resetPointerEvent(E36);this.resetPointerEvent(V1g);this.cancelTouchSingleClick=!![];}return b_Z;};O3f.ChartEngine.prototype.doubleClick=function(g__,S_G,m0K){var l1u;if(this.runPrepend("doubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(O3f.ChartEngine.drawingLine){return this.undo();}if(this.activeDrawing){return;}l1u=this.activeMarker && this.activeMarker.doubleClick({cx:S_G,cy:m0K,panel:this.currentPanel});if(!l1u){this.dispatch("doubleClick",{stx:this,button:g__,x:S_G,y:m0K});}this.runAppend("doubleClick",arguments);};O3f.ChartEngine.prototype.handleMouseOut=function(U1L){var N$i,E5W,U63;U1L=U1L || window.event;if(!O3f.withinElement(this.chart.container,U1L.pageX,U1L.pageY)){N$i="h";N$i+="andle";N$i+="M";N$i+="ouseOut";if(this.runPrepend("handleMouseOut",arguments)){return;}if(!this.grabbingScreen){this.findHighlights(null,!!1);}this.undisplayCrosshairs();this.touches=[];this.touching=!"1";if(this.activeDrawing && this.userPointerDown){this.userPointerDown=!({});this.drawingLine=![];E5W=this.backOutY(U1L.pageY);U63=this.backOutX(U1L.pageX);this.drawingClick(this.currentPanel,U63,E5W);}if(this.repositioningAnchorSelector){this.repositioningAnchorSelector=null;}this.insideChart=!!"";this.overYAxis=!"1";this.overXAxis=![];this.displaySticky();this.runAppend(N$i,arguments);}};O3f.ChartEngine.prototype.startLongHoldTimer=function(){var H3a,f9S;H3a=this;this.cancelLongHold=![];if(this.longHoldTimeout){clearTimeout(this.longHoldTimeout);}f9S=function(){if(H3a.cancelLongHold){return;}H3a.longHoldTookEffect=!!({});Z7f.W5N();H3a.dispatch("longhold",{stx:H3a,panel:H3a.currentPanel,x:H3a.cx,y:H3a.cy});H3a.displayDragOK();};if(this.longHoldTime){this.longHoldTimeout=setTimeout(f9S,this.longHoldTime);}else if(this.longHoldTime === 0){f9S();}};O3f.ChartEngine.prototype.grabHandle=function(N2W){Z7f.W5N();var Y_9,h8c;Y_9="gr";Y_9+="abHandle";h8c="s";h8c+="tx-grab";if(this.runPrepend("grabHandle",arguments)){return;}if(!N2W){return;}O3f.ChartEngine.crosshairY=N2W.top + this.top;O3f.ChartEngine.resizingPanel=N2W;N2W.handle.classList.add(h8c);this.runAppend(Y_9,arguments);};O3f.ChartEngine.prototype.grabbingHand=function(){var A0W;A0W="stx-drag";A0W+="-";A0W+="chart";if(!this.allowScroll){return;}if(!this.grabbingScreen){return;}if(O3f.touchDevice){return;}this.container.classList.add(A0W);};O3f.ChartEngine.prototype.releaseHandle=function(){if(this.runPrepend("releaseHandle",arguments)){return !!({});}O3f.clearCanvas(this.chart.tempCanvas,this);this.resizePanels();if(O3f.ChartEngine.resizingPanel){O3f.ChartEngine.resizingPanel.handle.classList.remove("stx-grab");}O3f.ChartEngine.resizingPanel=null;this.runAppend("releaseHandle",arguments);};O3f.ChartEngine.prototype.findHighlights=function(m5Z,D8F){var Z8m,y0E,D$e,z6T,y1i,b45,y7H,R41,z9V,l9g,u$d,s5$,J9M,g36,Q0B,S8n,W6Z,W5u,Z0R,R3d,B3J,v_M,S2r,s5Y,u7f,z4Z,M$P,H41,x61,t0W,u0s,g$f,Q9J,e$5,y_4,R4V,L9Z,R5U,O2A,J0a,w8L,E_l,X1g,H3z,H5C,J$G,O9N,m40,n7D,y__;Z8m="d";Z8m+="raw";Z8m+="ing";y0E=this.preferences[m5Z?"highlightsTapRadius":"highlightsRadius"];this.highlightViaTap=m5Z;var {cx:b6D, cy:i5l}=this;this.anyHighlighted=![];if(!this.currentPanel){return;}var {chart:W69}=this.currentPanel;if(this.activeDrawing){D8F=!!({});}D$e=![];z6T=null;y1i=D8F?{}:{forceShow:!"",type:Z8m};b45={x0:this.tickFromPixel(b6D - y0E,W69),x1:this.tickFromPixel(b6D + y0E,W69),y0:this.valueFromPixel(i5l - y0E,this.currentPanel),y1:this.valueFromPixel(i5l + y0E,this.currentPanel),cx0:b6D - y0E,cx1:b6D + y0E,cy0:i5l - y0E,cy1:i5l + y0E,r:y0E};if(this.repositioningDrawing && b45.x1 - b45.x0 < +"2"){b45.x1++;b45.x0--;}else if(b45.x1 == b45.x0){b45.x0-=0.5;b45.x1+=0.5;}y7H=this.markerHelper && this.markerHelper.chartMap[W69.name] && this.markerHelper.chartMap[W69.name].markers;if(!W69.hideDrawings){for(var M$k=this.drawingObjects.length - 1;M$k >= +"0";M$k--){R41=this.drawingObjects[M$k];if(!this.panels[R41.panelName])continue;if(this.repositioningDrawing && this.repositioningDrawing != R41)continue;z9V=R41.highlighted;l9g=R41.panelName == this.currentPanel.name;R41.repositioner=R41.intersected(this.crosshairTick,this.crosshairValue,b45);l9g=l9g && R41.repositioner;if(!D8F && l9g){if(z9V){z6T=R41;if(this.anyHighlighted && this.singleDrawingHighlight){R41.highlighted=![];}if(R41.highlighted && R41.highlighted != z9V){D$e=!"";};}else if(z9V != R41.highlight(!!1)){if(!z6T){z6T=R41;}if(this.anyHighlighted && this.singleDrawingHighlight){R41.highlighted=!({});}D$e=!![];}this.anyHighlighted=!![];}else {if(z9V != R41.highlight(![])){D$e=!!({});}}if(R41.highlighted){y1i.noDelete=R41.permanent;y1i.noEdit=!this.callbackListeners.drawingEdit.length;}}}for(u$d in this.layout.studies){s5$=this.layout.studies[u$d];s5$.prev=s5$.highlight;s5$.highlight=this.yaxisMatches(s5$,this.grabStartYAxis);}for(u$d in W69.seriesRenderers){S8n=W69.seriesRenderers[u$d];S8n.params.highlight=this.yaxisMatches(S8n,this.grabStartYAxis);for(var b8b=0;b8b < S8n.seriesParams.length;b8b++){Q0B=S8n.seriesParams[b8b];Q0B.prev=Q0B.highlight;Q0B.highlight=S8n.params.highlight;}}for(J9M=0;y7H && J9M < y7H.length;J9M++){g36=y7H[J9M];if(!g36.params.box)continue;this.activeMarker=null;g36.prev=y7H[J9M].highlight;g36.highlight=![];}if(this.markerHelper){this.markerHelper.highlighted=[];}this.highlightedDataSetField=null;this.highlightedDraggable=null;if(!D8F && !this.anyHighlighted && this.controls.anchorHandles){for(var b0y in this.controls.anchorHandles){W6Z=this.controls.anchorHandles[b0y];var {handle:u$E, sd:q0_}=W6Z;W5u=this.resolveX(b6D);Z0R=this.resolveY(i5l);if(u$E){var {left:P6w, top:y75, right:I12, bottom:T_q}=u$E.getBoundingClientRect();if(O3f.boxIntersects(P6w,y75,I12,T_q,W5u,Z0R,W5u,Z0R)){R3d="anchorHand";R3d+="le";W6Z.highlighted=!!1;this.anyHighlighted=!!({});D$e=!!({});y1i={message:q0_.name,type:R3d};continue;}if(W6Z.highlighted === !!"1"){W6Z.highlighted=!1;D$e=!!({});}}}}if(!D8F && !this.anyHighlighted && W69.dataSegment){B3J=this.barFromPixel(b6D);if(B3J >= 0 && B3J < W69.dataSegment.length){for(u$d in this.overlays){s5$=this.overlays[u$d];if(s5$.panel != this.currentPanel.name)continue;if(s5$.study.isHighlighted === !({}))continue;else if(typeof s5$.study.isHighlighted == "function"){if(s5$.study.isHighlighted(this,b6D,i5l)){s5$.highlight=!0;this.anyHighlighted=!![];}continue;}S2r=W69.dataSegment[B3J];if(!S2r)continue;for(var M79 in s5$.outputMap){if(y$R.call(this,B3J,b45,M79,s5$.getYAxis(this))){if(s5$.name != s5$.panel){this.anyHighlighted=!"";}s5$.highlight=M79;break;}}if(s5$.highlight){this.highlightedDataSetField=M79;break;;}}for(u$d in W69.seriesRenderers){if(this.highlightedDataSetField)break;s5Y=W69.seriesRenderers[u$d];u7f=s5Y.params.panel;if(s5Y == this.mainSeriesRenderer)continue;if(!s5Y.params.highlightable && !this.currentVectorParameters.vectorType)continue;if(u7f != this.currentPanel.name)continue;for(J9M=0;J9M < s5Y.seriesParams.length;J9M++){z4Z="-";z4Z+="-";z4Z+=">";Q0B=s5Y.seriesParams[J9M];M$P=Q0B.field;if(!M$P && !s5Y.highLowBars){M$P=this.defaultPlotField || "Close";}if(Q0B.symbol && Q0B.subField){M$P+=z4Z + Q0B.subField;}H41=s5Y.params.yAxis;if(!H41 && u7f){H41=this.panels[u7f].yAxis;}if(s5Y.params.step && B3J > +"0"){if(!s5Y.caches[Q0B.id])continue;v_M=s5Y.caches[Q0B.id][B3J];if(!v_M && v_M !== 0)continue;Z7f.s$9(1);x61=s5Y.caches[Q0B.id][Z7f.v$j(1,B3J)];if((x61 || x61 === 0) && i5l + y0E >= v_M && i5l - y0E <= x61 || i5l - y0E <= v_M && i5l + y0E >= x61){Q0B.highlight=!!"1";this.anyHighlighted=!![];}}else if(y$R.call(this,B3J,b45,M$P,H41,s5Y,Q0B.id)){Q0B.highlight=!!1;this.anyHighlighted=!![];}if(Q0B.highlight){this.highlightedDataSetField=M$P;break;}}}}}u0s=this.preferences.dragging;for(u$d in this.overlays){s5$=this.overlays[u$d];if(s5$.highlight){this.anyHighlighted=!!1;Q9J=s5$.inputs.display || s5$.name;Q9J=this.translateIf(Q9J);y1i={message:Q9J,noDelete:s5$.permanent,noEdit:!s5$.editFunction,type:"study"};z6T=null;if(u0s === !"" || u0s && u0s.study){t0W=s5$;}g$f=s5$.getYAxis(this);}if(s5$.prev != s5$.highlight){D$e=!!1;}}Z7f.W3G();for(u$d in W69.seriesRenderers){e$5=W69.seriesRenderers[u$d];y_4=e$5.params.yAxis?e$5.params.yAxis.textStyle:null;for(var j3f=0;j3f < e$5.seriesParams.length;j3f++){Q0B=e$5.seriesParams[j3f];if(e$5.params.highlightable && Q0B.highlight){R4V="a";R4V+="ut";R4V+="o";this.anyHighlighted=!![];L9Z=Q0B.color || y_4;if(L9Z == R4V){L9Z=this.defaultColor;}if(Q0B.opacity && Q0B.opacity !== 1){L9Z=O3f.hexToRgba(O3f.colorToHex(L9Z),parseFloat(Q0B.opacity));}y1i={message:Q0B.display || Q0B.symbol,backgroundColor:L9Z,noDelete:Q0B.permanent,type:"series"};z6T=null;if(u0s === !!1 || u0s && u0s.series){t0W=e$5;e$5.params.highlight=!!1;}g$f=e$5.getYAxis(this);}if(Q0B.prev != Q0B.highlight){D$e=!!({});}}}for(u$d in this.plugins){R5U=this.plugins[u$d];O2A={};if(R5U.findHighlights){O2A=R5U.findHighlights(this,m5Z,D8F);if(O2A.somethingChanged){D$e=!!({});}if(O2A.anyHighlighted){this.anyHighlighted=!!({});y1i=O2A.stickyArgs || ({});}}}J0a=this.whichPanel(i5l);w8L=this.whichYAxis(J0a,b6D);if(!g$f){g$f=w8L;}if(this.currentBaseline){g$f=this.currentBaseline.getYAxis(this);}if(g$f){if(!g$f.highlight){D$e=!"";}g$f.highlight=!![];}E_l=[];for(var x2x in this.panels){E_l=E_l.concat(this.panels[x2x].yaxisLHS).concat(this.panels[x2x].yaxisRHS);}function y$R(t4N,K56,l$X,u_1,E8t,W4Y){var v38,p1N,K3F,R8c,J$a,A$i,Z6N,b5_,X1C,P$E,f_S,f1N,q53,n3y,S0g,D7P,q2N,P8g,J1h,Q5i,v1f,h0g,N3V;function y2$(B$z){var x2n;if(!B$z){return null;}x2n=B$z[J$a];if(x2n && (x2n[A$i] || x2n[A$i] === +"0")){x2n=x2n[A$i];}if(E8t && E8t.getBasis){x2n+=E8t.getBasis(B$z,J$a,A$i);}if(!p1N.transformFunc || u_1 != p1N.yAxis){return x2n;}else if(B$z.transform && (J$a in B$z.transform)){x2n=B$z.transform[J$a];if(x2n && (x2n[A$i] || x2n[A$i] === 0)){x2n=x2n[A$i];}return x2n;}return p1N.transformFunc(this,p1N,x2n);}v38="-";v38+="-";v38+=">";p1N=this.chart;K3F=this.currentPanel;if(!u_1){u_1=K3F.yAxis;}R8c=l$X.split(v38);J$a=R8c[0];A$i=R8c[1];Z7f.W3G();if(!A$i){A$i="Close";}Z6N=p1N.dataSegment[B3J];q53=null;n3y=null;S0g=null;D7P=new Array(3);q2N=E8t && E8t.caches[W4Y];if(Z6N && q2N){P$E=q2N[B3J];q53=Z6N.tick;if(P$E || P$E === ("0" | 0)){D7P[0]=1;}for(P8g=B3J - 1;P8g >= 0;P8g--){if(q2N[P8g] || q2N[P8g] === 0){f_S=q2N[P8g];Z7f.O_b(88);n3y=Z7f.v$j(P8g,q53,B3J);D7P[1]=1;break;}}for(P8g=B3J + 1;P8g < p1N.dataSegment.length;P8g++){if(q2N[P8g] || q2N[P8g] === +"0"){f1N=q2N[P8g];Z7f.s$9(88);S0g=Z7f.V9a(P8g,q53,B3J);D7P[2]=1;break;}}}if(n3y === null){b5_=this.getPreviousBar.call(this,p1N,l$X,B3J);if(b5_){n3y=b5_.tick;f_S=y2$(b5_);}}if(S0g === null){X1C=this.getNextBar.call(this,p1N,l$X,B3J);if(X1C){S0g=X1C.tick;f1N=y2$(X1C);}}if(n3y === null && S0g === null){return !"1";}if(!q2N){P$E=y2$(Z6N);f_S=y2$(b5_);f1N=y2$(X1C);q53=Z6N.tick;if(b5_){n3y=b5_.tick;}if(X1C){S0g=X1C.tick;}}if(!f_S && f_S !== "0" * 1){f_S=0;n3y=0;}if(!f1N && f1N !== 0){if(P$E || P$E === "0" - 0){f1N=P$E;D7P[2]=D7P[+"0"];}else {f1N=f_S;Z7f.s$9(39);D7P[Z7f.V9a("2",0)]=D7P[1];}if(W4Y && p1N.series[W4Y].parameters.extendToEndOfDataSet){Z7f.s$9(23);var g4x=Z7f.v$j(3,2);S0g=p1N.dataSet.length - g4x;}else {S0g=n3y;}}if(!P$E && P$E !== 0){P$E=f1N;q53=S0g;D7P[0]=D7P[2];if(f_S === 0 && n3y === 0){f_S=P$E;n3y=q53;D7P[1]=D7P[0];}}J1h=this.pixelFromTransformedValue.bind(this);Q5i=this.valueFromPixel.bind(this);P$E=Q5i(D7P[0]?P$E:J1h(P$E,K3F,u_1),K3F);f_S=Q5i(D7P["1" ^ 0]?f_S:J1h(f_S,K3F,u_1),K3F);f1N=Q5i(D7P[2]?f1N:J1h(f1N,K3F,u_1),K3F);v1f=O3f.convertBoxToPixels(this,K3F.name,K56);h0g=O3f.convertBoxToPixels(this,K3F.name,{x0:n3y,y0:f_S,x1:q53,y1:P$E});N3V=O3f.convertBoxToPixels(this,K3F.name,{x0:q53,y0:P$E,x1:S0g,y1:f1N});if(O3f.boxIntersects(v1f.x0,v1f.y0,v1f.x1,v1f.y1,h0g.x0,h0g.y0,h0g.x1,h0g.y1,"segment") || O3f.boxIntersects(v1f.x0,v1f.y0,v1f.x1,v1f.y1,N3V.x0,N3V.y0,N3V.x1,N3V.y1,"segment")){return !!({});}return !!0;}for(u$d=0;u$d < E_l.length;u$d++){if(g$f == E_l[u$d] && !D8F)continue;if(E_l[u$d].highlight){D$e=!![];}E_l[u$d].highlight=![];}for(J9M=0;y7H && J9M < y7H.length;J9M++){g36=y7H[J9M];X1g=g36.params.box;if(!X1g)continue;if(g36.params.panelName !== this.currentPanel.name)continue;H3z=O3f.convertBoxToPixels(this,this.currentPanel.name,b45);if(O3f.boxIntersects(H3z.x0,H3z.y0,H3z.x1,H3z.y1,X1g.x0,X1g.y0,X1g.x1,X1g.y1)){this.activeMarker=g36;g36.highlight=!!"1";this.markerHelper.highlighted.push(g36);}if(g36.prev != g36.highlight){D$e=!!({});}}if(D$e){this.draw();y1i.panel=J0a;if(this.anyHighlighted && !this.grabStartYAxis){y1i.panel=J0a;}else {y1i={};}this.displaySticky(y1i);this.clearMeasure();if(z6T){z6T.measure();}}if((u0s === !0 || u0s && u0s.yaxis) && w8L && !w8L.noDraw){this.anyHighlight=!!({});t0W=w8L;}if(!this.anyHighlighted){this.setMeasure();}if(t0W && !J0a.noDrag){H5C="stx-d";H5C+="raggab";H5C+="le";if(this.longHoldTookEffect && !this.cancelLongHold){if(t0W.params){if(t0W.params.dependentOf){t0W=W69.seriesRenderers[t0W.params.dependentOf];t0W.params.highlight=!0;}for(u$d in W69.seriesRenderers){if(W69.seriesRenderers[u$d].params.dependentOf == t0W.params.name){W69.seriesRenderers[u$d].params.highlight=!!1;}}}this.highlightedDraggable=t0W;if(t0W.getDependents){J$G=t0W.getDependents(this,!!({}));for(u$d in this.overlays){s5$=this.overlays[u$d];if(J$G.indexOf(s5$) > -("1" * 1)){s5$.highlight=!!({});}}}}this.container.classList.add(H5C);}else {O9N=-333451783;m40=-1204407705;n7D=2;for(var R4Q=+"1";Z7f.l5h(R4Q.toString(),R4Q.toString().length,96758) !== O9N;R4Q++){y__="stx-";y__+="dra";y__+="gga";y__+="ble";this.container.classList.remove(y__);n7D+=2;}if(Z7f.m6F(n7D.toString(),n7D.toString().length,8656) !== m40){this.container.classList.remove("");}}this.highlightedDataSetField=this.adjustHighlightedDataSetField(this.highlightedDataSetField);this.displayDrawOK();};O3f.ChartEngine.prototype.rightClickHighlighted=function(){var n5N;n5N="rightClic";n5N+="kHighli";n5N+="gh";n5N+="ted";if(this.runPrepend("rightClickHighlighted",arguments)){return;}this.deleteHighlighted(!!"1");Z7f.W3G();this.runAppend(n5N,arguments);};O3f.ChartEngine.prototype.deleteHighlighted=function(N9r,V3D){var V0W,F0n,k6w,I62,f$8,Y9P,D_b,S_k,i_S,A5_,t7W,g_y,h0o;V0W="deleteH";V0W+="ighlighte";V0W+="d";if(this.runPrepend(V0W,arguments)){return;}this.cancelTouchSingleClick=!!"1";O3f.clearCanvas(this.chart.tempCanvas,this);F0n=this.bypassRightClick === !!0;if(F0n || !this.bypassRightClick.drawing){for(var V77=this.drawingObjects.length - 1;V77 >= 0;V77--){k6w=this.drawingObjects[V77];if(!k6w.highlighted)continue;if(N9r){this.rightClickDrawing(k6w,V3D);}else if(!k6w.permanent){I62=k6w.abort();if(!I62){f$8=this.exportDrawings();this.drawingObjects.splice(V77,1);this.undoStamp(f$8,this.exportDrawings());}this.changeOccurred("vector");}}}if(F0n || !this.bypassRightClick.study){for(var u9R in this.overlays){Y9P=this.overlays[u9R];if((Y9P.overlay || Y9P.underlay) && Y9P.highlight && !Y9P.permanent){if(N9r || V3D){this.rightClickOverlay(u9R,V3D);}else {this.removeOverlay(u9R);}}}}D_b=this.currentPanel.chart;if(F0n || !this.bypassRightClick.series){for(var E5g in D_b.seriesRenderers){S_k=D_b.seriesRenderers[E5g];if(S_k.params.highlightable){i_S=this.panels[S_k.params.panel];A5_=i_S && i_S.yAxis.name;for(var J6O=S_k.seriesParams.length - 1;J6O >= 0;J6O--){t7W=S_k.seriesParams[J6O];if((S_k.params.highlight || t7W.highlight) && !t7W.permanent){S_k.removeSeries(t7W.id);if(S_k.seriesParams.length < 1){this.removeSeriesRenderer(S_k);if(S_k.params.name == A5_){this.electNewPanelOwner(S_k.params.panel);}else {this.checkForEmptyPanel(S_k.params.panel);g_y=this.getYAxisByName(i_S,S_k.params.name);if(g_y){g_y.name=g_y.studies[0] || g_y.renderers["1" - 0];}}}}}}}}this.draw();this.resizeChart();this.clearMeasure();h0o=this.controls.mSticky;if(h0o){h0o.style.display="none";h0o.children[0].innerHTML="";}this.runAppend("deleteHighlighted",arguments);};O3f.ChartEngine.prototype.displayDragOK=function(N4E){var W2w,N9O,q9H,g1o,a8f,W6t,w0N,f4Q,V9u,t2$,m6I,x6u,y_E,t7Y,N3e;W2w=this.controls.dragOk;function L4m(x$m){var X5N,s1M,T7I,J$Y,Q6p;Z7f.W3G();X5N=".";X5N+="field";s1M="t";s1M+="ex";s1M+="t";T7I=".fi";T7I+="el";T7I+="d";J$Y=this.translateIf(x$m.querySelector(T7I).getAttribute(s1M));Q6p=this.whichYAxis(this.whichPanel(this.cy),this.cx,this.cy);if(Q6p && Q6p.dropzone == "all"){J$Y+="-->" + this.translateIf(Q6p.name);}x$m.querySelector(X5N).innerHTML=J$Y;}if(W2w){if(!N4E){if(!this.tapForHighlighting || !this.touchingEvent || this.anyHighlighted){this.findHighlights(this.highlightViaTap);};}N9O=this.highlightedDraggable;q9H=N9O && N9O.undraggable && N9O.undraggable(this);g1o=this.cx;a8f=this.cy;if(!N4E){if(N9O && !q9H && this.longHoldTookEffect && !this.cancelLongHold){W6t="stx-dr";W6t+="ag-ser";W6t+="ies";w0N="s";w0N+="tx-";w0N+="drag-axis";f4Q="s";f4Q+="tx-drag-chart";V9u=N9O.inputs && N9O.inputs.display || N9O.params && (N9O.params.display || N9O.params.name) || N9O.name;W2w.querySelector(".field").setAttribute("text",V9u);L4m.call(this,W2w);W2w.style.display="inline-block";this.draw();this.displaySticky();if(this.grabStartYAxis){this.container.classList.replace(f4Q,w0N);}else {this.container.classList.replace("stx-drag-chart",W6t);}}else {W2w.style.display="none";this.draw();this.container.classList.remove("stx-drag-series");this.container.classList.remove("stx-drag-axis");for(var B0F in this.panels){t2$="a";t2$+="ll";m6I=this.panels[B0F].subholder.classList;m6I.remove("dropzone");m6I.remove(t2$);m6I.remove("left");m6I.remove("right");m6I.remove("top");m6I.remove("bottom");for(x6u=0;x6u < this.panels[B0F].yaxisLHS.length;x6u++){this.panels[B0F].yaxisLHS[x6u].dropzone=null;}for(x6u=0;x6u < this.panels[B0F].yaxisRHS.length;x6u++){this.panels[B0F].yaxisRHS[x6u].dropzone=null;}}}this.draw();}if(N9O){y_E="p";y_E+="x";t7Y=a8f + W2w.offsetHeight;N3e=Math.max(0,g1o - W2w.offsetWidth);Z7f.s$9(0);W2w.style.top=Z7f.v$j(t7Y,"px");Z7f.s$9(0);W2w.style.left=Z7f.v$j(N3e,y_E);L4m.call(this,W2w);}}};O3f.ChartEngine.prototype.displayDrawOK=function(){Z7f.W5N();var J6m,p9X,Y4Y,l9_,a42,h5e;J6m=this.controls.drawOk;if(J6m && O3f.Drawing){p9X=O3f.Drawing[this.currentVectorParameters.vectorType];if(p9X){p9X=new p9X();}if(this.highlightedDataSetField && p9X && p9X.getYValue){Y4Y=".f";Y4Y+="i";Y4Y+="e";Y4Y+="ld";l9_="in";l9_+="li";l9_+="ne-blo";l9_+="ck";J6m.style.display=l9_;a42=this.cy + J6m.offsetHeight;h5e=this.cx - J6m.offsetWidth;Z7f.s$9(0);J6m.style.top=Z7f.v$j(a42,"px");Z7f.s$9(0);J6m.style.left=Z7f.v$j(h5e,"px");J6m.querySelector(Y4Y).innerHTML=this.translateIf(this.highlightedDataSetField);}else {J6m.style.display="none";}}};O3f.ChartEngine.prototype.mouseWheel=function(L5g){var N7C,T1Z,r6w,a6K,s$5,x40,s0o,J5Z,K0F;N7C="mouseWhee";N7C+="l";if(this.runPrepend("mouseWheel",arguments)){return;}if(L5g.preventDefault){L5g.preventDefault();}if(this.openDialog !== ""){return;}T1Z=L5g.deltaX;r6w=L5g.deltaY;if(Math.abs(r6w) > Math.abs(T1Z)){T1Z=0;}else {r6w=0;}this.lastMouseWheelEvent=Date.now();if(Math.abs(T1Z) === 0 && Math.abs(r6w) === "0" * 1){return;}if(this.allowSideswipe && T1Z !== 0){this.lastMove="horizontal";a6K=T1Z;if(a6K > 50){a6K=50;}if(a6K < -50){a6K=-50;}this.grabbingScreen=!![];if(!this.currentPanel){this.currentPanel=this.chart.panel;}this.grabStartX=O3f.ChartEngine.crosshairX;this.grabStartY=O3f.ChartEngine.crosshairY;this.grabStartScrollX=this.chart.scroll;this.grabStartScrollY=this.currentPanel.yAxis.scroll;this.grabStartMicropixels=this.micropixels;this.grabStartPanel=this.currentPanel;this.mousemoveinner(O3f.ChartEngine.crosshairX - a6K,O3f.ChartEngine.crosshairY);this.updateChartAccessories();this.grabbingScreen=!!"";return;}this.lastMove="vertical";if(!this.allowZoom){return;}if(!this.displayInitialized){return;}if(!r6w){s$5="mous";s$5+="ew";s$5+="h";s$5+="eel";if(O3f.wheelEvent == s$5){Z7f.s$9(23);var k13=Z7f.V9a(4,5);Z7f.s$9(89);var i0$=Z7f.V9a(4,13,17,39);r6w=k13 / i0$ * L5g.wheelDelta;if(L5g.wheelDeltaX){Z7f.s$9(1);var M4W=Z7f.V9a(20,19);Z7f.s$9(0);var y_X=Z7f.v$j(27,13);T1Z=M4W / y_X * L5g.wheelDeltaX;}}else {r6w=L5g.detail;}}if(typeof L5g.deltaMode == "undefined"){L5g.deltaMode=L5g.type == "MozMousePixelScroll"?0:1;}x40=-r6w;if(L5g.deltaMode == 1){x40*=33;}s0o=null;J5Z=null;if(this.mouseWheelAcceleration){K0F=Math.max(Math.pow(Math.abs(x40),"0.3" * 1),+"1");Z7f.s$9(90);s0o=Z7f.V9a(K0F,0.1,1);Z7f.O_b(46);J5Z=Z7f.V9a(0.2,1,K0F);}this.zoomInitiatedByMouseWheel=!!1;if(x40 > 0){if(this.reverseMouseWheel){this.zoomOut(null,J5Z);}else {this.zoomIn(null,s0o);}}else if(x40 < 0){if(this.reverseMouseWheel){this.zoomIn(null,s0o);}else {this.zoomOut(null,J5Z);}}if(this.runAppend(N7C,arguments)){return;}return ![];};O3f.ChartEngine.handleContextMenu=function(d0P){var d85;for(var u4U=0;u4U < O3f.ChartEngine.registeredContainers.length;u4U++){d85=O3f.ChartEngine.registeredContainers[u4U].stx;if(d85){if(d85.anyHighlighted){if(d0P.preventDefault){d0P.preventDefault();}return !!"";}}}};if(typeof document != Q34){document.addEventListener(n2V,O3f.ChartEngine.handleContextMenu);}O3f.ChartEngine.htmlControls={annotationSave:'<span class="stx-btn stx_annotation_save" style="display: none;">save</span>',annotationCancel:s69,mSticky:e9u,drawOk:J3z,dragOk:F44,crossX:'<div class="stx_crosshair stx_crosshair_x" style="display: none;"></div>',crossY:'<div class="stx_crosshair stx_crosshair_y" style="display: none;"></div>',chartControls:'<div class="stx_chart_controls" style="display: none; bottom: 22px;"><div class="chartSize"><span class="stx-zoom-out"></span><span class="stx-zoom-in"></span></div></div>',home:'<div class="stx_jump_today" style="display:none"><span></span></div>',floatDate:'<div class="stx-float-date" style="visibility: hidden;"></div>',handleTemplate:'<div class="stx-ico-handle" style="display: none;"><span></span></div> ',iconsTemplate:'<div class="stx-panel-control"><div class="stx-panel-title"></div><div class="stx-panel-legend"></div><div class="stx-btn-panel"><span class="stx-ico-up"></span></div><div class="stx-btn-panel"><span class="stx-ico-focus"></span></div><div class="stx-btn-panel"><span class="stx-ico-down"></span></div><div class="stx-btn-panel"><span class="stx-ico-edit"></span></div><div class="stx-btn-panel"><span class="stx-ico-close"></span></div></div>',baselineHandle:'<div class="stx-baseline-handle" style="display: none;"></div>',notificationTray:'<div class="stx_notification_tray"><template><div><span class="icon"></span><span class="message"></span></div></template></div>'};O3f.ChartEngine.prototype.registerChartControl=function(a0o,Q$C,X6s){var i9F,k1H,L4F,s_l;i9F=this.controls;if(!i9F || !i9F.chartControls){return;}if(i9F.chartControls.querySelector("." + a0o)){return;}k1H=null;L4F=i9F.chartControls.querySelector(".stx-zoom-in");if(L4F){s_l="s";s_l+="p";s_l+="a";s_l+="n";k1H=document.createElement(s_l);Z7f.O_b(35);k1H.innerHTML=Z7f.V9a(Q$C,"</span>",'<span class="stx-tooltip">');Z7f.s$9(0);k1H.className=Z7f.V9a("stx-chart-control-button ",a0o);L4F.parentNode.appendChild(k1H);if(X6s){O3f.safeClickTouch(k1H,X6s);}if(!O3f.touchDevice){this.makeModal(k1H);}return k1H;}};O3f.ChartEngine.prototype.zoomOut=function(n09,t6c){var y9S,q2w,M$z,w0t,c8T;y9S="zo";Z7f.W5N();y9S+="omOut";if(this.runPrepend(y9S,arguments)){return;}if(this.preferences.zoomOutSpeed){t6c=this.preferences.zoomOutSpeed;}else if(!t6c){Z7f.s$9(9);t6c=Z7f.v$j(1,0.7);}if(n09 && n09.preventDefault){n09.preventDefault();}this.cancelTouchSingleClick=!![];q2w=this;for(var Z0T in this.charts){M$z=this.charts[Z0T];w0t=M$z.width * t6c / this.layout.candleWidth;if(M$z.allowScrollFuture === ![] && M$z.allowScrollPast === !({}) && w0t > M$z.dataSet.length){w0t=M$z.dataSet.length;}c8T=this.chart.width / w0t;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(s9N(M$z),this.layout.candleWidth,c8T);}function s9N(I6n){Z7f.W3G();return function(s$K){var U96;q2w.zoomSet(s$K,I6n);if(q2w.animations.zoom.hasCompleted){U96="la";U96+="yout";if(q2w.runAppend("zoomOut",arguments)){return;}q2w.changeOccurred(U96);if(q2w.continuousZoom){q2w.continuousZoom.execute(!!"1");}}};}};O3f.ChartEngine.prototype.zoomIn=function(S0q,q3r){var B1n,S0P,Q9t,L2c,n_s;B1n="zo";B1n+="o";B1n+="m";B1n+="In";if(this.runPrepend(B1n,arguments)){return;}if(this.preferences.zoomInSpeed){q3r=this.preferences.zoomInSpeed;}else if(!q3r){q3r=0.7;}if(S0q && S0q.preventDefault){S0q.preventDefault();}this.cancelTouchSingleClick=!0;S0P=this;for(var a4N in this.charts){Q9t=this.charts[a4N];L2c=Q9t.width * q3r / this.layout.candleWidth;if(Q9t.maxTicks - L2c < 1){Z7f.O_b(1);var y3U=Z7f.v$j(19,20);L2c=Q9t.maxTicks - y3U;}if(L2c < this.minimumZoomTicks){L2c=this.minimumZoomTicks;}n_s=this.chart.width / L2c;this.layout.setSpan=null;this.layout.range=null;this.animations.zoom.run(C5l(Q9t),this.layout.candleWidth,n_s);}function C5l(j6z){return function(p4o){var c7c;S0P.zoomSet(p4o,j6z);Z7f.W5N();if(S0P.animations.zoom.hasCompleted){c7c="z";c7c+="o";c7c+="o";c7c+="mIn";if(S0P.runAppend(c7c,arguments)){return;}S0P.changeOccurred("layout");if(S0P.continuousZoom){S0P.continuousZoom.execute();}}};}};O3f.ChartEngine.prototype.createCrosshairs=function(){var g34,U83;if(this.runPrepend("createCrosshairs",arguments)){return;}if(!this.manageTouchAndMouse || this.mainSeriesRenderer && this.mainSeriesRenderer.nonInteractive){return;}g34=this.controls.crossX;U83=this.controls.crossY;if(g34){if(!g34.onmousedown){g34.onmousedown=function(n_F){if(n_F.preventDefault){n_F.preventDefault();}return !!"";};}}if(U83){if(!U83.onmousedown){U83.onmousedown=function(V0A){Z7f.W3G();if(V0A.preventDefault){V0A.preventDefault();}return !"1";};}}this.runAppend("createCrosshairs",arguments);};J0h=!!"";O3f.ChartEngine.prototype.mousemoveinner=O3f.ChartEngine.prototype.mousemoveinner || (function(Q$l,U2r){if(!J0h){console.error("interaction feature requires activating movement feature.");}Z7f.W3G();J0h=!![];});};V=Q5o=>{var b$6=i6UVR;var a8d,b4N;a8d="u";b$6.W3G();a8d+="n";a8d+="d";a8d+="efined";b4N=typeof _CIQ !== a8d?_CIQ:Q5o.CIQ;if(!b4N.Marker){b4N.ChartEngine.helpersToRegister.push(function(b1D){b$6.W3G();b1D.markerHelper={chartMap:{},classMap:{},domMarkers:[],highlighted:[]};});b4N.ChartEngine.prototype.addToHolder=function(N9p){var W4z,z0c,T5R,s2g;W4z=this.panels[N9p.params.panelName];b$6.W3G();if(!W4z){return;}z0c=N9p.params;T5R=N9p.node;s2g=N9p.stxNodeCreator;if(s2g && s2g.prepareForHolder){T5R=s2g.prepareForHolder(N9p);}if(z0c.chartContainer){this.container.appendChild(N9p.node);}else if(z0c.includeAxis){W4z.holder.appendChild(N9p.node);}else {W4z.subholder.appendChild(T5R);}N9p.chart=W4z.chart;if(s2g && s2g.addToHolder){s2g.addToHolder(N9p);}if(s2g && s2g.expand){b4N.Marker.initializeScrollBehavior(s2g);}};b4N.ChartEngine.prototype.getMarkerArray=function(k4H,I3F){var z2I,o8w;z2I=[];for(var h6u in this.markers){for(var t5d=0;t5d < this.markers[h6u].length;t5d++){o8w=this.markers[h6u][t5d];if(k4H == "panelName"){if(o8w.params.panelName == I3F){z2I.push(o8w);}}else if(k4H == "label"){if(h6u == I3F){z2I.push(o8w);}}else if(k4H == "all"){z2I.push(o8w);}}}return z2I;};b4N.ChartEngine.prototype.removeFromHolder=function(S$G){var D$H,F6y,D7g,W5C,T6x,o5J;D$H=this.panels[S$G.params.panelName];if(D$H){if(S$G.node.parentNode == D$H.holder){D$H.holder.removeChild(S$G.node);}else if(S$G.node.parentNode == D$H.subholder){D$H.subholder.removeChild(S$G.node);}else if(S$G.node.parentNode == this.container){this.container.removeChild(S$G.node);}}F6y=this.markers[S$G.params.label];if(!F6y){return;}b$6.W5N();for(D7g=0;D7g < F6y.length;D7g++){if(F6y[D7g] === S$G){F6y.splice(D7g,1);break;}}W5C=this.markerHelper.chartMap[S$G.chart.name];if(W5C){for(D7g="0" | 0;D7g < W5C.markers.length;D7g++){if(W5C.markers[D7g] === S$G){W5C.markers.splice(D7g,1);break;}}}T6x=this.markerHelper.classMap[S$G.className];if(T6x){o5J=T6x[S$G.params.panelName];if(o5J){for(D7g=0;D7g < o5J.length;D7g++){if(o5J[D7g] === S$G){o5J.splice(D7g,1);break;}}}}};b4N.ChartEngine.prototype.moveMarkers=function(E3G,S3w){var q4U,w7k;q4U=this.getMarkerArray("panelName",E3G);for(var e2a=0;e2a < q4U.length;e2a++){q4U[e2a].params.panelName=S3w;}for(var g5b in this.markerHelper.classMap){w7k=this.markerHelper.classMap[g5b][E3G];if(w7k){this.markerHelper.classMap[g5b][S3w]=w7k;delete this.markerHelper.classMap[g5b][E3G];}}};b4N.ChartEngine.prototype.establishMarkerTicks=function(){var i2P,E1z;i2P=this.markerHelper.chartMap;b$6.W3G();for(var w8o in i2P){E1z=i2P[w8o];if(E1z.dataSetLength == this.charts[w8o].dataSet.length)continue;for(var J6l="0" >> 64;J6l < E1z.markers.length;J6l++){this.setMarkerTick(E1z.markers[J6l]);}}};b4N.ChartEngine.prototype.futureTickIfDisplayed=function(b_P){var l81,I2v,x26,Q7U,B4b,D0F,H$$,X1p,N9w;l81=b_P.chart;if(l81.dataSet.length < 1){return;}I2v=l81.xaxis[l81.xaxis.length - 1].DT;b$6.O_b(33);var v4v=b$6.v$j(59994,12,6);I2v=new Date(I2v.getTime() - this.timeZoneOffset * v4v);if(b_P.params.x > I2v){return;}x26=l81.maxTicks - l81.dataSegment.length;Q7U=l81.dataSet.length + x26;H$$=new Date(+l81.dataSet[l81.dataSet.length - 1].DT);b$6.W3G();X1p=this.standardMarketIterator(H$$,null,l81);N9w=b_P.params.x.getTime();for(var A1G=l81.dataSet.length;A1G < Q7U;A1G++){B4b=H$$.getTime();H$$=X1p.next();D0F=H$$.getTime();if(D0F == N9w){b_P.tick=A1G;return;}else if(D0F > N9w && B4b < N9w){b$6.O_b(1);b_P.tick=Math.max(b$6.v$j(1,A1G),0);return;}}};b4N.ChartEngine.prototype.setMarkerTick=function(b9W){var Z2$,x1N,L6N,J95,J_7,K2a,a1h;Z2$="mast";Z2$+="er";x1N=b9W.chart;if(b9W.params.xPositioner == Z2$ && b9W.params.x){b9W.tick=Math.floor(b9W.params.x / this.layout.periodicity);return;}else if(b9W.params.xPositioner == "date" && b9W.params.x){J_7=b9W.params.x.getTime();for(var B60=0;B60 < x1N.dataSet.length;B60++){K2a=x1N.dataSet[B60];J95=K2a.DT.getTime();L6N=J95;if(B60 > "0" >> 32){L6N=x1N.dataSet[B60 - 1].DT.getTime();}if(J95 == J_7){b9W.tick=B60;return;}else if(J95 > J_7 && L6N < J_7){b$6.O_b(1);b9W.tick=Math.max(b$6.V9a(1,B60),b$6.V9a(0,"0"));return;}else if(J_7 < J95){b9W.tick=null;return;}}if(x1N.dataSet.length < 1){return;}a1h=new Date(+x1N.dataSet[B60 - "1" * 1].DT);if(a1h.getTime() < J_7){b9W.params.future=!!({});}b9W.tick=null;;}};b4N.ChartEngine.prototype.positionMarkers=function(){var L$X,M15,n2b,g7g,G8J,m3v,d1J,x2$;L$X="ti";b$6.W5N();L$X+="c";L$X+="k";M15=this;n2b=this.chart;function Z0l(){b$6.W5N();var w0v,a8R,v16,S0c;if(M15.runPrepend("positionMarkers",arguments)){return;}M15.markerTimeout=null;for(var U6c in M15.markerHelper.classMap){for(var L$q in M15.markerHelper.classMap[U6c]){w0v=M15.markerHelper.classMap[U6c][L$q];a8R=M15.panels[L$q];if(w0v.length){v16={stx:M15,arr:w0v,panel:a8R};v16.firstTick=a8R.chart.dataSet.length - a8R.chart.scroll;v16.lastTick=v16.firstTick + a8R.chart.dataSegment.length;S0c=w0v[0].constructor.placementFunction;if(S0c){S0c(v16);}else {M15.defaultMarkerPlacement(v16);}}}}M15.runAppend("positionMarkers",arguments);}if(!M15.markerHelper){return;}if(this.markerDelay || this.markerDelay === 0){if(!this.markerTimeout){this.markerTimeout=setTimeout(Z0l,this.markerDelay);}}else {Z0l();}g7g=this.getFirstLastDataRecord(n2b.dataSegment,"tick");G8J=this.getFirstLastDataRecord(n2b.dataSegment,L$X,!!"1");if(!g7g || !G8J){return;}m3v=this.getMarkerArray("all");for(var Z4k=0;Z4k < m3v.length;Z4k++){d1J=m3v[Z4k];x2$=d1J.stxNodeCreator;if(g7g.tick <= d1J.tick && d1J.tick <= G8J.tick){if(x2$ && x2$.drawMarker){x2$.drawMarker(d1J);}}else if(d1J.attached && x2$.expand){x2$.expand.style.visibility="hidden";}}};b4N.Marker=b4N.Marker || (function(I58){var S6E,k0$,n0B,s9C,P3R,j5I;S6E="da";S6E+="t";S6E+="e";this.params={xPositioner:S6E,yPositioner:"value",panelName:"chart",permanent:!({}),label:"generic",includeAxis:!({})};b4N.extend(this.params,I58);if(!this.params.node){this.params.node=document.createElement("DIV");}k0$=this.params.stx;b$6.W5N();if(!k0$){console.log("Marker created without specifying stx");return;}if(!this.className){this.className="CIQ.Marker";}if(b4N.derivedFrom(this.params.node,b4N.Marker.NodeCreator)){this.stxNodeCreator=this.params.node;this.node=this.stxNodeCreator.node;}else {this.node=this.params.node;}n0B=this.params.label;if(!k0$.markers[n0B]){k0$.markers[n0B]=[];}k0$.markers[n0B].push(this);s9C=k0$.panels[this.params.panelName];this.chart=s9C.chart;if(!k0$.markerHelper.chartMap[this.chart.name]){k0$.markerHelper.chartMap[this.chart.name]={dataSetLength:0,markers:[]};}k0$.markerHelper.chartMap[this.chart.name].markers.push(this);P3R=k0$.markerHelper.classMap[this.className];if(!P3R){P3R=k0$.markerHelper.classMap[this.className]={};}if(!P3R[this.params.panelName]){P3R[this.params.panelName]=[];}P3R[this.params.panelName].push(this);j5I=this.stxNodeCreator && this.stxNodeCreator.deferAttach;if(!j5I){k0$.addToHolder(this);}k0$.setMarkerTick(this);if(this.stxNodeCreator && this.stxNodeCreator.drawMarker){this.stxNodeCreator.drawMarker(this);}});b4N.Marker.prototype.remove=function(){b$6.W5N();this.params.stx.removeFromHolder(this);};b4N.Marker.prototype.click=function(a5q){var q$d;if(typeof arguments["0" | 0] === "number"){a5q={cx:arguments[0],cy:arguments["1" - 0],panel:arguments["3" * 1]};}var {cx:D96, cy:s2j, panel:T5$}=a5q;if(!this.params.stx){return;}q$d=this.params.node;if(q$d.click){q$d.click(D96,s2j,this,T5$);}};b4N.Marker.prototype.doubleClick=function({cx:F4X, cy:N73, panel:Z6B}){return ![];};b4N.Marker.prototype.render=function(){var i4O,S2d;b$6.W3G();i4O=[this];S2d={stx:this.params.stx,arr:i4O,panel:this.params.stx.panels[this.params.panelName],showClass:this.showClass};this.constructor.placementFunction(S2d);};b4N.Marker.removeByLabel=function(b$q,z8p){var X0u,b$k;X0u=b$q.getMarkerArray("label",z8p);for(var k2h="0" * 1;k2h < X0u.length;k2h++){b$k=X0u[k2h];b$q.removeFromHolder(b$k);if(b$k.stxNodeCreator && b$k.stxNodeCreator.remove){b$k.stxNodeCreator.remove(b$k);}}b$q.draw();};b4N.Marker.positionContentVerticalAndHorizontal=function(c1W){var w8n,o1$,d2z,p2t,L9D,W4B,v2T,i2T,e4h,n1g,G8L,z1d;w8n=c1W.querySelectorAll(".stx-marker-expand")[0];if(!w8n || !b4N.trulyVisible(w8n)){return;}o1$=w8n.offsetHeight;d2z=w8n.style;d2z.left=d2z.right="";d2z.bottom=d2z.top="";p2t=getComputedStyle(w8n);L9D=p2t.left;b$6.W5N();W4B=p2t.bottom;v2T=c1W.offsetLeft + parseInt(L9D,+"10");i2T=parseInt(W4B,10);e4h=c1W.offsetTop - (i2T + o1$ - c1W.offsetHeight);n1g=c1W.parentNode.offsetWidth;G8L=c1W.parentNode.offsetHeight;if(v2T + w8n.offsetWidth > n1g){d2z.right=L9D;d2z.left="auto";}if(c1W.offsetTop <= G8L){if(e4h > G8L - o1$){d2z.top=G8L - c1W.offsetTop - o1$ + "px";d2z.bottom="auto";}}else {b$6.s$9(0);d2z.top=b$6.v$j(G8L,"px");}if(c1W.offsetTop + c1W.offsetHeight >= +"0"){if(e4h < 0){d2z.top=-c1W.offsetTop + "px";d2z.bottom="auto";}}else {z1d="0";z1d+="p";z1d+="x";d2z.bottom=z1d;}};b4N.Marker.initializeScrollBehavior=function(P1w){var {expand:O24}=P1w;if(!O24){return;}O24.addEventListener(b4N.wheelEvent,k0u=>{return k0u.stopPropagation();});var {scrollbarStyling:a$K}=b4N.UI || ({});if(a$K){a$K.refresh(O24);}else {O24.style.overflowY="scroll";}};b4N.ChartEngine.prototype.getBarBounds=function(k6V){var h3M,M33,Y2v,Z44,k5L,N8i,n3c;h3M="pa";h3M+="n";h3M+="d";h3M+="f";M33=this.layout.chartType;Y2v=this.layout.aggregationType;if(Y2v == h3M){Z44={high:Math.max(k6V.pfOpen,k6V.pfClose),low:Math.min(k6V.pfOpen,k6V.pfClose)};}else {Z44={high:k6V.High,low:k6V.Low};}if(k6V.markerHigh){Z44.high=k6V.markerHigh;}if(k6V.markerLow){Z44.low=k6V.markerLow;}if(k6V.Open === undefined){k5L=k6V.Close;}if(k6V.High === undefined){N8i=Math.max(k6V.Open || k5L,k6V.Close);}if(k6V.Low === undefined){n3c=Math.min(k6V.Open || k5L,k6V.Close);}if(!Z44.high && Z44.high !== 0){Z44.high=N8i;}if(!Z44.low && Z44.low !== 0){Z44.low=n3c;}return Z44;};b4N.ChartEngine.prototype.defaultMarkerPlacement=function(R0w){var W_3,o$w,o7N,b09,X06,x_a,J4u,A9g,k0F,h_c,J6k,M4x,l9U,T3u,a_E,f0d,U5a,A2C,T13,P6$,b7U,G1d,q8A,n7g,X_Q,E6D,e$i,y1p,R2a,q7P,x$$,y3$,F_7,w2y,q0g,w0s,L3m;W_3=R0w.panel;o$w=R0w.yAxis?R0w.yAxis:R0w.panel.yAxis;o7N=W_3.chart;b09=R0w.stx;X06=-1374508831;x_a=-455625996;J4u=2;for(var w4S="1" - 0;b$6.l5h(w4S.toString(),w4S.toString().length,+"5297") !== X06;w4S++){A9g=b09.chart.highLowBars;J4u+=+"2";}if(b$6.l5h(J4u.toString(),J4u.toString().length,73733) !== x_a){A9g=b09.chart.highLowBars;}k0F=o7N.defaultPlotField;if(!k0F || A9g){k0F="Close";}h_c={};for(var x27=0;x27 < R0w.arr.length;x27++){J6k="n";J6k+="o";J6k+="n";J6k+="e";M4x=R0w.arr[x27];l9U=M4x.params;if(M4x.params.box)continue;T3u=M4x.node;if(!M4x.clientWidth){M4x.clientWidth=T3u.clientWidth;}if(!M4x.clientHeight){M4x.clientHeight=T3u.clientHeight;}a_E=null;f0d=l9U.xPositioner;U5a=l9U.yPositioner;A2C=M4x.tick;T13=o7N.dataSet;P6$=M4x.clientWidth;if(f0d != J6k){if(f0d == "bar" && l9U.x){b7U="p";b7U+="x";if(l9U.x < o7N.xaxis.length){G1d=o7N.xaxis[l9U.x];if(G1d){a_E=G1d.data;}}b$6.O_b(91);var b05=b$6.V9a(11,0,22);b$6.O_b(1);var t5x=b$6.v$j(5,6);T3u.style.left=Math.round(b09.pixelFromBar(l9U.x,o7N) - P6$ / b05) + t5x + b7U;}else {if(!A2C && A2C !== 0){if(l9U.future && o7N.scroll < o7N.maxTicks){b09.futureTickIfDisplayed(M4x);A2C=M4x.tick;if(!A2C && A2C !== "0" * 1){q8A="-10";q8A+="00";q8A+="p";q8A+="x";T3u.style.left=q8A;continue;}}else {n7g="-1000p";n7g+="x";T3u.style.left=n7g;continue;}}if(A2C < T13.length){a_E=T13[A2C];}M4x.leftpx=Math.round(b09.pixelFromTick(A2C,o7N) - o7N.left - P6$ / 2);M4x.rightEdge=M4x.leftpx + P6$;T3u.style.left=M4x.leftpx + "px";if(A2C < R0w.firstTick && M4x.rightEdge < o7N.left - 50)continue;;}if(!a_E){b$6.s$9(56);var D8j=b$6.V9a(23,50,8,11,23);a_E=T13[T13.length - ("1" >> D8j)];};}else if(U5a.indexOf("candle") > -1){X_Q=getComputedStyle(T3u).left;if(X_Q){E6D=b09.barFromPixel(parseInt(X_Q,"10" ^ 0),o7N);if(E6D >= 0){a_E=o7N.xaxis[E6D].data;if(!a_E){b$6.s$9(49);var K52=b$6.v$j(1,8,1,4);a_E=T13[T13.length - K52];};}}}T3u.style.top="auto";e$i=l9U.y;y1p=M4x.clientHeight;if(U5a != "none"){q7P="va";q7P+="lue";b$6.O_b(67);var d8q=b$6.v$j(200,7,29,14);b$6.O_b(33);var I1M=b$6.v$j(449,4049,8);b$6.s$9(24);var J0s=b$6.V9a(17,11,31,8363);x$$=U5a + (d8q == (I1M,J0s)?!!1:"-") + T3u.style.left;y3$=l9U.chartContainer?b09.height:W_3.yAxis.bottom;F_7=0;w2y=0;if(typeof h_c[x$$] == "undefined"){h_c[x$$]=0;}w2y=h_c[x$$];h_c[x$$]+=y1p;if(U5a == q7P && (e$i || e$i === 0)){b$6.O_b(92);var I5L=b$6.V9a(174,8,12,14);F_7=Math.round(y3$ - b09.pixelFromPrice(e$i,W_3,o$w) - y1p / I5L) + "px";}else if((U5a == "below_candle" || U5a == "under_candle") && a_E){q0g="hi";q0g+="gh";R2a=a_E[k0F];if(A9g){R2a=b09.getBarBounds(a_E)[o$w.flipped?q0g:"low"];}F_7=Math.round(y3$ - b09.pixelFromPrice(R2a,W_3,o$w) - y1p - w2y) + "px";}else if(U5a == "on_candle" && a_E){R2a=a_E[k0F];if(A9g){b$6.O_b(89);var y4a=b$6.v$j(48,12,6,86);R2a=(a_E.Low + a_E.High) / ("2" << y4a);}b$6.s$9(28);var Q3w=b$6.v$j(0,13,219,17);F_7=Math.round(y3$ - b09.pixelFromPrice(R2a,W_3,o$w) - y1p / Q3w - w2y) + "px";}else if(U5a == "top"){F_7=Math.round(y3$ - y1p - w2y - W_3.top) + "px";}else if(U5a == "bottom"){w0s="p";w0s+="x";F_7=Math.round(w2y) + w0s;}else if(a_E){L3m="p";L3m+="x";R2a=a_E[k0F];if(A9g){R2a=b09.getBarBounds(a_E)[o$w.flipped?"low":"high"];}F_7=Math.round(y3$ - b09.pixelFromPrice(R2a,W_3,o$w) + w2y) + L3m;}if(T3u.style.bottom != F_7){T3u.style.bottom=F_7;}}b4N.Marker.positionContentVerticalAndHorizontal(T3u);}};b4N.Marker.NodeCreator=function(){};b4N.Marker.NodeCreator.toNode=function(){b$6.W5N();return this.node;};b4N.Marker.Simple=function(y88){var I89,x6v,E4H,b0k,h_2,F8t,t0B,O7J,F_W,R3u;I89="Si";I89+="mpl";I89+="e";x6v="callo";x6v+="ut";E4H="stx";E4H+="-";E4H+="m";E4H+="arker";b0k=this.node=document.createElement("div");b0k.className=E4H;b0k.classList.add(y88.type);if(y88.category){b0k.classList.add(y88.category);}h_2=b4N.newChild(b0k,"div","stx-visual");b4N.newChild(b0k,"div","stx-stem");function j7x(){b4N.Marker.positionContentVerticalAndHorizontal(b0k);}if(y88.type == x6v){t0B="st";t0B+="x-mark";t0B+="er";t0B+="-expand";O7J="h";O7J+="4";F_W=b4N.newChild(h_2,"div","stx-marker-content");b4N.newChild(F_W,O7J,null,y88.headline);F8t=b4N.newChild(F_W,"div",t0B);b4N.newChild(F8t,"p",null,y88.story);}else {R3u="d";R3u+="i";R3u+="v";F8t=b4N.newChild(b0k,R3u,"stx-marker-expand");b4N.newChild(F8t,"h4",null,y88.headline);b4N.newChild(F8t,"p",null,y88.story);b4N.safeClickTouch(F8t,function(V0k){var L3c;L3c="h";L3c+="ighl";L3c+="i";L3c+="ght";b0k.classList.toggle(L3c);});}b4N.safeClickTouch(h_2,function(z2R){var K5O,Y_t,w7s,D_6;K5O="hig";K5O+="h";K5O+="li";K5O+="ght";b$6.s$9(29);Y_t=-b$6.V9a("1606267310",64);w7s=1903737154;D_6=2;for(var W7f=1;b$6.m6F(W7f.toString(),W7f.toString().length,40341) !== Y_t;W7f++){b0k.classList.toggle("");D_6+=2;}if(b$6.m6F(D_6.toString(),D_6.toString().length,29320) !== w7s){b0k.classList.toggle("");}b0k.classList.toggle(K5O);b$6.W3G();setTimeout(j7x,+"10");});this.nodeType=I89;this.expand=F8t;};b4N.inheritsFrom(b4N.Marker.Simple,b4N.Marker.NodeCreator,!1);}};M=a18=>{var R_S,D47,d4B,k8w,O5x,o0O,v85;R_S=typeof _CIQ !== "undefined"?_CIQ:a18.CIQ;D47=typeof _timezoneJS !== "undefined"?_timezoneJS:a18.timezoneJS;d4B=60000 * +"60";k8w=d4B * 24;O5x=R_S.Market;R_S.Market=function(s29){var D$Y,j5_;D$Y="unde";D$Y+="f";D$Y+="i";D$Y+="ned";this.market_def=!1;this.rules=!!"";this.normalHours=[];this.extraHours=[];this.class_name="Market";if(!D47.Date){this.tz_lib=Date;;}else {this.tz_lib=D47.Date;}this.market_tz="";this.hour_aligned=!({});this.convertOnDaily=![];this.enabled_by_default=!1;if(typeof s29 != D$Y && s29 && !R_S.isEmpty(s29)){j5_="und";j5_+="efined";if(s29.market_definition){s29=s29.market_definition;}if(s29.rules){this.rules=s29.rules;}if(s29.market_tz){this.market_tz=s29.market_tz;}if(s29.convertOnDaily){this.convertOnDaily=s29.convertOnDaily;}if(typeof s29.hour_aligned){this.hour_aligned=s29.hour_aligned;}if(typeof s29.beginningDayOfWeek !== "undefined"){this.beginningDayOfWeek=s29.beginningDayOfWeek;}if(typeof s29.enabled_by_default !== j5_){if(s29.enabled_by_default instanceof Array){this.enabled_by_default=s29.enabled_by_default;}}this.market_def=s29;if(this.market_def.name === undefined){this.market_def.name="no market name specified";}}else {return;}R_S.Market._createTimeSegments(this);this.getSessionNames();};R_S.Market.Symbology=function(){};R_S.Market.Symbology.isForeignSymbol=function(F_S){i6UVR.W5N();return ![];};R_S.Market.Symbology.isFuturesSymbol=function(p94){i6UVR.W5N();return !!0;};R_S.Market.Symbology.isRateSymbol=function(U_i){i6UVR.W5N();return !({});};R_S.Market.Symbology.isForexSymbol=function(U8k){i6UVR.W5N();return ![];};R_S.Market.Symbology.isForexMetal=function(P2g,w20){return ![];};R_S.Market.Symbology.isForexFuturesSymbol=function(A7n){i6UVR.W5N();if(R_S.Market.Symbology.isForexSymbol(A7n))return !![];if(R_S.Market.Symbology.isFuturesSymbol(A7n))return !!1;return !!0;};R_S.Market.Symbology.factory=function(q_T){i6UVR.W5N();return null;;};R_S.Market.Symbology.encodeTermStructureInstrumentSymbol=function(r7O,z9e){console.warn("You are trying to call `CIQ.Market.Symbology.encodeTermStructureInstrumentSymbol` but have not implemented it.");};if(O5x)R_S.extend(R_S.Market,O5x);R_S.Market.prototype.sessions=null;R_S.Market.prototype.beginningDayOfWeek="0" * 1;R_S.Market.prototype.getSessionNames=function(){var r9y,m7R;if(!this.rules){this.sessions=[];}else if(!this.sessions){r9y=[];m7R=[];this.rules.map(function(W_M){if(W_M.name && r9y.indexOf(W_M.name) === -1){r9y.push(W_M.name);m7R.push({name:W_M.name,enabled:W_M.enabled?W_M.enabled:!({})});}});this.sessions=m7R;}return this.sessions.slice();};R_S.Market.prototype._find_next_segment=function(A8Q,V7b){var T1P,n33,e6Q,O_Y;if(!this.market_def)return null;i6UVR.W3G();if(!this.rules)return null;T1P=new Date(+A8Q);n33=this.newIterator({begin:T1P,interval:+"1",inZone:this.market_tz,outZone:this.market_tz});if(this._wasOpenIntraDay(T1P)){e6Q=this.zseg_match.close_parts.hours;O_Y=this.zseg_match.close_parts.minutes;T1P.setHours(e6Q);T1P.setMinutes(O_Y);n33=this.newIterator({begin:T1P,interval:1,inZone:this.market_tz,outZone:this.market_tz});}return n33.next();};R_S.Market.prototype._find_prev_segment=function(B8v,C88){var I_k,S9M,b4E,W7I,L8V;if(!this.market_def)return null;if(!this.rules)return null;I_k=new Date(+B8v);S9M=this.newIterator({begin:I_k,interval:1,inZone:this.market_tz,outZone:this.market_tz});b4E=this._wasOpenIntraDay(I_k);if(b4E === null){I_k=new Date(I_k - 60000);b4E=this._wasOpenIntraDay(I_k);}else {if(C88 && I_k.getHours() === this.zseg_match.open_parts.hours && I_k.getMinutes() === this.zseg_match.open_parts.minutes || !C88 && I_k.getHours() === this.zseg_match.close_parts.hours && I_k.getMinutes() === this.zseg_match.close_parts.minutes){I_k=S9M.previous();}}if(b4E){W7I=this.zseg_match.open_parts.hours;L8V=this.zseg_match.open_parts.minutes;I_k.setHours(W7I);I_k.setMinutes(L8V);S9M=this.newIterator({begin:I_k,interval:1,inZone:this.market_tz,outZone:this.market_tz});I_k=S9M.previous();if(this.zseg_match.close_parts.hours === W7I){if(this.zseg_match.close_parts.minutes === L8V){if(C88){return S9M.next();}return I_k;}}if(this.zseg_match.adjacent_child){return I_k;}if(C88){return S9M.next();}return I_k;}return S9M.previous();};R_S.Market.prototype.disableSession=function(N_u,d_9){i6UVR.W5N();var I4l;I4l=!!0;if(typeof d_9 !== "undefined" && d_9){I4l=!!1;}if(N_u){for(var r8J=0;r8J < this.normalHours.length;r8J++){if(this.normalHours[r8J].name === N_u){this.normalHours[r8J].enabled=I4l;}}for(r8J=0;r8J < this.extraHours.length;r8J++){if(this.extraHours[r8J].name === N_u){this.extraHours[r8J].enabled=I4l;}}}};R_S.Market.prototype.enableSession=function(U9l){this.disableSession(U9l,"enable_instead");};R_S.Market.prototype.enableAllAvailableSessions=function(){var x_T;x_T=this.getSessionNames();for(var y23=0;y23 < x_T.length;y23++){this.enableSession(x_T[y23].name);}};R_S.Market.prototype.getClose=function(Q7q,S5p,L7R,P0r){var I4D,b5k;if(!this.market_def)return null;if(!this.rules)return null;I4D=Q7q;if(!Q7q){I4D=new Date();L7R=null;;}I4D=this._convertToMarketTZ(I4D,L7R);if(typeof S5p !== "undefined"){if(this._wasOpenIntraDay(I4D)){if(this.zseg_match.name === S5p){I4D.setHours(this.zseg_match.close_parts.hours,this.zseg_match.close_parts.minutes,0,0);I4D=this._convertFromMarketTZ(I4D,P0r);return I4D;}}}else {if(this._wasOpenDaily(I4D)){b5k=this.zseg_match;while(b5k.child_){b5k=b5k.child_;}while(!b5k.enabled){b5k=b5k.parent_;}I4D.setHours(b5k.close_parts.hours,b5k.close_parts.minutes,0,0);I4D=this._convertFromMarketTZ(I4D,P0r);return I4D;}}return null;};R_S.Market.prototype.getNextClose=function(g_i,b7K,u1P){var d2O,Y2k,G5k,q5c;if(!this.market_def)return null;if(!this.rules)return null;d2O=g_i;if(!g_i){d2O=new Date();b7K=null;;}d2O=this._convertToMarketTZ(d2O,b7K);if(!this._wasOpenIntraDay(d2O)){Y2k=this.newIterator({begin:d2O,interval:+"1",inZone:this.market_tz,outZone:this.market_tz});d2O=Y2k.next();}G5k=d2O.getDate();q5c=this.zseg_match;while(q5c.adjacent_child){q5c=q5c.adjacent_child;G5k+=+"1";}d2O.setDate(G5k);d2O.setHours(q5c.close_parts.hours,q5c.close_parts.minutes,0,0);d2O=this._convertFromMarketTZ(d2O,u1P);return d2O;};R_S.Market.prototype.getNextOpen=function(I_O,w1R,t3$){var B7P;if(!this.market_def)return null;if(!this.rules)return null;B7P=I_O;if(!I_O){B7P=new Date();w1R=null;;}B7P=this._convertToMarketTZ(B7P,w1R);B7P=this._find_next_segment(B7P);i6UVR.W5N();if(this.zseg_match.adjacent_parent){B7P=this.getNextOpen(B7P,this.market_tz,this.market_tz);B7P=this._convertFromMarketTZ(B7P,t3$);return B7P;}B7P.setHours(this.zseg_match.open_parts.hours);B7P.setMinutes(this.zseg_match.open_parts.minutes);B7P=this._convertFromMarketTZ(B7P,t3$);return B7P;};R_S.Market.prototype.getOpen=function(y2a,c9f,o51,P6E){var u9Y,i21;i6UVR.W3G();if(!this.market_def)return null;if(!this.rules)return null;u9Y=y2a;if(!y2a){u9Y=new Date();o51=null;;}u9Y=this._convertToMarketTZ(u9Y,o51);if(typeof c9f !== "undefined"){if(this._wasOpenIntraDay(u9Y)){if(this.zseg_match.name == c9f){u9Y.setHours(this.zseg_match.open_parts.hours,this.zseg_match.open_parts.minutes,+"0",+"0");u9Y=this._convertFromMarketTZ(u9Y,P6E);return u9Y;}}}else {if(this._wasOpenDaily(u9Y)){i21=this.zseg_match;while(i21.parent_){i21=i21.parent_;}while(!i21.enabled){i21=i21.child_;}u9Y.setHours(i21.open_parts.hours,i21.open_parts.minutes,0,0);u9Y=this._convertFromMarketTZ(u9Y,P6E);return u9Y;}}return null;};R_S.Market.prototype.getNormalOpen=function(){var {market_def:X8y, rules:X$_}=this;if(!(X8y && X$_))return "00:00";if(X8y.normal_daily_open)return X8y.normal_daily_open;if(X8y.name === "FOREX")return "17:00";return X$_.find(({name:e8Z})=>!e8Z || e8Z === "").open;};R_S.Market.prototype.getNormalClose=function(){var v2D,r6N;v2D="F";v2D+="ORE";v2D+="X";r6N="24";r6N+=":00";var {market_def:f4n, rules:R43}=this;if(!(f4n && R43))return r6N;if(f4n.normal_daily_close)return f4n.normal_daily_close;if(f4n.name === v2D)return "17:00";return R43.filter(({dayofweek:Z24, name:G8f})=>Z24 && (!G8f || G8f === "")).pop().close;};R_S.Market.prototype.getPreviousClose=function(i$O,I2E,K7u){var u48;if(!this.market_def)return null;if(!this.rules)return null;u48=i$O;i6UVR.W3G();if(!i$O){u48=new Date();I2E=null;;}u48=this._convertToMarketTZ(u48,I2E);u48=this._find_prev_segment(u48,!!"");if(this.zseg_match.adjacent_child){return this.getPreviousClose(u48,this.market_tz,this.market_tz);}u48.setHours(this.zseg_match.close_parts.hours);u48.setMinutes(this.zseg_match.close_parts.minutes);u48=this._convertFromMarketTZ(u48,K7u);return u48;};R_S.Market.prototype.getPreviousOpen=function(a7A,N34,T0B){var L2f,L2L,o1g,P37;if(!this.market_def)return null;if(!this.rules)return null;L2f=a7A;if(!a7A){L2L=-1210630352;o1g=1855777835;P37=2;for(var z2i=1;i6UVR.l5h(z2i.toString(),z2i.toString().length,30769) !== L2L;z2i++){L2f=new Date();N34=1;P37+=2;}if(i6UVR.m6F(P37.toString(),P37.toString().length,"22567" - 0) !== o1g){L2f=new Date();N34=null;};}L2f=this._convertToMarketTZ(L2f,N34);L2f=this._find_prev_segment(L2f,!!"1");if(this.zseg_match.adjacent_parent){return this.getPreviousOpen(L2f,this.market_tz,this.market_tz);}L2f.setHours(this.zseg_match.open_parts.hours);L2f.setMinutes(this.zseg_match.open_parts.minutes);L2f=this._convertFromMarketTZ(L2f,T0B);return L2f;};R_S.Market.prototype.getSession=function(T80,Z8N){T80=this._convertToMarketTZ(T80,Z8N);i6UVR.W3G();if(this._wasOpenIntraDay(T80) && this.zseg_match){return this.zseg_match.name;}return null;};R_S.Market.prototype.marketZoneNow=function(){i6UVR.W5N();return this._convertToMarketTZ(new Date());};R_S.Market.prototype.isHourAligned=function(){i6UVR.W5N();return this.hour_aligned;};R_S.Market.prototype.isOpen=function(){var J4A;J4A=new Date();if(this.market_tz){J4A=new this.tz_lib(J4A.getTime(),this.market_tz);}return this._wasOpenIntraDay(J4A);};R_S.Market.prototype.isMarketDay=function(){var l7R;i6UVR.W5N();l7R=new Date();if(this.market_tz){l7R=new this.tz_lib(l7R.getTime(),this.market_tz);}return this._wasOpenDaily(l7R);};R_S.Market.prototype.isMarketDate=function(l7e){i6UVR.W5N();return this._wasOpenDaily(l7e);};R_S.Market.prototype.newIterator=function(o_p){var h9R,y8n,W86;h9R="t";h9R+="i";h9R+="c";h9R+="k";y8n=!({});if(o_p.periodicity){y8n=o_p.periodicity;}else if(o_p.multiple){y8n=o_p.multiple;}W86=o_p.interval;if(!W86){W86="minute";}if(W86 == "hour")W86=60;if(!y8n){y8n=1;}if(!o_p.begin){o_p.begin=new Date();o_p.inZone=null;}if(W86 == parseInt(W86,10)){W86=parseInt(W86,10);if(o_p.periodicity < +"1" / 60){y8n=y8n * W86 * 60000;W86="millisecond";}else if(o_p.periodicity < 1){y8n=y8n * W86 * 60;W86="second";}else {y8n=y8n * W86;W86="minute";}}if(o_p.timeUnit){if(o_p.timeUnit === "millisecond"){W86=o_p.timeUnit;}else if(o_p.timeUnit === "second"){W86=o_p.timeUnit;}else if(o_p.timeUnit === "tick"){W86="second";}}if(W86 == h9R)W86="second";o_p.interval=W86;i6UVR.W5N();o_p.multiple=y8n;o_p.market=this;return new R_S.Market.Iterator(o_p);};R_S.Market.prototype._wasOpenDaily=function(k11){i6UVR.W3G();return this._was_open(k11,!!0);};R_S.Market.prototype._wasOpenIntraDay=function(U7M){return this._was_open(U7M,!!1);};R_S.Market.prototype._was_open=function(c9L,k8_){var k8a,i6Q,S1K,a7n,F5t,X7o,T9_,v$p,Y3m,N$N,a9s,P6b,g$B,x2Y;k8a="u";k8a+="n";k8a+="defined";i6Q=this.zseg_match;this.zopen_hour=0;this.zopen_minute=+"0";this.zclose_hour=0;this.zclose_minute=0;this.zmatch_open=!({});this.zseg_match=null;if(!this.market_def || !this.rules){this.zclose_hour=24;return !![];}S1K=![];a7n=!({});F5t=c9L.getFullYear();X7o=c9L.getMonth() + ("1" >> 0);T9_=c9L.getDay();v$p=c9L.getDate();i6UVR.W5N();Y3m=c9L.getHours();N$N=c9L.getMinutes();a9s=c9L.getSeconds();g$B=Y3m * ("60" - 0) * 60 + N$N * 60 + a9s;if(typeof k8_ === k8a){k8_=!!1;}for(x2Y=0;x2Y < this.normalHours.length;x2Y++){P6b=this.normalHours[x2Y];if(!P6b.enabled){continue;}S1K=P6b.dayofweek === T9_;if(S1K && k8_){S1K=g$B >= P6b.open && g$B < P6b.close;}if(S1K){if(!k8_ && this.zseg_match){if(P6b.open_parts.hours > this.zopen_hour || P6b.open_parts.hours == this.zopen_hour && P6b.open_parts.minutes > this.zopen_minute){continue;}}if(P6b !== i6Q && !P6b.adjacent_parent && !P6b.adjacent_child){this.shouldResetToBeginningOfSegment=!![];}this.zopen_hour=P6b.open_parts.hours;this.zopen_minute=P6b.open_parts.minutes;this.zclose_hour=P6b.close_parts.hours;this.zclose_minute=P6b.close_parts.minutes;this.zmatch_open=g$B === P6b.open;this.zseg_match=P6b;if(k8_)break;}}for(x2Y=0;x2Y < this.extraHours.length;x2Y++){P6b=this.extraHours[x2Y];if(!P6b.enabled){continue;}if((2610 <= (383.33,354.81)?8950 === (838,9585)?(8.82e+3,3.97e+3):0x531:"*") === P6b.year || F5t === P6b.year){if(X7o === P6b.month && v$p === P6b.day){a7n=!k8_ && P6b.open || g$B >= P6b.open && g$B < P6b.close;if(!a7n && this.zseg_match){S1K=!"1";this.zopen_hour=+"0";this.zopen_minute=0;this.zclose_hour=0;this.zclose_minute=0;this.zmatch_open=!({});this.zseg_match=null;}if(a7n){if(!k8_ && this.zseg_match){if(P6b.open_parts.hours > this.zopen_hour || P6b.open_parts.hours == this.zopen_hour && P6b.open_parts.minutes > this.zopen_minute){continue;}}this.zopen_hour=P6b.open_parts.hours;this.zopen_minute=P6b.open_parts.minutes;this.zclose_hour=P6b.close_parts.hours;this.zclose_minute=P6b.close_parts.minutes;this.zmatch_open=g$B === P6b.open;this.zseg_match=P6b;if(k8_)break;}}}}return this.zseg_match;};R_S.Market.prototype._wasClosed=function(C$Z){return !this._was_open(C$Z,!!1);};R_S.Market.prototype._wasOpen=function(N1q){return this._was_open(N1q,!!"1");};R_S.Market.prototype._tzDifferenceMillis=function(c7s,R2_,l6g){var h9a,Q_G,Y2l,g4K;h9a=0;Q_G=c7s;Y2l=c7s;g4K=Q_G.getTimezoneOffset() - Y2l.getTimezoneOffset();h9a=g4K * ("60" - 0) * 1000;return h9a;};R_S.Market._createTimeSegments=function(J4y){var u6J,q6E,r8l,H5m,p3p,e5Q;u6J=function(D3s,b9C){if(D3s.close_parts.hours === 24 && b9C.open_parts.hours === 0){if(b9C.open_parts.minutes === 0){if(q6E.dayofweek === p3p.dayofweek - 1){return !!1;}if(q6E.dayofweek === 6 && p3p.dayofweek === 0){return !![];}}}return !1;};for(var j8V=0;j8V < J4y.rules.length;j8V++){r8l=JSON.parse(JSON.stringify(J4y.rules[j8V]));if(typeof r8l.open === "undefined" && typeof r8l.close === "undefined"){r8l.open="00:00";r8l.close="00:00";}if(!r8l.hasOwnProperty("name")){r8l.name="";}try{H5m="un";H5m+="defin";H5m+="ed";if(typeof r8l.dayofweek !== "undefined"){r8l.year="*";p3p=o0O._createDayOfWeekSegment(J4y,r8l);if(q6E){if(q6E.dayofweek === p3p.dayofweek){q6E.child_=p3p;p3p.parent_=q6E;}else {if(u6J(q6E,p3p)){q6E.adjacent_child=p3p;p3p.adjacent_parent=q6E;}}}q6E=p3p;}else if(typeof r8l.date !== H5m){r8l.isDayOfWeek=![];r8l.dayofweek=-+"1";p3p=o0O._createDateTimeSegment(J4y,r8l);}else {console.log("Error, unknown rule type " + r8l);}if(J4y.enabled_by_default){for(var S5H=0;S5H < J4y.enabled_by_default.length;S5H++){e5Q=J4y.enabled_by_default[S5H];if(p3p.name === e5Q){p3p.enabled=!!1;break;}}}else {;}}catch(T_b){console.log("Error, creating market rules " + T_b);}}};R_S.Market._timeSegment={};o0O=R_S.Market._timeSegment;o0O.re_wild_card_iso=/^(\*)-(\d\d)-(\d\d)$/;o0O.re_regular_iso=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;o0O.re_split_hours_minutes=/^(\d\d):(\d\d)$/;o0O.re_split_hour_minutes=/^(\d):(\d\d)$/;o0O._hashCode=function(y9Y){var W6G,x6t,H$L,y0_;W6G=0;i6UVR.W3G();if(y9Y.length === 0)return W6G;for((x6t=+"0",y0_=y9Y.length);x6t < y0_;x6t++){H$L=y9Y.charCodeAt(x6t);W6G=(W6G << 5) - W6G + H$L;W6G|=0;;}return W6G;};o0O._splitHoursMinutes=function(v2$){var m8x,t4h,B8h,Y56,Z05;m8x=o0O.re_split_hour_minutes.exec(v2$);t4h={hours:NaN,minutes:NaN};if(m8x === null){m8x=o0O.re_split_hours_minutes.exec(v2$);if(m8x === null){return t4h;}}t4h.hours=parseInt(m8x[1],10);t4h.minutes=parseInt(m8x[2],10);B8h="369040853" ^ 0;Y56=-1551662406;Z05="2" - 0;for(var z_4=1;i6UVR.l5h(z_4.toString(),z_4.toString().length,"38265" | 73) !== B8h;z_4++){return t4h;}if(i6UVR.m6F(Z05.toString(),Z05.toString().length,14709) !== Y56){return t4h;}};o0O._createDayOfWeekSegment=function(E_B,v3d){var y4A;y4A={name:v3d.name,isDayOfWeek:!!1,dayofweek:v3d.dayofweek,date_str:"*",open_parts:o0O._splitHoursMinutes(v3d.open),close_parts:o0O._splitHoursMinutes(v3d.close),open:o0O._secSinceMidnight(E_B,v3d.open,!""),close:o0O._secSinceMidnight(E_B,v3d.close,![]),child_:![],parent_:!({}),adjacent_child:!({}),adjacent_parent:!!0,enabled:!!0};if(y4A.name === ""){y4A.enabled=!![];}y4A.hash_code=this._hashCode((y4A.open + y4A.close).toString());i6UVR.W3G();E_B.normalHours.push(y4A);return y4A;};o0O._createDateTimeSegment=function(d7P,F8w){var X4N,T2s,g0S;X4N=this.re_regular_iso.exec(F8w.date);if(X4N === null){X4N=this.re_wild_card_iso.exec(F8w.date);if(X4N === null){console.log("Warning: invalid date format on rule -> " + F8w.date);return;}T2s="*";;}else {T2s=parseInt(X4N[1],10);}g0S={name:F8w.name,isDayOfWeek:!!0,dayofweek:-1,year:T2s,month:parseInt(X4N[2],+"10"),day:parseInt(X4N[3],+"10"),date_str:F8w.date,open_parts:o0O._splitHoursMinutes(F8w.open),close_parts:o0O._splitHoursMinutes(F8w.close),open:o0O._secSinceMidnight(d7P,F8w.open,!""),close:o0O._secSinceMidnight(d7P,F8w.close,![]),enabled:![]};if(g0S.name === ""){g0S.enabled=!!({});}g0S.hash_key=this._hashCode(g0S.date_str + g0S.open + g0S.close);d7P.extraHours.push(g0S);return g0S;};o0O._secSinceMidnight=function(V8D,k1t,b95){var h7K,Z3z,D5N,x9T;h7K=k1t.split("1320" << 32 === (114.93,490.87)?44.98:+"5730" <= (467.01,+"4524")?(1356,+"7947") === 6440?(+"0x232a","o"):3.51e+3:":");Z3z=parseInt(h7K[0],10);D5N=parseInt(h7K[1],"10" - 0);x9T=Z3z * 60 * 60 + D5N * 60;if(!b95){if(Z3z === 24){x9T=Z3z * 60 * +"60" + 1;}}return x9T;};R_S.Market.prototype._convertToMarketTZ=function(I40,x0T){var D5e;if(x0T){D5e=new this.tz_lib(I40.getFullYear(),I40.getMonth(),I40.getDate(),I40.getHours(),I40.getMinutes(),I40.getSeconds(),I40.getMilliseconds(),x0T);}else {D5e=new this.tz_lib(I40.getFullYear(),I40.getMonth(),I40.getDate(),I40.getHours(),I40.getMinutes(),I40.getSeconds(),I40.getMilliseconds());}if(D5e.setTimezone)D5e.setTimezone(this.market_tz);return new Date(D5e.getFullYear(),D5e.getMonth(),D5e.getDate(),D5e.getHours(),D5e.getMinutes(),D5e.getSeconds(),D5e.getMilliseconds());};R_S.Market.prototype._convertFromMarketTZ=function(N6s,m6e){var s5_;s5_=new this.tz_lib(N6s.getFullYear(),N6s.getMonth(),N6s.getDate(),N6s.getHours(),N6s.getMinutes(),N6s.getSeconds(),N6s.getMilliseconds(),this.market_tz);if(m6e){if(s5_.setTimezone)s5_.setTimezone(m6e);}else {return new Date(s5_.getTime());}return new Date(s5_.getFullYear(),s5_.getMonth(),s5_.getDate(),s5_.getHours(),s5_.getMinutes(),s5_.getSeconds(),s5_.getMilliseconds());};R_S.Market.Iterator=function(p5q){this.market=p5q.market;this.begin=p5q.begin;this.interval=p5q.interval;this.multiple=p5q.multiple;this.inZone=p5q.inZone;this.outZone=p5q.outZone;this.clock=new R_S.Market.Iterator._Clock(p5q.market,p5q.interval,p5q.multiple);i6UVR.W5N();this.intraDay=this.clock.intra_day;if(this.intraDay)this.begin=this.market._convertToMarketTZ(this.begin,p5q.inZone);this.clock._setStart(this.begin);this.clock.minutes_aligned=!1;};R_S.Market.Iterator.prototype.date=function(){return this.clock._date();};R_S.Market.Iterator.prototype.futureTick=function(c0T){var t29,z4G,g2B,C39,e$x,E4C,o3h,W7x,r0C;this.clock.skip=1;t29=0;if(this.intraDay)z4G=this.market._convertToMarketTZ(c0T.end,this.inZone).getTime();else z4G=c0T.end.getTime();g2B=this.clock.ctime;if(z4G === g2B){return t29;}C39=2;e$x=1000;E4C=0;if(c0T.sample_size){C39=c0T.sample_size;}o3h=new Date().getTime();if(z4G > g2B){this.clock.forward=!![];while(this.clock.ctime < z4G){t29+=1;E4C+=1;this.clock._findNext();if(E4C === e$x){E4C=0;W7x=new Date().getTime();if(W7x - o3h >= C39){r0C=(this.clock.ctime - g2B) / t29;t29=Math.floor((z4G - g2B) / r0C);break;}}}if(this.clock.ctime > z4G){t29--;}}else {this.clock.forward=![];while(this.clock.ctime > z4G){t29+=1;E4C+=1;this.clock._findPrevious();if(E4C === e$x){E4C=0;W7x=new Date().getTime();if(W7x - o3h >= C39){r0C=(g2B - this.clock.ctime) / t29;t29=Math.floor((g2B - z4G) / r0C);break;}}}}return t29;};R_S.Market.Iterator.prototype.isHourAligned=function(){return !this.intraDay || this.market.isHourAligned();};R_S.Market.Iterator.prototype.isOpen=function(){return this.market.isOpen();};R_S.Market.Iterator.prototype.next=function(i8L){this.clock.skip=1;if(i8L){this.clock.skip=i8L;}this.clock.forward=!0;for(var U4O=+"0";U4O < this.clock.skip;U4O++){this.begin=this.clock._findNext();}if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};R_S.Market.Iterator.prototype.peek=function(){return this.clock._peek();};R_S.Market.Iterator.prototype.previous=function(T7S){this.clock.skip=1;i6UVR.W3G();if(T7S){this.clock.skip=T7S;}this.clock.forward=!({});for(var d$w=0;d$w < this.clock.skip;d$w++){this.begin=this.clock._findPrevious();}if(this.intraDay || this.market.convertOnDaily){return this.market._convertFromMarketTZ(this.clock.display_date,this.outZone);}return this.clock.display_date;};R_S.Market.Iterator._Clock=function(F6_,J1_,P_f){var X7G,w6B,L46;X7G="d";X7G+="a";X7G+="y";if(P_f % 60 === 0 && J1_ === "second"){J1_="minute";P_f=P_f / ("60" * 1);}this.market=F6_;this.interval=J1_;i6UVR.W5N();this.multiple=P_f;this.intra_day=!!"";this.intervals=[];this.max_iters=+"10080";w6B=k8w;L46=this._dayImpl;if(J1_ === "millisecond"){L46=this._millisImpl;w6B=1;}else if(J1_ === "second"){L46=this._secondImpl;w6B=1000;}else if(J1_ === "minute"){L46=this._minuteImpl;w6B=60000;}else if(J1_ === "hour"){L46=this._hourImpl;w6B=d4B;}else if(J1_ === X7G){L46=this._dayImpl;w6B=k8w;}else if(J1_ === "week"){L46=this._weekImpl;w6B=k8w * 7;}else if(J1_ === "month"){L46=this._monthImpl;w6B=k8w * 30;}else {console.log('Periodicity ERROR: "' + J1_ + '" is not a valid interval. Please see setPeriodicity() for details.');}this.tick_time=w6B * P_f;this.intra_day=this.tick_time < k8w;this._findPrevious=this._findNext=L46;};v85=R_S.Market.Iterator._Clock.prototype;v85._total_minutes=function(M$v,K54,V8e,b_t){return (V8e - M$v) * 60 - K54 + b_t;};v85._alignMinutes=function(){var I7I,i41,b1z,K9s,X16;if(!this.market.market_def || this.market.zopen_minute === undefined){return [];}I7I=this.market.zopen_minute;i41=this.market.zseg_match;if(i41 && i41.adjacent_parent){I7I=i41.adjacent_parent.open / 60 - 1440;}else {if(this.market.isHourAligned() && this.multiple % 60 === 0)I7I=0;}b1z=this._total_minutes(this.market.zopen_hour,I7I,this.market.zclose_hour,this.market.zclose_minute);K9s=[];X16=0;while(X16 < b1z){K9s.push(I7I + X16);X16+=this.multiple;}return K9s;};v85._alignBaseZero=function(O$2){var U9v,S8H;U9v=0;S8H=[U9v];while(!![]){U9v+=this.multiple;if(U9v >= O$2){break;}S8H.push(U9v);}return S8H;};v85._date=function(){var u67,K27;u67=Math.round(this.ctime);K27=new Date(u67);if(this.intra_day){this.display_date=new Date(u67 + this.shift_millis);}else {this.display_date=K27;}i6UVR.W3G();return K27;};v85._alignToBoundary=function(Q9R,T7g){var U9Q,v0c,M93;U9Q=0;v0c=0;M93=T7g;for(var D20=0;D20 < Q9R.length - 1;D20++){U9Q=Q9R[D20];v0c=Q9R[D20 + +"1"];if(T7g === U9Q || T7g === v0c){break;;}if(T7g > U9Q && T7g < v0c){M93=U9Q;break;}else if(D20 + 1 === Q9R.length - 1){M93=v0c;}}i6UVR.W5N();return M93;};v85._peek=function(){i6UVR.W5N();return this._date().toString();};v85._seekHr=function(){i6UVR.W3G();if(this.forward){this.ctime-=d4B;}else {this.ctime+=d4B;}};v85._setStart=function(K0s){var p6m,k5j;p6m=this.market._tzDifferenceMillis(K0s);k5j=new Date(K0s.getTime() + p6m);this.shift_millis=p6m;this.ctime=k5j.getTime();this.shift_millis="0" >> 0;this.ctime=K0s.getTime();};v85._tickTock=function(){var e8p,E1e,H8n;if(this.forward){e8p=-1786601353;E1e=-("1885585299" ^ 0);H8n=2;for(var v78=1;i6UVR.l5h(v78.toString(),v78.toString().length,61295) !== e8p;v78++){this.ctime+=this.tick_time;H8n+=2;}if(i6UVR.l5h(H8n.toString(),H8n.toString().length,73559) !== E1e){this.ctime/=this.tick_time;}}else {this.ctime-=this.tick_time;}};v85._tockTick=function(){if(this.forward){this.ctime-=this.tick_time;}else {this.ctime+=this.tick_time;}};v85._tickTock24=function(){i6UVR.W5N();this.ctime+=k8w;};v85._tockTick24=function(){i6UVR.W3G();this.ctime-=k8w;};v85._windMaybe=function(A3Q,n4u){var J1R,Y8e,M11,k1S;i6UVR.W5N();J1R=0;Y8e=new Date(this.ctime);M11=!!0;while(!A3Q.call(this.market,Y8e)){n4u.call(this);M11=!0;Y8e=new Date(this.ctime);J1R+=1;if(J1R > this.max_iters){k1S="Warning! max iterations (" + this.max_iters;k1S+=") reached with no rule match.";console.log(k1S);break;}}return M11;};v85._millisImpl=function(){var T5P,O0C,l3K,n_h,g_w,F1V,y8J,B89,K2z,U66;T5P=!!"";if(!this.mperiods_aligned){O0C=this._alignBaseZero(1000);l3K=new Date(this.ctime);n_h=l3K.getMilliseconds();n_h=this._alignToBoundary(O0C,n_h);l3K.setMilliseconds(0);this.ctime=l3K.getTime() + n_h;this.mperiods_aligned=!0;T5P=!!"1";}g_w=this._date().getMinutes();i6UVR.W5N();this._tickTock();F1V=this._date().getMinutes();if((T5P || g_w != F1V) && !this.market._wasOpenIntraDay(this._date())){y8J=this._date().getSeconds();B89=this._date().getMilliseconds();K2z=this.tick_time;this.tick_time=60000;U66=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=K2z;this.multiple=U66;this.ctime+=1000 * y8J + B89;}return this._date();};v85._secondImpl=function(){var e6S,g0j,q0X,d3u,c9U,S7a,C_B,C9$,H6a;e6S=!({});if(!this.speriod_aligned){g0j=this._alignBaseZero(60);q0X=new Date(this.ctime);d3u=q0X.getSeconds();d3u=this._alignToBoundary(g0j,d3u);q0X.setSeconds(d3u);q0X.setMilliseconds(+"0");this.ctime=q0X.getTime();this.speriod_aligned=!![];e6S=!!"1";}c9U=this._date().getMinutes();this._tickTock();S7a=this._date().getMinutes();if((e6S || c9U != S7a) && !this.market._wasOpenIntraDay(this._date())){C_B=this._date().getSeconds();C9$=this.tick_time;this.tick_time=+"60000";H6a=this.multiple;this.multiple=1;this._minuteImpl();this.tick_time=C9$;this.multiple=H6a;this.ctime+=1000 * C_B;}return this._date();};v85._minuteImpl=function(){var g0k,F6k,w8A,v_x,q_F,o8L,C0t,U5C,I2s,T50;g0k=this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);F6k=new Date(this.ctime);w8A=F6k.getTimezoneOffset();v_x=F6k.getMinutes();q_F=F6k.getHours();o8L=this._alignMinutes();C0t=this._total_minutes(this.market.zopen_hour,this.market.zopen_minute,q_F,v_x) + this.market.zopen_minute;if(g0k){if(this.forward){C0t=o8L[o8L.length - 1];}else {C0t=o8L[0];}}else {C0t=this._alignToBoundary(o8L,C0t);}q_F=Math.floor(C0t / 60) + this.market.zopen_hour;F6k.setHours(q_F,C0t % 60,0,0);U5C=F6k.getTimezoneOffset() - w8A;if(this.forward && U5C < 0 || !this.forward && U5C > +"0"){F6k.setTime(F6k.getTime() - U5C * 60000);}this.ctime=F6k.getTime();this._tickTock();I2s=this.market.hour_aligned && this.multiple % 60 === 0;if(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock) || !I2s && this.shouldResetToBeginningOfSegment){F6k=new Date(this.ctime);if(this.forward){F6k.setMinutes(this.market.zopen_minute);F6k.setHours(this.market.zopen_hour);}else {o8L=this._alignMinutes();T50=o8L[o8L.length - 1];F6k.setMinutes(T50 % 60);F6k.setHours(Math.floor(T50 / 60) + this.market.zopen_hour);}this.ctime=F6k.getTime();}return this._date();};v85._hourImpl=function(){var M55,G5d,d1X,w7C,l6_;i6UVR.W5N();this._windMaybe(this.market._wasOpenIntraDay,this._tockTick);M55=new Date(this.ctime);if(this.market.isHourAligned()){M55.setMinutes(0);}else {M55.setMinutes(this.market.zopen_minute);}M55.setSeconds(0);M55.setMilliseconds(0);this.ctime=M55.getTime();this._tickTock();G5d=this.market.zseg_match;if(this._windMaybe(this.market._wasOpenIntraDay,this._tickTock) || !this.market.hour_aligned && G5d != this.market.zseg_match){d1X=new Date(this.ctime);if(this.forward){d1X.setMinutes(this.market.zopen_minute);d1X.setHours(this.market.zopen_hour);}else {w7C=this._alignMinutes();l6_=w7C[w7C.length - 1];d1X.setMinutes(l6_ % ("60" ^ 0));d1X.setHours(Math.floor(l6_ / 60) + this.market.zopen_hour);}this.ctime=d1X.getTime();}return this._date();};v85._dayImpl=function(){var R2k,w1E;this._windMaybe(this.market._wasOpenDaily,this._seekHr);R2k=new Date(this.ctime);R2k.setHours(12,0,0,+"0");i6UVR.W3G();this.ctime=R2k.getTime();w1E=0;while(w1E < this.multiple){if(this.forward){this._tickTock24();}else {this._tockTick24();}if(!this.market._wasOpenDaily(this._date())){continue;}w1E+=1;}R2k=new Date(this.ctime);R2k.setHours(0);this.ctime=R2k.getTime();return this._date();};v85._weekImpl=function(){var Q_f,w5s;Q_f=this.market;w5s=new Date(this.ctime);i6UVR.W5N();w5s.setHours(12);this.ctime=w5s.getTime();this._tickTock();w5s=new Date(this.ctime);while(w5s.getDay() !== Q_f.beginningDayOfWeek){this._tockTick24();w5s=new Date(this.ctime);}this._windMaybe(Q_f._wasOpenDaily,this._tickTock24);w5s=new Date(this.ctime);w5s.setHours(0,+"0",0,0);this.ctime=w5s.getTime();return this._date();};v85._monthImpl=function(){var b3J;b3J=new Date(this.ctime);b3J.setDate(15);this.ctime=b3J.getTime();this._tickTock();b3J=new Date(this.ctime);b3J.setDate(1);b3J.setHours(+"12");this.ctime=b3J.getTime();this._windMaybe(this.market._wasOpenDaily,this._tickTock24);b3J=new Date(this.ctime);b3J.setHours("0" | 0,0,0,+"0");i6UVR.W3G();this.ctime=b3J.getTime();return this._date();};v85._findNext=null;v85._findPrevious=null;};T=O_H=>{var R8_=i6UVR;R8_.W5N();R8_.m3s=function(u_b){R8_.W3G();if(R8_ && u_b)return R8_.i8e(u_b);};R8_.P91=function(d8M){R8_.W5N();if(R8_ && d8M)return R8_.i8e(d8M);};R8_.X86=function(d1C){R8_.W5N();if(R8_)return R8_.i8e(d1C);};var c4w,o1a,g03;c4w=typeof _CIQ !== "undefined"?_CIQ:O_H.CIQ;o1a="valid";c4w.valid=0;c4w[R8_.x1I("73e7")?"ChartEngine":""][R8_.X86("76da")?"":"prototype"][R8_.O0o("d68e")?"mousemoveinner":""]=function(Y_v,H_s){R8_.k_x=function(y7Z){R8_.W5N();if(R8_ && y7Z)return R8_.N4H(y7Z);};R8_.O8p=function(M_E){R8_.W5N();if(R8_)return R8_.N4H(M_E);};R8_.K4n=function(G2k){R8_.W3G();if(R8_)return R8_.i8e(G2k);};var P0e=-(R8_.x$F("359d")?601500727:186577206),Y22=-(R8_.K4n("774b")?1638252184:2428117228),u6b=-(R8_.P91("6aea")?637126000:113100024),c2B=-(R8_.N$t("1cd8")?1636454950:2006868665),H4H=R8_.V1Y("a942")?1251022236:6248277390,y5F=-901100827,J3f=R8_.z2h("bf6e")?4323687070:1820977520,v_v=R8_.m3s("1cf2")?3632780311:1541769497,D$b=-(R8_.N_P("d3e2")?7321761046:1684866164),J80=324260868;if(!(R8_.Z4a(0,false,R8_.U56("ce63")?418193:552997) !== P0e && R8_.h3V(0,false,999056) !== Y22 && R8_.h3V(9,R8_.h8D("6692")?true:false,476537) !== u6b && R8_.Z4a(R8_.O8p("6a8e")?3:9,true,718872) !== c2B && R8_.Z4a(8,true,428923) !== H4H && R8_.Z4a(10,true,783307) !== y5F && R8_.Z4a(9,true,R8_.k_x("e6dd")?446240:355041) !== J3f && R8_.h3V(9,true,647601) !== v_v && R8_.h3V(10,true,523543) !== D$b && R8_.Z4a(8,true,288896) !== J80)){var E_6,T_I,b7D,C_0,I9W,S_Z,l5k,T0C,K$U,s6Y,n4a,m$V,T2I,h7U,V6a,P$d,b0Q,k2$,P5L,S6L,a09,w0A,K7$,q1$,i9D,N_$,S3S,N7M,l2I;if(!this["chart"]["canvas"]){return;}if(!c4w["isAndroid"] && !c4w["isIOS7or8"]){if(this["chart"]["canvas"]["height"] != Math["floor"](this["devicePixelRatio"] * this["chart"]["container"]["clientHeight"]) || this["chart"]["canvas"]["width"] != Math["floor"](this["devicePixelRatio"] * this["chart"]["container"]["clientWidth"])){this["resizeChart"]();return;}}if(this["runPrepend"]("mousemoveinner",arguments)){return;}T_I=arguments;b7D=this["container"]["getBoundingClientRect"]();this["top"]=b7D["top"];this["left"]=b7D["left"];function W1O(O$8){var J_G=1785073975,a7h=-1694958399,A51=8214662,q7z=837009359,d79=-620899382,t5M=213668177,e4m=-391255666,N9Z=-1252475600,h4$=-868346271,e79=-111987682;if(R8_.h3V(0,false,256134) === J_G || R8_.Z4a(0,false,984785) === a7h || R8_.h3V(9,true,372746) === A51 || R8_.Z4a(9,true,222297) === q7z || R8_.Z4a(8,true,931038) === d79 || R8_.Z4a(10,true,255423) === t5M || R8_.h3V(9,true,550507) === e4m || R8_.h3V(9,true,775878) === N9Z || R8_.Z4a(10,true,692060) === h4$ || R8_.h3V(8,true,493631) === e79){var P10;P10="mo";P10+="usemoveinn";P10+="er";O$8["currentBaseline"]=null;O$8["runAppend"](P10,T_I);}}this["right"]=this["left"] + this["width"];this["bottom"]=this["top"] + this["height"];this["hasDragged"]=!!({});c4w["ChartEngine"]["crosshairX"]=Y_v;c4w["ChartEngine"]["crosshairY"]=H_s;C_0=this["cy"]=this["crossYActualPos"]=this["backOutY"](c4w["ChartEngine"]["crosshairY"]);I9W=this["cx"]=this["crossXActualPos"]=this["backOutX"](c4w["ChartEngine"]["crosshairX"]);if(this["grabbingScreen"] && this["anyHighlighted"]){R8_["O_b"](1);var S54=R8_["v$j"](32,34);R8_["O_b"](33);var c9l=R8_["V9a"](0,20,18);S_Z=Math["pow"](this["grabStartX"] - Y_v,S54) + Math["pow"](this["grabStartY"] - H_s,c9l);if(S_Z < 36){return;}}this["cancelLongHold"]=!!1;l5k=function(c7E,R34){var W1F=632240235,W1a=1331583677,e1n=-1063154332,I6H=-844066008,L_H=1708338573,q$y=1191575025,Z1x=688634741,B8o=-51586579,E7a=611343389,V9K=575504350;if(R8_.h3V(0,false,223215) === W1F || R8_.h3V(0,false,461850) === W1a || R8_.h3V(9,true,830392) === e1n || R8_.Z4a(9,true,653069) === I6H || R8_.Z4a(8,true,340290) === L_H || R8_.h3V(10,true,120563) === q$y || R8_.h3V(9,true,611284) === Z1x || R8_.Z4a(9,true,593265) === B8o || R8_.Z4a(10,true,213465) === E7a || R8_.h3V(8,true,244680) === V9K){if(c4w[o1a] === 0){return c7E["whichPanel"](R34) || c7E["chart"]["panel"];}if(!c7E["draw"][o1a]){c7E["draw"]=function(){R8_.W3G();var H8f=-585560611,Y8k=318241326,l9p=-226969794,W$U=-1253718984,g5l=-1657146144,a3i=-1502956068,c75=-927500610,E6x=1979631053,n9T=1814663176,Z0U=-853062415;if(R8_.h3V(0,false,289682) === H8f || R8_.h3V(0,false,535056) === Y8k || R8_.h3V(9,true,709743) === l9p || R8_.h3V(9,true,432080) === W$U || R8_.h3V(8,true,344704) === g5l || R8_.h3V(10,true,714864) === a3i || R8_.Z4a(9,true,207399) === c75 || R8_.h3V(9,true,874399) === E6x || R8_.h3V(10,true,720281) === n9T || R8_.Z4a(8,true,331639) === Z0U){c4w["clearCanvas"](this["chart"]["canvas"],this);}};c7E["draw"][o1a]=!!({});}}};this["currentPanel"]=l5k(this,C_0);if(!this["currentPanel"]){return;}T0C=this["currentPanel"]["chart"];if(T0C["dataSet"]){K$U="c";K$U+="hart";this["crosshairTick"]=this["tickFromPixel"](I9W,T0C);E_6=this["valueFromPixel"](C_0,this["currentPanel"]);this["crosshairValue"]=this["adjustIfNecessary"](this["currentPanel"],this["crosshairTick"],E_6);s6Y=this["currentPanel"]["name"] == K$U?this["preferences"]["horizontalCrosshairField"]:this["currentPanel"]["horizontalCrosshairField"];if(s6Y && this["crosshairTick"] < T0C["dataSet"]["length"] && this["crosshairTick"] > -1){E_6=T0C["dataSet"][this["crosshairTick"]][s6Y];this["crossYActualPos"]=this["pixelFromPrice"](E_6,this["currentPanel"]);}}if(c4w["ChartEngine"]["crosshairX"] >= this["left"] && c4w["ChartEngine"]["crosshairX"] <= this["right"] && c4w["ChartEngine"]["crosshairY"] >= this["top"] && c4w["ChartEngine"]["crosshairY"] <= this["bottom"]){this["insideChart"]=!!1;}else {this["insideChart"]=!!"";}n4a=this["xAxisAsFooter"] === !![]?this["chart"]["canvasHeight"]:this["chart"]["panel"]["bottom"];this["overXAxis"]=this["insideChart"] && c4w["ChartEngine"]["crosshairY"] <= n4a + this["top"] && c4w["ChartEngine"]["crosshairY"] > n4a - this["xaxisHeight"] + this["top"];this["overYAxis"]=(this["cx"] >= this["currentPanel"]["right"] || this["cx"] <= this["currentPanel"]["left"]) && this["insideChart"];if(this["overXAxis"] || this["overYAxis"] || !this["insideChart"] && !this["grabbingScreen"]){this["undisplayCrosshairs"]();if(!this["overXAxis"] && !this["overYAxis"]){return;};}if(!this["displayCrosshairs"] && !c4w["ChartEngine"]["resizingPanel"]){this["undisplayCrosshairs"]();return;}if(this["repositioningBaseline"]){this["setBaselineUserLevel"]();return W1O(this);}if(this["repositioningAnchorSelector"]){m$V=this["repositioningAnchorSelector"]["hoverTick"];T2I=this["tickFromPixel"](this["cx"],this["chart"]);if(T2I >= 0 && T2I < this["chart"]["dataSet"]["length"] && (!(m$V && m$V !== "0" >> 0) || T2I !== m$V)){this["repositioningAnchorSelector"]["hoverTick"]=T2I;this["draw"]();}return W1O(this);}if(this["grabbingScreen"] && !c4w["ChartEngine"]["resizingPanel"]){if(this["highlightedDraggable"]){this["displayDragOK"](!![]);this["dragPlotOrAxis"](I9W,C_0);return W1O(this);}if(this["anyHighlighted"]){c4w["clearCanvas"](this["chart"]["tempCanvas"],this);this["anyHighlighted"]=!"1";for(h7U in this["overlays"]){this["overlays"][h7U]["highlight"]=!({});}for(h7U in T0C["series"]){T0C["series"][h7U]["highlight"]=!({});}this["displaySticky"]();}if(this["grabStartX"] == -("1" << 32)){this["grabStartX"]=c4w["ChartEngine"]["crosshairX"];this["grabStartScrollX"]=T0C["scroll"];}if(this["grabStartY"] == -1){this["grabStartY"]=c4w["ChartEngine"]["crosshairY"];this["grabStartScrollY"]=this["currentPanel"]["yAxis"]["scroll"];}V6a=c4w["ChartEngine"]["crosshairX"] - this["grabStartX"];P$d=c4w["ChartEngine"]["crosshairY"] - this["grabStartY"];if(V6a === +"0" && P$d === +"0"){return;}if(Math["abs"](V6a) + Math["abs"](P$d) > 5){this["grabOverrideClick"]=!![];}k2$=this["layout"]["candleWidth"];if(this["allowZoom"] && this["grabMode"] != "pan" && (this["grabMode"]["indexOf"]("zoom") === 0 || this["overXAxis"] || this["grabStartYAxis"])){P5L="z";P5L+="o";P5L+="om";P5L+="-y";if(this["grabMode"] === ""){if(this["overXAxis"]){this["grabMode"]="zoom-x";}else if(this["grabStartYAxis"]){this["grabMode"]="zoom-y";}}if(this["grabMode"] == "zoom-x"){P$d=0;}else if(this["grabMode"] == P5L){V6a=+"0";}if(V6a){this["grabStartX"]=c4w["ChartEngine"]["crosshairX"];S6L=k2$ - V6a / this["chart"]["maxTicks"];this["zoomSet"](S6L,this["chart"]);}if(this["layout"]["setSpan"]){this["layout"]["setSpan"]=null;this["changeOccurred"]("layout");}b0Q=this["grabStartYAxis"];if(b0Q){if(b0Q["flipped"]){P$d*=-1;}b0Q["zoom"]=Math["round"](this["grabStartZoom"] + P$d);if(this["grabStartZoom"] < b0Q["height"]){if(b0Q["zoom"] >= b0Q["height"]){R8_["O_b"](16);var A8j=R8_["V9a"](6,0,5);b0Q["zoom"]=b0Q["height"] - A8j;}}else {if(b0Q["zoom"] <= b0Q["height"]){R8_["O_b"](14);var x7p=R8_["V9a"](2,61,10,12);b0Q["zoom"]=b0Q["height"] + x7p;}}}}else if(!this["overYAxis"]){this["dispatch"]("move",{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:!!({})});if(this["allowScroll"]){a09="p";a09+="an";if(Math["abs"](P$d) < this["yTolerance"]){if(!this["yToleranceBroken"]){P$d=0;if(V6a === 0){return;}}}else {this["yToleranceBroken"]=!!"1";}if(!this["grabStartMicropixels"]){this["grabStartMicropixels"]=0;}this["grabMode"]=a09;T0C["scroll"]=this["grabStartScrollX"];R8_["s$9"](22);var m63=R8_["v$j"](9,167,0,18);R8_["O_b"](1);var f2p=R8_["V9a"](10,11);this["micropixels"]=this["grabStartMicropixels"] + V6a * (this["shift"]?m63:f2p);if(!this["lineTravelSpacing"]){while(this["micropixels"] > +"0"){this["micropixels"]-=k2$;T0C["scroll"]++;}while(this["micropixels"] < -k2$){this["micropixels"]+=k2$;T0C["scroll"]--;}}if(T0C["scroll"] >= T0C["maxTicks"]){w0A=1403366981;K7$=625018721;q1$=2;for(var J4n=1;R8_["l5h"](J4n["toString"](),J4n["toString"]()["length"],+"68374") !== w0A;J4n++){this["preferences"]["whitespace"]=this["initialWhitespace"];q1$+=+"2";}if(R8_["l5h"](q1$["toString"](),q1$["toString"]()["length"],66893) !== K7$){this["preferences"]["whitespace"]=this["initialWhitespace"];}}else {this["preferences"]["whitespace"]=(T0C["maxTicks"] - T0C["scroll"]) * k2$;}if(this["currentPanel"] == this["grabStartPanel"]){b0Q=this["currentPanel"]["yAxis"];if(b0Q["flipped"]){R8_["O_b"](12);P$d*=-R8_["V9a"](32,"1");}b0Q["scroll"]=this["grabStartScrollY"] + P$d;}this["dispatch"]("scroll",{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"]});}}i9D=function(T0s){var l7i=-1377086126,b58=-1475525855,B65=2046097683,W5j=-636865186,L6L=-1908069135,V7q=155777695,V90=153495854,D_$=1389782972,m$S=-1040226959,V2y=-525125091;R8_.W3G();if(R8_.h3V(0,false,679196) === l7i || R8_.Z4a(0,false,490370) === b58 || R8_.Z4a(9,true,647191) === B65 || R8_.h3V(9,true,576063) === W5j || R8_.h3V(8,true,514400) === L6L || R8_.Z4a(10,true,528042) === V7q || R8_.Z4a(9,true,222789) === V90 || R8_.h3V(9,true,985213) === D_$ || R8_.Z4a(10,true,558331) === m$S || R8_.Z4a(8,true,223583) === V2y){return function(){var z$g=387294878,a79=-1999433205,B3v=711567530,i_2=-1464157040,I2c=-875208496,Q0c=-1707112626,a5i=-743572626,n1h=-348825631,P6_=1738942947,Y9n=1215171122;R8_.W3G();if(R8_.h3V(0,false,462349) === z$g || R8_.h3V(0,false,529825) === a79 || R8_.Z4a(9,true,415064) === B3v || R8_.h3V(9,true,949948) === i_2 || R8_.h3V(8,true,247884) === I2c || R8_.h3V(10,true,859284) === Q0c || R8_.h3V(9,true,873006) === a5i || R8_.Z4a(9,true,742460) === n1h || R8_.Z4a(10,true,772757) === P6_ || R8_.Z4a(8,true,710148) === Y9n){T0s["draw"]();T0s["updateChartAccessories"]();}};}};if(c4w["ChartEngine"]["useAnimation"]){window["requestAnimationFrame"](i9D(this));}else {this["draw"]();this["updateChartAccessories"]();}if(this["activeDrawing"]){c4w["clearCanvas"](this["chart"]["tempCanvas"],this);this["activeDrawing"]["render"](this["chart"]["tempCanvas"]["context"]);this["activeDrawing"]["measure"]();}this["undisplayCrosshairs"]();return;}this["grabMode"]="";if(this["overXAxis"] || this["overYAxis"]){this["updateChartAccessories"]();if(!this["tapForHighlighting"] || !this["touchingEvent"] || this["anyHighlighted"]){this["findHighlights"]();}return W1O(this);;}if(this["controls"]["crossX"]){this["controls"]["crossX"]["style"]["left"]=this["pixelFromTick"](this["crosshairTick"],T0C) - +"0.5" + "px";}if(this["controls"]["crossY"]){this["controls"]["crossY"]["style"]["top"]=this["crossYActualPos"] + "px";}if(this["insideChart"] && !c4w["ChartEngine"]["resizingPanel"]){N_$=this["currentVectorParameters"]["vectorType"];if(this["layout"]["studies"]){S3S=this["layout"]["studies"][this["currentPanel"]["name"]];if(S3S){if(!this["preferences"]["dragging"] || !this["preferences"]["dragging"]["study"]){delete this["overlays"][S3S["name"]];}if(N_$){this["overlays"][S3S["name"]]=S3S;}}}if(!c4w["Drawing"] || !N_$ || !c4w["Drawing"][N_$] || !new c4w["Drawing"][N_$]()["dragToDraw"]){this["doDisplayCrosshairs"]();}this["updateChartAccessories"]();}else {this["undisplayCrosshairs"]();}if(this["magnetize"]){this["magnetize"]();}if(this["repositioningDrawing"]){this["repositionDrawing"](this["repositioningDrawing"]);}else if(c4w["ChartEngine"]["drawingLine"]){if(this["activeDrawing"]){N7M=this["panels"][this["activeDrawing"]["panelName"]];E_6=this["adjustIfNecessary"](N7M,this["crosshairTick"],this["valueFromPixel"](this["backOutY"](c4w["ChartEngine"]["crosshairY"]),N7M));if(this["magnetizedPrice"] && N7M["name"] == this["currentPanel"]["name"]){E_6=this["adjustIfNecessary"](N7M,this["crosshairTick"],this["magnetizedPrice"]);}if(this["magnetizedPrice"] === null){c4w["clearCanvas"](this["chart"]["tempCanvas"],this);}this["activeDrawing"]["move"](this["chart"]["tempCanvas"]["context"],this["crosshairTick"],E_6);if(this["activeDrawing"]["measure"]){this["activeDrawing"]["measure"]();}}}else if(c4w["ChartEngine"]["resizingPanel"]){this["resizePanels"]();}if(this["insideChart"]){l2I="m";l2I+="ov";l2I+="e";this["dispatch"](l2I,{stx:this,panel:this["currentPanel"],x:this["cx"],y:this["cy"],grab:![]});if(!this["tapForHighlighting"] || !this["touchingEvent"] || this["anyHighlighted"]){this["findHighlights"]();}}return W1O(this);}};c4w.ChartEngine.prototype.swipeStart=function(F05){var C7b;if(this.swipe && this.swipe.interval){clearInterval(this.swipe.interval);}this.swipe.velocity=0;this.swipe.amplitude=0;this.swipe.frame=F05.scroll;this.swipe.micropixels=this.micropixels;this.swipe.timestamp=Date.now();this.swipe.chart=F05;this.swipe.end=!"1";R8_.O_b(29);this.swipe.timeConstant=R8_.v$j("325",32);this.swipe.cb=null;C7b=this;requestAnimationFrame(function(){R8_.W3G();C7b.swipeSample();});};c4w.ChartEngine.prototype.swipeSample=function(){var j00,m3m,l7u,i9Y,r1u,t6_,d0A,z$Q,p8f;j00=this.swipe;if(j00.end){return;}m3m=this;d0A=20;l7u=Date.now();i9Y=l7u - j00.timestamp;if(i9Y < d0A){requestAnimationFrame(function(){R8_.W3G();m3m.swipeSample();});return;}z$Q=c4w.touchDevice?0.4:0.8;j00.timestamp=l7u;r1u=(j00.chart.scroll - j00.frame) * this.layout.candleWidth + this.micropixels - j00.micropixels;j00.frame=j00.chart.scroll;j00.micropixels=this.micropixels;R8_.O_b(93);t6_=R8_.v$j(1000,i9Y,1,r1u);p8f=z$Q * t6_ + 0.2 * j00.velocity;if(Math.abs(p8f) > Math.abs(j00.velocity)){j00.velocity=p8f;}if(Math.abs(r1u) < 6){R8_.O_b(42);j00.velocity=R8_.V9a("0",0);;}requestAnimationFrame(function(){m3m.swipeSample();});};c4w.ChartEngine.prototype.swipeRelease=function(){var l7E,O0L;R8_.W3G();l7E=this.swipe;if(l7E.velocity > 3000){l7E.velocity=3000;}if(l7E.velocity < -3000){l7E.velocity=-3000;}if(l7E.velocity > 10 || l7E.velocity < -10){l7E.amplitude=+"0.8" * l7E.velocity;l7E.scroll=l7E.chart.scroll;l7E.target=l7E.amplitude;l7E.timestamp=Date.now();O0L=this;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}requestAnimationFrame(function(){O0L.autoscroll();});}};c4w.ChartEngine.prototype.dragPlotOrAxis=function(R82,i3w){var O6D,B0m,q5U,U00,U6j,Z$m,w7S,B6d,u7m,N10,q23,v$z,c0w,L94,s9J,k23,q0H,o6a,B6b,G2G,O_l,x_J,v2Y,f8G,L0p,c0u,t$t,k$A,a3e,F5Y,q4d,c44,B4w,z7j,i3C,N$a,N5W,W7$,z1r,c$z,l_2,b5c,r6P,E6J,B2f,m9v,a86,g4F,e9i,b1W,r15,z$h,Y7f,w8s;O6D="drop";O6D+="zo";O6D+="ne";B0m="rig";B0m+="h";B0m+="t";if(!z9J.call(this) && !this.grabbingScreen){return;}q5U=null;U00=20;U6j=10;R8_.s$9(1);Z$m=this.whichPanel(R8_.v$j(U00,i3w));R8_.O_b(0);w7S=this.whichPanel(R8_.V9a(i3w,U00));B6d=this.whichPanel(i3w);u7m=this.highlightedDraggable;if(!B6d){return;}if(u7m.undraggable && u7m.undraggable(this)){return;}N10=this.whichYAxis(B6d,R82,i3w);R8_.O_b(1);q23=this.whichYAxis(B6d,R8_.v$j(U6j,R82),i3w);R8_.s$9(0);v$z=this.whichYAxis(B6d,R8_.V9a(R82,U6j),i3w);if(this.xAxisAsFooter && B6d.name == Object.keys(this.panels).pop()){w7S=this.whichPanel(i3w + U00 + this.xaxisHeight);if(q5U){q5U+=this.xaxisHeight;}}c0w=!!"";L94=![];s9J=!"1";function z9J(){var e77,x8Z,J5n,W_H;function D0y(n$0){return function(T_8){if(n$0.subholder.classList.contains(T_8)){n$0.subholder.classList.remove(T_8);e77=!![];}};}e77=!!0;for(var D8d in this.panels){x8Z="t";x8Z+="o";x8Z+="p";J5n="righ";J5n+="t";["dropzone","all","left",J5n,x8Z,"bottom"].forEach(D0y(this.panels[D8d]));for(W_H=+"0";W_H < this.panels[D8d].yaxisLHS.length;W_H++){if(this.panels[D8d].yaxisLHS[W_H].dropzone){e77=!![];}this.panels[D8d].yaxisLHS[W_H].dropzone=null;}for(W_H=0;W_H < this.panels[D8d].yaxisRHS.length;W_H++){if(this.panels[D8d].yaxisRHS[W_H].dropzone){e77=!![];}this.panels[D8d].yaxisRHS[W_H].dropzone=null;}}return e77;}R8_.W3G();if(c4w.Renderer){c0w=u7m instanceof c4w.Renderer;}if(c4w.Studies){L94=u7m instanceof c4w.Studies.StudyDescriptor;}s9J=u7m instanceof c4w.ChartEngine.YAxis;k23=function(s3i){var d1F;if(!s9J){d1F="l";d1F+="e";d1F+="f";d1F+="t";if(s3i == "right"){R8_.s$9(94);var S2X=R8_.V9a(16,7,16,1,12);return B6d.right - B6d.width / S2X;}if(s3i == d1F){R8_.s$9(95);var C$Q=R8_.v$j(9,15,3,7);return B6d.left + B6d.width / ("6" | C$Q);}}R8_.O_b(96);var y1y=R8_.v$j(12,5,0,5);return (B6d.left + B6d.right) / y1y;};if(!s9J && !N10){if(R82 < k23("left")){q23=this.whichYAxis(B6d,B6d.left - 1,i3w);}else if(R82 > k23("right")){v$z=this.whichYAxis(B6d,B6d.right + 1,i3w);}}q0H=[];if(u7m.getDependents){q0H=u7m.getDependents(this,!![]);}o6a=u7m.panel;B6b=u7m.getYAxis(this);if(c0w){o6a=u7m.params.panel;}else if(s9J){o6a=this.grabStartPanel.name;}G2G=this.panels[o6a];for(O_l in this.panels){if(this.panels[O_l].soloing){x_J=!"";}}v2Y=B6b.isShared(this);f8G=!s9J && !x_J && (G2G !== B6d && G2G != Z$m && G2G != w7S || !this.checkForEmptyPanel(G2G,!!({}),[u7m].concat(q0H)));L0p=o6a == B6d.name && B6b !== N10 && B6b !== v$z && B6b !== q23 || v2Y;if(f8G && (!Z$m || B6d !== Z$m)){B6d.subholder.classList.add("dropzone");B6d.subholder.classList.add("top");w7S=B6d;}else if(f8G && (!w7S || B6d !== w7S)){B6d.subholder.classList.add("dropzone");B6d.subholder.classList.add("bottom");}else if(B6d !== G2G){if(!s9J && !B6d.noDrag){k$A="dr";k$A+="op";k$A+="zone";B6d.subholder.classList.add(k$A);B6d.subholder.classList.add("all");c0u=B6d.name;}}else if((!B6d.yaxisRHS.length || B6d.yaxisRHS.length == 1 && B6d.yaxisRHS[0] == B6b && B6b.position == "none") && !N10 && !v$z && R82 > k23(B0m)){a3e="ri";a3e+="gh";a3e+="t";B6d.subholder.classList.add("dropzone");B6d.subholder.classList.add("right");t$t=a3e;}else if((!B6d.yaxisLHS.length || B6d.yaxisLHS.length == 1 && B6d.yaxisLHS[0] == B6b && B6b.position == "none") && !N10 && !q23 && R82 < k23("left")){B6d.subholder.classList.add("dropzone");B6d.subholder.classList.add("left");t$t="left";}else if(L0p){if(s9J && R82 > B6d.left && R82 < B6d.right){R8_.s$9(1);var l9S=R8_.v$j(2,3);F5Y=B6d.yaxisLHS[B6d.yaxisLHS.length - l9S];q4d=B6d.yaxisRHS[0];c44=k23();if(R82 < c44 && F5Y != B6b){q23=F5Y;}else if(R82 > c44 && q4d != B6b){v$z=q4d;}}if(!s9J || N10 !== B6b){B4w=!s9J && v2Y;if(v$z && (v$z !== B6b || B4w) && (!N10 || N10 !== v$z)){v$z.dropzone="left";t$t=v$z.position || this.chart.panel.yAxis.position || "right";}else if(q23 && (q23 !== B6b || B4w) && (!N10 || N10 !== q23)){z7j="ri";z7j+="gh";z7j+="t";i3C="r";i3C+="i";i3C+="g";i3C+="ht";q23.dropzone=i3C;t$t=q23.position || this.chart.panel.yAxis.position || z7j;}else if(N10){if(!v$z && (N10 !== B6b || B4w)){N10.dropzone="right";}else if(!q23 && (N10 !== B6b || B4w)){N$a="le";N$a+="ft";N10.dropzone=N$a;}else if(N10 !== B6b){N10.dropzone="all";}if(N10.dropzone){t$t=N10.position || this.chart.panel.yAxis.position || "right";}}}}if(this.grabbingScreen || !B6d.subholder.classList.contains(O6D) && !t$t){this.draw();return;}W7$=-1;if(!c0u && !t$t && f8G){c0u=L94?u7m.inputs.id:u7m.params.name || c4w.uniqueID();for(var P1X in this.panels){W7$++;if(this.panels[P1X] == w7S)break;}if(!w7S){W7$++;}if(this.panels[o6a].yAxis.name == c0u){o6a=this.electNewPanelOwner(o6a);}z1r=L94?u7m.inputs.display:null;if(o6a){this.createPanel(z1r || c0u,c0u,q5U,this.chart.name,new c4w.ChartEngine.YAxis({name:c0u}));}else {o6a=c0u;}if(L94){u7m.panel=o6a;}else {u7m.params.panel=o6a;}}if(c0u){if(L94){if(!u7m.parameters){u7m.parameters={};}u7m.parameters.panelName=c0u;this.highlightedDraggable=c4w.getFn("Studies.replaceStudy")(this,u7m.inputs.id,u7m.type,u7m.inputs,u7m.outputs,u7m.parameters,null,u7m.study);}else if(c0w){for(var D8e in u7m.seriesParams){c$z=u7m.seriesParams[D8e];l_2=null;if(u7m.params.yAxis){if(u7m.params.yAxis !== this.chart.panel.yAxis){l_2=u7m.params.yAxis;l_2.name=u7m.params.name;}}this.modifySeries(c$z.id,{panel:c0u,yAxis:l_2});}}if(W7$ > -("1" ^ 0)){b5c={};r6P=+"0";for(O_l in this.panels){if(W7$ == r6P++){b5c[c0u]=this.panels[c0u];}if(O_l == c0u)continue;b5c[O_l]=this.panels[O_l];}if(!b5c[c0u]){b5c[c0u]=this.panels[c0u];}this.panels=b5c;}this.checkForEmptyPanel(o6a);for(var S1W=+"0";S1W < q0H.length;S1W++){if(q0H[S1W].params){this.checkForEmptyPanel(q0H[S1W].params.name);}else {this.checkForEmptyPanel(q0H[S1W].name);}}this.adjustPanelPositions();}else if(t$t){E6J=function(C4z,Y3v,r2c,Y10){var s7B,W$Y;if(r2c == "study"){if(!Y3v.parameters){Y3v.parameters={};}if(Y10){Y3v.parameters.yaxisDisplayValue=Y10.position;}else {delete Y3v.parameters.yaxisDisplayValue;}s7B=c4w.getFn("Studies.replaceStudy")(C4z,Y3v.inputs.id,Y3v.type,Y3v.inputs,Y3v.outputs,Y3v.parameters,Y3v.panel,Y3v.study);}R8_.W5N();if(r2c == "renderer"){for(var W8R in Y3v.seriesParams){W$Y=Y3v.seriesParams[W8R];s7B=C4z.modifySeries(W$Y.id,{panel:c0u,yAxis:Y10});}}return s7B;};B2f=N10 && N10.dropzone == "all";if(!B2f){if(s9J){u7m.position=t$t;if(this.layout.studies){m9v=this.layout.studies[u7m.name];if(m9v){if(!m9v.parameters){m9v.parameters={};}m9v.parameters.yaxisDisplayValue=t$t;}}}else if(L94){this.highlightedDraggable=E6J(this,u7m,"study",{position:t$t});}else if(c0w){E6J(this,u7m,"renderer",new c4w.ChartEngine.YAxis({name:u7m.params.name || c4w.uniqueID(),position:t$t}));}B6b=this.highlightedDraggable.getYAxis(this);}if(!v2Y || !B2f || s9J){a86=B6b;if(B2f && B6b == this.chart.panel.yAxis){a86=N10;}for(N5W=0;N5W < B6d.yaxisLHS.length;N5W++){if(B6d.yaxisLHS[N5W] == a86){B6d.yaxisLHS.splice(N5W,1);break;}}for(N5W=0;N5W < B6d.yaxisRHS.length;N5W++){if(B6d.yaxisRHS[N5W] == a86){B6d.yaxisRHS.splice(N5W,1);break;}}}if(B2f){if(this.getYAxisByName(B6d,B6b.name) == B6d.yAxis){this.electNewPanelOwner(B6d,N10);}if(s9J){b1W=B6b;r15=N10;if(B6b == this.chart.panel.yAxis){b1W=N10;r15=B6b;}for(e9i in b1W.studies){E6J(this,this.layout.studies[b1W.studies[e9i]],"study",r15 === this.chart.panel.yAxis?null:{position:r15.name});}for(e9i in b1W.renderers){E6J(this,this.chart.seriesRenderers[b1W.renderers[e9i]],"renderer",r15);}this.highlightedDraggable=r15;}else if(L94){this.highlightedDraggable=E6J(this,u7m,"study",{position:N10.name});}else if(c0w){E6J(this,u7m,"renderer",N10);}}else {if(B6b.position == "none"){B6b.width=c4w.ChartEngine.YAxis.prototype.width;}B6b.position=t$t;g4F=t$t == "left"?B6d.yaxisLHS:B6d.yaxisRHS;for(N5W=0;N5W < g4F.length;N5W++){if(g4F[N5W] !== B6b){z$h="ri";z$h+="g";z$h+="h";z$h+="t";if(g4F[N5W].dropzone == "left"){g4F.splice(N5W,0,B6b);}else if(g4F[N5W].dropzone == z$h){R8_.s$9(6);g4F.splice(R8_.V9a(N5W,"1"),0,B6b);}else continue;}break;}if(N5W == g4F.length){g4F.push(B6b);}}}for(var q8i in this.panels){Y7f=this.panels[q8i];w8s=Y7f.yaxisLHS.concat(Y7f.yaxisRHS);for(N5W=0;N5W < w8s.length;N5W++){w8s[N5W].height=Y7f.yAxis.height;this.calculateYAxisMargins(w8s[N5W]);}}this.displayDragOK();this.draw();this.calculateYAxisPositions();this.draw();this.findHighlights(null,!!"1");this.savePanels();};g03=!({});c4w.ChartEngine.prototype.findHighlights=c4w.ChartEngine.prototype.findHighlights || (function(I1O,H6V){if(!g03){console.error("movement feature requires activating interaction feature.");}g03=!!"1";});};R=N3o=>{var K5H=i6UVR;var v6U;v6U=typeof _CIQ !== "undefined"?_CIQ:N3o.CIQ;v6U.NameValueStore=v6U.NameValueStore || (function(){});v6U.NameValueStore.prototype.toJSONIfNecessary=function(J4E){var j9A;if(J4E.constructor == String){return J4E;}try{j9A=JSON.stringify(J4E);return j9A;}catch(G4x){K5H.s$9(0);console.log(K5H.V9a("Cannot convert to JSON: ",J4E));return null;}};v6U.NameValueStore.prototype.fromJSONIfNecessary=function(B0C){var i2c;K5H.W3G();try{i2c=JSON.parse(B0C);return i2c;}catch(e2e){return B0C;}};K5H.W3G();v6U.NameValueStore.prototype.get=function(T72,K6U){var m8p;K5H.W5N();m8p=v6U.localStorage.getItem(T72);K6U(null,this.fromJSONIfNecessary(m8p));};v6U.NameValueStore.prototype.set=function(k$e,l2Q,u58){K5H.W5N();v6U.localStorageSetItem(k$e,this.toJSONIfNecessary(l2Q));if(u58){u58(null);}};v6U.NameValueStore.prototype.remove=function(E3H,z4o){v6U.localStorage.removeItem(E3H);K5H.W5N();if(z4o){z4o(null);}};};W=X2l=>{var p_V=i6UVR;var y0n,S$g;y0n="und";y0n+="efi";y0n+="n";y0n+="ed";S$g=typeof _CIQ !== y0n?_CIQ:X2l.CIQ;if(!S$g.ChartEngine){S$g.ChartEngine=function(){};}s9Q.fetchInitialData=function(x$_,P31,P_I,K$e,H4x){};s9Q.fetchUpdateData=function(X3J,U2a,W_C,a72){};s9Q.fetchPaginationData=function(H2v,n9d,q2o,Q_o,b3C){};s9Q.subscribe=function(v3Z){};s9Q.unsubscribe=function(K21){};S$g.QuoteFeed=S$g.QuoteFeed || (function(){});S$g.QuoteFeed.prototype.fetch=function(O$V,x4Y){var M09;if(!this.v2QuoteFeed){M09="You must implement CIQ.QuoteFeed.[";M09+="you";M09+="rfeedname].prototype.fetch()";console.log(M09);}};S$g.QuoteFeed.prototype.announceError=function(Q_W,w8x){if(Q_W.suppressErrors || w8x.suppressAlert){return;}p_V.W3G();if(Q_W.startDate){;}else if(Q_W.endDate){;}else if(w8x.error){S$g.alert("Error fetching quote:" + w8x.error);}else {;}};S$g.QuoteFeed.prototype.multiFetch=function(j_I,e6Y){p_V.W3G();if(j_I.length === 0){e6Y([]);}return j_I[0].stx.driver.multiFetch(j_I,e6Y);};S$g.QuoteFeed.Subscriptions=function(){p_V.W5N();this.subscriptions=[];};S$g.inheritsFrom(S$g.QuoteFeed.Subscriptions,S$g.QuoteFeed);S$g.QuoteFeed.Subscriptions.prototype.checkSubscriptions=function(y8L){var t6G,z_E,s$z,y7Q,S9J,W6R,c30,M4O,f3f;s$z=y8L.getSymbols({"breakout-equations":!![]});y7Q=this;p_V.W3G();s$z=s$z.filter(function(a6I){var W2Z;W2Z=y8L.quoteDriver.getQuoteFeed(a6I);return W2Z && W2Z.engine == y7Q;});for(var a0r=0;a0r < this.subscriptions.length;a0r++){this.subscriptions[a0r].match=!"1";}for(var R5P=0;R5P < s$z.length;R5P++){z_E=s$z[R5P];S9J=z_E.interval;if((S9J == "month" || S9J == "week") && !y8L.dontRoll){W6R="d";W6R+="a";W6R+="y";S9J=W6R;}z_E.interval=S9J;z_E.period=1;z_E.match=!!0;if(!isNaN(z_E.interval)){c30="mi";c30+="nut";c30+="e";z_E.period=z_E.interval;z_E.interval=z_E.timeUnit;if(!z_E.interval){z_E.interval=c30;}}delete z_E.periodicity;delete z_E.timeUnit;delete z_E.setSpan;for(a0r=0;a0r < this.subscriptions.length;a0r++){t6G=this.subscriptions[a0r];if(t6G.symbol == z_E.symbol && t6G.period == z_E.period && t6G.interval == z_E.interval){z_E.match=!!1;t6G.match=!![];break;}else if(t6G.symbol != z_E.symbol){M4O="sym";M4O+="b";M4O+="o";M4O+="l";if(z_E.reason != "period"){z_E.reason="symbol";}t6G.reason=M4O;}else {f3f="per";f3f+="i";f3f+="o";f3f+="d";z_E.reason="period";t6G.reason=f3f;}}}this.subscriptions=this.subscriptions.filter(function(G58){if(!G58.match){if(!G58.stx){G58.stx=y8L;}y7Q.unsubscribe(G58);}return G58.match;});s$z.forEach(function(v_$){var H8H;if(!v_$.match){H8H="initi";H8H+="al";H8H+="i";H8H+="ze";if(!v_$.stx){v_$.stx=y8L;}if(!v_$.reason){v_$.reason=H8H;}if(v_$.symbol !== y8L.chart.symbol){v_$.series=!![];}y7Q.subscribe(v_$);y7Q.subscriptions.push(v_$);}});};S$g.QuoteFeed.Subscriptions.prototype.fetch=function(b0f,r2A){var w5H;w5H=this;this.fetchFromSource(b0f,function(I42){p_V.W5N();if(!I42.error){w5H.checkSubscriptions(b0f.stx);}r2A(I42);});};S$g.QuoteFeed.Subscriptions.prototype.subscribe=function(U1T){p_V.W5N();console.log("subscribe",U1T);};S$g.QuoteFeed.Subscriptions.prototype.unsubscribe=function(y5S){var l5x;l5x="unsubs";l5x+="cribe";console.log(l5x,y5S);};S$g.QuoteFeed.Subscriptions.prototype.fetchFromSource=function(v5H,W$z){p_V.W3G();console.log("Please provide implementation of fetchFromSource");};S$g.QuoteFeed.prototype.requiresImmediateRefresh=function(A$5){return !"1";};S$g.ChartEngine.prototype.attachQuoteFeed=function(e1P,V4w,k0M){var q7j,k30,E5V;q7j="f";q7j+="unct";q7j+="io";q7j+="n";k30="f";k30+="u";k30+="nct";k30+="ion";if(!V4w){V4w={};}if(typeof e1P.fetchInitialData === k30 || typeof e1P.fetchUpdateData === q7j || typeof e1P.fetchPaginationData === "function"){if(typeof e1P.fetchPaginationData !== "function" && typeof e1P.fetchUpdateData !== "function"){V4w.noLoadMore=!!({});}e1P.v2QuoteFeed=!!({});["multiFetch","announceError","requiresImmediateRefresh"].forEach(function(Y9A){if(!e1P[Y9A] && e1P[Y9A] !== !1){e1P[Y9A]=S$g.QuoteFeed.prototype[Y9A];}p_V.W5N();;});if(typeof e1P.subscribe === "function"){e1P.checkSubscriptions=S$g.QuoteFeed.Subscriptions.prototype.checkSubscriptions;e1P.subscriptions=[];}}if(!V4w.maximumTicks){V4w.maximumTicks=e1P.maxTicks?e1P.maxTicks:20000;}p_V.W3G();if(!V4w.bufferSize || V4w.bufferSize < 0){V4w.bufferSize=0;}V4w.bufferSize=Math.round(V4w.bufferSize);V4w.intervalTimer=null;if(this.quoteDriver){if(!k0M && this.quoteDriver.hasUnfilteredQuoteFeed){this.detachQuoteFeed();}else {E5V=this.quoteDriver.hasUnfilteredQuoteFeed && this.quoteDriver.quoteFeeds.pop();this.quoteDriver.quoteFeeds.push({engine:e1P,behavior:V4w,filter:k0M});if(E5V){this.quoteDriver.quoteFeeds.push(E5V);}this.quoteDriver.updateChartLoop(null,V4w);}}if(!this.quoteDriver){this.quoteDriver=new S$g.ChartEngine.Driver(this,e1P,V4w,k0M);}if(!k0M){this.quoteDriver.hasUnfilteredQuoteFeed=!!({});}};S$g.ChartEngine.prototype.detachQuoteFeed=function(n6W){var f8K;f8K=this.quoteDriver;if(!f8K){return;}for(var W7w=f8K.quoteFeeds.length - ("1" - 0);W7w >= 0;W7w--){if(!n6W || f8K.quoteFeeds[W7w].quoteFeed == n6W){f8K.die(f8K.quoteFeeds[W7w]);f8K.quoteFeeds.splice(W7w,1);}}p_V.W5N();if(!f8K.quoteFeeds.length){f8K=this.quoteDriver=null;}else if(n6W == f8K.quoteFeed){f8K.quoteFeed=f8K.quoteFeeds[0].quoteFeed;f8K.behavior=f8K.quoteFeeds[0].behavior;}};S$g.ChartEngine.Driver=function(D7y,B2c,c0W,g$p){p_V.W3G();this.stx=D7y;if(!c0W){c0W={};}this.quoteFeeds=[{engine:B2c,behavior:c0W,filter:g$p}];this.id=S$g.uniqueID(!!1);this.behavior=c0W;this.quoteFeed=B2c;this.loadingNewChart=![];this.updatingChart=!1;if(!g$p){this.hasUnfilteredQuoteFeed=!![];}this.updateChartLoop();};S$g.ChartEngine.Driver.prototype.die=function(V7j){var N8A;for(var I2J=0;I2J < this.quoteFeeds.length;I2J++){if(!V7j || this.quoteFeeds[I2J] == V7j){N8A=this.quoteFeeds[I2J].behavior;if(N8A.intervalTimer){clearInterval(N8A.intervalTimer);N8A.intervalTimer=-1;;}}}};S$g.ChartEngine.Driver.prototype.getQuoteFeed=function(o_v){var L$J;if(!o_v.symbolObject){o_v.symbolObject={symbol:o_v.symbol};}for(var c4Y=0;c4Y < this.quoteFeeds.length;c4Y++){L$J=this.quoteFeeds[c4Y];if(L$J.behavior.generator != o_v.symbolObject.generator)continue;if(!L$J.filter || L$J.filter(o_v)){return L$J;}}return null;;};S$g.ChartEngine.Driver.prototype.multiFetch=function(L0M,g_c){var v8_,B8L,z0d;if(L0M.length === 0){g_c([]);}v8_={counter:0,finished:L0M.length,results:[]};for(var X1k=0;X1k < L0M.length;X1k++){B8L=L0M[X1k];if(B8L.stx.isEquationChart(B8L.symbol)){S$g.fetchEquationChart(B8L,x66(B8L,v8_,g_c));}else {z0d=this.getQuoteFeed(B8L);if(z0d){S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.SERIES,z0d.engine,B8L,x66(B8L,v8_,g_c));}}}p_V.W5N();function x66(b6T,s07,y5y){p_V.W3G();return function(O4l){p_V.W5N();var g1E;s07.results.push({dataCallback:O4l,params:b6T});s07.counter++;if(s07.counter >= s07.finished){g1E=s07.results;s07.results=[];y5y(g1E);}};}};S$g.ChartEngine.Driver.prototype.updateSubscriptions=function(){for(var o9n=+"0";o9n < this.quoteFeeds.length;o9n++){if(this.quoteFeeds[o9n].checkSubscriptions){this.quoteFeeds[o9n].checkSubscriptions(this.stx);}}};S$g.ChartEngine.Driver.prototype.loadDependents=function(O36,T7Z,k25,z3b){var Z8b,P9r,y$Y,j5c,x25,s7w,j5N,o4F,P0T,n7N,t5E,r8W,C7L,v3R,f9w,x97,i$S,Q0i,X1z,s0n,Q5v,o0a,T5t,S2v,I3P;Z8b=this;if(!z3b){P9r=0;y$Y=[];j5c=[];x25=function(w_9){if(T7Z && ++P9r >= Z8b.quoteFeeds.length){T7Z(null);}};s7w=function(n9B){if(++P9r < y$Y.length){return;}p_V.W5N();if(!j5c.length){x25(n9B);}j5c.forEach(function(w$1){Z8b.loadDependents(O36,x25,k25,w$1.behavior);});};Z8b.quoteFeeds.forEach(function(M1E){if(M1E.behavior.generator){j5c.push(M1E);}else {y$Y.push(M1E);}});y$Y.forEach(function(J0S){Z8b.loadDependents(O36,s7w,k25,J0S.behavior);});return;}o4F={};P0T=O36.stx;n7N=O36.chart;t5E=n7N.series;r8W=P0T.masterData;f9w=[];x97={};function C0G(c7q){p_V.W3G();return function(d$K){var s4E,i7V,a4B,n$2,c6x,X$I,L00,V9O,g6C,Z6r;s4E=null;for(var t6Q=0;t6Q < d$K.length;t6Q++){i7V=d$K[t6Q];a4B=i7V.dataCallback.error;if(!a4B && a4B !== 0){n$2=i7V.params.symbolObject;c6x=i7V.dataCallback;X$I=c6x.quotes;L00=c6x.moreAvailable;V9O=c6x.upToDate;g6C=[];if(P0T.getSeries){g6C=P0T.getSeries({symbolObject:n$2});}Z6r=![];for(var i99=+"0";i99 < g6C.length;i99++){C7L=g6C[i99];if(!c7q){if(!O36.future){C7L.moreAvailable=L00 === !!""?!({}):L00 || X$I.length > (i7V.params.endDate?"1" | 1:0);}else {C7L.upToDate=V9O === !![]?!!1:V9O || X$I.length <= (i7V.params.startDate?+"1":"0" * 1);if(P0T.isHistoricalModeSet && X$I.length < 2){C7L.mostRecentForwardAttempt=new Date();}}C7L.loading=!1;}Z6r=C7L.parameters.fillGaps || Z6r;}X$I=Z8b.cleanup(P0T,C7L,X$I,k25,O36,Z6r);P0T.updateChartData(X$I,n7N,{secondarySeries:n$2.symbol,noCreateDataSet:!0,noCleanupDates:!!({}),allowReplaceOHL:!""});if(X$I && X$I.length && (!s4E || s4E > X$I[0].DT)){s4E=X$I[+"0"].DT;}}}if(d$K.length){P0T.createDataSet(null,null,{appending:O36.originalState.update || O36.future,appendToDate:s4E});if(!O36.nodraw){P0T.draw();}if(k25 == S$g.QuoteFeed.INITIAL){Z8b.resetRefreshInterval(z3b.refreshInterval,z3b);}}if(T7Z){T7Z(null);}};}i$S=k25 == S$g.QuoteFeed.UPDATE;Q0i=k25 == S$g.QuoteFeed.PAGINATION;X1z=S$g.shallowClone(O36);for(j5N in t5E){C7L=t5E[j5N];s0n=C7L.parameters;if(!i$S){if(!O36.future && C7L.moreAvailable === ![])continue;if(O36.future && C7L.upToDate === !!({}))continue;;}if(C7L.loading)continue;if(s0n.loadData === !({}))continue;if(i$S || Q0i){if(!C7L.endPoints || !Object.keys(C7L.endPoints).length)continue;;}if(s0n.data && !s0n.data.useDefaultQuoteFeed)continue;v3R=s0n.symbolObject;if(!v3R.symbol)continue;if(v3R.generator != z3b.generator)continue;X1z.symbolObject=v3R;X1z.symbol=v3R.symbol;Q5v=this.getQuoteFeed(X1z);if(z3b != (Q5v && Q5v.behavior))continue;o0a=!!({});if(!i$S){C7L.loading=!"";}for(var J0K=0;J0K < f9w.length;J0K++){if(S$g.symbolEqual(f9w[J0K],v3R)){o0a=!1;}}if(o0a){f9w.push(v3R);x97[v3R.symbol]=C7L.endPoints;}}T5t=[];for(var G$C=0;G$C < f9w.length;G$C++){v3R=f9w[G$C];S2v=S$g.shallowClone(O36.originalState);S2v.symbol=v3R.symbol;S2v.symbolObject=v3R;if(S2v.update || S2v.future){if(!S2v.endDate){S2v.endDate=O36.endDate;}S2v.startDate=x97[v3R.symbol].end;}else {if(!S2v.startDate){S2v.startDate=O36.startDate;}S2v.endDate=Q0i && !O36.future?x97[v3R.symbol].begin:O36.endDate;S2v.ticks=O36.ticks;}T5t.push(S2v);}if(!T5t.length && i$S){I3P={appending:O36.appending || O36.originalState.update};if(I3P.appending){I3P.appendToDate=O36.startDate;}P0T.createDataSet(null,null,I3P);if(!O36.nodraw){P0T.draw();}if(T7Z){T7Z(null);}return;}this.multiFetch(T5t,C0G(i$S));};S$g.ChartEngine.Driver.prototype.cleanup=function(s1T,z1R,K6V,i7$,O06,d_4){var d9Q,g5y,w$E,i6O,I88,O7T,X89,h4H;s1T.doCleanupDates(K6V,s1T.layout.interval);if(!O06.missingBarsCreated && K6V && K6V.length && s1T.cleanupGaps && d_4 !== !!0){w$E=O06.chart;if(!z1R){g5y=w$E.defaultPlotField;}else {w$E=z1R;g5y=z1R.parameters.symbol || z1R.id;}if(i7$ == S$g.QuoteFeed.PAGINATION && !O06.loadMoreReplace){if(w$E.endPoints.begin && w$E.endPoints.begin > K6V[K6V.length - 1].DT){i6O=s1T.getFirstLastDataRecord(s1T.masterData,g5y,!!0);if(z1R){i6O=i6O[g5y];}K6V.push(i6O);d9Q="pop";}}else if(i7$ == S$g.QuoteFeed.UPDATE){if(w$E.endPoints.end && w$E.endPoints.end < K6V[0].DT){I88=s1T.getFirstLastDataRecord(s1T.masterData,g5y,!![]);O7T=2141695318;p_V.s$9(39);X89=-p_V.V9a("1916707877",0);h4H=2;for(var G7f=1;p_V.m6F(G7f.toString(),G7f.toString().length,58221) !== O7T;G7f++){if(z1R){I88=I88[g5y];}K6V.unshift(I88);h4H+=2;}if(p_V.m6F(h4H.toString(),h4H.toString().length,2127) !== X89){if(z1R){I88=I88[g5y];}K6V.unshift(I88);}if(z1R){I88=I88[g5y];}K6V.unshift(I88);d9Q="shift";}}K6V=s1T.doCleanupGaps(K6V,O06.chart,{cleanupGaps:d_4,noCleanupDates:!0});if(d9Q){K6V[d9Q]();}}return K6V;};S$g.ChartEngine.Driver.prototype.updateChart=function(m_A){var J0D,o1I,H5S,k4g,d7o,U6m,l4F,w5V,m5t;if(this.updatingChart){return;}if(this.loadingNewChart){return;}J0D=Object.keys(this.stx.charts).length;o1I=0;H5S=this.stx;k4g=H5S.layout.interval;function u25(o$Y,d7m,p4q,I13){if(d7m.behavior.prefetchAction){d7m.behavior.prefetchAction("updateChart");}return function(E9r){var L2C,j1a,x7_;o1I++;L2C=d7m.chart;j1a=L2C.masterData;if(p4q == L2C.symbol && k4g == H5S.layout.interval && d7o == H5S.layout.timeUnit && !H5S.isHistoricalMode()){if(!E9r.error){x7_=E9r.quotes;x7_=o$Y.cleanup(H5S,null,x7_,S$g.QuoteFeed.UPDATE,d7m);H5S.updateChartData(x7_,L2C,{noCreateDataSet:!"",noCleanupDates:!!1});L2C.attribution=E9r.attribution;}else if(I13){I13.engine.announceError(d7m.originalState,E9r);}}else {o$Y.updatingChart=![];return;}if(o1I == J0D){o$Y.updatingChart=!1;}if(d7m.behavior.callback){d7m.behavior.callback(d7m);}o$Y.loadDependents(d7m,null,S$g.QuoteFeed.UPDATE,d7m.behavior);p_V.W3G();;};}d7o=H5S.layout.timeUnit;for(var N5Y in H5S.charts){U6m=H5S.charts[N5Y];if(!U6m.symbol)continue;l4F=this.makeParams(U6m.symbol,U6m.symbolObject,U6m);w5V=this.getQuoteFeed(l4F);if(U6m.masterData && U6m.masterData.length){l4F.startDate=U6m.endPoints.end;;}l4F.update=!!1;l4F.originalState=S$g.shallowClone(l4F);if(m_A && m_A != l4F.behavior){this.loadDependents(l4F,null,S$g.QuoteFeed.UPDATE,m_A);continue;}this.updatingChart=!![];m5t=u25(this,l4F,U6m.symbol,w5V);if(H5S.isEquationChart(l4F.symbol)){S$g.fetchEquationChart(l4F,m5t);}else if(w5V){S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.UPDATE,w5V.engine,l4F,m5t);}}};S$g.ChartEngine.Driver.prototype.updateChartLoop=function(y27,m0W){var F$O,a01;if(!m0W){m0W=this.behavior;}if(m0W.intervalTimer == -1){return;}if(m0W.intervalTimer){clearInterval(m0W.intervalTimer);}p_V.W5N();F$O=function(Q$A,G4L){p_V.W5N();return function(){if(G4L.noUpdate){return;}Q$A.updateChart(G4L);};};for(var U6A=0;U6A < this.quoteFeeds.length;U6A++){a01=this.quoteFeeds[U6A].behavior;if(m0W == a01 && !a01.noUpdate){if(!y27 && y27 !== 0){y27=a01.refreshInterval;}if(y27){m0W.intervalTimer=setInterval(F$O(this,a01),y27 * +"1000");}}}};S$g.ChartEngine.Driver.prototype.resetRefreshInterval=function(P9I,j7u){(j7u || this.behavior).refreshInterval=P9I;this.updateChartLoop(null,j7u);p_V.W5N();;};S$g.ChartEngine.Driver.prototype.loadAll=function(S2o,T95){var W7R,Q5G;W7R=this;Q5G=0;N9S()();function N9S(){return function(J0c){p_V.W5N();if(J0c){T95(J0c);}else if(!S2o.moreAvailable && S2o.upToDate){T95(null);;}else if(++Q5G > 20){T95("error, moreAvailable not implemented correctly in QuoteFeed");}else {S2o.loadingMore=!1;W7R.checkLoadMore(S2o,!![],!0,N9S(),!"");}};}};S$g.ChartEngine.Driver.prototype.checkLoadMore=function(s48,Q6_,C2w,W3i,b8k){var N9J,i8V,K3u,A_L,l1R,X_v,r4x,n0D,e4P,a7l,k9A,g47,n6i,S4H,k9x,G7v,r7G,R6a,G6U,O1s,b3M,c0H;function B$C(W23){return !W23.endPoints.end || s48.scroll - s48.maxTicks + 1 < l1R.bufferSize || N9J.tickFromDate(W23.endPoints.end,s48,null,!!({})) - X_v.length + s48.scroll - s48.maxTicks + 2 < l1R.bufferSize;}N9J=this.stx;i8V=this;function P5k(J$e,E42){if(l1R.prefetchAction){l1R.prefetchAction("checkLoadMore");}return function(y8R){var C7a,g8$,m_O,G38,b0B,n5s,W64,Q4F,l29,w3e,q2O,h3x;C7a=-+"500040512";g8$=1753553143;p_V.W3G();m_O=2;for(var e$m=+"1";p_V.l5h(e$m.toString(),e$m.toString().length,5185) !== C7a;e$m++){G38=J$e.stx;b0B=E42.chart;m_O+=2;}if(p_V.m6F(m_O.toString(),m_O.toString().length,21552) !== g8$){G38=J$e.stx;b0B=E42.chart;}if(E42.symbol == b0B.symbol && G7v == G38.layout.interval && r7G == G38.layout.timeUnit){if(!E42.loadMore){E42.chart.loadingMore=![];}if(!y8R.error){if(!y8R.quotes){y8R.quotes=[];}n5s=y8R.quotes;W64=b0B.masterData;n5s=J$e.cleanup(G38,null,n5s,S$g.QuoteFeed.PAGINATION,E42);if(n5s.length && b0B.masterData && b0B.masterData.length){if(E42.future){Q4F=n5s[0];if(Q4F.DT && Q4F.DT == b0B.masterData[b0B.masterData.length - 1].DT){W64.pop();}}else {p_V.s$9(37);var D7Z=p_V.v$j(14,0,15);l29=n5s[n5s.length - D7Z];if(l29.DT && +l29.DT == +b0B.masterData[0].DT){n5s.pop();}}}if(!E42.future){if(y8R.moreAvailable){b0B.moreAvailable=!!({});}else if(y8R.moreAvailable === ![] || !n5s.length){b0B.moreAvailable=!"1";}else {b0B.moreAvailable=!!1;}}else {if(y8R.upToDate){b0B.upToDate=!![];}else if(y8R.upToDate === !!"" || n5s.length > 1){b0B.upToDate=!({});}if(G38.isHistoricalModeSet && n5s.length < 2){b0B.mostRecentForwardAttempt=new Date();};}J$e.tickMultiplier=n5s.length?2:J$e.tickMultiplier * 2;w3e=n5s[0]?n5s["0" * 1].DT:E42.startDate;q2O=n5s[0]?n5s[n5s.length - 1].DT:E42.endDate;if(!b0B.endPoints.begin || b0B.endPoints.begin > w3e){b0B.endPoints.begin=w3e;}if(!b0B.endPoints.end || b0B.endPoints.end < q2O){b0B.endPoints.end=q2O;}b0B.loadingMore=!({});if(E42.loadMoreReplace){G38.setMasterData(n5s,b0B,{noCleanupDates:!![]});}else if(E42.future){G38.updateChartData(n5s,b0B,{noCreateDataSet:!!({}),noCleanupDates:!""});}else {S$g.addMemberToMasterdata({stx:G38,chart:b0B,data:n5s,fields:[5453 == (7460,6066)?(827,0x2459):231.12 <= (2080,387)?"*":("A",!"")],noCleanupDates:!!1});}if(E42.future){h3x={appending:!![],appendToDate:n5s[0] && n5s[0].DT};}G38.createDataSet(undefined,undefined,h3x);if(!b8k){G38.draw();}if(l1R.callback){l1R.callback(E42);}J$e.loadDependents(E42,W3i,S$g.QuoteFeed.PAGINATION);}else {J$e.quoteFeed.announceError(E42.originalState,y8R);E42.chart.loadingMore=!({});if(W3i){W3i(y8R.error);}}}else {return;}};}if(s48.loadingMore || this.loadingNewChart){s48.initialScroll=s48.scroll;if(W3i){W3i(null);}return;}K3u=N9J.isHistoricalMode();if(!K3u){N9J.isHistoricalModeSet=!({});}A_L=this.makeParams(s48.symbol,s48.symbolObject,s48);if(N9J.currentlyImporting){if(W3i){W3i(null);}return;}l1R=A_L.behavior;X_v=s48.dataSet;p_V.O_b(33);var s6l=p_V.v$j(995,14,9);n0D=s6l * (l1R.forwardPaginationRetryInterval || "5" ^ 0);e4P=!!0;a7l=![];if(s48.dataSet.length){for(var o5b in s48.series){k9A=s48.series[o5b];if(k9A.loading)continue;if(k9A.parameters.loadData === !({}))continue;r4x=!k9A.mostRecentForwardAttempt || k9A.mostRecentForwardAttempt.getTime() + n0D < Date.now();if(k9A.moreAvailable !== !!0 && T6i(k9A)){e4P=!"";}if(r4x && !k9A.upToDate && B$C(k9A)){a7l=!0;}}}r4x=!s48.mostRecentForwardAttempt || s48.mostRecentForwardAttempt.getTime() + n0D < Date.now();g47=(T6i(s48) || Q6_) && s48.moreAvailable !== ![];n6i=(B$C(s48) || Q6_) && !s48.upToDate && r4x;function M6x(A$Q){s48.loadingMore=![];if(W3i){W3i(A$Q);}}S4H=g47 || e4P;k9x=N9J.isHistoricalModeSet && !S4H && (n6i || a7l);function T6i(G3l){return !G3l.endPoints.begin || X_v.length - s48.scroll < l1R.bufferSize || X_v.length - s48.scroll - N9J.tickFromDate(G3l.endPoints.begin,s48) < l1R.bufferSize;}G7v=N9J.layout.interval;r7G=N9J.layout.timeUnit;R6a=![];G6U=l1R.findHeadOfData || s48.masterData && s48.masterData.length;if(!l1R.noLoadMore && G6U){if(k9x || !N9J.maxDataSetSize || s48.dataSet.length < N9J.maxDataSetSize){if(S4H || k9x){s48.initialScroll=s48.scroll;s48.loadingMore=!![];A_L=this.makeParams(s48.symbol,s48.symbolObject,s48);A_L.pagination=!0;A_L.future=k9x;if(s48.masterData && s48.masterData.length){if(k9x){A_L.startDate=s48.endPoints.end;}else {A_L.endDate=s48.endPoints.begin;}if(k9x && !A_L.startDate){O1s=N9J.getFirstLastDataRecord(s48.masterData,"DT",!![]);if(O1s){A_L.startDate=O1s.DT;}}else if(S4H && !A_L.endDate){O1s=N9J.getFirstLastDataRecord(s48.masterData,"DT");if(O1s){A_L.endDate=O1s.DT;}}}else {A_L.endDate=new Date();}A_L.originalState=S$g.shallowClone(A_L);A_L.nodraw=b8k;if(!g47 && e4P || !n6i && a7l){this.loadingMore=!!({});this.loadDependents(A_L,M6x,S$g.QuoteFeed.PAGINATION);if(W3i){W3i(null);}return;}if(N9J.fetchMaximumBars[N9J.layout.aggregationType]){A_L.fetchMaximumBars=!!1;if(!N9J.maxMasterDataSize || l1R.maximumTicks < N9J.maxMasterDataSize){A_L.ticks=l1R.maximumTicks;}else {A_L.ticks=N9J.maxMasterDataSize;}}b3M=P5k(this,A_L);if(N9J.isEquationChart(A_L.symbol)){S$g.fetchEquationChart(A_L,b3M);}else {if(k9x){A_L.appending=!!({});}c0H=i8V.getQuoteFeed(A_L);if(c0H){S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.PAGINATION,c0H.engine,A_L,b3M);}}R6a=!![];}}}if(!R6a && W3i){W3i(null);}};S$g.ChartEngine.Driver.prototype.extendHistoricalData=function({from:W1Z},J8t = ()=>{}){var u_5,Q0p;var {stx:C5n}=this;function G1J(Q$H,Y2i){p_V.W3G();return function({quotes:R$H, moreAvailable:l0w, error:Y8i}){if(Y2i.symbol !== c_a.symbol || O7U !== h85.interval || r7Q !== h85.timeUnit){return;;}c_a.loadingMore=!"1";if(Y8i){return J8t(Y8i);}R$H=Q$H.cleanup(C5n,null,R$H,S$g.QuoteFeed.PAGINATION,Y2i);if(typeof l0w === "boolean"){c_a.moreAvailable=l0w;}else {c_a.moreAvailable=!!R$H.length;}c_a.endPoints.begin=R$H[0].DT;S$g.addMemberToMasterdata({stx:C5n,chart:c_a,data:R$H,fields:[("934" << 64,356.46) === 339.8?783 === (7080,9410)?!({}):("z",!!1):"*"],noCleanupDates:!""});C5n.createDataSet();C5n.draw();};}var {chart:c_a, layout:h85}=C5n;var {masterData:Q7X, dataSet:A2N}=c_a;var {interval:O7U, timeUnit:r7Q}=h85;u_5=this.makeParams(c_a.symbol,c_a.symbolObject,c_a);Q0p=this.getQuoteFeed(u_5);if(c_a.loadingMore || this.loadingNewChart || C5n.currentlyImporting || !Q7X.length || !Q0p || C5n.maxDataSetSize && A2N.length > C5n.maxDataSetSize){return J8t(null);}p_V.W5N();c_a.loadingMore=!"";u_5.originalState=Object.assign({},u_5);u_5.startDate=W1Z;u_5.endDate=Q7X[0].DT;S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.PAGINATION,Q0p.engine,u_5,G1J(this,u_5));};S$g.ChartEngine.Driver.prototype.barsToFetch=function(x89){var T7O,u8r,T8Z,H3Q;T7O="w";T7O+="e";T7O+="e";T7O+="k";if(!S$g.isValidNumber(this.tickMultiplier)){this.tickMultiplier=+"2";}u8r=this.stx.layout.interval;T8Z=x89.stx.layout.periodicity;if((u8r == "month" || u8r == T7O) && !this.stx.dontRoll){T8Z*=u8r == "week"?7:30;}H3Q=x89.stx.chart.maxTicks * T8Z;return H3Q * this.tickMultiplier;};p_V.W5N();S$g.ChartEngine.Driver.determineStartDate=function(z5w,r5q,z0k){var A9P,o47,A2r;A9P=301845622;o47=1812588392;A2r=2;for(var Q03=1;p_V.l5h(Q03.toString(),Q03.toString().length,+"64734") !== A9P;Q03++){return this.determineStartOrEndDate(z5w,r5q,z0k,!!({}));}if(p_V.l5h(A2r.toString(),A2r.toString().length,9095) !== o47){return this.determineStartOrEndDate(z5w,r5q,z0k,!"1");}};S$g.ChartEngine.Driver.determineStartOrEndDate=function(c$4,t2N,m79,A8H){var t_M;if(A8H || c$4.fetchMaximumBars){t_M=c$4.startDate || t2N.previous(m79);}else {t_M=c$4.future?t2N.next(m79):new Date();}return t_M;};S$g.ChartEngine.Driver.prototype.makeParams=function(o2M,h9M,H1A){var Z0y,r9X,R7u,k3w,o$X,G_1,g2E,l3e,I0a,k$a,B8$,Q7b;Z0y=this.stx;r9X=Z0y.layout.interval;R7u=this.barsToFetch({stx:Z0y});if((r9X == "month" || r9X == "week") && !Z0y.dontRoll){k3w="d";k3w+="a";k3w+="y";r9X=k3w;}o$X=this.getQuoteFeed({interval:r9X,symbol:o2M,symbolObject:h9M});G_1=o$X && o$X.behavior;g2E=S$g.shallowClone(G_1) || ({});g2E.behavior=G_1;l3e=!!"";I0a=[];if(H1A.market && H1A.market.getSessionNames){I0a=H1A.market.getSessionNames();}if(Z0y.extendedHours){if(Z0y.extendedHours.filter){l3e=!!1;}else {k$a=-323888069;B8$=1668079439;p_V.s$9(1);Q7b=p_V.v$j(0,"2");for(var H4F=1;p_V.l5h(H4F.toString(),H4F.toString().length,84645) !== k$a;H4F++){l3e=Z0y.layout.extended;Q7b+=2;}if(p_V.m6F(Q7b.toString(),Q7b.toString().length,+"56844") !== B8$){l3e=Z0y.layout.extended;}I0a=I0a.filter(function(W3A){p_V.W3G();return W3A.enabled || Z0y.layout.marketSessions[W3A.name];});}}else {I0a=I0a.filter(function(Z69){p_V.W5N();return Z69.enabled;});}for(var k9r="0" ^ 0;k9r < I0a.length;k9r++){I0a[k9r]=I0a[k9r].name;;}S$g.extend(g2E,{stx:Z0y,symbol:o2M,symbolObject:h9M,chart:H1A,interval:r9X,extended:l3e,period:1,ticks:R7u,additionalSessions:I0a,quoteDriverID:this.id},!![]);if(!g2E.symbolObject){g2E.symbolObject={symbol:o2M};}if(!isNaN(g2E.interval)){g2E.period=parseInt(g2E.interval,10);g2E.interval=Z0y.layout.timeUnit;if(!g2E.interval){g2E.interval="minute";}}return g2E;};S$g.ChartEngine.Driver.prototype.newChart=function(Q4R,f_I){var F$a,u$3,A$Y,s9V,N4$,B1u,Q12,h0W,g9y;F$a=this.stx;function b$y(e9P,w_3){var M7Z;M7Z="n";M7Z+="ewChart";if(h0W.prefetchAction){h0W.prefetchAction(M7Z);}p_V.W3G();return function(q4p){var u5K,Y2S,h4h,f8I;u5K=w_3.chart;Y2S=q4p.quotes;h4h=!({});if(u$3 == u5K.symbol && A$Y == F$a.layout.interval && s9V == F$a.layout.timeUnit){e9P.loadingNewChart=![];if(!q4p.error){Y2S=e9P.cleanup(F$a,null,Y2S,S$g.QuoteFeed.INITIAL,w_3);F$a.setMasterData(Y2S,u5K,{noCleanupDates:!!"1"});u5K.endPoints={};u5K.endPoints.begin=Y2S[0]?Y2S[0].DT:w_3.startDate;u5K.endPoints.end=Y2S[0]?Y2S[Y2S.length - 1].DT:w_3.endDate;if(!Y2S){u5K.moreAvailable=![];u5K.upToDate=!!({});}else {u5K.moreAvailable=q4p.moreAvailable === !"1"?!"1":!!({});u5K.upToDate=q4p.upToDate;}u5K.attribution=q4p.attribution;if(Q4R.initializeChart){F$a.initializeChart();}F$a.createDataSet();h4h=!0;}else {Q12.engine.announceError(w_3.originalState,q4p);}}else {if(f_I){f_I("orphaned");}return;}for(var x2G in u5K.series){u5K.series[x2G].endPoints={};u5K.series[x2G].moreAvailable=null;u5K.series[x2G].upToDate=null;}f8I=u5K.masterData;if(f8I && f8I.length){w_3.startDate=f8I[0].DT;w_3.endDate=f8I[f8I.length - 1].DT;}if(h0W.callback){h0W.callback(w_3);}e9P.loadDependents(w_3,function(){if(h4h && !w_3.nodraw){e9P.stx.home();}if(f_I){f_I(q4p.error);}e9P.stx.dispatch("newChart",{stx:e9P.stx,symbol:e9P.stx.chart.symbol,symbolObject:e9P.stx.chart.symbolObject,moreAvailable:e9P.stx.chart.moreAvailable,upToDate:e9P.stx.chart.upToDate,quoteDriver:e9P});e9P.resetRefreshInterval(h0W.refreshInterval,h0W);},S$g.QuoteFeed.INITIAL);};}u$3=Q4R.symbol;A$Y=F$a.layout.interval;s9V=F$a.layout.timeUnit;N4$=Q4R.chart;N4$.moreAvailable=null;N4$.upToDate=null;N4$.loadingMore=!!"";N4$.attribution=null;B1u=this.makeParams(u$3,Q4R.symbolObject,N4$);S$g.extend(B1u,Q4R,!!({}));Q12=this.getQuoteFeed(B1u);h0W=B1u.behavior;if(F$a.fetchMaximumBars[F$a.layout.aggregationType] || Q4R.fetchMaximumBars){if(!F$a.maxMasterDataSize || h0W.maximumTicks < F$a.maxMasterDataSize){B1u.ticks=h0W.maximumTicks;}else {B1u.ticks=F$a.maxMasterDataSize;}B1u.fetchMaximumBars=!!1;}this.loadingNewChart=!!1;this.updatingChart=!({});B1u.originalState=S$g.shallowClone(B1u);g9y=b$y(this,B1u);if(this.stx.isEquationChart(B1u.symbol)){S$g.fetchEquationChart(B1u,g9y);}else if(Q12){S$g.ChartEngine.Driver.fetchData(S$g.QuoteFeed.INITIAL,Q12.engine,B1u,g9y);}};S$g.QuoteFeed.INITIAL=1;S$g.QuoteFeed.UPDATE=+"2";S$g.QuoteFeed.PAGINATION=3;S$g.QuoteFeed.SERIES=4;S$g.ChartEngine.Driver.fetchData=function(B2I,L57,F3P,w6N){if(!F3P.symbol){return w6N({quotes:[]});}if(L57.v2QuoteFeed){if(typeof L57.subscribe !== "function"){S$g.ChartEngine.Driver.fetchDataInContext(B2I,L57,F3P,w6N);}else {S$g.ChartEngine.Driver.fetchDataInContext(B2I,L57,F3P,(function(I3C){if(!I3C.error){this.checkSubscriptions(F3P.stx);}p_V.W3G();w6N(I3C);}).bind(L57));}}else {F3P.stx.convertToDataZone(F3P.startDate);F3P.stx.convertToDataZone(F3P.endDate);L57.fetch(F3P,w6N);}};function s9Q(){}S$g.ChartEngine.Driver.fetchDataInContext=function(f7G,f7P,n5v,o$5){var m4q,I$g,y5L,a$8,C6h,X4u,A6y,o2A,x6i,J6r;C6h=n5v.stx;if(!C6h.chart.market.newIterator){X4u="quoteFeed feature requires first acti";X4u+="vating m";X4u+="arket feature";X4u+=".";console.error(X4u);return;}if(f7G === S$g.QuoteFeed.SERIES){n5v.series=!!({});f7G=S$g.QuoteFeed.INITIAL;if(n5v.endDate && !n5v.startDate || n5v.future){f7G=S$g.QuoteFeed.PAGINATION;}else if(n5v.startDate && !n5v.endDate){f7G=S$g.QuoteFeed.UPDATE;}}A6y=Math.min(n5v.ticks,n5v.maximumTicks);if(f7P.maxTicks){A6y=Math.min(A6y,f7P.maxTicks);}o2A=n5v.symbolObject.masterSymbol || n5v.symbol;p_V.W3G();switch(f7G){case S$g.QuoteFeed.UPDATE:if(C6h.isHistoricalModeSet){C6h.quoteDriver.updatingChart=!1;return;}if(n5v.startDate){x6i=n5v.startDate;}else {x6i=new Date();p_V.s$9(1);x6i.setHours(0,0,0,p_V.V9a(0,"0"));}if(typeof f7P.fetchUpdateData === "function"){f7P.fetchUpdateData(o2A,C6h.convertToDataZone(x6i),n5v,o$5);}break;case S$g.QuoteFeed.INITIAL:a$8=n5v.endDate || new Date();m4q={begin:a$8,interval:n5v.interval,periodicity:n5v.interval == "tick"?C6h.chart.xAxis.futureTicksInterval:n5v.period,outZone:C6h.dataZone};I$g=C6h.chart.market.newIterator(m4q);y5L=S$g.ChartEngine.Driver.determineStartDate(n5v,I$g,A6y);if(n5v.endDate){a$8=n5v.endDate;}if(typeof f7P.fetchInitialData === "function"){f7P.fetchInitialData(o2A,y5L,C6h.convertToDataZone(a$8),n5v,o$5);}break;case S$g.QuoteFeed.PAGINATION:m4q={begin:n5v.endDate || n5v.startDate,interval:n5v.interval,periodicity:n5v.interval == "tick"?C6h.chart.xAxis.futureTicksInterval:n5v.period,outZone:C6h.dataZone};I$g=C6h.chart.market.newIterator(m4q);J6r=S$g.ChartEngine.Driver.determineStartOrEndDate(n5v,I$g,A6y,!n5v.future);y5L=n5v.startDate || J6r;a$8=n5v.endDate || J6r;if(!n5v.startDate){n5v.stx.convertToDataZone(a$8);}else {n5v.stx.convertToDataZone(y5L);}if(typeof f7P.fetchPaginationData === "function"){if(C6h.maxMasterDataSize && C6h.maxMasterDataSize <= C6h.masterData.length){return;}f7P.fetchPaginationData(o2A,y5L,a$8,n5v,function(I4n){if(a$8 >= Date.now()){C6h.isHistoricalModeSet=![];}if(o$5){o$5(I4n);}});}break;default:console.error("Illegal fetchData constant");}};};Y=r_j=>{var n5f;n5f=typeof _CIQ !== "undefined"?_CIQ:r_j.CIQ;n5f.ChartEngine.prototype.addSeries=function(h4V,a7K,N3t){var H1u,B4U,V2E,P3x,y1D,s$v,N6S,b_G,n__,q75,X07,M0U,l4T,n$u,Z2V,V9B,E_7,v6k;H1u="addSeri";H1u+="es";B4U=this.runPrepend(H1u,arguments);if(B4U){return B4U;}V2E=h4V?h4V:null;P3x=h4V;if(!h4V){h4V=n5f.uniqueID();}if(a7K && a7K.panel === !![]){a7K.panel=h4V;}y1D={parameters:a7K?n5f.clone(a7K):{},yValueCache:[],display:V2E,id:h4V,loading:a7K?a7K.loadData !== !"1":!!"1"};y1D.parameters.yAxis=a7K && a7K.yAxis;a7K=y1D.parameters;if(a7K.symbol){P3x=a7K.symbol;}function p0l(n5P){return function(h2m){var v26,A$O;if(!h2m.error){v26=h2m.quotes;A$O=a7K.fillGaps;if(!X07.cleanupGaps){A$O=!!0;}v26=X07.doCleanupGaps(v26,X07.chart,{cleanupGaps:A$O});X07.updateChartData(v26,X07.chart,{secondarySeries:P3x,noCreateDataSet:!![],noCleanupDates:!!({}),allowReplaceOHL:!!1});y1D.loading=!({});y1D.moreAvailable=h2m.moreAvailable;y1D.upToDate=h2m.upToDate;D3h(X07,y1D);}if(a7K.action !== null && !b_G.length){X07.dispatch(M0U?"symbolImport":"symbolChange",{stx:X07,symbol:n5P.symbol,symbolObject:n5P.symbolObject,action:a7K.action,id:y1D.id,parameters:a7K});}if(N3t){N3t.call(X07,h2m.error,y1D);}};}function D3h(K1z,g00){var H1N=i6UVR;var R2O,s_A,t6L,y1q,h8$,P9o,v1C,Z0i;R2O="L";R2O+="i";R2O+="n";R2O+="es";s_A=a7K.renderer || R2O;t6L=a7K.name || h4V;if(a7K.yAxis && !(a7K.yAxis instanceof n5f.ChartEngine.YAxis) && !M0U){a7K.yAxis.name=t6L;}if(!a7K.renderer && !a7K.name && !a7K.color && !a7K.chartType){return;}y1q=K1z.getSeriesRenderer(t6L);if(!y1q){h8$={name:t6L,overChart:a7K.overChart !== !({}),useChartLegend:!![]};if(a7K.chartType){y1q=n5f.Renderer.produce(a7K.chartType,n5f.extend({highlightable:a7K.highlightable,dependentOf:a7K.dependentOf,panel:a7K.panel,yAxis:a7K.yAxis,baseline:a7K.baseline},h8$));}else {n5f.ensureDefaults(a7K,h8$);y1q=new n5f.Renderer[s_A]({params:a7K});}P9o=-+"1330833430";v1C=-158649269;Z0i=2;for(var V5a=1;H1N.l5h(V5a.toString(),V5a.toString().length,+"31078") !== P9o;V5a++){if(!y1q){return;}H1N.O_b(42);Z0i+=H1N.V9a("2",2);}if(H1N.l5h(Z0i.toString(),Z0i.toString().length,79750) !== v1C){if(~y1q){return;}}K1z.setSeriesRenderer(y1q);}y1q.attachSeries(h4V,a7K);if(a7K.loadData !== !!""){y1q.ready();}K1z.layout.symbols=K1z.getSymbols({"include-parameters":!![],"exclude-studies":!0});K1z.changeOccurred("layout");}if(a7K.isComparison){a7K.shareYAxis=!![];}if(a7K.yAxis && !(a7K.yAxis instanceof n5f.ChartEngine.YAxis)){a7K.yAxis=new n5f.ChartEngine.YAxis(a7K.yAxis);;}n5f.ensureDefaults(a7K,{chartName:this.chart.name,symbolObject:{symbol:P3x},panel:this.chart.panel.name,fillGaps:!({}),action:"add-series"});if(("display" in a7K)){y1D.display=a7K.display;}s$v=this.charts[a7K.chartName];N6S=a7K.symbolObject;P3x=a7K.symbol=N6S.symbol;if(!y1D.display){y1D.display=P3x || a7K.field;}y1D.endPoints={};if(!a7K.gapDisplayStyle && a7K.gapDisplayStyle !== !"1"){a7K.gapDisplayStyle=a7K.gaps;}if(a7K.isComparison){if(a7K.gapDisplayStyle === undefined){a7K.gapDisplayStyle="transparent";}}b_G=this.getSeries({symbolObject:N6S,chart:s$v,includeMaster:!0});n__=a7K.panel;if(!this.panels[n__]){q75=a7K.yAxis || new n5f.ChartEngine.YAxis();q75.name=h4V;this.createPanel(h4V,n__,null,null,q75);if(!this.preferences.dragging || !this.preferences.dragging.series){a7K.highlightable=![];}}else {if(!a7K.yAxis && !a7K.shareYAxis){a7K.yAxis=new n5f.ChartEngine.YAxis({name:h4V,position:"none"});}}s$v.series[h4V]=y1D;X07=this;M0U=this.currentlyImporting;if(a7K.isComparison && s$v.forcePercentComparison && a7K.panel == s$v.panel.name && (!a7K.yAxis || a7K.yAxis == s$v.yAxis)){this.setChartScale("percent");}l4T=s$v.masterData;if(!l4T){l4T=s$v.masterData=this.masterData=[];}n$u=l4T.length;if(a7K.data && !a7K.data.useDefaultQuoteFeed){Z2V={symbol:P3x,symbolObject:N6S,action:a7K.action};p0l(Z2V)({quotes:a7K.data});}else if(b_G.length){y1D.endPoints=b_G[0].endPoints;y1D.loading=b_G[0].loading;D3h(this,y1D);if(N3t){setTimeout(function(){N3t.call(X07,null,y1D);},0);}}else if(this.quoteDriver && a7K.loadData !== !!""){V9B=this.quoteDriver;E_7=V9B.makeParams(P3x,N6S,s$v);if(n$u){E_7.startDate=l4T[0].DT;E_7.endDate=this.isHistoricalMode()?l4T[l4T.length - ("1" ^ 0)].DT:new Date();}if(E_7.stx.isEquationChart(E_7.symbol)){n5f.fetchEquationChart(E_7,p0l(E_7));}else {v6k=V9B.getQuoteFeed(E_7);if(v6k){n5f.ChartEngine.Driver.fetchData(4,v6k.engine,E_7,p0l(E_7));}}}else {D3h(this,y1D);if(N3t){N3t.call(this,null,y1D);}}this.runAppend("addSeries",arguments);return y1D;};n5f.ChartEngine.prototype.getSeries=function(D43){var L62,h$J,I4Y,y57,I3S;L62=D43.chart?D43.chart:this.chart;h$J=L62.series;I4Y=D43.symbolObject;if(!I4Y){I4Y={symbol:D43.symbol};}y57=[];for(var Q3Q in h$J){I3S=h$J[Q3Q];if(n5f.symbolEqual(I4Y,I3S.parameters.symbolObject)){y57.push(I3S);}}i6UVR.W3G();if(D43.includeMaster){if(n5f.symbolEqual(I4Y,L62.symbolObject)){y57.push({});}}return y57;};n5f.ChartEngine.prototype.modifySeries=function(s$c,Y6j,a46){var o8X,s9v,u2q,p5l,G4f,L1S,g_h,g0s,x3l,U6W,h6V,p9d,n9H,o0F,A58,s90,X2W;o8X="modi";o8X+="fySe";o8X+="rie";o8X+="s";s9v="stri";s9v+="ng";u2q="modif";u2q+="ySerie";u2q+="s";if(this.runPrepend(u2q,arguments)){return;}if(!Y6j){return;}if(typeof s$c === s9v){L1S=Y6j.chartName?this.charts[Y6j.chartName]:this.chart;G4f=s$c;p5l=L1S.series[G4f];}else {p5l=s$c;G4f=p5l.id;L1S=this.charts[p5l.parameters.chartName];}if(!p5l){return;}n5f.extend(p5l.parameters,Y6j,!0);this.getRendererFromSeries(G4f).modifyRenderer(Y6j);g_h=p5l.parameters;for(var H2i in L1S.seriesRenderers){x3l=L1S.seriesRenderers[H2i];U6W=x3l.params;h6V=x3l.seriesParams;for(var L$G=0;L$G < h6V.length;++L$G){p9d=h6V[L$G];n9H=this.panels[p9d.panel];o0F=n9H && n9H.yAxis.name;if(p9d.id === p5l.id){if(g_h.panel === !!({})){g_h.panel=g_h.dependentOf || g_h.name;}U6W.panel=g_h.panel;if(Y6j.yAxis){if(!(Y6j.yAxis instanceof n5f.ChartEngine.YAxis)){Y6j.yAxis=new n5f.ChartEngine.YAxis(Y6j.yAxis);;}U6W.yAxis=Y6j.yAxis;}if(g_h.panel != p9d.panel && U6W.name == o0F){this.electNewPanelOwner(p9d.panel);;}else {A58=this.getYAxisByName(g_h.panel,U6W.name);if(A58 && g_h.yAxis && A58.name !== g_h.yAxis.name){A58.name=this.electNewYAxisOwner(A58);}}if(!g_h.field){g_h.field=null;}x3l.attachSeries(G4f,n5f.ensureDefaults(g_h,p9d));if(!g_h.field){g_h.field=g_h.subField;}delete g_h.subField;if(g_h.isComparison && L1S.forcePercentComparison && g_h.panel == L1S.panel.name && (!p5l.parameters.yAxis || g_h.yAxis.name == L1S.yAxis.name)){this.setChartScale("percent");}g0s=x3l;break;}}}this.changeOccurred("layout");n5f.getFn("Drawing.updateSource")(this,p5l.parameters.symbol || G4f,null,p5l.parameters.panel);this.runAppend(o8X,arguments);if(a46 !== !!1){s90=g0s.getDependents(this);for(var l34=0;l34 < s90.length;l34++){this.modifySeries(s90[l34].params.name,{panel:g0s.params.panel,yAxis:p5l.parameters.yAxis},!!({}));}X2W=L1S.seriesRenderers[g0s.params.dependentOf];if(X2W){if(X2W.params.yAxis != p5l.parameters.yAxis || X2W.params.panel != g0s.params.panel){this.modifySeries(g0s.params.dependentOf,{panel:g0s.params.panel,yAxis:p5l.parameters.yAxis},!0);}}}this.draw();return p5l;};n5f.ChartEngine.prototype.deleteSeries=function(T1w,l8t,I1C){var t_I,E4D,h7I,F_Y,C_y,b9l,f6H,N0S,f3X,J1k;t_I="symbolCha";t_I+="nge";E4D="o";i6UVR.W5N();E4D+="bject";h7I="re";h7I+="mov";h7I+="e-seri";h7I+="es";if(this.runPrepend("deleteSeries",arguments)){return;}I1C=I1C?I1C:{};F_Y=I1C.action?I1C.action:h7I;if(typeof T1w === E4D){C_y=T1w.id;l8t=l8t || this.charts[T1w.parameters.chartName];}else {C_y=T1w;l8t=l8t || this.chart;}b9l=l8t.series[C_y];if(!b9l){return;}f6H=b9l.parameters.loadData;N0S=b9l.parameters.symbolObject;delete l8t.series[C_y];f3X=this.getSeries({symbolObject:N0S,includeMaster:!![]});if(f6H === !!0){f3X.push(C_y);}if(!f3X.length){this.cleanMasterData(N0S,l8t);}J1k=this.panels[b9l.parameters.panel];if(J1k){this.checkForEmptyPanel(J1k);}this.createDataSet();if(!f3X.length){this.dispatch(this.currentlyImporting?"symbolImport":t_I,{stx:this,symbol:N0S.symbol,symbolObject:N0S,id:C_y,action:F_Y});}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}this.runAppend("deleteSeries",arguments);};n5f.ChartEngine.prototype.removeSeries=function(o8j,y4s){var A4b,P1R,A6g,s_9,i$z,X0d,t_B,O7u;A4b="removeSerie";A4b+="s";if(this.runPrepend("removeSeries",arguments)){return;}A6g=!({});if(typeof o8j === "object"){P1R=o8j.id;y4s=y4s || this.charts[o8j.parameters.chartName];}else {P1R=o8j;y4s=y4s || this.chart;}for(var N5g in y4s.seriesRenderers){s_9=y4s.seriesRenderers[N5g];i$z=this.panels[s_9.params.panel];X0d=i$z && i$z.yAxis.name;for(var i_Z=s_9.seriesParams.length - 1;i_Z >= 0;i_Z--){t_B=s_9.seriesParams[i_Z];if(t_B.id === P1R){s_9.removeSeries(P1R);if(s_9.seriesParams.length < 1){this.removeSeriesRenderer(s_9);if(s_9.params.name == X0d){this.electNewPanelOwner(s_9.params.panel);}else {if(!this.checkForEmptyPanel(s_9.params.panel)){O7u=this.getYAxisByName(i$z,s_9.params.name);if(O7u){O7u.name=O7u.studies[0] || O7u.renderers[+"1"];}}}}A6g=!![];}}}if(!A6g){this.deleteSeries(P1R,y4s);}this.resetDynamicYAxis();this.draw();this.resizeChart();this.runAppend(A4b,arguments);};n5f.Comparison=n5f.Comparison || (function(){});n5f.Comparison.initialPrice=100;n5f.Comparison.getInitialPrice=function(w1g){var Q0D,C1v,S9x,m9e;Q0D="n";i6UVR.W3G();Q0D+="um";Q0D+="be";Q0D+="r";if(w1g.initialComparisonPrice){return w1g.initialComparisonPrice;}w1g.initialComparisonPrice=100;C1v=n5f.Comparison.initialPrice;if(typeof C1v == Q0D){w1g.initialComparisonPrice=C1v;}if(typeof C1v == "string"){if(w1g.series[C1v] || C1v === ""){S9x="Close";if(w1g.defaultPlotField){if(!w1g.highLowBars){S9x=w1g.defaultPlotField;}}for(var e8o=w1g.dataSet.length - w1g.scroll - 1;e8o < w1g.dataSet.length;e8o++){m9e=w1g.dataSet[e8o];if(m9e){if(m9e[C1v] && m9e[C1v][S9x]){w1g.initialComparisonPrice=m9e[C1v][S9x];break;}else if(C1v === "" && m9e[S9x]){w1g.initialComparisonPrice=m9e[S9x];break;}}}}}return w1g.initialComparisonPrice;};n5f.Comparison.priceToPercent=function(L1I,m4w,S1t){var p1h=i6UVR;var s2m;s2m=n5f.Comparison.baseline || S1t;p1h.W5N();p1h.s$9(71);var l7W=p1h.v$j(10014,14,130066,18,8);p1h.s$9(27);var K9C=p1h.V9a(10,20,1590120,160000,14);return Math.round((S1t - s2m) / s2m * +"100" * l7W) / K9C;};n5f.Comparison.percentToPrice=function(P99,a0s,S0z){var B3m;B3m=n5f.Comparison.baseline || 1;i6UVR.O_b(97);return i6UVR.V9a(S0z,100,"1",B3m);};n5f.Comparison.priceToRelative=function(W$5,a$E,u4i){var S_8,E08;S_8=n5f.Comparison.baseline || u4i;E08=n5f.Comparison.getInitialPrice(a$E);i6UVR.s$9(98);return i6UVR.v$j(u4i,E08,S_8);};n5f.Comparison.relativeToPrice=function(Q2I,L8$,k4d){var r54,S8X;r54=n5f.Comparison.baseline || "1" ^ 0;i6UVR.W3G();S8X=n5f.Comparison.getInitialPrice(L8$);i6UVR.s$9(98);return i6UVR.V9a(k4d,r54,S8X);};n5f.Comparison.createComparisonSegmentInner=function(r0p,X58){var e0j=i6UVR;var w7U,W3T,k7V,t87,Z9I,y0X,c_e,W9E,y3s,e_6,j69,O6G,W9a,h1F,Z9d,x2I,s6i,Q3C,H8c,l6Q,Y2x,n8r,N8Q,h2M;w7U=[];e0j.W3G();for(W3T in X58.series){Z9I=X58.series[W3T].parameters;if(Z9I.isComparison){w7U.push(Z9I.symbol);}}y0X=["Close","Open","High","Low","iqPrevClose"];c_e=r0p.chart.highLowBars;if(X58.defaultPlotField && !c_e){y0X.unshift(X58.defaultPlotField);}W9E=y0X[0];y3s=r0p.layout.studies;for(var x$E in y3s){e_6=y3s[x$E];k7V=r0p.panels[e_6.panel];t87=e_6.getYAxis(r0p);if(!k7V || k7V.yAxis != t87)continue;for(W3T in e_6.outputMap){y0X.push(W3T);}for(var B1N=0;B1N <= 2;B1N++){y0X.push(e_6.name + "_hist" + (B1N?B1N:""));}if(e_6.referenceOutput){y0X.push(e_6.referenceOutput + ((3912,+"217.38") < 8162?8257 != (17.64,931)?" ":("k",3.77e+3):3.73e+3) + e_6.name);}}for(var b$8 in r0p.plugins){j69=r0p.plugins[b$8];if(!j69.transformOutputs)continue;for(W3T in j69.transformOutputs){y0X.push(W3T);}}X58.initialComparisonPrice=null;X58.dataSegment=[];O6G=null;e0j.s$9(99);var P4i=e0j.V9a(2,31,15);W9a=X58.dataSet.length - X58.scroll - P4i;if(r0p.startComparisonsAtFirstVisibleBar){W9a+=1;}e0j.O_b(1);var H61=e0j.v$j(17,20);h1F=X58.maxTicks + H61;for(var F20=0;F20 <= h1F;F20++){if(F20 == h1F){F20=-1;}e0j.O_b(0);Z9d=e0j.V9a(W9a,F20);if(Z9d < X58.dataSet.length && Z9d >= 0){x2I=X58.dataSet[Z9d];s6i=x2I[W9E];if(!O6G){if(s6i === 0 || s6i === null){if(F20 < 0)break;else continue;;}O6G=n5f.clone(x2I);}if(!x2I.transform){x2I.transform={cache:{},DT:x2I.DT,Date:x2I.Date};}if(!n5f.Comparison.baseline && s6i){O6G=n5f.clone(x2I);}n5f.Comparison.baseline=O6G[W9E];for(Q3C="0" ^ 0;Q3C < y0X.length;Q3C++){W3T=y0X[Q3C];if(x2I[W3T] || x2I[W3T] === 0){x2I.transform[W3T]=X58.transformFunc(r0p,X58,x2I[W3T]);}}for(Q3C=+"0";Q3C < w7U.length;Q3C++){W3T=w7U[Q3C];H8c=X58.series[W3T];if(F20 == -1 && H8c && H8c.parameters.isComparison){delete x2I.transform[W3T];continue;}l6Q=x2I[W3T];for(var F3_=0;l6Q && F3_ < y0X.length;F3_++){Y2x=l6Q[y0X[F3_]];if(Y2x || Y2x === 0){n8r=O6G[W3T] && O6G[W3T][y0X[0]];if(!n8r && n8r !== 0){if(!O6G[W3T]){O6G[W3T]={};}O6G[W3T][y0X[F3_]]=n8r=Y2x * n5f.Comparison.baseline / x2I[W9E];}if(n8r !== 0){N8Q=n5f.Comparison.baseline || +"1";e0j.O_b(100);h2M=e0j.V9a(Y2x,n8r,N8Q);if(!x2I.transform[W3T]){x2I.transform[W3T]={};}x2I.transform[W3T][y0X[F3_]]=X58.transformFunc(r0p,X58,h2M);}}}}X58.dataSegment.push(x2I);}else if(Z9d < 0){X58.dataSegment.push(null);}if(F20 < 0)break;;}};n5f.Comparison.priceFormat=function(d2B,S_5,W8E){var g04=i6UVR;var w6Y,r81;g04.W5N();if(W8E === null || typeof W8E == "undefined" || isNaN(W8E)){return "";}w6Y=S_5.yAxis.priceTick;r81=d2B.internationalizer;if(r81){if(w6Y >= 5){g04.s$9(9);W8E=r81.percent.format(g04.V9a(W8E,100));}else if(w6Y >= 0.5){g04.O_b(9);W8E=r81.percent1.format(g04.v$j(W8E,100));}else if(w6Y >= 0.05){g04.O_b(9);W8E=r81.percent2.format(g04.V9a(W8E,100));}else if(w6Y >= 0.005){g04.O_b(9);W8E=r81.percent3.format(g04.v$j(W8E,100));}else {g04.s$9(101);W8E=r81.percent4.format(g04.v$j("100",1,W8E));}}else {if(w6Y >= 5){W8E=W8E.toFixed(0) + "%";}else if(w6Y >= "0.5" * 1){g04.O_b(1);var L7H=g04.v$j(9,10);W8E=W8E.toFixed(L7H) + (62.99 === 173.85?401.60:"%");}else if(w6Y >= 0.05){g04.s$9(102);var a2F=g04.v$j(0,6,38,19,11);g04.s$9(103);var N5Q=g04.v$j(9,5,14,56,6);g04.s$9(0);var M1U=g04.V9a(216,3678);g04.s$9(1);var I8H=g04.V9a(35651,40744);g04.s$9(1);var x9z=g04.v$j(11,9461);W8E=W8E.toFixed(a2F) + (("24" * N5Q,M1U) === (+"175",I8H)?x9z:"%");}else if(w6Y >= 0.005){g04.O_b(104);var I$e=g04.v$j(4,16,15,0);W8E=W8E.toFixed(I$e) + "%";}else {g04.s$9(105);var h6m=g04.v$j(12,7,66,7,1);g04.O_b(106);var y$1=g04.v$j(104,20,19,16,9);g04.s$9(107);var Q2V=g04.v$j(13,5859,1,20,367);W8E=W8E.toFixed(h6m) + ((909.67,520.67) == ("307.39" * y$1,716.94)?(![],Q2V):"%");}}if(parseFloat(W8E) === 0 && W8E.charAt(+"0") == (("6365" ^ 0,+"940.61") !== 699.81?"-":+"295.21")){W8E=W8E.substring(1);}return W8E;};n5f.ChartEngine.prototype.setComparison=function(p8c,N9a,x5d){var k7I,h9_,d8U,J8r,o0L;k7I="perce";k7I+="nt";h9_="rel";h9_+="a";h9_+="tive";d8U="s";d8U+="tr";d8U+="i";d8U+="ng";if(!N9a){N9a=this.chart;}if(typeof N9a == d8U){N9a=this.charts[N9a];}if(x5d || x5d === ""){n5f.Comparison.initialPrice=x5d;}if(p8c === !![]){if(N9a.isComparison){return;}p8c="percent";}this.resetDynamicYAxis();J8r=N9a.panel.yAxis;o0L=J8r.priceFormatter == n5f.Comparison.priceFormat;switch(p8c){case h9_:this.setTransform(N9a,n5f.Comparison.priceToRelative,n5f.Comparison.relativeToPrice);if(o0L){J8r.priceFormatter=J8r.originalPriceFormatter?J8r.originalPriceFormatter.func:null;J8r.originalPriceFormatter=null;}J8r.whichSet="dataSegment";N9a.isComparison=!![];break;case k7I:this.setTransform(N9a,n5f.Comparison.priceToPercent,n5f.Comparison.percentToPrice);if(!o0L){J8r.originalPriceFormatter={func:J8r.priceFormatter};J8r.priceFormatter=n5f.Comparison.priceFormat;}J8r.whichSet="dataSegment";N9a.isComparison=!!({});break;default:this.unsetTransform(N9a);if(o0L){J8r.priceFormatter=J8r.originalPriceFormatter?J8r.originalPriceFormatter.func:null;J8r.originalPriceFormatter=null;}J8r.whichSet="dataSet";N9a.isComparison=![];break;}};n5f.ChartEngine.prototype.setChartScale=function(E1c){var M5Z,Y$o;M5Z=this.chart;Y$o={percent:!0,relative:!!({})};if(!E1c){E1c="linear";}if(Y$o[E1c]){this.setComparison(E1c,M5Z,n5f.Comparison.initialPrice);}else if(Y$o[this.layout.chartScale]){this.setComparison(![],M5Z);}this.layout.chartScale=E1c;if(M5Z.canvas){this.draw();}this.changeOccurred("layout");};};g=S8Y=>{var c6m,j71;function C2V(){var Q3P,Q0s,i5b;if(c6m.Share.html2canvasLocation){return c6m.Share.html2canvasLocation;}i6UVR.W3G();Q3P=document.getElementsByTagName("script");for(var X_2=0;X_2 < Q3P.length;X_2++){Q0s=Q3P[X_2];if(Q0s.src && Q0s.src.indexOf("share.js") > -1){i5b="third";i5b+="par";i5b+="ty/";return Q0s.src.replace(/standard\/share\.js/,"") + i5b;}}return "js/thirdparty/";}c6m=typeof _CIQ !== "undefined"?_CIQ:S8Y.CIQ;c6m.Share=c6m.Share || (function(){});c6m.Share.FullChart2PNG=function(U3B,A9K,m1Y){i6UVR.W3G();if(!U3B || !U3B.chart){return;}if(typeof html2canvas === "undefined"){return y2T(function(){i6UVR.W3G();return I6y(U3B,A9K,m1Y);});}j71=html2canvas;I6y(U3B,A9K,m1Y);};c6m.Share.createImage=function(r0s,s84,z8s){var b7R=i6UVR;var b8w,X$V,W1W,v$s,F2u,q4W,z_Y,m$$,c6t,i1Y,u2C,j2h,l8Z,H2P,t8D;b8w="i";b8w+="m";b8w+="g";X$V=[].slice.call(arguments);z8s=X$V.pop();if(s84 === null || typeof s84 != "object"){s84={widthPX:X$V[1],heightPX:X$V[2],imageType:X$V[+"3"]};}W1W=s84.widthPX;v$s=s84.heightPX;F2u=s84.imageType;q4W=r0s.chart.canvas.height;z_Y=r0s.chart.canvas.width;if(r0s.chart.canvas.style.height){q4W=c6m.stripPX(r0s.chart.canvas.style.height);z_Y=c6m.stripPX(r0s.chart.canvas.style.width);}if(W1W && v$s){m$$=-1365210961;c6t=-209622214;i1Y=2;for(var b6s="1" ^ 0;b7R.m6F(b6s.toString(),b6s.toString().length,8753) !== m$$;b6s++){q4W=v$s;z_Y=W1W;i1Y+=2;}if(b7R.m6F(i1Y.toString(),i1Y.toString().length,+"63253") !== c6t){q4W=v$s;z_Y=W1W;}}else if(v$s){u2C=-1835035992;b7R.s$9(29);j2h=-b7R.V9a("1583007615",0);l8Z=2;for(var w5m=1;b7R.m6F(w5m.toString(),w5m.toString().length,48631) !== u2C;w5m++){z_Y=r0s.chart.canvas.width + (q4W - r0s.chart.canvas.height);l8Z+=2;}if(b7R.m6F(l8Z.toString(),l8Z.toString().length,63192) !== j2h){z_Y=r0s.chart.canvas.width * (q4W / r0s.chart.canvas.height);}}else if(W1W){z_Y=W1W;q4W=r0s.chart.canvas.height * (W1W / r0s.chart.canvas.width);}H2P=F2u?"image/" + F2u:"image/png";t8D=document.createElement(b8w);t8D.onload=function(){c6m.Share.FullChart2PNG(r0s,{image:this,width:z_Y,height:q4W,hide:s84.hide},function(x6s,O6z){var E5G;b7R.W3G();if(x6s){E5G="Error producing";E5G+=" canvas snapshot: ";b7R.O_b(0);console.warn(b7R.v$j(E5G,x6s));}else {try{z8s(O6z.toDataURL(H2P));;}catch(h4X){var j6R,Q2Y,l8r;j6R=1709647944;Q2Y=-1990266272;l8r=2;for(var O13=1;b7R.m6F(O13.toString(),O13.toString().length,56683) !== j6R;O13++){console.warn("");z8s(t8D.src);l8r+=2;}if(b7R.l5h(l8r.toString(),l8r.toString().length,12654) !== Q2Y){console.warn("");z8s(t8D.src);}console.warn("Safari devices do not handle CORS enabled images. Using the charts' canvas as a fallback.");z8s(t8D.src);}}});};t8D.src=r0s.chart.canvas.toDataURL(H2P);};function n0H(V$v){var s_e,I9H,O9p,S9v,Z$X;s_e="tex";s_e+="t-align";I9H="fo";I9H+="nt-weight";O9p="f";O9p+="ill";if(!V$v.style){return;}S9v=getComputedStyle(V$v);Z$X=["alignment-baseline","dominant-baseline",O9p,"fill-opacity","font-family","font-size","font-variant",I9H,s_e,"text-anchor"];Z$X.forEach(function(Q1w){i6UVR.W3G();if(!V$v.style[Q1w] && S9v[Q1w]){V$v.style[Q1w]=S9v[Q1w];}});for(var v06 in V$v.children){n0H(V$v.children[v06]);}}c6m.Share.uploadImage=function(L10,w3y,W8A,S1I){var n$S;if(!W8A){W8A={};}W8A.image=L10;n$S=c6m.postAjax(w3y,JSON.stringify(W8A),function(X4V,h3v){i6UVR.W3G();if(X4V != 200){S1I(X4V,null);return;}S1I(null,h3v);});if(!n$S){S1I(0,null);}};function I6y(j1j,F3E,d1c){var B2P,v5t,Q2c,k_Y,F6w,g$8,B2y,X7K,H9l,p1r;i6UVR.W3G();B2P="s";B2P+="v";B2P+="g";if(!F3E){F3E={};}v5t=[];Q2c="ciq-no-share";k_Y=document.querySelector("body");if(F3E.hide && F3E.hide instanceof Array){F6w=F3E.hide.join(", ");g$8=document.querySelectorAll(F6w);for(var l_5=0;l_5 < g$8.length;l_5++){g$8[l_5].classList.add(Q2c);}}k_Y.classList.add("sharing");B2y=j1j.chart.container.getElementsByTagName(B2P);X7K=[];H9l=+"0";for(;H9l < B2y.length;H9l++){p1r=B2y[H9l];X7K.push(p1r.innerHTML);n0H(p1r);}j71(j1j.chart.container,{allowTaint:![],logging:!"1",width:F3E.width || null,height:F3E.height || null,backgroundColor:F3E.background || null,useCORS:!![]}).then(function(L0s){var m4t;m4t="shar";m4t+="i";m4t+="n";m4t+="g";if(d1c){d1c(null,F3E.data?L0s.toDataURL("image/png"):L0s);}for(H9l=0;H9l < B2y.length;H9l++){B2y[H9l].innerHTML=X7K[H9l];}k_Y.classList.remove(m4t);}).catch(function(x4U){var I6P;I6P="sh";I6P+="aring";if(d1c){d1c(x4U);}for(H9l=0;H9l < B2y.length;H9l++){B2y[H9l].innerHTML=X7K[H9l];}k_Y.classList.remove(I6P);});}c6m.Share.shareChart=function(u8X,g5L,W6N){var d1K=i6UVR;d1K.W3G();c6m.Share.createImage(u8X,{},function(j3N){var n$v,A76,j6W,e8G,D7W,K4B;n$v=c6m.uniqueID();A76="https:/";A76+="/share.chartiq.co";A76+="m";d1K.O_b(35);j6W=d1K.V9a("/upload/",n$v,A76);if(g5L){if(g5L.host){A76=g5L.host;}if(g5L.path){d1K.O_b(0);var y1z=d1K.V9a(8588,15);d1K.s$9(0);var J_p=d1K.v$j(9931,19);d1K.O_b(108);var p2H=d1K.V9a(20,2345,53920,5,6);d1K.s$9(109);var m8f=d1K.v$j(31,15,1,1,17);d1K.O_b(26);var F5T=d1K.V9a(5383,8,4325,5);d1K.O_b(37);var N1Z=d1K.V9a(9,6,7845);d1K.O_b(110);var U8C=d1K.v$j(8236,14,1,16,12);d1K.O_b(111);var m7H=d1K.V9a(3,2,564,477);j6W=A76 + g5L.path + (139.87 == (y1z,J_p)?(p2H,"808.95" * m8f) >= (F5T,N1Z)?(U8C,"D"):m7H:"/") + n$v;}}e8G=u8X.getStartDateOffset();D7W={layout:u8X.exportLayout(),drawings:u8X.exportDrawings(),xOffset:e8G,startDate:u8X.chart.dataSegment[e8G].Date,endDate:u8X.chart.dataSegment[u8X.chart.dataSegment.length - 1].Date,id:n$v,symbol:u8X.chart.symbol};K4B={id:n$v,image:j3N,config:D7W};c6m.Share.uploadImage(j3N,j6W,K4B,function(W5c,w46){if(W5c !== null){c6m.alert("error sharing chart: ",W5c);}else {d1K.O_b(0);W6N(d1K.v$j(A76,w46));}});;});};function y2T(I6Y){var X4h,S8i;X4h="unde";i6UVR.W5N();X4h+="fi";X4h+="ned";if(typeof html2canvas === X4h){S8i="unde";S8i+="fi";S8i+="n";S8i+="ed";if(typeof requirejs !== S8i){try{return requirejs(["html2canvas.min.js"],function(v39){j71=v39;return I6Y();});}catch(Y3C){console.warn("Require loading has failed, attempting to load html2canvas manually.");}}c6m.loadScript(C2V() + "html2canvas.min.js",function(){j71=html2canvas;return I6Y();});}else {j71=html2canvas;return I6Y();}}};K=j2G=>{var Y5X=i6UVR;Y5X.W5N();var Q5n;Q5n=typeof _CIQ !== "undefined"?_CIQ:j2G.CIQ;Q5n.ChartEngine.prototype.setRange=function(q3W,s1k){var n3d,O5N,A_M,r68,k3B,I$3,j9S,y8a,P0Q,j1d,v33,c$l,K8k,e3U,L5U,B14,P3_,H0c,h$p,q3A,t02,a3p,X0y,K5D,Z6J,w7G,l3w,t3E,f7f,z$b,g98,z5e,b$G,C55,K$8,Q5W,J6z,I_v,H4B,X5v;n3d="st";n3d+="ri";function j7L(f1X,j28,H6q,o17,i6i,E0n){var k9f,L_5;Y5X.s$9(39);k9f=Y5X.v$j("0",0);Y5X.O_b(1);L_5=Y5X.v$j(j28,f1X);if(Q5n.ChartEngine.isDailyInterval(H6q)){if(H6q == "month"){k9f=L_5 / Q5n.MONTH / o17;}else if(H6q == "week"){k9f=L_5 / Q5n.WEEK / o17;}else {k9f=L_5 / Q5n.DAY / o17;}}else {if(!isNaN(H6q)){if(i6i == "millisecond"){Y5X.s$9(101);k9f=Y5X.v$j(o17,H6q,L_5);}else if(i6i == "second"){k9f=L_5 / Q5n.SECOND / (o17 * H6q);}else {k9f=L_5 / Q5n.MINUTE / (o17 * H6q);}}}return Math.round(k9f);;}n3d+="ng";if(Q5n.isEmpty(q3W)){q3W={dtLeft:arguments[0],dtRight:arguments[1],padding:arguments[2],chart:arguments["3" | 1]};O5N=-985953697;A_M=-549256637;r68=2;for(var J3F=1;Y5X.l5h(J3F.toString(),J3F.toString().length,86618) !== O5N;J3F++){s1k=arguments[1];r68+=2;}if(Y5X.m6F(r68.toString(),r68.toString().length,55147) !== A_M){s1k=arguments[4];}}if(this.staticRange){q3W.goIntoPast=q3W.goIntoFuture=!"";}if(!q3W.chart){q3W.chart=this.chart;}if(typeof q3W.padding == "undefined"){q3W.padding=0;}function i2j(w80){var F7l;if(w80 && v33 === 0){I$3.scroll=Z6J;j1d.setCandleWidth(w7G);j1d.layout.interval=l3w;j1d.layout.periodicity=t3E;j1d.layout.timeUnit=f7f;if(s1k){s1k(w80);}return;}v33++;if(v33 > 10){F7l="CIQ.ChartEngine.setRan";F7l+="ge(): Too many loads (10) from server. Stopping. Check periodicity log";F7l+="ic.";console.log(F7l);f96();return;}f96();;}k3B=!({});Y5X.W5N();I$3=q3W.chart;j9S=typeof q3W.dtLeft === n3d?new Date(q3W.dtLeft):q3W.dtLeft;y8a=new Date();function f96(K1q){var b_g,s5Z,o_7,M4o,J6R,w9t,x04,N7O,q9l,I8k,y1A,P3Z,E1Y,F56,E5h,P9X,w7H,j7y,t62,u3D;b_g="l";b_g+="a";b_g+="y";b_g+="out";if(typeof K1q == "undefined"){K1q=null;}s5Z=0;Y5X.s$9(2);o_7=Y5X.V9a(1,"0");M4o=new Date();J6R=q3W.base;Y5X.W5N();w9t=q3W.periodicity;x04=j1d.layout;if(q3W.goIntoFuture && (!I$3.masterData.length || j9S > I$3.masterData[I$3.masterData.length - 1].DT)){N7O=I$3.masterData.length?I$3.masterData.pop():{DT:j9S};q9l=j1d.doCleanupGaps([N7O,{DT:y8a}],I$3,{cleanupGaps:"gap",noCleanupDates:!0});j1d.setMasterData(I$3.masterData.concat(q9l),I$3,{noCleanupDates:!!({})});j1d.createDataSet(null,null,{appending:!!({})});}I8k=I$3.dataSet;y1A=I8k.length;if(!I8k || y1A === 0){if(s1k){s1k(K1q);}return;}if(J6R === "day" && w9t && w9t.interval === "day"){E1Y=q3W.multiplier;s5Z=y1A < E1Y?0:y1A - E1Y;Y5X.s$9(1);o_7=Y5X.V9a(1,y1A);}else if(J6R === "today" && I8k[y1A - 1].DT.getDate() < M4o.getDate()){F56=new Date(I8k[y1A - 1].DT.getTime());E5h=F56.getTime();P3Z=0;for(var s64=y1A - 1;s64 >= 0;s64--){if(I8k[s64] && I8k[s64].DT.getDate() != F56.getDate()){F56=new Date(+I8k[s64 + 1].DT);Y5X.O_b(6);P3Z=Y5X.v$j(s64,"1");break;}}s5Z=P3Z;Y5X.O_b(1);o_7=Y5X.v$j(1,y1A);}else {P9X="a";P9X+="l";P9X+="l";if(q3W.base != "all" && (j9S.getTime() >= I8k[0].DT.getTime() || q3W.goIntoPast)){s5Z=j1d.tickFromDate(j9S,I$3,null,!![]);}else {s5Z=+"0";}if(q3W.base != P9X && (y8a.getTime() <= I8k[y1A - ("1" ^ 0)].DT.getTime() || q3W.goIntoFuture)){o_7=j1d.tickFromDate(y8a,I$3);if(o_7 > y1A - 1){o_7--;};}else {Y5X.s$9(36);o_7=Y5X.v$j("1",y1A);}}Y5X.O_b(112);w7H=Y5X.v$j(0,s5Z,"1",o_7);if(w7H < 1){if(s1k){s1k(K1q);}return;}j7y=q3W.padding || 0;if(o_7 < y1A - 1){Y5X.s$9(29);j7y=Y5X.v$j("0",32);}t62=(I$3.width - j7y) / w7H;j1d.setCandleWidth(t62,I$3);Y5X.O_b(113);I$3.scroll=Y5X.v$j(1,y1A,o_7,w7H);Y5X.s$9(42);j1d.micropixels=Y5X.V9a("1",1);for(var D2C in j1d.panels){j1d.calculateYAxisMargins(j1d.panels[D2C].yAxis);}if(!q3W.dontSaveRangeToLayout){delete q3W.chart;delete x04.setSpan;x04.range=q3W;;}else {delete x04.range;}j1d.draw();j1d.changeOccurred(b_g);if(!k3B){u3D="periodi";u3D+="ci";u3D+="ty";j1d.dispatch(u3D,{stx:j1d,differentData:z$b,prevPeriodicity:{interval:l3w,periodicity:t3E,timeUnit:f7f}});}if(s1k){s1k(K1q);}}if(q3W.dtRight){y8a=typeof q3W.dtRight === "string"?new Date(q3W.dtRight):q3W.dtRight;}if(!j9S){P0Q=this.standardMarketIterator(y8a,null,I$3);j9S=P0Q.previous(I$3.maxTicks);if(!q3W.periodicity){k3B=!!({});}}I$3.inflectionPoint=j9S;this.layout.range={dtLeft:j9S,dtRight:y8a};j1d=this;v33=0;if(this.quoteDriver){if(k3B){c$l=this.layout.interval;e3U=this.layout.timeUnit;K8k=this.layout.periodicity;}else if(q3W.periodicity){L5U=Q5n.cleanPeriodicity(q3W.periodicity.period,q3W.periodicity.interval,q3W.periodicity.timeUnit);c$l=L5U.interval;e3U=L5U.timeUnit;K8k=L5U.period;}else {B14=y8a.getTime() - j9S.getTime();if(!this.autoPickCandleWidth.turnOn){P3_=this.staticRangePeriodicityMap;H0c=null;for(var q8Y=0;q8Y < P3_.length;q8Y++){h$p=P3_[q8Y];if(B14 / h$p.rangeInMS < 1.001){H0c=h$p;break;}}c$l=H0c.interval;K8k=H0c.periodicity;e3U=H0c.timeUnit;}else {q3A=0;if(this.autoPickCandleWidth.candleWidth){q3A=this.autoPickCandleWidth.candleWidth;}else {q3A=this.chart.barsHaveWidth?5:2;}t02=I$3.width / q3A;a3p=this.dynamicRangePeriodicityMap;c$l=a3p[0].interval;K8k=1;for(var v6m=0;v6m < a3p.length;v6m++){K5D=B14 / a3p[v6m].rangeInMS;if(K5D < t02){if(a3p[v6m - 1]){c$l=a3p[v6m - 1].interval;e3U=a3p[v6m - 1].timeUnit;Y5X.s$9(9);K8k=Math.ceil(Y5X.V9a(X0y,t02));}else {c$l=a3p[v6m].interval;e3U=a3p[v6m].timeUnit;K8k=1;}break;}X0y=K5D;}}}Z6J=this.chart.scroll;w7G=this.layout.candleWidth;l3w=this.layout.interval;t3E=this.layout.periodicity;f7f=this.layout.timeUnit;this.chart.scroll=this.chart.maxTicks=j7L(y8a.getTime(),j9S.getTime(),c$l,K8k,e3U,this.dontRoll);this.layout.candleWidth=this.chart.width / this.chart.maxTicks;z$b=this.needDifferentData({period:K8k,interval:c$l,timeUnit:e3U});if(Object.keys(this.chart.endPoints).length && (this.chart.endPoints.begin > j9S || this.chart.endPoints.end < y8a)){z$b=!!({});}if(!this.chart.masterData || !this.chart.masterData.length || z$b || q3W.forceLoad){g98="w";g98+="e";g98+="e";g98+="k";z5e="mon";z5e+="th";this.layout.interval=c$l;this.layout.periodicity=K8k;this.layout.timeUnit=e3U;if(!this.layout.timeUnit){b$G="minut";b$G+="e";C55="sec";C55+="o";C55+="n";C55+="d";if(Q5n.ChartEngine.isDailyInterval(this.layout.interval)){this.layout.timeUnit=null;}else if(this.layout.interval == "second"){this.layout.timeUnit=C55;}else if(this.layout.interval != "tick"){this.layout.timeUnit=b$G;}}K$8={symbol:I$3.symbol,symbolObject:I$3.symbolObject,chart:I$3,nodraw:!!({})};if(this.layout.interval == "tick"){K$8.startDate=j9S;K$8.endDate=y8a;}if(!this.displayInitialized){K$8.initializeChart=!![];}Q5W={symbol:I$3.symbol,symbolObject:I$3.symbolObject,interval:this.layout.interval};if((Q5W.interval == z5e || Q5W.interval == g98) && !this.dontRoll){Y5X.O_b(29);J6z=-Y5X.v$j("476796062",32);I_v=-1890089088;H4B=2;for(var r2e=1;Y5X.l5h(r2e.toString(),r2e.toString().length,"71383" | 16) !== J6z;r2e++){Q5W.interval="";H4B+=2;}if(Y5X.m6F(H4B.toString(),H4B.toString().length,"63526" ^ 0) !== I_v){Q5W.interval="day";}}X5v=Math.max(this.quoteDriver.getQuoteFeed(Q5W).behavior.bufferSize + 50,200);P0Q=this.standardMarketIterator(j9S,null,I$3);K$8.startDate=new Date(P0Q.previous(X5v).getTime());P0Q=this.standardMarketIterator(y8a,null,I$3);K$8.endDate=new Date(P0Q.next(X5v).getTime());if(K$8.endDate < Date.now()){this.isHistoricalModeSet=!!"1";}this.clearCurrentMarketData(this.chart);clearTimeout(this.streamParameters.timeout);this.quoteDriver.newChart(K$8,i2j);}else {if(this.layout.interval != c$l || this.layout.periodicity != K8k || this.layout.timeUnit != e3U || !this.chart.dataSegment || !this.chart.dataSegment[0] || this.chart.dataSegment[0].DT != I$3.inflectionPoint){this.layout.interval=c$l;this.layout.periodicity=K8k;this.layout.timeUnit=e3U;this.createDataSet();}i2j();}}else {f96();}};Q5n.ChartEngine.prototype.setSpan=function(u1p,c50){var E0t,d8a,F2P,F6X,A27,Q$h,j$n,D$K,e_C,O_U,u8f,B3X,Y_U,h$k,k8i,K9y,B9Q,J1S,U0S,X3m,J4k;E0t="da";E0t+="y";d8a="we";d8a+="ek";F2P="a";F2P+="ll";F6X="obj";F6X+="ec";F6X+="t";A27=arguments[0];Q$h=arguments[1];j$n=arguments[2];D$K=arguments[3];if(typeof u1p == F6X){A27=u1p.period?u1p.period:u1p.multiplier?u1p.multiplier:1;Q$h=u1p.interval?u1p.interval:u1p.base?u1p.base:u1p.span?u1p.span:u1p.period;j$n=u1p.padding;D$K=u1p.chart;}else {u1p={period:A27,interval:Q$h,padding:j$n,chart:D$K};c50=arguments[+"5"];}if(!D$K){D$K=this.chart;}e_C=D$K.market;Q$h=Q$h.toLowerCase();if(Q$h == F2P){u1p.dontSaveRangeToLayout=!"";this.displayAll(u1p,c50);return;}u8f=Q$h;B3X=1;if(Q$h == "today"){u8f="day";}else if(Q$h == "year"){u8f="month";Y5X.O_b(2);B3X=Y5X.V9a(1,"12");}Y_U=Q5n.shallowClone(u1p);h$k={begin:e_C.marketZoneNow(),interval:u8f,period:B3X};function z1K(I8L,s4G){var W05;if(!K9y){return I8L;}W05=7;if(s4G){I8L.setHours(I8L.getHours() + W05);}else {I8L.setHours(I8L.getHours() - W05);if(!e_C.isMarketDate(I8L)){I8L.setDate(I8L.getDate() - +"2");};}return I8L;}k8i=h$k.begin;K9y=Q5n.Market.Symbology.isForexSymbol(D$K.symbol);Y5X.W5N();function k3U(g0A){g0A.setHours(0);g0A.setMinutes(0);g0A.setSeconds(0);Y5X.s$9(39);g0A.setMilliseconds(Y5X.v$j("0",0));return g0A;}if(Q$h === "ytd"){k8i=k3U(k8i);Y5X.O_b(2);k8i.setMonth(Y5X.v$j(1,"0"));k8i.setDate(1);}else if(Q$h === "month"){k8i=k3U(new Date());k8i.setMonth(k8i.getMonth() - A27);}else if(Q$h === "year"){k8i=k3U(new Date());k8i.setFullYear(k8i.getFullYear() - A27);}else if(Q$h === d8a){k8i=k3U(new Date());k8i.setDate(k8i.getDate() - A27 * 7);}else if(Q$h === E0t && A27 == 1 && e_C.isMarketDay()){B9Q=k8i.getHours();J1S=k8i.getMinutes();U0S=k8i.getSeconds();X3m=k8i.getMilliseconds();O_U=e_C.newIterator(h$k);k8i=O_U.previous();k8i.setHours(B9Q,J1S,U0S,X3m);k8i=e_C._convertFromMarketTZ(k8i);}else if(Q$h === "today"){h$k.begin=z1K(k8i,!![]);O_U=e_C.newIterator(h$k);if(e_C.isOpen() || e_C.getPreviousOpen().getDate() == k8i.getDate()){O_U.next();}k8i=O_U.previous();z1K(k8i);Y_U.goIntoFuture=!0;Y_U.dtRight=new Date(+k8i);Y_U.dtRight.setDate(k8i.getDate() + 1);Y_U.dtRight=e_C._convertFromMarketTZ(Y_U.dtRight);if(!K9y){k8i.setHours(O_U.market.zopen_hour);k8i.setMinutes(O_U.market.zopen_minute);k8i.setSeconds(+"0");}k8i=e_C._convertFromMarketTZ(k8i);}else {if(Q$h == "day"){h$k.begin=z1K(k8i,!!({}));}O_U=e_C.newIterator(h$k);if(A27 == 1){A27++;}Y5X.O_b(1);k8i=O_U.previous(Y5X.v$j(1,A27));if(Q$h == "day"){k8i=e_C._convertFromMarketTZ(z1K(k8i));}}Y_U.dtLeft=k8i;if(Y_U.maintainPeriodicity){Y_U.periodicity={};Y_U.periodicity.interval=this.layout.interval;Y_U.periodicity.period=this.layout.periodicity;}D$K.spanLock=![];Y_U.dontSaveRangeToLayout=!!({});J4k=this;this.setRange(Y_U,function(U23){J4k.layout.setSpan=u1p;J4k.changeOccurred("layout");if(Q$h == "today"){D$K.spanLock=!![];;}if(c50){c50(U23);}});};Q5n.ChartEngine.prototype.getSpanCandleWidth=function(S8L){var w$A,c5F,C0$,M0x,o6p,g1v,H_i,t1z,E3W;w$A="Y";w$A+="T";w$A+="D";c5F="w";c5F+="ee";c5F+="k";C0$="d";C0$+="ay";if(!S8L || !S8L.base || !S8L.multiplier){return;}M0x=parseFloat(S8L.multiplier);o6p=S8L.base;g1v=new Date();H_i=new Date();if(o6p == "year"){H_i.setFullYear(H_i.getFullYear() - M0x);}else if(o6p == "month"){H_i.setMonth(H_i.getMonth() - M0x);}else if(o6p == C0$){H_i.setDate(H_i.getDate() - M0x);}else if(o6p == c5F){H_i.setDate(H_i.getDate() - 7 * M0x);}else if(o6p == w$A){H_i.setMonth(+"0");H_i.setDate(1);}Y5X.s$9(114);var h5z=Y5X.v$j(7,2,233,600);t1z=(g1v.getTime() - H_i.getTime()) / 1000 / ("60" << 0) / h5z / +"24";Y5X.s$9(98);t1z=Y5X.v$j(5,t1z,7);E3W=this.chart.width / t1z;return E3W;};Q5n.ChartEngine.prototype.displayAll=function(q$V,Q00){var l1p,c7G,S3i;var {chart:p4s, layout:W9e}=this;if(q$V && q$V.chart){p4s=q$V.chart;}Y5X.W5N();function D3A(){var e3L;if(!p4s.masterData || !p4s.masterData.length){return;}e3L=Q5n.clone(q$V);e3L.dtLeft=p4s.endPoints.begin.DT;e3L.dtRight=p4s.endPoints.end.DT;e3L.periodicity={};e3L.periodicity.interval=W9e.interval;e3L.periodicity.period=W9e.periodicity;e3L.periodicity.timeUnit=W9e.timeUnit;l1p.setRange(e3L,function(i_L){l1p.layout.setSpan={base:q$V.base,multiplier:q$V.multiplier};l1p.changeOccurred("layout");for(var v4G in l1p.panels){l1p.calculateYAxisMargins(l1p.panels[v4G].yAxis);}Y5X.W5N();l1p.draw();if(Q00){Q00(i_L);}});}l1p=this;if(!this.quoteDriver){D3A();return;}c7G=q$V.maintainPeriodicity?{period:W9e.periodicity,interval:W9e.interval,timeUnit:W9e.timeUnit}:{period:1,interval:"month",timeUnit:null};c7G=q$V.periodicity?q$V.periodicity:c7G;c7G=Q5n.cleanPeriodicity(c7G.period,c7G.interval,c7G.timeUnit);S3i=this.needDifferentData(c7G);this.layout.periodicity=c7G.period;this.layout.interval=c7G.interval;this.layout.timeUnit=c7G.timeUnit;if(q$V.forceLoad || S3i){this.clearCurrentMarketData(this.chart);this.quoteDriver.newChart({noDraw:!!({}),symbol:this.chart.symbol,symbolObject:this.chart.symbolObject,chart:this.chart,initializeChart:!"",fetchMaximumBars:!!({})},g3M);}else {if(p4s.moreAvailable || !p4s.upToDate){g3M();}else {this.createDataSet();D3A();}}function g3M(l$d){Y5X.W3G();if(!l$d){l1p.quoteDriver.loadAll(p4s,D3A);}}};};A=I0w=>{var h3N;h3N=typeof _CIQ !== "undefined"?_CIQ:I0w.CIQ;h3N.ChartEngine.prototype.importLayout=function(Y6_,Z48){var r4W=i6UVR;var w6e,c3H,v1w,A5X,V9Q,A5d,n9u,b9Z,w2k,o7J,L4s,U$w,m37,U38,E1h,b7H,l_v,Q18,i2f,I4c,c$6,D4B,k6M,Y6W,b2Q,e93,U48,d8V,Q0I,b7u,k6e,m7l,E96;w6e="o";w6e+="bjec";w6e+="t";if(!Y6_){if(Z48.cb){Z48.cb();}return;}c3H=this;v1w=[];if(typeof Z48 !== w6e){Z48={managePeriodicity:arguments[1],preserveTicksAndCandleWidth:arguments[2]};}A5X=this.layout;V9Q=h3N.shallowClone(A5X);A5d=Z48.managePeriodicity;n9u=Z48.cb;b9Z=Z48.seriesCB;w2k=Z48.noDataLoad;o7J=Z48.preserveTicksAndCandleWidth;L4s=null;if(this.exportDrawings){L4s=this.exportDrawings();this.abortDrawings();}this.currentlyImporting=!!({});for(var i1o in A5X.studies){U$w=A5X.studies[i1o];h3N.getFn("Studies.removeStudy")(this,U$w);}this.overlays={};m37=h3N.shallowClone(this.panels);this.panels={};U38=h3N.clone(Y6_);A5X.periodicity=V9Q.periodicity;function O66(M3K){var w7r,V3j,U_S;if(L4s){c3H.importDrawings(L4s);}c3H.currentlyImporting=![];if(M3K){return;}U_S=[];for(var z_k in c3H.chart.series){if(!c3H.removeSeries)break;V3j=c3H.chart.series[z_k];if(V3j.parameters.bucket == "study"){w7r=!!"1";c3H.removeSeries(V3j);U_S.push(V3j);}}for(var p08=0;p08 < U_S.length;p08++){V3j=U_S[p08];c3H.addSeries(V3j.id,V3j.parameters,B2j);}if(!w7r){c3H.draw();}c3H.updateListeners("layout");c3H.changeOccurred("layout");;function B2j(){r4W.W3G();c3H.createDataSet();l$G(c3H.panels);c3H.calculateYAxisPositions();c3H.draw();}}A5X.interval=V9Q.interval;A5X.timeUnit=V9Q.timeUnit;A5X.setSpan=V9Q.setSpan;A5X.range=V9Q.range;if(o7J){A5X.candleWidth=V9Q.candleWidth;}else {if(!A5X.candleWidth){A5X.candleWidth=8;}}this.setCandleWidth(A5X.candleWidth);if(A5X.flipped){this.flipChart(A5X.flipped);}E1h=U38.panels;i2f=function(O_h,H2c){return O_h.index < H2c.index?-1:1;};for(b7H in E1h){if(!(("index" in E1h[b7H]))){i2f=null;}l_v=E1h[b7H];l_v.name=b7H;v1w.push(l_v);}A5X.panels={};I4c=null;function w$d(){r4W.W3G();c3H.calculateYAxisPositions();l$G(c3H.panels);if(b9Z){b9Z();}}if(v1w.length > 0){if(i2f){v1w.sort(i2f);}for(var b4t=0;b4t < v1w.length;++b4t){l_v=v1w[b4t];Q18=l_v.yAxis?new h3N.ChartEngine.YAxis(l_v.yAxis):null;this.stackPanel(l_v.display,l_v.name,l_v.percent,l_v.chartName,Q18);if(l_v.soloing){I4c=this.panels[l_v.name];}}}if(h3N.isEmpty(E1h)){c$6="ch";c$6+="a";c$6+="rt";D4B="c";D4B+="h";D4B+="ar";D4B+="t";this.stackPanel("chart",D4B,1,c$6);}this.resizeCanvas();for(var c_M in m37){k6M=m37[c_M];Y6W=this.panels[c_M];if(Y6W){this.container.removeChild(Y6W.holder);if(k6M.handle){this.container.removeChild(k6M.handle);}b2Q={holder:!!1,subholder:!!({}),display:!!({}),icons:!![]};for(var P4c in b2Q){Y6W[P4c]=k6M[P4c];}this.configurePanelControls(Y6W);if(k6M.chart.panel == k6M){k6M.chart.panel=Y6W;};}else {this.privateDeletePanel(k6M);}}this.chart.panel=this.panels.chart;l$G(this.panels);h3N.dataBindSafeAssignment(A5X,h3N.clone(U38));e93=h3N.clone(A5X.studies);delete A5X.studies;for(var L5q in e93){U48=e93[L5q];h3N.getFn("Studies.addStudy")(this,U48.type,U48.inputs,U48.outputs,U48.parameters,U48.panel);}if(this.extendedHours){this.extendedHours.prepare(A5X.extended,A5X.marketSessions);}if(typeof A5X.chartType == "undefined"){A5X.chartType="line";}this.setMainSeriesRenderer();if(I4c){this.panelSolo(I4c);}this.adjustPanelPositions();r4W.W5N();l$G(this.panels);this.storePanels();if(!w2k){if(U38.symbols && U38.symbols.length){d8V={chart:this.chart};if(!o7J && A5d && U38.range && Object.keys(U38.range).length){d8V.range=U38.range;}else if(!o7J && A5d && U38.setSpan && Object.keys(U38.setSpan).length){d8V.span=U38.setSpan;}else if(A5d && U38.interval){d8V.periodicity={interval:U38.interval,period:U38.periodicity,timeUnit:U38.timeUnit};}else {d8V.periodicity={interval:V9Q.interval,period:V9Q.periodicity,timeUnit:V9Q.timeUnit};}Q0I=U38.symbols[0].symbolObject || U38.symbols[0].symbol;this.loadChart(Q0I,d8V,function(B4Q){var d8d;if(!B4Q){for(var X7T,n0Y=1;n0Y < U38.symbols.length;++n0Y){if(!c3H.addSeries)break;X7T=U38.symbols[n0Y];if(!X7T.parameters){X7T.parameters={};}d8d=h3N.clone(X7T.parameters);if(this.panels[d8d.panel]){c3H.addSeries(X7T.id,d8d,w$d);}else {console.warn('Warning: Series "' + X7T.id + '" could not be imported due to a missing corresponding panel "' + d8d.panel + '"');}}if(U38.chartScale){c3H.setChartScale(U38.chartScale);}}O66(B4Q);if(n9u){n9u.apply(null,arguments);}});return;}if(A5d){if(!o7J && this.setRange){b7u=U38.range;if(b7u && Object.keys(b7u).length && this.chart.symbol){this.setRange(b7u,function(){O66();r4W.W3G();if(n9u){n9u();}});return;}else if(U38.setSpan && Object.keys(U38.setSpan).length && this.chart.symbol){this.setSpan(U38.setSpan,function(){r4W.W5N();O66();if(n9u){n9u();}});return;}}k6e=U38.interval;m7l=U38.periodicity;E96=U38.timeUnit;if(isNaN(m7l)){m7l=1;}if(!k6e){k6e="day";}this.setPeriodicity({period:m7l,interval:k6e,timeUnit:E96},function(){O66();if(n9u){n9u();}});return;}}if(A5d){A5X.periodicity=U38.periodicity;A5X.interval=U38.interval;A5X.timeUnit=U38.timeUnit;A5X.setSpan=U38.setSpan;}this.createDataSet();if(!o7J){this.home();}O66();if(n9u){n9u();}function l$G(x5I){var R97;for(var V2n=+"0";V2n < v1w.length;V2n++){R97=v1w[V2n];m_Z(R97,"yaxisLHS");m_Z(R97,"yaxisRHS");}function o2a(C$W){r4W.W3G();return !!C$W;}r4W.W5N();c3H.chart.yAxis=c3H.chart.panel.yAxis;function m_Z(S1g,J01){var O5c,U33,R_I,C1R;if(!S1g[J01] || !S1g[J01].length){return;}O5c=x5I[S1g.name];if(!O5c){return;}U33=O5c[J01];R_I=new Array(U33.length);for(var J9e=0;J9e < U33.length;J9e++){C1R=S1g[J01].indexOf(U33[J9e].name);if(C1R > -1){R_I[C1R]=U33[J9e];}else {R_I.push(U33[J9e]);}}if(R_I.length){O5c[J01]=R_I.filter(o2a);}}}};h3N.ChartEngine.prototype.exportLayout=function(j6e){var d2d,O5j,T0g,o7s,M5S,l$c;d2d={};function E9W(W2G){var a9X;a9X=[];for(var Q0T=0;Q0T < W2G.length;Q0T++){a9X.push(W2G[Q0T].name);}return a9X;}for(var p8D in this.layout){if(p8D != "studies" && p8D != "panels" && p8D != "drawing"){d2d[p8D]=h3N.clone(this.layout[p8D]);}else if(p8D == "studies"){d2d.studies={};}else if(p8D == "panels"){d2d.panels={};}}O5j=0;for(var a_i in this.panels){T0g=this.panels[a_i];if(T0g.exportable === !({}))continue;o7s=d2d.panels[a_i]={};o7s.percent=T0g.percent;o7s.display=T0g.display;o7s.chartName=T0g.chart.name;o7s.soloing=T0g.soloing;o7s.index=O5j++;o7s.yAxis={name:T0g.yAxis.name,position:T0g.yAxis.position};if(T0g.yaxisLHS){o7s.yaxisLHS=E9W(T0g.yaxisLHS);}if(T0g.yaxisRHS){o7s.yaxisRHS=E9W(T0g.yaxisRHS);}}for(var u96 in this.layout.studies){M5S=d2d.studies[u96]={};l$c=this.layout.studies[u96];M5S.type=l$c.type;M5S.inputs=h3N.clone(l$c.inputs);M5S.outputs=h3N.clone(l$c.outputs);M5S.panel=l$c.panel;M5S.parameters=h3N.clone(l$c.parameters);}if(j6e){d2d.symbols=this.getSymbols({"include-parameters":!!({}),"exclude-studies":!"","exclude-generated":!!({})});}else {delete d2d.symbols;}return d2d;};h3N.ChartEngine.prototype.importPreferences=function(V7n){var g2J;g2J="prefere";g2J+="nc";g2J+="e";g2J+="s";h3N.extend(this.preferences,V7n);if(V7n.timeZone){this.setTimeZone(this.dataZone,V7n.timeZone);}if(V7n.language && h3N.I18N){h3N.I18N.localize(this,V7n.language);}this.changeOccurred(g2J);};i6UVR.W3G();h3N.ChartEngine.prototype.exportPreferences=function(){return this.preferences;};};G=C7m=>{var t8f,b9Y,K8D,j8B,C79,Y$e,v8w,b84,p0k,h0R,U6i,Z$9,U7d;t8f="#b82c";t8f+="0";t8f+="c";b9Y="a";b9Y+="u";b9Y+="t";b9Y+="o";K8D="#";K8D+="FF0000";j8B="m";j8B+="a";C79="Ex";C79+="pon";C79+="ential";Y$e="Ex";Y$e+="ponent";Y$e+="ial";v8w="Tri";v8w+="angul";v8w+="ar";b84="vid";b84+="ya";p0k="ex";p0k+="pone";p0k+="n";p0k+="tial";h0R="sim";h0R+="pl";h0R+="e";U6i="w";U6i+="m";U6i+="a";Z$9=typeof _CIQ !== "undefined"?_CIQ:C7m.CIQ;U7d=typeof _timezoneJS !== "undefined"?_timezoneJS:C7m.timezoneJS;if(Z$9.ChartEngine){Z$9.ChartEngine.prototype.rightClickOverlay=function(I5O,Q9y){var m_x,u8Z,e2P;m_x="r";m_x+="ightClickOverl";m_x+="ay";u8Z="rig";u8Z+="htClickOverl";u8Z+="ay";if(this.runPrepend(u8Z,arguments)){return;}e2P=this.overlays[I5O];if(e2P.editFunction){e2P.editFunction(Q9y);}else {this.removeOverlay(I5O);}this.runAppend(m_x,arguments);};Z$9.ChartEngine.prototype.addOverlay=function(X1B){if(this.runPrepend("addOverlay",arguments)){return;}this.overlays[X1B.name]=X1B;this.runAppend("addOverlay",arguments);};Z$9.ChartEngine.prototype.removeOverlay=function(p9C){var Z$A,R9W,Q6W,a5s,Z7n,R2f;i6UVR.W3G();Z$A="rem";Z$A+="o";Z$A+="ve";Z$A+="Overlay";if(this.runPrepend("removeOverlay",arguments)){return;}R9W=this.overlays[p9C];for(var A3o in this.overlays){Q6W="Fi";Q6W+="e";Q6W+="l";Q6W+="d";a5s=this.overlays[A3o];Z7n=[Q6W];if(Z$9.Studies){Z7n=Z$9.Studies.getFieldInputs(a5s);}for(var h1f="0" | 0;h1f < Z7n.length;h1f++){if(R9W.outputMap[a5s.inputs[Z7n[h1f]]]){this.removeOverlay(a5s.name);}}}if(R9W){this.cleanupRemovedStudy(R9W);R2f=this.panels[R9W.panel];delete this.overlays[p9C];this.checkForEmptyPanel(R9W.panel);}if(!this.currentlyImporting){this.displaySticky();this.createDataSet();this.changeOccurred("layout");}this.resetDynamicYAxis();this.runAppend(Z$A,arguments);};Z$9.ChartEngine.prototype.cleanupRemovedStudy=function(G_t){if(!G_t){return;}if(G_t.study.removeFN){G_t.study.removeFN(this,G_t);}for(var p4O in this.plugins){if(p4O.indexOf(((2450,5310) > (3310,2150)?(6050,5448) == 6050?9.75e+3:"{":0x12ce) + G_t.id + (("199" ^ 0,385.6) <= (718,988)?"}":!![])) > -1){delete this.plugins[p4O];}}if(this.layout.studies){delete this.layout.studies[G_t.name];}delete this.overlays[G_t.name];if(Z$9.Studies){Z$9.Studies.removeStudySymbols(G_t,this);}if(this.quoteDriver){this.quoteDriver.updateSubscriptions();}};}Z$9.Studies=Z$9.Studies || (function(){});Z$9.Studies.DEFAULT_INPUTS={Period:14};Z$9.Studies.DEFAULT_OUTPUTS={Result:"auto"};Z$9.Studies.sortForProcessing=X5k=>{var B1L=i6UVR;var D8w,R_R,F5b,C1I,j3W;D8w=[];B1L.O_b(39);R_R=-B1L.v$j("950106683",0);F5b=-32912493;C1I=2;for(var u$H="1" << 0;B1L.l5h(u$H.toString(),u$H.toString().length,86030) !== R_R;u$H++){j3W=X5k.layout.studies;C1I+=2;}if(B1L.m6F(C1I.toString(),C1I.toString().length,1890) !== F5b){j3W=X5k.layout.studies;}if(j3W){C1r(Object.values(j3W),D8w);}B1L.W3G();function C1r(Y0V,y8V){B1L.W3G();Y0V.forEach(n3t=>{var e$_;if(y8V.indexOf(n3t) == -("1" << 0)){e$_=n3t.getDependents(X5k);if(e$_.length){C1r(e$_,y8V);}y8V.unshift(n3t);}});}return D8w;};Z$9.Studies.StudyDescriptor=function(R5l,d1y,l13,z7a,i$J,J5O){var s3G;this.name=R5l;i6UVR.W5N();this.type=d1y;this.panel=l13;this.inputs=z7a;this.outputs=i$J;this.parameters=J5O;this.outputMap={};this.min=null;this.max=null;this.startFrom=+"0";this.subField="Close";s3G=Z$9.Studies.studyLibrary[d1y];if(!s3G){s3G={};if(l13 == "chart" || !l13 && J5O && J5O.chartName == "chart"){this.overlay=!![];}}if(typeof s3G.inputs == "undefined"){s3G.inputs=Z$9.clone(Z$9.Studies.DEFAULT_INPUTS);}if(typeof s3G.outputs == "undefined"){s3G.outputs=Z$9.clone(Z$9.Studies.DEFAULT_OUTPUTS);}this.study=s3G;this.libraryEntry=s3G;;};Z$9.Studies.StudyDescriptor.prototype.getYAxis=function(Q0H){var h$B,S2D,d7Z;h$B=this.yAxis;if(this.parameters){S2D=this.parameters.yaxisDisplayValue;}i6UVR.W5N();if(!h$B){d7Z=Q0H.panels[this.panel];if(d7Z){h$B=Q0H.getYAxisByName(d7Z,S2D) || Q0H.getYAxisByName(d7Z,this.name) || d7Z.yAxis;}}if(!h$B){h$B=Q0H.getYAxisByName(Q0H.chart.panel,S2D) || Q0H.chart.panel.yAxis;}return h$B;};Z$9.Studies.StudyDescriptor.prototype.getContext=function(C1F){return C1F.chart.context;};Z$9.Studies.StudyDescriptor.prototype.getDependents=function(k6E,H5B){var h45,w2h,T4D;h45=[];for(var Y6V in k6E.layout.studies){w2h=k6E.layout.studies[Y6V];if(w2h == this)continue;T4D=Z$9.Studies.getFieldInputs(w2h);for(var b8S=0;b8S < T4D.length;b8S++){if(w2h.inputs[T4D[b8S]].includes(this.name)){if(H5B && w2h.parameters && w2h.parameters.panelName)continue;h45.push(w2h);h45=h45.concat(w2h.getDependents(k6E,H5B));break;}}}return h45;};Z$9.Studies.StudyDescriptor.prototype.undraggable=function(o3R){var E2J;E2J=this.study.attributes;i6UVR.W5N();if(E2J){if(E2J.panelName && E2J.panelName.hidden){return !!1;}if(E2J.yaxisDisplayValue && E2J.yaxisDisplayValue.hidden){return !![];}}return !!0;};Z$9.Studies.StudyDescriptor.prototype.appendFutureTicks=function(n2l,e$t){var U4h,V3w,O9J,w_h;U4h=n2l.chart.scrubbed;if(!U4h.length){return;}V3w=n2l.standardMarketIterator(U4h[U4h.length - 1].DT);for(O9J=e$t.length - 1;O9J >= 0;O9J--){w_h=e$t[O9J];for(var E_8 in w_h){if(w_h[E_8] || w_h[E_8] === 0){O9J=-+"1";break;}}if(O9J == -1)break;e$t.pop();}i6UVR.W5N();for(O9J=0;O9J < e$t.length;O9J++){w_h=e$t[O9J];if(!w_h.DT){w_h.DT=V3w.next();}if(!w_h.displayDate){n2l.setDisplayDate(w_h);}w_h.futureTick=!!({});U4h.push(w_h);}};Z$9.Studies.generateID=function(M6R,v6X,P2L,Q7$,O8g){var P41=i6UVR;var q_x,K6K,w6x,c64,q6i,r_Z,P5H,c1s;q_x=Z$9.Studies.studyLibrary[v6X];P41.s$9(35);K6K=P41.V9a(O8g || v6X,2586 != 1460?"\u200c":5270 != 2944?9531 > 145.19?+"115.02":(0x20c2,"785.22" * 1):5.58e+3,15.74 !== 475?"\u200c":("0x20f6" | 32,"R"));w6x=K6K;if(q_x){if(q_x.customRemoval){return w6x;}}if(!Z$9.isEmpty(P2L)){c64=!!({});for(var e7v in P2L){q6i="f";q6i+="i";q6i+="el";q6i+="d";r_Z="Ancho";r_Z+="r";r_Z+=" Sele";r_Z+="ctor";if(["id","display","Shading",r_Z].includes(e7v)){continue;}P5H=P2L[e7v];if(P5H == q6i)continue;P5H=P5H.toString();if(Z$9.Studies.prettify[P5H] !== undefined){P5H=Z$9.Studies.prettify[P5H];}if(c64){c64=!"1";w6x+=" (";}else {if(P5H){w6x+=181.3 === 9840?0x2635:381.54 == 4551?+"0x1b7":(951,4940) !== (982,3650)?",":(0xf73,0xc4f);}}w6x+=P5H;}if(!c64){w6x+=6654 < (653,436)?(763.52,8.87e+3):")";}}if(Q7$ && Q7$.indexOf(w6x) === 0){return Q7$;}if(M6R.layout.studies && M6R.layout.studies[w6x]){for(var T_u=2;T_u < 50;T_u++){P41.s$9(35);c1s=P41.V9a("-",T_u,w6x);if(!M6R.layout.studies[c1s]){w6x=c1s;break;}}}return w6x;};Z$9.Studies.DialogHelper=function(t9_){var H_$=i6UVR;var e_G,q_D,e30,c$k,D$P,O$r,t$d,D$L,w1J,A8u,h$_,b2Z,n_p,j80,p5Z,t55,S5I,V7c,X7g,S$N,g2_,X_b,G3x,K8c,T7b,n7I,S2l,m_z,y5M,r82,B_h,t3g,H8M,l$L,a$T,a4F,Q9I,d1p,B3x,k8R,Y$u,s0k,W6y,C3$,q0L,P5m,l6J,M6y,P0n,E8E,E1p;e_G=this.stx=t9_.stx;q_D=this.sd=t9_.sd;this.name=q_D?q_D.type:t9_.name;this.signal=1;this.inputs=[];this.outputs=[];function O0I(N1z){var W1P,H$G,h12;W1P={};H$G=N1z.defaults;h12={name:N1z.name,heading:e_G.translateIf(N1z.label),defaultValue:H$G[0],value:N1z.value,options:W1P,type:"select"};for(var j77=0;j77 < H$G.length;j77++){W1P[H$G[j77]]=e_G.translateIf(H$G[j77]);}if(N1z.color !== undefined){h12.defaultColor=e_G.defaultColor;h12.color=N1z.color;}return h12;}H_$.W3G();this.parameters=[];e30=this.libraryEntry=q_D?q_D.study:Z$9.Studies.studyLibrary[t9_.name];if(typeof e30.inputs == "undefined"){e30.inputs=Z$9.clone(Z$9.Studies.DEFAULT_INPUTS);}if(typeof e30.outputs == "undefined"){e30.outputs=Z$9.clone(Z$9.Studies.DEFAULT_OUTPUTS);}c$k=q_D && e_G.panels[q_D.panel]?e_G.panels[q_D.panel]:e_G.chart.panel;function P$h(o10){var x80;x80={name:o10.name,heading:e_G.translateIf(o10.label),defaultValue:o10.defaults,value:o10.value,type:"checkbox"};return x80;}D$P=c$k.chart;this.title=e_G.translateIf(e30.name);this.attributes=Z$9.clone(e30.attributes);if(!this.attributes){this.attributes={};}for(var y6X in this.attributes){O$r=this.attributes[y6X];for(var n85 in O$r){if(typeof O$r[n85] == "function"){O$r[n85]=O$r[n85].call(q_D);}}}t$d=[];D$L=e_G.layout.studies;w1J=[];if(q_D){w1J=Array.prototype.concat(q_D,q_D.getDependents(e_G));}for(var L$w in D$L){if(w1J.indexOf(D$L[L$w]) > -1)continue;for(var Q0u in D$L[L$w].outputMap){t$d.push(Q0u);}}for(var l_b in e30.inputs){A8u={};this.inputs.push(A8u);A8u.name=l_b;A8u.heading=e_G.translateIf(l_b);h$_=e30.inputs[l_b];if(q_D && q_D.inputs && typeof q_D.inputs[l_b] != "undefined" && q_D.inputs[l_b] !== null){A8u.value=q_D.inputs[l_b];}else {A8u.value=e30.inputs[l_b];}A8u.defaultInput=e30.inputs[l_b];if(!this.attributes[l_b]){this.attributes[l_b]=Z$9.Studies.inputAttributeDefaultGenerator(A8u.defaultInput);}if(h$_.constructor == Number){A8u.type="number";}else if(h$_.constructor == String){b2Z="f";b2Z+="i";b2Z+="e";b2Z+="ld";n_p=Z$9.Studies.movingAverageHelper(e_G,A8u.defaultInput);if(n_p){j80="o";j80+="p";j80+="tion";j80+="s";A8u.type="select";A8u.defaultInput=n_p;p5Z=Z$9.Studies.movingAverageHelper(e_G,A8u.value);if(!p5Z){p5Z=A8u.value;}A8u.value=p5Z;A8u.options=Z$9.Studies.movingAverageHelper(e_G,j80);}else if(h$_ == b2Z){t55="fie";t55+="l";t55+="d";S5I="hl";S5I+="cc/4";V7c="h";V7c+="l/2";X7g="C";X7g+="lose";S$N="Hi";S$N+="gh";A8u.type="select";A8u.options={};g2_=["Open",S$N,"Low",X7g,"Adj_Close",V7c,"hlc/3",S5I,"ohlc/4",D$P.defaultPlotField].concat(t$d);for(var d1D=0;d1D < g2_.length;d1D++){X_b=g2_[d1D];A8u.options[X_b]=e_G.translateIf(X_b);}if(A8u.value == "field"){G3x="Clo";G3x+="se";A8u.value=G3x;}if(A8u.defaultInput == t55){A8u.defaultInput="Close";}}else {K8c="ti";K8c+="me";T7b="yyyy";T7b+="-mm-d";T7b+="d";A8u.type="text";if(this.attributes[l_b].placeholder == T7b){A8u.type="date";}else if(this.attributes[l_b].placeholder == "hh:mm:ss"){A8u.type=K8c;}}}else if(h$_.constructor == Boolean){n7I="tru";n7I+="e";S2l="ch";S2l+="eck";S2l+="bo";S2l+="x";A8u.type=S2l;if(A8u.value === !![] || A8u.value == n7I || A8u.value == "on"){A8u.value=!"";}}else if(h$_.constructor == Array){m_z="selec";m_z+="t";A8u.type=m_z;A8u.options={};for(var G0h=0;G0h < h$_.length;G0h++){A8u.options[h$_[G0h]]=e_G.translateIf(h$_[G0h]);}if(A8u.value.constructor == Array){A8u.value=A8u.value[0];}if(this.attributes[l_b].defaultSelected){A8u.defaultInput=this.attributes[l_b].defaultSelected;}else {A8u.defaultInput=h$_[0];}}}function r_W(j2_){var C1J;if(W6y == "alias"){C1J=1;for(var F$X in e_G.panels){if(F$X == j2_){return F5K(F$X,C1J);}C1J++;}}function F5K(L3j,u4F){H_$.W5N();return "Panel " + u4F.toString();}return j2_;}this.dateTimeInputs=[];for(var J8o=0;J8o < this.inputs.length;J8o++){y5M="da";y5M+="te";r82=this.inputs[J8o];if(r82.type == y5M){B_h=" D";B_h+="a";B_h+="t";B_h+="e";t3g=r82.name.substring(0,r82.name.indexOf(B_h));for(var h2N=0;h2N < this.inputs.length;h2N++){H8M=this.inputs[h2N];if(H8M.type == "time"){if(H8M.name == t3g + " Time"){this.dateTimeInputs.push(t3g);break;}}}}}this.adjustInputTimesForDisplayZone();for(l_b in e30.outputs){l$L="a";l$L+="uto";a$T={name:l_b,heading:e_G.translateIf(l_b)};a$T.color=a$T.defaultOutput=e30.outputs[l_b];if(q_D && q_D.outputs && q_D.outputs[l_b]){a$T.color=q_D.outputs[l_b];}if(a$T.color == l$L){a$T.color=e_G.defaultColor;}this.outputs.push(a$T);}a4F=q_D?q_D.parameters:null;if(e30.parameters){Q9I=e30.parameters.init;if(Q9I){if(Q9I.studyOverZonesEnabled !== undefined){B3x="c";B3x+="hec";B3x+="kbo";B3x+="x";d1p={name:"studyOverZones",heading:e_G.translateIf("Show Zones"),defaultValue:Q9I.studyOverZonesEnabled,value:Q9I.studyOverZonesEnabled};if(a4F && (a4F.studyOverZonesEnabled || a4F.studyOverZonesEnabled === !1)){d1p.value=a4F.studyOverZonesEnabled;}d1p.type=B3x;this.parameters.push(d1p);}if(Q9I.studyOverBoughtValue !== undefined){k8R="stu";k8R+="dyOverBought";d1p={name:k8R,heading:e_G.translateIf("OverBought"),defaultValue:Q9I.studyOverBoughtValue,value:Q9I.studyOverBoughtValue,defaultColor:Q9I.studyOverBoughtColor,color:Q9I.studyOverBoughtColor};if(a4F && a4F.studyOverBoughtValue){d1p.value=a4F.studyOverBoughtValue;}if(a4F && a4F.studyOverBoughtColor){d1p.color=a4F.studyOverBoughtColor;}if(d1p.color == "auto"){d1p.color=e_G.defaultColor;}d1p.type="text";this.parameters.push(d1p);}if(Q9I.studyOverSoldValue !== undefined){Y$u="t";Y$u+="e";Y$u+="xt";s0k="OverS";s0k+="old";d1p={name:"studyOverSold",heading:e_G.translateIf(s0k),defaultValue:Q9I.studyOverSoldValue,value:Q9I.studyOverSoldValue,defaultColor:Q9I.studyOverSoldColor,color:Q9I.studyOverSoldColor};if(a4F && a4F.studyOverSoldValue){d1p.value=a4F.studyOverSoldValue;}if(a4F && a4F.studyOverSoldColor){d1p.color=a4F.studyOverSoldColor;}if(d1p.color == "auto"){d1p.color=e_G.defaultColor;}d1p.type=Y$u;this.parameters.push(d1p);}if(!this.attributes.studyOverBoughtValue){this.attributes.studyOverBoughtValue={};}if(!this.attributes.studyOverSoldValue){this.attributes.studyOverSoldValue={};}}}W6y=this.panelSelect=t9_.panelSelect;C3$=this.axisSelect=t9_.axisSelect;if(t9_.addWhenDone){C3$=W6y=!!0;}if(C3$ || W6y){q0L="flippe";q0L+="dEna";q0L+="bled";if(!q_D){q_D=Z$9.Studies.addStudy(e_G,t9_.name,null,null,{calculateOnly:!!({})});Z$9.Studies.removeStudy(e_G,q_D);}if(W6y){P5m="un";P5m+="d";P5m+="erlay";l6J="Show as U";l6J+="nderlay";M6y="A";M6y+="uto";P0n="pan";P0n+="e";P0n+="lNa";P0n+="me";E8E="P";E8E+="a";E8E+="ne";E8E+="l";this.parameters.push(O0I({label:E8E,name:P0n,defaults:(function(){var A1u;H_$.W5N();A1u=[];A1u.push("Auto");for(var n1z in e_G.panels){if(n1z != q_D.panel || !a4F || !a4F.panelName){A1u.push(r_W(n1z));}}if(!e_G.checkForEmptyPanel(q_D.panel,!!"1",q_D)){A1u.push("New panel");}return A1u;})(),value:a4F && a4F.panelName?r_W(a4F.panelName):M6y}),P$h({label:l6J,name:P5m,defaults:![],value:q_D.underlay || q_D.parameters && q_D.parameters.underlayEnabled}));}E1p=e_G.getYAxisByName(c$k,q_D.name);if(C3$){this.parameters.push(O0I({label:"Y-Axis",name:"yaxisDisplay",defaults:(function(){var i2G,e1B,E2d;i2G="n";i2G+="one";e1B=c$k.yaxisLHS.concat(c$k.yaxisRHS);E2d=[];E2d.push("default","right","left",i2G,"shared");H_$.W5N();for(var E4l="0" << 64;E4l < e1B.length;E4l++){if(e1B[E4l] != E1p){E2d.push(e1B[E4l].name);}}return E2d;})(),value:a4F && a4F.yaxisDisplayValue || E1p && E1p.position || (q_D.panel != q_D.name?"shared":c$k.yAxis.position || "default"),color:E1p && E1p.textStyle?E1p.textStyle:"auto"}),P$h({label:"Invert Y-Axis",name:"flipped",defaults:!"1",value:a4F?a4F.flippedEnabled:E1p?E1p.flipped:!"1"}));}i_G.call(this,q0L,!E1p && q_D.panel != q_D.name);i_G.call(this,"underlayEnabled",e30.underlay);i_G.call(this,"panelName",e30.seriesFN === null);i_G.call(this,"yaxisDisplayValue",e30.seriesFN === null || e30.yAxis && e30.yAxis.noDraw);}function i_G(N7u,N3B){H_$.W3G();if(!this.attributes[N7u]){this.attributes[N7u]={};}if(N3B){this.attributes[N7u].hidden=!"";}}};Z$9.Studies.DialogHelper.prototype.updateStudy=function(p6W){var Q3i,z90,G1S,L7V;Q3i={};z90=this.sd;G1S=this.libraryEntry;if(!G1S){G1S={};}if(!z90){z90=G1S;}Q3i.inputs=Z$9.clone(z90.inputs);Q3i.outputs=Z$9.clone(z90.outputs);Q3i.parameters=Z$9.clone(z90.parameters);this.adjustInputTimesForDisplayZone(p6W);if(p6W.parameters && p6W.parameters.panelName){p6W.parameters.panelName=F6r.call(this,p6W.parameters.panelName);}Z$9.extend(Q3i,p6W);function F6r(E3F){var t0e;if(this.panelSelect == "alias"){t0e=s1y(E3F);if(t0e){for(var o57 in this.stx.panels){if(!--t0e){return o57;}}}}function s1y(X9A){var M82;i6UVR.W3G();M82=X9A.match(/.* (\d)/);return M82 && M82[+"1"];}return E3F;}if(!Q3i.parameters){Q3i.parameters={};}if(Q3i.inputs && Q3i.inputs.id){z90=Z$9.Studies.replaceStudy(this.stx,Q3i.inputs.id,this.name,Q3i.inputs,Q3i.outputs,Q3i.parameters,null,z90.study);}else {z90=Z$9.Studies.addStudy(this.stx,this.name,Q3i.inputs,Q3i.outputs,Q3i.parameters,null,z90.study);}L7V=new Z$9.Studies.DialogHelper({stx:this.stx,sd:z90,axisSelect:this.axisSelect,panelSelect:this.panelSelect});for(var a91 in L7V){if(a91 != "signal"){this[a91]=L7V[a91];}}this.signal*=-1;;};Z$9.Studies.DialogHelper.prototype.adjustInputTimesForDisplayZone=function(w6K){var b2U=i6UVR;var n9K,z$L,V8i,P9y,E1w,C_u,J8b,S0Q,R$y,l7T,O4i,U7v;b2U.W5N();if(this.stx.displayZone){for(var Q4o=0;Q4o < this.dateTimeInputs.length;Q4o++){n9K=this.dateTimeInputs[Q4o];C_u="";if(w6K && w6K.inputs){J8b=" ";J8b+="D";J8b+="a";J8b+="te";b2U.s$9(0);V8i=w6K.inputs[b2U.v$j(n9K,J8b)];b2U.s$9(0);P9y=w6K.inputs[b2U.V9a(n9K," Time")];if(V8i){C_u=V8i;}if(P9y){C_u+=P9y;}}for(z$L=0;z$L < this.inputs.length;z$L++){S0Q=" D";S0Q+="at";S0Q+="e";E1w=this.inputs[z$L];if(!V8i && V8i !== "" && E1w.name == n9K + S0Q){C_u=E1w.value + C_u;}else if(!P9y && P9y !== "" && E1w.name == n9K + " Time"){C_u+=E1w.value;}}C_u=C_u.replace(/\D/g,"");if(C_u.length < "12" - 0){return;}R$y=Z$9.strToDateTime(C_u);if(!isNaN(R$y.valueOf())){if(w6K){O4i=" ";O4i+="Da";O4i+="t";O4i+="e";if(!w6K.inputs){w6K.inputs={};}l7T=Z$9.convertTimeZone(R$y,this.stx.displayZone);b2U.s$9(0);w6K.inputs[b2U.V9a(n9K,O4i)]=Z$9.yyyymmdd(l7T);b2U.O_b(0);w6K.inputs[b2U.V9a(n9K," Time")]=Z$9.hhmmss(l7T);}else {l7T=Z$9.convertTimeZone(R$y,null,this.stx.displayZone);for(z$L=0;z$L < this.inputs.length;z$L++){U7v=" D";U7v+="at";U7v+="e";E1w=this.inputs[z$L];if(E1w.name == n9K + U7v){E1w.value=Z$9.yyyymmdd(l7T);}if(E1w.name == n9K + " Time"){E1w.value=Z$9.hhmmss(l7T);}}}}}}};Z$9.Studies.prepareStudy=function(q5_,F4c,b_h){var q0E=i6UVR;var N6M;N6M="u";N6M+="nd";q0E.W3G();N6M+="efined";if(typeof F4c.calculateFN == N6M){F4c.useRawValues=!!({});}if(Z$9.isEmpty(b_h.outputMap)){for(var m5N in b_h.outputs){if(F4c.useRawValues){b_h.outputMap[m5N]=m5N;}else {q0E.s$9(1);var z2z=q0E.V9a(10920,11700);q0E.s$9(111);var W0Y=q0E.v$j(1,691,691,9668);q0E.O_b(16);var i2y=q0E.V9a(12,9899,10);q0E.O_b(0);var h6l=q0E.V9a(38,529);q0E.O_b(108);var t2K=q0E.V9a(10,31620,437410,10,14);q0E.O_b(115);var z46=q0E.v$j(1949,1890,16,19,4);q0E.O_b(1);var F45=q0E.v$j(49150,58980);q0E.O_b(18);var p2I=q0E.v$j(33,14,18);q0E.s$9(116);var a7j=q0E.V9a(384,5,59,1,384);q0E.O_b(1);var N_A=q0E.v$j(8,8858);b_h.outputMap[m5N + ((z2z,W0Y) === i2y?"X":h6l < (+"9840",t2K)?(z46,F45) < ("555.21" - 0,"7233" | p2I)?"0x5f" << a7j:" ":N_A) + b_h.name]=m5N;}}}};Z$9.Studies.rejiggerDerivedStudies=function(C0L,E9h,e2T){var X3d,z8l,s8D,K5F,B3t,p0U,b01,b15,x7j;X3d=E9h.name;z8l=E9h.panel;s8D=E9h.getDependents(C0L);for(var I00="0" * 1;I00 < s8D.length;I00++){K5F=s8D[I00];B3t=Z$9.clone(K5F.inputs);p0U=B3t.id;if(!p0U)continue;b01=!!"";b15=Z$9.Studies.getFieldInputs(K5F);for(var S1f=+"0";S1f < b15.length;S1f++){B3t[b15[S1f]]=B3t[b15[S1f]].replace(X3d,e2T);}x7j=Z$9.Studies.replaceStudy(C0L,p0U,K5F.type,B3t,K5F.outputs,Z$9.extend(K5F.parameters,{rejiggering:!![]}),null,K5F.study);delete x7j.parameters.rejiggering;}};Z$9.Studies.removeStudySymbols=function(X0$,P0E){if(X0$.series){for(var p5S in X0$.series){P0E.deleteSeries(X0$.series[p5S],null,{action:"remove-study"});}};};Z$9.Studies.replaceStudy=function(Y9M,P81,f1a,I_F,c0j,l5C,z6G,c76){var O6Z,X4o,l0e,L5B;if(!l5C){l5C={};}if(P81){l5C.replaceID=P81;}P81=l5C.replaceID;O6Z=Y9M.layout.studies[P81];Z$9.Studies.removeStudySymbols(O6Z,Y9M);if(O6Z.attribution){Y9M.removeFromHolder(O6Z.attribution.marker);}if(Y9M.quoteDriver){Y9M.quoteDriver.updateSubscriptions();}if(I_F){if(I_F.id == I_F.display){delete I_F.display;}delete I_F.id;}X4o=Z$9.Studies.addStudy(Y9M,f1a,I_F,c0j,l5C,z6G,c76);X4o.highlight=O6Z.highlight;X4o.uniqueId=O6Z.uniqueId;L5B={};for(l0e in Y9M.layout.studies){if(l0e == P81){L5B[X4o.name]=X4o;}else {L5B[l0e]=Y9M.layout.studies[l0e];}}Y9M.layout.studies=L5B;L5B={};for(l0e in Y9M.overlays){if(l0e == P81){if(X4o.overlay || X4o.underlay){L5B[X4o.name]=X4o;}}else {L5B[l0e]=Y9M.overlays[l0e];}}Y9M.overlays=L5B;if(!Y9M.overlays[X4o.name] && (X4o.overlay || X4o.underlay)){Y9M.addOverlay(X4o);}Y9M.checkForEmptyPanel(O6Z.panel);if(!l5C.rejiggering){Y9M.initializeDisplay(Y9M.chart);Z$9.Studies.rejiggerDerivedStudies(Y9M,O6Z,X4o.inputs.id,X4o.panel);Y9M.changeOccurred("layout");if(!Y9M.currentlyImporting && !l5C.calculateOnly && X4o.chart.dataSet){Y9M.createDataSet(null,X4o.chart);}Y9M.draw();}Z$9.transferObject(O6Z,X4o);Y9M.layout.studies[X4o.name]=O6Z;Y9M.overlays[X4o.name]=O6Z;Y9M.chart.state.studies.sorted=null;return O6Z;};Z$9.Studies.addStudy=function(A7g,z3u,P5e,s2s,b30,F_I,y$f){var Q_0=i6UVR;var n9E,E6H,x52,D2P,R1O,E7H,D8A,d53,r1M,W6A,p58,D5h,E3C,O4a;n9E="c";n9E+="h";n9E+="ar";n9E+="t";E6H=y$f?y$f:Z$9.Studies.studyLibrary[z3u];if(!b30){b30={};}if(E6H){if(E6H.inputs){x52=Z$9.clone(E6H.inputs);for(var F4w in x52){if(x52[F4w] instanceof Array){if(E6H.attributes && E6H.attributes[F4w] && E6H.attributes[F4w].defaultSelected){x52[F4w]=E6H.attributes[F4w].defaultSelected;}else {x52[F4w]=x52[F4w][+"0"];}}}P5e=Z$9.extend(x52,P5e);}if(E6H.outputs){s2s=Z$9.extend(Z$9.clone(E6H.outputs),s2s);}D2P=E6H.parameters;if(D2P && D2P.init){b30=Z$9.extend(Z$9.clone(D2P.init),b30);}if(D2P && !b30.display){b30.display=D2P.display;}}Q_0.W3G();if(!P5e){P5e=Z$9.clone(Z$9.Studies.DEFAULT_INPUTS);}if(!s2s){s2s=Z$9.clone(Z$9.Studies.DEFAULT_OUTPUTS);}if(!b30.chartName){b30.chartName=n9E;}if(b30.panelName == "Auto" || b30.panelName == "Default panel"){b30.panelName="";}if(P5e.Period < 1){P5e.Period=1;}R1O=null;if(!A7g.layout.studies){A7g.layout.studies={};}if(E6H && E6H.initializeFN){R1O=E6H.initializeFN(A7g,z3u,P5e,s2s,b30,F_I,y$f);}else {R1O=Z$9.Studies.initializeFN(A7g,z3u,P5e,s2s,b30,F_I,y$f);}if(!R1O){Q_0.s$9(0);console.log(Q_0.V9a("CIQ.Studies.addStudy: initializeFN() returned null for ",z3u));return;}y$f=R1O.study;R1O.chart=A7g.charts[b30.chartName];R1O.type=z3u;R1O.permanent=y$f.permanent;R1O.customLegend=y$f.customLegend;R1O.uniqueId=Z$9.uniqueID();Z$9.Studies.prepareStudy(A7g,y$f,R1O);E7H=A7g.chart.state.studies;if(!E7H){E7H=A7g.chart.state.studies={};}E7H.sorted=null;if(!b30.replaceID){A7g.layout.studies[R1O.inputs.id]=R1O;if(R1O.overlay || R1O.underlay){A7g.addOverlay(R1O);}if(!A7g.currentlyImporting && !b30.calculateOnly && R1O.chart.dataSet){A7g.createDataSet(null,R1O.chart);}}else {D8A=!!({});delete b30.replaceID;}if(A7g.quoteDriver){A7g.quoteDriver.updateSubscriptions();}if(b30.calculateOnly){A7g.changeOccurred("layout");return R1O;}d53=A7g.panels[R1O.panel];r1M=!1;W6A=!(R1O.overlay || R1O.underlay);if(W6A && y$f.horizontalCrosshairFieldFN){d53.horizontalCrosshairField=y$f.horizontalCrosshairFieldFN(A7g,R1O);}if(A7g.editCallback){r1M=!![];}else if(W6A){if(A7g.callbackListeners.studyPanelEdit && A7g.callbackListeners.studyPanelEdit.length){r1M=!!"1";}}else {if(A7g.callbackListeners.studyOverlayEdit && A7g.callbackListeners.studyOverlayEdit.length){r1M=!!({});}}if(r1M){b30.editMode=!!({});p58=!!0;for(var r3Y in R1O.inputs){if(r3Y == "id")continue;if(r3Y == "display")continue;p58=!![];break;}if(!p58){for(var M6b in R1O.outputs){p58=!!"1";break;}}if(p58){if(typeof R1O.study.edit != "undefined"){if(R1O.study.edit){D5h=(function(C$n,p4l,P$S,b4U){return function(){Z$9.clearCanvas(C$n.chart.tempCanvas,C$n);Q_0.W3G();p4l.study.edit(p4l,{stx:C$n,inputs:P$S,outputs:b4U,parameters:b30});};})(A7g,R1O,P5e,s2s,b30);A7g.setPanelEdit(d53,D5h);R1O.editFunction=D5h;}}else if(!W6A){D5h=(function(O46,J9k,N9W,Z9f,m1A){return function(J$M){Z$9.clearCanvas(O46.chart.tempCanvas,O46);Q_0.W5N();O46.dispatch("studyOverlayEdit",{stx:O46,sd:J9k,inputs:N9W,outputs:Z9f,parameters:m1A,forceEdit:J$M});};})(A7g,R1O,P5e,s2s,b30);R1O.editFunction=D5h;}else {if(A7g.editCallback){E3C="cha";E3C+="r";E3C+="t";D5h=(function(N5s,g4w,o7t,s_H){Q_0.W3G();return function(){Q_0.W5N();var x7h;x7h=N5s.editCallback(N5s,g4w);Z$9.clearCanvas(N5s.chart.tempCanvas,N5s);Z$9.Studies.studyDialog(N5s,z3u,x7h,{inputs:o7t,outputs:s_H,parameters:b30});};})(A7g,R1O,P5e,s2s,b30);if(d53.name != E3C){A7g.setPanelEdit(d53,D5h);}}else {O4a="cha";O4a+="rt";D5h=(function(n6z,F0i,z4V,i1m,h30){Q_0.W5N();return function(){var k0P;k0P="studyP";Q_0.W5N();k0P+="anelE";k0P+="dit";Z$9.clearCanvas(n6z.chart.tempCanvas,n6z);n6z.dispatch(k0P,{stx:n6z,sd:F0i,inputs:z4V,outputs:i1m,parameters:h30});};})(A7g,R1O,P5e,s2s,b30);if(d53.name != O4a){A7g.setPanelEdit(d53,D5h);R1O.editFunction=D5h;}}}}}A7g.changeOccurred("layout");if(!D8A){A7g.draw();}return R1O;};Z$9.Studies.removeStudy=function(e01,q9L){var K_I,X5M,F2g,Z_6;K_I=e01.panels[q9L.panel];X5M=K_I && K_I.yAxis.name;if(q9L.overlay || q9L.underlay){e01.removeOverlay(q9L.name);}F2g=e01.panels[q9L.panel];if(q9L.attribution){e01.removeFromHolder(q9L.attribution.marker);}delete e01.layout.studies[q9L.name];if(F2g && !e01.checkForEmptyPanel(F2g)){if(X5M == q9L.name){e01.electNewPanelOwner(F2g);}Z_6=e01.getYAxisByName(q9L.panel,q9L.name);if(Z_6){Z_6.name=Z_6.studies[+"1"] || Z_6.renderers[0];}}e01.draw();e01.resizeChart();};Z$9.Studies.getPanelFromFieldName=function(U97,U0f){var Q66,n5o,Z49,x1f,K8r;Q66=Z$9.Studies.getFieldInputs(U0f);if(!Q66.length){return null;}n5o=U97.layout.studies;if(!n5o){return null;}Z49={};for(var t8_ in n5o){for(var h54 in n5o[t8_].outputMap){Z49[h54]=n5o[t8_].panel;}}i6UVR.W5N();for(var L7Z=0;L7Z < Q66.length;L7Z++){x1f=U0f.inputs[Q66[L7Z]];if(x1f){K8r=Z49[x1f];if(K8r){return K8r;}}}return null;};Z$9.Studies.createLibraryHash=function(){return Object.keys(Z$9.Studies.studyLibrary).join("|");;};Z$9.Studies.displayStudies=function(r62,g4t,n8p){i6UVR.W5N();var P3d,x4y,p2x,k7y,e4A,R4S,x2p,a1X,v6Z,J4d,a7T,w_o,W0Q,P0i,p3s;if(n8p){g4t.studyLibraryHash=Z$9.Studies.createLibraryHash();}P3d=r62.layout.studies;if(!P3d){return;}x4y={};x4y[g4t.name]=!!1;for(var k7$ in P3d){p2x=P3d[k7$];k7y=p2x.study;if(!k7y)continue;e4A=p2x.underlay || p2x.parameters && p2x.parameters.underlayEnabled;if(n8p && !e4A || !n8p && e4A)continue;R4S=Z$9.clone(k7y.renderer);if(R4S && !(R4S instanceof Array)){R4S=[R4S];}x2p=r62.panels[p2x.panel];if(x2p){if(x2p.chart != g4t)continue;if(x2p.hidden)continue;if(!x4y[x2p.name]){a1X=p2x.permanent || !r62.manageTouchAndMouse;if(x2p.closeX){if(a1X){x2p.closeX.style.display="none";}}else if(x2p.close){v6Z="n";v6Z+="o";v6Z+="ne";if(a1X){x2p.close.style.display=v6Z;}}if(x2p.edit){if(a1X){x2p.edit.style.display="none";}}x4y[x2p.name]=a1X;}}else {if(r62.currentlyImporting){delete P3d[k7$];}continue;}J4d=p2x.chart.dataSegment;if(p2x.panel == p2x.parameters.chartName && (!p2x.parameters || !p2x.parameters.panelName)){a7T=Z$9.Studies.getPanelFromFieldName(r62,p2x);if(a7T && p2x.panel != a7T){p2x.panel=a7T;}}if(typeof k7y.seriesFN == "undefined"){if(R4S){if(!p2x.overlay){Z$9.Studies.createYAxis(r62,p2x,J4d,x2p);}for(var Q16="0" >> 32;Q16 < R4S.length;Q16++){w_o=R4S[Q16];for(var P_C in p2x.outputMap){if(p2x.outputMap[P_C] == w_o.field){w_o.field=P_C;}}if(!w_o.field)continue;w_o.panel=p2x.panel;W0Q=w_o.binding;if(W0Q){for(var P1m in W0Q){P0i=Z$9.Studies.determineColor(p2x.outputs[W0Q[P1m]]);if(P0i && P0i != "auto"){w_o[P1m]=P0i;};}}w_o.yAxis=null;p3s=Z$9.Renderer.produce(w_o.type,w_o);p3s.stx=r62;p3s.attachSeries(null,w_o).draw();}}else {Z$9.Studies.displaySeriesAsLine(r62,p2x,J4d);}if(x2p){Z$9.Studies.displayError(r62,p2x);}}else {if(k7y.seriesFN){if(x2p){k7y.seriesFN(r62,p2x,J4d);Z$9.Studies.displayError(r62,p2x);}}}}};Z$9.Studies.displayError=function(F4V,l9e,A2e){var W4k,Q4r,Z6X;W4k="c";W4k+="e";W4k+="nte";W4k+="r";if(!l9e.error){return;}Q4r=A2e && A2e.panel?A2e.panel:l9e.panel;Z6X=l9e.error === !![]?F4V.translateIf("Not enough data to compute ") + F4V.translateIf(l9e.study.name):F4V.translateIf(l9e.error);if(A2e && (A2e.h !== W4k || A2e.v !== "bottom")){F4V.watermark(Q4r,A2e);return;}F4V.displayErrorAsWatermark(Q4r,Z6X);};Z$9.Studies.calculateMinMaxForDataPoint=function(T7B,r8Z,z4j){var h7z,O2v,h6Z;h7z=Number.MAX_VALUE;i6UVR.O_b(67);var c69=i6UVR.v$j(7,7,18,19);O2v=Number.MAX_VALUE * c69;for(var E43=0;E43 < z4j.length;E43++){h6Z=z4j[E43][r8Z];if(h6Z === null || typeof h6Z == "undefined")continue;if(isNaN(h6Z))continue;h7z=Math.min(h6Z,h7z);O2v=Math.max(h6Z,O2v);}return {min:h7z,max:O2v};};Z$9.Studies.getYAxisParameters=function(u23,r$l){var P49=i6UVR;var O0Y,B$H,l5l,n1n,c04,a6A;P49.W5N();O0Y={};B$H=u23.layout.studies && u23.layout.studies[r$l.name];if(B$H){l5l=B$H.study;if(l5l.yaxis || l5l.yAxisFN){O0Y.noDraw=!!({});}else {if(l5l.parameters && l5l.parameters.excludeYAxis){O0Y.noDraw=!![];}O0Y.ground=l5l.yAxis && l5l.yAxis.ground;if(r$l){n1n="byp";n1n+="a";n1n+="ss";if(l5l.range != n1n){c04="-";c04+="1 ";c04+="t";c04+="o 1";a6A="0 t";a6A+="o ";a6A+="1";a6A+="00";if(l5l.range == a6A){P49.s$9(42);O0Y.range=[P49.v$j("0",0),P49.V9a("100",0,P49.s$9(29))];}else if(l5l.range == c04){O0Y.range=[-+"1",1];}else {if(l5l.range == "0 to max"){O0Y.range=[0,Math.max(0,r$l.high)];}else if(l5l.centerline || l5l.centerline === 0){O0Y.range=[Math.min(l5l.centerline,r$l.low),Math.max(l5l.centerline,r$l.high)];}}}if(O0Y.range){P49.s$9(1);r$l.low=O0Y.range[P49.V9a(0,"0")];r$l.high=O0Y.range[1];}if(B$H.min){r$l.min=B$H.min;}if(B$H.max){r$l.max=B$H.max;}if(B$H.parameters && B$H.parameters.studyOverZonesEnabled){O0Y.noDraw=!0;}}}}return O0Y;};Z$9.Studies.doPostDrawYAxis=function(H_I,i5U){var L4_,K4S,M7M,K6O,J8Y;for(var M5o in H_I.layout.studies){L4_=H_I.layout.studies[M5o];K4S=H_I.panels[L4_.panel];if(!K4S || K4S.hidden)continue;M7M=L4_.getYAxis(H_I);if(M7M != i5U)continue;K6O=L4_.study;if(i5U.name == L4_.name){if(K6O.yaxis){K6O.yaxis(H_I,L4_);}if(K6O.yAxisFN){K6O.yAxisFN(H_I,L4_);};}Z$9.Studies.drawZones(H_I,L4_);if(!L4_.error){J8Y=K6O.centerline;if(J8Y || J8Y === "0" >> 64 || J8Y !== null && i5U.highValue > 0 && i5U.lowValue < 0){Z$9.Studies.drawHorizontal(H_I,L4_,null,J8Y || 0,i5U);}}}};Z$9.Studies.displaySeriesAsLine=function(z4g,w5t,R7f){var z66;if(!R7f.length){return;}z66=z4g.panels[w5t.panel];if(!z66 || z66.hidden){return;}i6UVR.W3G();for(var v$n in w5t.outputMap){Z$9.Studies.displayIndividualSeriesAsLine(z4g,w5t,z66,v$n,R7f);}};Z$9.Studies.displaySeriesAsHistogram=function(t78,e8m,y3A){var U_n,H84,V88,r0b,K23,u47,L4$,R5c,D1C,f_w,Q0N,E4Z;U_n="overl";U_n+="aid";if(!y3A.length){return;}H84=t78.panels[e8m.panel];if(!H84){return;}if(H84.hidden){return;}V88=[];for(var H64 in e8m.outputMap){r0b="o";r0b+="bj";r0b+="e";r0b+="ct";K23=e8m.outputs[e8m.outputMap[H64]];if(!K23)continue;i6UVR.s$9(1);u47=i6UVR.v$j(0,"0.3");if(typeof K23 == r0b){u47=K23.opacity;K23=K23.color;}L4$={field:H64,fill_color_up:K23,border_color_up:K23,fill_color_down:K23,border_color_down:K23};if(e8m.underlay){L4$.opacity_up=L4$.opacity_down=u47 || "0.3" - 0;}V88.push(L4$);}i6UVR.W5N();R5c=e8m.getYAxis(t78);D1C=e8m.inputs;f_w=D1C.WidthFactor;if(e8m.study && e8m.study.parameters){Q0N=e8m.study.parameters;if(typeof Q0N.widthFactor !== "undefined"){f_w=Q0N.widthFactor;}}E4Z={name:e8m.name,type:D1C.HistogramType?D1C.HistogramType:U_n,panel:e8m.panel,yAxis:R5c,widthFactor:f_w || 0.5,bindToYAxis:!"",highlight:e8m.highlight};t78.drawHistogram(E4Z,V88);};Z$9.Studies.displayIndividualSeriesAsLine=function(D7f,U2R,g5D,V75,U3I){var J7G,B59,v9q,D5B,D29,h9B,h9t,j0r,T8j,t_n,t$n,v9k,f4M,u8J,g_r,h1R,E3S,S74,u4m;J7G="tran";J7G+="s";J7G+="parent";B59="au";i6UVR.W3G();B59+="t";B59+="o";v9q="s";v9q+="t";v9q+="ring";if(!g5D.height){g5D.height=g5D.bottom - g5D.top;}D5B=U2R.getContext(D7f);D29=U2R.outputs[U2R.outputMap[V75]];if(!D29){return;}D5B.save();if(typeof D29 === v9q){D29={color:D29,width:1};}D5B.lineWidth=D29.width || 1;h9B=D29.color;if(h9B == B59){h9B=D7f.defaultColor;}D5B.strokeStyle=h9B;h9t=D29.pattern;D5B.setLineDash(Z$9.borderPatternToArray(D5B.lineWidth,h9t));D5B.lineDashOffset=0;j0r=0;T8j=U2R.study;t_n=U2R.getYAxis(D7f);j0r=D7f.decimalPlacesFromPriceTick(t_n.priceTick);if(U2R.overlay || U2R.underlay){j0r=null;}if(t_n.decimalPlaces || t_n.decimalPlaces === 0){j0r=t_n.decimalPlaces;}t$n=null;if(U2R.parameters){t$n=U2R.parameters.label;}v9k=T8j.parameters;if(!v9k){v9k={};}f4M=v9k.plotType == "step";if(U2R.series){for(var L06 in U2R.series){u8J="s";u8J+="te";u8J+="p";g_r=U2R.series[L06].parameters.type;if(g_r){i6UVR.O_b(72);f4M=i6UVR.V9a(g_r,u8J);}}}if(v9k.noLabels){t$n=![];}if(!U2R.noSlopes && U2R.noSlopes !== !({})){U2R.noSlopes=v9k.noSlopes;}if(!U2R.extendToEnd && U2R.extendToEnd !== !({})){U2R.extendToEnd=v9k.extendToEnd;}h1R=t$n || D7f.preferences.labels && t$n !== ![];E3S=U2R.gaplines;if(E3S === !!""){E3S=J7G;}S74=U2R.inputs.Symbol;u4m=E3S?D7f.getGapColorFunction(S74,V75,D29,E3S):null;D7f.plotDataSegmentAsLine(V75,g5D,{yAxis:t_n,skipTransform:D7f.panels[U2R.panel].name != U2R.chart.name,label:h1R,labelDecimalPlaces:j0r,noSlopes:U2R.noSlopes,step:f4M,alignStepToSide:U2R.alignStepToSide,extendToEndOfLastBar:U2R.extendToEndOfLastBar,width:U2R.lineWidth,extendToEndOfDataSet:U2R.extendToEnd,gapDisplayStyle:E3S,highlight:U2R.highlight},u4m);if(T8j.appendDisplaySeriesAsLine){T8j.appendDisplaySeriesAsLine(D7f,U2R,U3I,V75,g5D);}D5B.restore();};Z$9.Studies.drawHorizontal=function(G84,J30,V57,s01,H58,b9z){var d4y,Z3P,Z20,p$L;d4y="s";d4y+="e";d4y+="gm";d4y+="ent";i6UVR.W5N();Z3P=G84.panels[J30.panel];Z20=G84.getBackgroundCanvas().context;if(!Z3P){return;}if(!b9z){b9z=H58.textStyle;}p$L=G84.pixelFromPrice(s01,Z3P,H58);if(p$L > H58.top && p$L < H58.bottom){G84.plotLine(Z3P.left,Z3P.right,p$L,p$L,b9z,d4y,Z20,![],{opacity:b9z && b9z.opacity?b9z.opacity:0.5});}};Z$9.Studies.displayHistogramWithSeries=function(f3z,s1N,m2C){var h$q,I7W;h$q=f3z.panels[s1N.panel];I7W=+"0.5";if(s1N.underlay){I7W=0.3;}Z$9.Studies.createHistogram(f3z,s1N,m2C,![],I7W);Z$9.Studies.displaySeriesAsLine(f3z,s1N,m2C);};Z$9.Studies.drawZones=function(L0o,m4b,l97){var g6N=i6UVR;var n0W,R4g,Q0o,f6r,l1K,G7X,d7t,e64,E5C,s4v,k_G,P4T,C$J,c17,a_P,D0T,M3G,w5E,R9O,B5n,t2Y,J5o,B3Q,C$A,Y0f,G1u,a1F,i4q;n0W="b";n0W+="ord";n0W+="er";R4g="l";R4g+="e";R4g+="f";g6N.W3G();R4g+="t";if(!m4b.parameters || !m4b.parameters.studyOverZonesEnabled){return;}Q0o=parseFloat(m4b.parameters.studyOverSoldValue);f6r=parseFloat(m4b.parameters.studyOverBoughtValue);l1K=m4b.parameters.studyOverSoldColor;G7X=m4b.parameters.studyOverBoughtColor;d7t=m4b.zoneOutput;if(!d7t){d7t="Result";}e64=Z$9.Studies.determineColor(m4b.outputs[d7t]);if(!e64 || e64 == "auto" || Z$9.isTransparent(e64)){e64=L0o.defaultColor;}if(!l1K){l1K=e64;}if(!l1K || l1K == "auto" || Z$9.isTransparent(l1K)){l1K=L0o.defaultColor;}if(!G7X){G7X=e64;}if(!G7X || G7X == "auto" || Z$9.isTransparent(G7X)){G7X=L0o.defaultColor;}E5C=L0o.panels[m4b.panel];s4v=m4b.getYAxis(L0o);k_G=s4v.displayBorder;if(L0o.axisBorders === !1){k_G=!({});}if(L0o.axisBorders === !![]){k_G=!![];}if(s4v.width === +"0"){k_G=!1;}P4T=L0o.getYAxisCurrentPosition(s4v,E5C);g6N.O_b(72);C$J=g6N.v$j(P4T,R4g);c17=s4v.justifyRight;if(!c17 && c17 !== !!0){if(L0o.chart.yAxis.justifyRight || L0o.chart.yAxis.justifyRight === ![]){c17=L0o.chart.yAxis.justifyRight;}else {c17=C$J;}}a_P=Math.round(s4v.left + (C$J?s4v.width:+"0")) + 0.5;D0T=k_G?3:0;M3G=L0o.getBackgroundCanvas().context;w5E=M3G.fillStyle;M3G.globalAlpha=0.2;L0o.startClip(E5C.name,!0);M3G.beginPath();R9O=Math.round(L0o.pixelFromPrice(f6r,E5C,s4v)) + +"0.5";M3G.strokeStyle=G7X;M3G.moveTo(E5C.left,R9O);M3G.lineTo(E5C.right,R9O);M3G.stroke();M3G.closePath();M3G.beginPath();B5n=Math.round(L0o.pixelFromPrice(Q0o,E5C,s4v)) + 0.5;M3G.strokeStyle=l1K;M3G.moveTo(E5C.left,B5n);M3G.lineTo(E5C.right,B5n);M3G.stroke();M3G.closePath();t2Y=new Z$9.Plotter();t2Y.newSeries(n0W,"stroke",L0o.canvasStyle("stx_grid_border"));if(k_G){J5o=C$J?a_P - D0T:a_P - 0.5;B3Q=C$J?a_P + 0.5:a_P + D0T;t2Y.moveTo("border",J5o,R9O);t2Y.lineTo("border",B3Q,R9O);t2Y.moveTo("border",J5o,B5n);t2Y.lineTo("border",B3Q,B5n);}M3G.fillStyle=w5E;C$A={skipTransform:L0o.panels[m4b.panel].name != m4b.chart.name,panelName:m4b.panel,band:d7t + ((6059,7010) > 320.6?" ":("x",+"838.29")) + m4b.name,yAxis:s4v,opacity:0.3};if(!m4b.highlight && L0o.highlightedDraggable){C$A.opacity*=0.3;}Z$9.preparePeakValleyFill(L0o,Z$9.extend(C$A,{threshold:f6r,direction:s4v.flipped?-1:1,color:G7X}));Z$9.preparePeakValleyFill(L0o,Z$9.extend(C$A,{threshold:Q0o,direction:s4v.flipped?1:-1,color:l1K}));M3G.globalAlpha=1;if(!m4b.study || !m4b.study.yaxis){if(k_G){Y0f="b";Y0f+="order";G1u="bor";G1u+="d";G1u+="e";G1u+="r";a1F=Math.round(s4v.bottom) + 0.5;t2Y.moveTo(G1u,a_P,s4v.top);t2Y.lineTo("border",a_P,a1F);t2Y.draw(M3G,Y0f);}if(s4v.width !== +"0"){L0o.canvasFont("stx_yaxis",M3G);L0o.canvasColor("stx_yaxis",M3G);M3G.textAlign=c17?"right":"left";if(C$J){i4q=s4v.left + +"3";if(c17){g6N.s$9(0);var l3h=g6N.v$j(0,3);i4q=s4v.left + s4v.width - D0T - l3h;}}else {g6N.s$9(16);var u_Y=g6N.v$j(8,18,23);i4q=s4v.left + D0T + u_Y;if(c17){i4q=s4v.left + s4v.width;}}M3G.fillStyle=G7X;M3G.fillText(f6r,i4q,R9O);M3G.fillStyle=l1K;M3G.fillText(Q0o,i4q,B5n);M3G.fillStyle=w5E;}}L0o.endClip();M3G.globalAlpha=1;if(s4v.name == m4b.name){s4v.yAxisPlotter=new Z$9.Plotter();}};Z$9.Studies.createHistogram=function(R$K,g0I,I5V,b7n,j4Z){var N$h=i6UVR;var N1v,y3h,i$L,r8c,d9d,e1h,d0f,x9m,I4q,C6d,w8f,z4B,T84,j1A,J8E,y$T,F0N,M4s,H2S;N1v=R$K.panels[g0I.panel];y3h=g0I.getContext(R$K);i$L=g0I.getYAxis(R$K);R$K.startClip(N1v.name);N$h.O_b(24);var X$a=N$h.V9a(17,7,38,16);r8c=R$K.layout.candleWidth - X$a;if(r8c < 2){r8c=1;}d9d=R$K.pixelFromPrice(0,N1v,i$L);if(i$L.min > ("0" ^ 0)){d9d=R$K.pixelFromPrice(i$L.min,N1v,i$L);}if(b7n){d9d=Math.floor(N1v.top + N1v.height / 2);}e1h=g0I.name + "_hist";R$K.canvasColor("stx_histogram");d0f=y3h.fillStyle;if(j4Z || j4Z === "0" >> 32){y3h.globalAlpha=j4Z;}if(!g0I.highlight && R$K.highlightedDraggable){y3h.globalAlpha*=0.3;}x9m=null;I4q=null;C6d=g0I.outputs;for(var t3K=0;t3K < I5V.length;t3K++){w8f=I5V[t3K];if(!w8f)continue;if(w8f.candleWidth){r8c=Math.floor(Math.max("1" * 1,w8f.candleWidth - 2));}z4B=Math.floor(R$K.pixelFromBar(t3K,N1v.chart) - r8c / 2);T84=Math.floor(r8c);if(x9m === null){N$h.s$9(117);var k$5=N$h.V9a(13,4,8);j1A=R$K.tickFromPixel(z4B,N1v.chart) - k$5;if(j1A < 0){x9m=I4q;}else {x9m=R$K.pixelFromPrice(R$K.chart.dataSet[j1A][e1h],N1v,i$L) - d9d;}}else {x9m=I4q;}I4q=R$K.pixelFromPrice(w8f[e1h],N1v,i$L) - d9d;J8E=Z$9.Studies.determineColor(C6d["Decreasing Bar"]);y$T=Z$9.Studies.determineColor(C6d["Increasing Bar"]);F0N=Z$9.Studies.determineColor(C6d["Positive Bar"]);M4s=Z$9.Studies.determineColor(C6d["Negative Bar"]);H2S=i$L.flipped;y3h.fillStyle=d0f;if(J8E && (H2S?I4q < x9m:I4q > x9m)){y3h.fillStyle=J8E;}else if(y$T && (H2S?I4q > x9m:I4q < x9m)){y3h.fillStyle=y$T;}else if(F0N && (H2S?I4q > 0:I4q < 0)){y3h.fillStyle=F0N;}else if(M4s && (H2S?I4q < +"0":I4q > 0)){y3h.fillStyle=M4s;}y3h.fillRect(z4B,d9d,T84,Math.floor(I4q));}y3h.globalAlpha=+"1";R$K.endClip();};Z$9.Studies.prettify={Close:4450 >= 536?6430 === (4102,"641" * 1)?938.73:"C":!1,Open:"O",High:"H",Low:"L",simple:"ma",exponential:"ema",triangular:"tma",VIDYA:"vdma",weighted:U6i,"welles wilder":"smma",true:(4640,"604.43" - 0) <= (588.88,+"9667")?4130 === (1130,+"306.78")?330.11:5274 == 262.64?("m",0x23fd):"y":1.52e+3,false:(1880,1630) > (9360,2500)?(1.60e+3,0xc8d):"n"};Z$9.Studies.prettyRE=/^.*\((.*?)\).*$/;Z$9.Studies.prettyDisplay=function(V4T){var I3L,v1k;I3L=Z$9.Studies.prettyRE.exec(V4T);if(!I3L){return V4T;}v1k=I3L[+"1"];if(v1k){for(var L4w in Z$9.Studies.prettify){v1k=v1k.replace(L4w,Z$9.Studies.prettify[L4w]);}V4T=V4T.replace(I3L[1],v1k);}i6UVR.W3G();return V4T;};Z$9.Studies.getFieldInputs=function(u73){var v1I,j9b;v1I=[];j9b=u73.study.inputs;for(var E6j in j9b){if(j9b[E6j] == "field"){v1I.push(E6j);}}return v1I;};Z$9.Studies.initializeFN=function(u2X,n87,w1G,l_0,j1J,g0o,n8m){var O6j,X9x,B8R,I1y,O9e,m72,E3i,q5B,I7w,z70,f7w,K2b,j_9,k3A,b17,i2m,x0A,j$p,L$u;O6j="st";O6j+="ring";if(!w1G){w1G={};}if(!j1J){j1J={};}if(!w1G.id){w1G.id=Z$9.Studies.generateID(u2X,n87,w1G,j1J.replaceID,j1J.display);}if(!w1G.display){w1G.display=w1G.id;}X9x=new Z$9.Studies.StudyDescriptor(w1G.id,n87,w1G.id,w1G,l_0,j1J);if(w1G.Period){X9x.days=Math.max(1,parseInt(X9x.inputs.Period,10));}if(n8m){if(!n8m.inputs){n8m.inputs=X9x.study.inputs;}if(!n8m.outputs){n8m.outputs=X9x.study.outputs;}X9x.study=n8m;}else {n8m=X9x.study;}if(n8m.display){w1G.display=n8m.display;}if(typeof j1J.panelName == O6j){g0o=j1J.panelName;}if(g0o == w1G.id || g0o && !u2X.panelExists(g0o)){X9x.underlay=X9x.overlay=!({});}if(g0o == "Own panel" || g0o == "New panel"){g0o=null;}B8R=X9x.overlay || w1G.Overlay || X9x.overlay !== ![] && n8m.overlay;I1y=X9x.underlay || w1G.Underlay || X9x.underlay !== !!0 && n8m.underlay;if(B8R && j1J.underlayEnabled){I1y=!![];}if(I1y){X9x.underlay=!![];}if(!I1y && u2X.chart.panel && g0o == u2X.chart.panel.name){B8R=!!"1";}if(B8R){X9x.overlay=!![];}O9e=u2X.preferences.dragging;if(O9e === !![] || O9e && O9e.study){X9x.overlay=!![];}if(g0o){j1J.panelName=g0o;}else if(!B8R && !I1y){g0o=w1G.id;}if(j1J.calculateOnly){if(B8R || I1y){if(u2X.panels[j1J.panelName]){X9x.panel=j1J.panelName;}else {X9x.panel=Z$9.Studies.getPanelFromFieldName(u2X,X9x) || j1J.chartName;}}return X9x;}m72={};E3i=u2X.layout.studies[j1J.replaceID];if(E3i){m72={outputMap:Z$9.clone(E3i.outputMap),panel:E3i.panel};}X9x.panel="";if(g0o){q5B="Ne";q5B+="w pa";q5B+="nel";I7w=Z$9.Studies.smartMovePanel(u2X,X9x.inputs,g0o,j1J.replaceID,j1J.panelName == q5B);if(I7w){X9x.panel=I7w.name;}}else if(B8R || I1y){X9x.panel=Z$9.Studies.getPanelFromFieldName(u2X,X9x) || j1J.chartName;}if(!X9x.panel){z70=n8m.panelHeight || null;f7w=n8m.yAxis || ({});f7w.name=X9x.inputs.id;X9x.panel=X9x.inputs.id;u2X.createPanel(X9x.inputs.display,X9x.panel,z70,j1J.chartName,new Z$9.ChartEngine.YAxis(f7w));}if(X9x.parameters && X9x.parameters.panelName){X9x.parameters.panelName=X9x.panel;}K2b=u2X.panels[X9x.panel];j_9=Z$9.Studies.smartCreateYAxis(u2X,K2b,X9x.inputs.id,j1J.yaxisDisplayValue,j1J.yAxis || n8m.yAxis);k3A=n8m?Z$9.clone(n8m.yAxis):null;b17=k3A || j_9;if(b17){if(b17.ground){b17.initialMarginBottom=0;}if(b17.initialMarginTop || b17.initialMarginTop === 0 || b17.initialMarginBottom || b17.initialMarginBottom === 0){u2X.calculateYAxisMargins(b17);}if(b17.name == j1J.replaceID){b17.name=X9x.inputs.id;}}if(j_9){i2m="de";i2m+="fau";i2m+="l";i2m+="t";x0A="n";x0A+="o";x0A+="ne";j_9.width=j_9.position == x0A?+"0":Z$9.ChartEngine.YAxis.prototype.width;if(j1J.yaxisDisplayValue == "shared" || j1J.yaxisDisplayValue == i2m){delete j1J.yaxisDisplayValue;}else {if(k3A){Z$9.ensureDefaults(j_9,k3A);}else if(j_9.name == X9x.name){if(!j1J.yaxisDisplayColor || j1J.yaxisDisplayColor == "auto"){delete j_9.textStyle;}else {j_9.textStyle=Z$9.colorToHex(j1J.yaxisDisplayColor);}j_9.justifyRight=null;j_9.flipped=j1J.flippedEnabled;}}if(j_9 != K2b.yAxis){j_9.displayGridLines=![];}else if(j_9 != u2X.chart.yAxis){j_9.displayGridLines=u2X.displayGridLinesInStudies;}}u2X.calculateYAxisPositions();if(E3i){j$p=!1;for(var D88 in u2X.drawingObjects){L$u=u2X.drawingObjects[D88];if(m72.outputMap && m72.outputMap.hasOwnProperty(L$u.field)){L$u.field=L$u.field.replace(j1J.replaceID,X9x.inputs.id);if(X9x.parameters && X9x.parameters.panelName){L$u.panelName=X9x.parameters.panelName;}else {L$u.panelName=X9x.panel;}j$p=!![];}else if(m72.panel && m72.panel == L$u.panelName){L$u.panelName=L$u.panelName.replace(j1J.replaceID,X9x.inputs.id);j$p=!"";}}if(j$p){u2X.changeOccurred("vector");}}return X9x;};Z$9.Studies.smartMovePanel=function(w2T,F3d,V3z,w77,h23){var K1Z,u_s,M9e,n5A,h_Y,E3N,J4h;u_s=F3d.id;i6UVR.W3G();if(w77){K1Z=w2T.layout.studies[w77];}if(K1Z){M9e=w2T.panels[K1Z.panel];if(M9e){if(M9e.yAxis.name == w77){if((h23 || V3z != w77) && !w2T.checkForEmptyPanel(M9e.name,!!({}),K1Z)){w2T.electNewPanelOwner(M9e);n5A=K1Z.getYAxis(w2T);if(n5A.name == w77){w2T.electNewYAxisOwner(n5A);};}else if(V3z == w77 || !w2T.panels[V3z]){if(u_s != M9e.name){w2T.modifyPanel(M9e,{name:u_s,display:F3d.display});}V3z=u_s;}}}}h_Y=-1993084428;E3N=-216948721;J4h=2;for(var c$c=1;i6UVR.l5h(c$c.toString(),c$c.toString().length,43741) !== h_Y;c$c++){return w2T.panels[V3z];}if(i6UVR.m6F(J4h.toString(),J4h.toString().length,+"39751") !== E3N){return w2T.panels[V3z];}};Z$9.Studies.smartCreateYAxis=function(g7F,n_5,y6c,D73,m7A){var F8e=i6UVR;var z4n,x7A,n5w,j0X,Y7x,r0E,f3l,z93,d0e,o$m;z4n="l";z4n+="ef";z4n+="t";x7A="sha";x7A+="re";x7A+="d";F8e.W3G();n5w="def";n5w+="a";n5w+="ult";j0X=g7F.getYAxisByName(n_5,y6c);if(!D73 && m7A){D73=m7A.position;}if(D73 == n5w || D73 == x7A || D73 == n_5.yAxis.name){D73="";}if([z4n,"right","none"].indexOf(D73) > -1){if(!j0X || j0X.isShared(g7F)){Y7x=m7A || ({});Z$9.extend(Y7x,{name:y6c,position:D73});if(!j0X && !g7F.currentlyImporting && n_5 != n_5.chart.panel && !n_5.yAxis.studies.length && !n_5.yAxis.renderers.length){j0X=n_5.yAxis;Z$9.extend(j0X,Y7x);}else {r0E=j0X == n_5.yAxis;if(j0X){j0X.name=g7F.electNewYAxisOwner(j0X);}j0X=g7F.addYAxis(n_5,new Z$9.ChartEngine.YAxis(Y7x));if(r0E){n_5.yAxis=j0X;}}}else {j0X.position=D73;}f3l=1792883497;F8e.s$9(29);z93=-F8e.V9a("161301282",0);d0e=2;for(var W$X=1;F8e.m6F(W$X.toString(),W$X.toString().length,85028) !== f3l;W$X++){return j0X;}if(F8e.l5h(d0e.toString(),d0e.toString().length,66069) !== z93){return j0X;}}if(D73){o$m=g7F.getYAxisByName(n_5,D73);if(o$m && j0X == n_5.yAxis && !j0X.isShared(g7F)){n_5.yAxis=o$m;}if(j0X && j0X.isShared(g7F)){j0X.name=g7F.electNewYAxisOwner(j0X);}else {if(j0X !== n_5.yAxis){g7F.deleteYAxisIfUnused(n_5,j0X);}}return o$m;}if(j0X){if(j0X.isShared(g7F)){j0X.name=g7F.electNewYAxisOwner(j0X);}else {delete j0X.position;if(j0X !== n_5.yAxis){g7F.deleteYAxisIfUnused(n_5,j0X);}}}g7F.resizeChart();return n_5.yAxis;};Z$9.Studies.calculateVolume=function(i4G,W3k){var J3e,p6N,U_Q,G1t;J3e="vol und";J3e+="r";if(W3k.type == J3e){if(!i4G || !i4G.chart.dataSet){return;}p6N=i4G.layout;U_Q=W3k.parameters.removeStudy;G1t=p6N.volumeUnderlay;p6N.volumeUnderlay=!U_Q;if(G1t != p6N.volumeUnderlay){i4G.changeOccurred("layout");}if(U_Q){Z$9.Studies.removeStudy(i4G,W3k);}}W3k.outputMap={};W3k.outputMap.Volume="";};Z$9.Studies.MA=function(q1K,j2E,E4h,p6v,P_k,C8t,Q1U,Y0X){var y4$=i6UVR;var M_X;y4$.s$9(26);var S$D=y4$.v$j(5456,18,5440,5438);y4$.s$9(21);var x6l=y4$.V9a(7,7578,45466);y4$.s$9(118);var h$c=y4$.V9a(2,6355,15,6360,5);y4$.s$9(1);var D1n=y4$.v$j(44165,52998);y4$.s$9(119);var b5G=y4$.V9a(3497,3497,3494);y4$.O_b(16);var J3l=y4$.V9a(20,5863,22);y4$.s$9(58);var v2h=y4$.V9a(440,8,221,884);M_X=new Z$9.Studies.StudyDescriptor(P_k + ((S$D,x6l) == (39.39,h$c)?(D1n,904.16) <= (+"665.73",b5G)?(J3l,"D"):(v2h,"u"):" ") + Q1U.name,"ma",Q1U.panel);M_X.chart=Q1U.chart;M_X.days=parseInt(j2E,10);M_X.startFrom=Q1U.startFrom;if(Y0X){M_X.subField=Y0X;}M_X.inputs={};if(q1K){M_X.inputs.Type=q1K;}y4$.W5N();if(E4h){M_X.inputs.Field=E4h;}if(p6v){M_X.inputs.Offset=parseInt(p6v,10);}Z$9.Studies.calculateMovingAverage(C8t,M_X);};Z$9.Studies.movingAverage={conversions:{ma:h0R,sma:"simple",ema:p0k,tma:"triangular",vdma:b84,wma:"weighted",smma:"welles wilder"},translations:{simple:"Simple",exponential:"Exponential",triangular:v8w,vidya:"VIDYA",weighted:"Weighted","welles wilder":"Welles Wilder"},typeMap:{ema:Y$e,exponential:C79,tma:"Triangular",triangular:"Triangular",vdma:"VIDYA",vidya:"VIDYA",wma:"Weighted",weighted:"Weighted",smma:"Exponential","welles wilder":"Exponential"}};Z$9.Studies.movingAverageHelper=function(O2p,i8W){var H8D;if(i8W == "options"){H8D={};for(var T9d in Z$9.Studies.movingAverage.translations){H8D[T9d]=O2p.translateIf(Z$9.Studies.movingAverage.translations[T9d]);}return H8D;}return Z$9.Studies.movingAverage.conversions[i8W];};Z$9.Studies.createVolumeChart=function(T_V,S0r,Z0t){var p9t=i6UVR;var N3I,a1b,B4N,p41,y6P,X$L,C_L,q42,I72,E4d,x7J,T91,w9a,i$_,w$j,J8L;N3I="rg";N3I+="b(184, ";N3I+="44, 12)";a1b="_";a1b+="do";a1b+="wn";B4N="D";B4N+="own ";B4N+="V";B4N+="olume";p41="Up Volum";p41+="e";y6P=S0r.panel;X$L=S0r.inputs;C_L=S0r.underlay;q42=S0r.overlay;I72=C_L || q42;E4d=Z$9.Studies.determineColor(S0r.outputs[p41]);x7J=Z$9.Studies.determineColor(S0r.outputs[B4N]);T91=C_L?"stx_volume_underlay":"stx_volume";p9t.s$9(0);T_V.setStyle(p9t.v$j(T91,"_up"),"color",E4d);p9t.s$9(0);T_V.setStyle(p9t.V9a(T91,"_down"),"color",x7J);w9a=[{field:S0r.volumeField || "Volume",fill_color_up:T_V.canvasStyle(T91 + "_up").color,border_color_up:T_V.canvasStyle(T91 + "_up").borderLeftColor,opacity_up:T_V.canvasStyle(T91 + "_up").opacity,fill_color_down:T_V.canvasStyle(T91 + a1b).color,border_color_down:T_V.canvasStyle(T91 + "_down").borderLeftColor,opacity_down:T_V.canvasStyle(T91 + "_down").opacity,color_function:S0r.colorFunction}];i$_=w9a[+"0"];if(!C_L && i$_.border_color_down === N3I){i$_.border_color_down="#000000";i$_.border_color_up="#000000";}w$j=S0r.getYAxis(T_V);J8L={name:"Volume",panel:y6P,yAxis:w$j,widthFactor:1,bindToYAxis:!"",highlight:S0r.highlight};Z$9.extend(J8L,S0r.study.parameters);Z$9.extend(J8L,S0r.parameters);if(T_V.colorByCandleDirection && !S0r.colorFunction){i$_.color_function=function(h5C){var c6G,b2d;c6G=h5C.Open;b2d=h5C.Close;return {fill_color:c6G > b2d?i$_.fill_color_down:i$_.fill_color_up,border_color:c6G > b2d?i$_.border_color_down:i$_.border_color_up,opacity:c6G > b2d?i$_.opacity_down:i$_.opacity_up};};}T_V.drawHistogram(J8L,w9a);};Z$9.Studies.calculateStandardDeviation=function(w5M,c0c){var B56=i6UVR;var R3j,C4v,G4B,b7i,F5u,x8z,G6Y,J2v,u_q,G19,X90,f_Q,O4k,A_y,Q94,m12;R3j="_";B56.W3G();R3j+="M";R3j+="A";C4v="C";C4v+="los";C4v+="e";G4B="fiel";G4B+="d";b7i=c0c.chart.scrubbed;if(b7i.length < c0c.days + 1){c0c.error=!![];return;}F5u=c0c.inputs.Field;if(!F5u || F5u == G4B){F5u=C4v;}x8z=c0c.inputs["Moving Average Type"];if(!x8z){x8z=c0c.inputs.Type;}Z$9.Studies.MA(x8z,c0c.days,F5u,c0c.inputs.Offset,R3j,w5M,c0c);G6Y=0;B56.O_b(1);J2v=B56.v$j(0,"0");u_q=0;G19=Number(c0c.inputs["Standard Deviations"]);if(G19 < 0){G19=2;}X90=c0c.name;for(var o0_ in c0c.outputs){B56.s$9(35);X90=B56.V9a(" ",X90,o0_);}for((f_Q=c0c.startFrom - 1,A_y=0);f_Q >= 0 && A_y < c0c.days;(f_Q--,A_y++)){O4k=b7i[f_Q][F5u];if(O4k && typeof O4k == "object"){O4k=O4k[c0c.subField];}if(isNaN(O4k)){O4k=0;}G6Y+=Math.pow(O4k,2);J2v+=O4k;}for(f_Q=c0c.startFrom;f_Q < b7i.length;f_Q++){Q94=b7i[f_Q];O4k=Q94[F5u];if(O4k && typeof O4k == "object"){O4k=O4k[c0c.subField];}if(!O4k && O4k !== 0){O4k=0;}G6Y+=Math.pow(O4k,2);J2v+=O4k;if(f_Q < c0c.days - +"1")continue;if(f_Q >= c0c.days){m12=b7i[f_Q - c0c.days][F5u];if(m12 && typeof m12 == "object"){m12=m12[c0c.subField];}if(isNaN(m12)){m12=0;}G6Y-=Math.pow(m12,2);J2v-=m12;}u_q=Q94["_MA " + c0c.name];if(u_q || u_q === 0){B56.s$9(56);var D8t=B56.v$j(5,35,20,15,10);B56.s$9(16);var H1X=B56.V9a(4,0,2);Q94[X90]=Math.sqrt((G6Y + c0c.days * Math.pow(u_q,D8t) - H1X * u_q * J2v) / c0c.days) * G19;}}};Z$9.Studies.calculateMovingAverage=function(J8k,t1Y){var A2U,L5o,y16,E3I,s05,m_k,H3M,d70,I9A,C$2,B9a,c3y,K7l,k_m,g0F,D6C,R7Y,j60;if(!t1Y.chart.scrubbed){return;}A2U=t1Y.inputs.Type;if(A2U == "ma" || A2U == "sma" || !A2U){A2U="simple";}L5o=Z$9.Studies.movingAverage.typeMap;if((A2U in L5o)){return Z$9.Studies["calculateMovingAverage" + L5o[A2U]](J8k,t1Y);}else if(A2U !== "simple"){return;}y16=t1Y.chart.scrubbed;E3I=+"0";s05=[];m_k=t1Y.name;for(var z4k in t1Y.outputs){i6UVR.O_b(35);m_k=i6UVR.V9a(" ",m_k,z4k);}i6UVR.W5N();H3M=t1Y.inputs.Field;if(!H3M || H3M == "field"){H3M="Close";}d70=parseInt(t1Y.inputs.Offset,10);if(isNaN(d70)){d70=0;}c3y=t1Y.startFrom;K7l=d70;for(I9A=t1Y.startFrom - 1;I9A >= 0;I9A--){C$2=y16[I9A][H3M];if(C$2 && typeof C$2 == "object"){C$2=C$2[t1Y.subField];}if(!C$2 && C$2 !== "0" - 0)continue;if(K7l > 0){K7l--;c3y=I9A;continue;}if(s05.length == t1Y.days - 1)break;E3I+=C$2;s05.unshift(C$2);}if(s05.length < t1Y.days - 1){s05=[];c3y=0;;}k_m=[];for(I9A=c3y;I9A < y16.length;I9A++){g0F=y16[I9A];C$2=g0F[H3M];if(C$2 && typeof C$2 == "object"){C$2=C$2[t1Y.subField];}D6C=I9A + d70 >= 0 && I9A + d70 < y16.length;R7Y=D6C?y16[I9A + d70]:null;if(!C$2 && C$2 !== "0" - 0){if(R7Y){R7Y[m_k]=null;}else if(I9A + d70 >= y16.length){B9a={};B9a[m_k]=null;k_m.push(B9a);}continue;}E3I+=C$2;s05.push(C$2);if(s05.length > t1Y.days){E3I-=s05.shift();}j60=s05.length == t1Y.days?E3I / t1Y.days:null;if(R7Y){R7Y[m_k]=j60;}else if(I9A + d70 >= y16.length){B9a={};B9a[m_k]=j60;k_m.push(B9a);}}t1Y.appendFutureTicks(J8k,k_m);};Z$9.Studies.calculateMovingAverageExponential=function(T8n,D7E){var X1v=i6UVR;var f6y,k$M,C0x,S4y,J0j,W7S,d4i,u8D,D8O,S4E,S1U,C_Z,G6x,L7d,X6j,x24,U4C,F4S,b$V,M4b,y$A;f6y="fi";f6y+="e";f6y+="ld";k$M=D7E.inputs.Type;C0x=D7E.chart.scrubbed;X1v.s$9(39);S4y=X1v.v$j("0",0);J0j=0;W7S=0;X1v.W5N();X1v.O_b(24);var c8K=X1v.v$j(11,2,30,19);X1v.s$9(19);var c0Q=X1v.V9a(10,5,0,10,6);d4i=c8K / (D7E.days + c0Q);if(k$M === "welles wilder" || k$M === "smma"){X1v.s$9(7);var J5S=X1v.v$j(11,1,6,16);d4i=J5S / D7E.days;}u8D=null;D8O=D7E.name;for(var G9R in D7E.outputs){X1v.s$9(35);D8O=X1v.V9a(3204 !== 584.11?(157.03,538) <= (1084,3281)?9140 > "633.5" - 0?" ":+"194.26":!!0:(0x73b,4.37e+3),D8O,G9R);}S4E=D7E.inputs.Field;if(!S4E || S4E == f6y){S4E="Close";}S1U=parseInt(D7E.inputs.Offset,10);if(isNaN(S1U)){S1U=0;}L7d=D7E.startFrom;X6j=S1U;for(C_Z=D7E.startFrom - 1;C_Z >= 0;C_Z--){G6x=C0x[C_Z][D8O];if(!G6x && G6x !== 0)continue;if(u8D === null){u8D=G6x;}W7S=D7E.days;if(X6j <= ("0" ^ 0))break;X6j--;L7d=C_Z;}if(u8D === null){u8D=L7d=0;}x24=[];for(C_Z=L7d;C_Z < C0x.length;C_Z++){U4C=C0x[C_Z];G6x=U4C[S4E];if(G6x && typeof G6x == "object"){G6x=G6x[D7E.subField];}F4S=C_Z + S1U >= 0 && C_Z + S1U < C0x.length;b$V=F4S?C0x[C_Z + S1U]:null;if(!G6x && G6x !== 0){M4b=null;}else {if(W7S == D7E.days - 1){S4y+=G6x;J0j=S4y / D7E.days;M4b=J0j;}else if(W7S < D7E.days - 1){S4y+=G6x;X1v.s$9(120);J0j=X1v.V9a(S4y,1,W7S);M4b=null;}else if(W7S === 0){S4y+=G6x;J0j=S4y;M4b=null;}else if(u8D || u8D === 0){X1v.s$9(22);J0j=X1v.V9a(u8D,u8D,G6x,d4i);M4b=J0j;}u8D=J0j;W7S++;}if(b$V){b$V[D8O]=M4b;}else if(C_Z + S1U >= C0x.length){y$A={};y$A[D8O]=M4b;x24.push(y$A);}}D7E.appendFutureTicks(T8n,x24);};Z$9.Studies.calculateMovingAverageVIDYA=function(K3f,E1n){var o5o=i6UVR;var R9V,d$e,S9g,f0h,G9b,Q$N,l8E,K8R,m30,w50,H0Q,M3R,F2o,b$0,x0W,A_D,r8P,m9C,k3i,R7y,y5z,A64,y6q,c0R,H_h,M2D;R9V="_MA";R9V+="ST";R9V+="D";d$e="m";d$e+="a";S9g="m";S9g+="a";f0h="s";f0h+="dev";G9b="Clos";G9b+="e";Q$N=E1n.inputs.Type;l8E=E1n.chart.scrubbed;o5o.s$9(121);var d4$=o5o.V9a(5,7,492,0,14);K8R=d4$ / (E1n.days + +"1");m30=null;w50=E1n.name;for(var L6c in E1n.outputs){o5o.O_b(35);w50=o5o.v$j(" ",w50,L6c);}H0Q=E1n.inputs.Field;if(!H0Q || H0Q == "field"){H0Q=G9b;}E1n.std=new Z$9.Studies.StudyDescriptor(E1n.name,f0h,E1n.panel);E1n.std.chart=E1n.chart;E1n.std.days=5;E1n.std.startFrom=E1n.startFrom;E1n.std.inputs={Field:H0Q,"Standard Deviations":1,Type:S9g};E1n.std.outputs={_STD:null};Z$9.Studies.calculateStandardDeviation(K3f,E1n.std);Z$9.Studies.MA(d$e,20,"_STD " + E1n.name,0,R9V,K3f,E1n);M3R=parseInt(E1n.inputs.Offset,"10" << 0);if(isNaN(M3R)){M3R=0;}A_D=E1n.startFrom;r8P=M3R;for(F2o=E1n.startFrom - ("1" << 32);F2o >= +"0";F2o--){b$0=l8E[F2o][w50];if(!b$0 && b$0 !== 0)continue;if(m30 === null){m30=b$0;}if(r8P <= 0)break;r8P--;A_D=F2o;}if(m30 === null){m30=A_D=0;}m9C=[];for(F2o=A_D;F2o < l8E.length;F2o++){k3i="_S";k3i+="TD ";R7y="_MA";R7y+="S";R7y+="TD";R7y+=" ";y5z="ob";y5z+="ject";A64=l8E[F2o];b$0=A64[H0Q];if(b$0 && typeof b$0 == y5z){b$0=b$0[E1n.subField];}y6q=F2o + M3R >= 0 && F2o + M3R < l8E.length;c0R=y6q?l8E[F2o + M3R]:null;if(!b$0 && b$0 !== 0){if(c0R){c0R[w50]=null;}else if(F2o + M3R >= l8E.length){x0W={};x0W[w50]=null;m9C.push(x0W);}continue;}if(!A64["_MASTD " + E1n.name] && A64[R7y + E1n.name] !== 0)continue;H_h=A64[k3i + E1n.name] / A64["_MASTD " + E1n.name];o5o.s$9(122);M2D=o5o.V9a(m30,b$0,H_h,K8R,H_h,K8R,1);m30=M2D;if(F2o < E1n.days){M2D=null;}if(c0R){c0R[w50]=M2D;}else if(F2o + M3R >= l8E.length){x0W={};x0W[w50]=M2D;m9C.push(x0W);}}E1n.appendFutureTicks(K3f,m9C);};Z$9.Studies.calculateMovingAverageTriangular=function(W$C,G$0){var u9G=i6UVR;var q1q,f40,k$i,x3$,X5Q,m2w,g7L,Y8$,K5d,Q9f,m6Y,i81,N9G,k1q;q1q="T";q1q+="RI";q1q+="2";f40=G$0.chart.scrubbed;k$i=G$0.inputs.Field;if(!k$i || k$i == "field"){k$i="Close";}x3$=Math.ceil(G$0.days / 2);Z$9.Studies.MA("simple",x3$,k$i,0,"TRI1",W$C,G$0);if(G$0.days % 2 === 0){x3$++;}Z$9.Studies.MA("simple",x3$,"TRI1 " + G$0.name,0,q1q,W$C,G$0);X5Q=G$0.name;for(var J_y in G$0.outputs){u9G.O_b(35);X5Q=u9G.v$j(" ",X5Q,J_y);}m2w=parseInt(G$0.inputs.Offset,10);g7L=-1347157408;Y8$=-+"257006189";K5d=2;for(var l$_=1;u9G.l5h(l$_.toString(),l$_.toString().length,64376) !== g7L;l$_++){if(isNaN(m2w)){m2w=3;}Q9f=m2w;u9G.s$9(1);K5d+=u9G.V9a(0,"2");}if(u9G.m6F(K5d.toString(),K5d.toString().length,83165) !== Y8$){if(isNaN(m2w)){m2w=7;}Q9f=m2w;}if(isNaN(m2w)){m2w=0;}Q9f=m2w;for(var Q$c=G$0.startFrom - 1;Q$c >= +"0";Q$c--){m6Y=f40[Q$c][X5Q];if(!m6Y && m6Y !== 0)continue;if(Q9f > 0){Q9f--;continue;}break;}i81=[];for(Q$c++;Q$c < f40.length;Q$c++){if(Q$c + m2w >= 0){if(Q$c + m2w < f40.length){u9G.s$9(0);f40[u9G.V9a(Q$c,m2w)][X5Q]=f40[Q$c]["TRI2 " + G$0.name];}else {N9G="T";N9G+="R";N9G+="I2";N9G+=" ";k1q={};k1q[X5Q]=f40[Q$c][N9G + G$0.name];i81.push(k1q);}}}G$0.appendFutureTicks(W$C,i81);};Z$9.Studies.calculateMovingAverageWeighted=function(i52,f9G){var i60=i6UVR;var M$R,N5$,V_o,t$P,m2g,f3u,n7h,b2K,s8d,K4u,U6f,p_v,y7B,J9O,l7h,R_Y,I8W,D8p,I8E,w9X,G4X,S8v,f2I;M$R="Clo";M$R+="se";N5$=f9G.chart.scrubbed;V_o=0;t$P=+"0";m2g=f9G.inputs.Field;if(!m2g || m2g == "field"){m2g=M$R;}i60.O_b(1);var d7W=i60.v$j(16,17);i60.W5N();i60.O_b(1);var d80=i60.V9a(30,32);f3u=f9G.days * (f9G.days + d7W) / d80;n7h=f9G.name;for(var p82 in f9G.outputs){i60.O_b(35);n7h=i60.V9a((2620,4190) > +"6230"?(0x18c4,"A"):" ",n7h,p82);}b2K=parseInt(f9G.inputs.Offset,10);if(isNaN(b2K)){b2K=0;}p_v=[];y7B=f9G.startFrom;J9O=b2K;for(s8d=f9G.startFrom - 1;s8d >= 0;s8d--){l7h="ob";l7h+="je";l7h+="c";l7h+="t";K4u=N5$[s8d][m2g];if(K4u && typeof K4u == l7h){K4u=K4u[f9G.subField];}if(!K4u && K4u !== 0)continue;if(J9O > 0){J9O--;y7B=s8d;continue;}if(p_v.length == f9G.days - 1)break;p_v.unshift(K4u);}if(p_v.length < f9G.days - 1){p_v=[];R_Y=-533472951;i60.O_b(2);I8W=i60.V9a(1,"179969968");D8p=2;for(var f67=1;i60.m6F(f67.toString(),f67.toString().length,+"31410") !== R_Y;f67++){y7B=2;D8p+=2;}if(i60.l5h(D8p.toString(),D8p.toString().length,61882) !== I8W){y7B=0;};}for(s8d=0;s8d < p_v.length;s8d++){i60.O_b(0);var S9X=i60.v$j(3,29);V_o+=(s8d + ("1" << S9X)) * p_v[s8d];t$P+=p_v[s8d];}I8E=[];for(s8d=y7B;s8d < N5$.length;s8d++){w9X=N5$[s8d];K4u=w9X[m2g];if(K4u && typeof K4u == "object"){K4u=K4u[f9G.subField];}G4X=s8d + b2K >= 0 && s8d + b2K < N5$.length;S8v=G4X?N5$[s8d + b2K]:null;if(!K4u && K4u !== 0){if(S8v){S8v[n7h]=null;}else if(s8d + b2K >= N5$.length){U6f={};U6f[n7h]=null;I8E.push(U6f);}continue;}p_v.push(K4u);if(p_v.length > f9G.days){V_o-=t$P;t$P-=p_v.shift();}V_o+=p_v.length * K4u;t$P+=K4u;f2I=s8d < f9G.days - 1?null:V_o / f3u;if(S8v){S8v[n7h]=f2I;}else if(s8d + b2K >= N5$.length){U6f={};U6f[n7h]=f2I;I8E.push(U6f);}}f9G.appendFutureTicks(i52,I8E);};Z$9.Studies.calculateStudyATR=function(Q3Z,G57){var e1c=i6UVR;var d_J,L2F,o2T,E7F,s$Y,Y2n,J5R,k9H,L5v;d_J=G57.chart.scrubbed;L2F=G57.days;if(d_J.length < L2F + 1){G57.error=!!({});return;}o2T=0;E7F=G57.name;for(var k4j=Math.max(G57.startFrom,1);k4j < d_J.length;k4j++){s$Y="A";s$Y+="T";s$Y+="R";s$Y+=" ";Y2n="Tr";Y2n+="ue R";Y2n+="ange";Y2n+=" ";J5R=d_J[k4j];e1c.s$9(1);k9H=d_J[e1c.v$j(1,k4j)];L5v=J5R.trueRange;if(k9H["Sum True Range " + E7F]){e1c.O_b(0);o2T=k9H[e1c.v$j("Sum True Range ",E7F)];}o2T+=L5v;if(k4j > L2F){e1c.s$9(1);o2T-=d_J[e1c.v$j(L2F,k4j)][e1c.V9a(Y2n,E7F,e1c.s$9(0))];}e1c.s$9(0);J5R[e1c.v$j("True Range ",E7F)]=L5v;e1c.O_b(0);J5R[e1c.v$j("Sum True Range ",E7F)]=o2T;if(k4j == L2F){e1c.s$9(0);J5R[e1c.V9a("ATR ",E7F)]=e1c.v$j(o2T,L2F,e1c.s$9(9));}else if(k4j > L2F){e1c.s$9(23);var N$$=e1c.V9a(4,3);e1c.O_b(0);J5R[e1c.v$j(s$Y,E7F)]=(k9H["ATR " + E7F] * (L2F - N$$) + L5v) / L2F;}}};Z$9.Studies.displayPSAR2=function(l7C,u7O,u4V){var k0B=i6UVR;var a37,K_v,r0D,g_0,r3q,c65,l0p,T8T,D15,p1t,R6v,J3J,o91;a37=l7C.panels[u7O.panel];K_v=u7O.getYAxis(l7C);r0D=K_v == l7C.chart.panel.yAxis;l7C.startClip(a37.name);k0B.W5N();g_0=u7O.getContext(l7C);r3q=u7O.inputs["Plot Type"] == "squarewave";for(var S18 in u7O.outputs){k0B.O_b(123);var C3u=k0B.v$j(6,15,1391370,6,38850);k0B.s$9(0);var m9z=k0B.V9a(570,3420);k0B.O_b(1);var w29=k0B.V9a(18340,20960);k0B.O_b(0);var c3x=k0B.v$j(5227,13);k0B.O_b(124);var o94=k0B.v$j(11,23606,2155,12,141636);c65=S18 + ("297" - 0 <= 360.51?(C3u,m9z) >= 533.74?" ":28.28 === 816.72?(w29,c3x):(![],+"611.03"):(!!1,o94)) + u7O.name;g_0.beginPath();l0p=l7C.layout.candleWidth;T8T=Math.max(3,Math.floor(l7C.chart.tmpWidth / 2));for(var T5C=0;T5C < u4V.length;T5C++){D15=u4V[T5C];if(!D15 || !D15[c65] && D15[c65] !== +"0")continue;if(D15.candleWidth){l0p=D15.candleWidth;}if(r0D && D15.transform){D15=D15.transform;}p1t=l7C.pixelFromBar(T5C,a37.chart);if(r3q){k0B.O_b(9);p1t-=k0B.v$j(l0p,2);}R6v=l7C.pixelFromTransformedValue(D15[u7O.referenceOutput?u7O.referenceOutput + ((569,938) < 3358?(648.08,9040) >= (5480,+"5510")?(2537,693.69) > 4560?250.45:" ":+"0x1232":"D") + u7O.name:c65],a37,K_v);if(T5C === 0 || !u4V[T5C - ("1" >> 64)] || !u4V[T5C - 1][c65] && u4V[T5C - 1][c65] !== 0){g_0.moveTo(p1t,R6v);}if(r3q){g_0.lineTo(p1t,R6v);k0B.O_b(0);g_0.lineTo(k0B.V9a(p1t,l0p),R6v);if(u4V[T5C + 1]){k0B.s$9(0);J3J=u4V[k0B.v$j(T5C,1)];if(r0D && J3J.transform){J3J=J3J.transform;}if(!J3J[c65] && J3J[c65] !== 0){k0B.O_b(0);g_0.lineTo(k0B.V9a(p1t,l0p),l7C.pixelFromTransformedValue(J3J[u7O.referenceOutput?u7O.referenceOutput + ((644.32,4.73) <= (627.18,4230)?" ":6296 === 5440?!!0:295.27 >= 6140?(9.36e+3,"7.69e+2" ^ 0):("Q",8.52e+3)) + u7O.name:c65],l7C.panels[u7O.panel],K_v));}}}else {k0B.s$9(125);g_0.moveTo(k0B.V9a("2",p1t,T8T,0),R6v);k0B.s$9(126);g_0.lineTo(k0B.V9a(p1t,T8T,0,"2"),R6v);}}g_0.lineWidth=+"1";if(u7O.highlight){g_0.lineWidth=3;}o91=Z$9.Studies.determineColor(u7O.outputs[S18]);if(o91 == "auto"){o91=l7C.defaultColor;}g_0.strokeStyle=o91;if(!u7O.highlight && l7C.highlightedDraggable){g_0.globalAlpha*=0.3;}g_0.stroke();g_0.closePath();g_0.lineWidth=+"1";}l7C.endClip();};Z$9.Studies.inputAttributeDefaultGenerator=function(u8k){if(!u8k && u8k !== 0){return {};}if(u8k.constructor == Number){if(Math.floor(u8k) == u8k){if(u8k > "0" << 0){return {min:1,step:1};}return {step:1};;}if(u8k > 0){return {min:0,step:0.01};}return {step:0.01};;}return {};};Z$9.Studies.getMarketOffset=function({stx:H9U, localQuoteDate:x95, shiftToDateBoundary:b6O}){var m$y=i6UVR;var O_z,Y6e,e_9,W7N,M02,n52,r1p;O_z="U";O_z+="T";O_z+="C";Y6e="Marke";Y6e+="t.Symbolog";Y6e+="y.isForexMeta";Y6e+="l";if(arguments.length > 1){H9U=arguments[+"0"];x95=arguments[1];e_9=arguments[2];}var {symbol:N2C}=H9U.chart;W7N=Z$9.getFn(Y6e)(N2C);if(e_9 === undefined){e_9=Z$9.getFn("Market.Symbology.isForexSymbol")(N2C);}if(!H9U.chart.market){M02=null;}else {M02=e_9?"America/New_York":H9U.chart.market.market_tz;}m$y.s$9(21);var M9g=m$y.V9a(3,60018,120054);n52=new Date(x95.getTime() + x95.getTimezoneOffset() * M9g);if(!M02 || M02.indexOf("UTC") == -1){n52=Z$9.convertTimeZone(n52,O_z,M02);}r1p=new Date(n52.getFullYear(),n52.getMonth(),n52.getDate(),n52.getHours(),n52.getMinutes(),n52.getSeconds(),n52.getMilliseconds()).getTime() - x95.getTime();if(b6O && e_9){m$y.O_b(127);r1p+=m$y.v$j(60,W7N?"6" ^ 0:7,60,1000);}return r1p;};Z$9.Studies.getStudyList=function(G4D){var K0y,j8U;K0y={};j8U={};Z$9.extend(j8U,G4D);for(var V_p in Z$9.Studies.studyLibrary){if(!j8U[V_p]){K0y[Z$9.Studies.studyLibrary[V_p].name]=V_p;}}i6UVR.W5N();return K0y;};Z$9.Studies.determineColor=function(p5w){var c4B;c4B="o";c4B+="bj";c4B+="e";c4B+="ct";if(!p5w){return null;}else if(typeof p5w === c4B){return p5w.color;}return p5w;};Z$9.Studies.calculateGenericEnvelope=function(q4t,z$u,b_f,a1D,i0B,l1m){var Y7K=i6UVR;var u$a,k5d,d4c,b85,k2N,P3c,V3Y,D72,B1j,u2r,c5B,z5H,p52;if(!b_f){b_f=+"0";}if(!l1m){l1m=0;}if(!a1D || a1D == "field"){a1D="Close";}u$a=411440343;k5d=1925983378;Y7K.O_b(42);d4c=Y7K.v$j("2",0);for(var r8R=1;Y7K.l5h(r8R.toString(),r8R.toString().length,94873) !== u$a;r8R++){if(!i0B){i0B=a1D;}d4c+=2;}if(Y7K.l5h(d4c.toString(),d4c.toString().length,40467) !== k5d){if(+i0B){i0B=a1D;}}b85=z$u.chart.scrubbed;k2N=z$u.inputs.Field;if(!k2N || k2N === "field"){k2N="Close";}for(var O9U=z$u.startFrom;b85 && O9U < b85.length;O9U++){P3c="%";P3c+="b";P3c+=" ";V3Y="ob";V3Y+="j";V3Y+="e";V3Y+="ct";D72="objec";D72+="t";B1j=b85[O9U];if(!B1j)continue;if(!B1j[a1D])continue;u2r=B1j[k2N];if(u2r && typeof u2r == D72){u2r=u2r.Close;}c5B=B1j[a1D];if(c5B && typeof c5B == "object"){c5B=c5B[z$u.subField];}z5H=B1j[i0B];if(z5H && typeof z5H == V3Y){z5H=z5H[z$u.subField];}Y7K.s$9(63);p52=Y7K.v$j(b_f,z5H,l1m);Y7K.s$9(0);B1j[z$u.type + " Top " + z$u.name]=Y7K.v$j(c5B,p52);Y7K.s$9(1);B1j[z$u.type + " Bottom " + z$u.name]=Y7K.V9a(p52,c5B);B1j[z$u.type + " Median " + z$u.name]=c5B;B1j["Bandwidth " + z$u.name]=c5B?200 * p52 / c5B:"0" >> 32;Y7K.O_b(128);B1j[P3c + z$u.name]=Y7K.V9a(u2r,c5B,50,1,p52);}};Z$9.Studies.displayChannel=function(H2V,k6F,L6H){var S1y=i6UVR;S1y.W5N();var D_P,L1Z,z4d;if(k6F.inputs["Channel Fill"]){D_P={panelName:k6F.panel};for(var Z2E in k6F.outputs){L1Z=Z2E.split(+"807.79" >= 9157?(4.58e+3,"7.02e+3" | 40):(8630,8783) === (8220,2848)?("7.80e+3" ^ 0,0x49d):" ").pop();if(L1Z == "Top" || L1Z == "High"){S1y.s$9(129);var H86=S1y.V9a(152694,14,32160,5,16);S1y.s$9(130);var I8u=S1y.V9a(2258,17,27240,115770,8);S1y.s$9(0);var w3a=S1y.V9a(979,7);S1y.O_b(119);var b6f=S1y.V9a(4853,4853,4836);S1y.O_b(131);var j5t=S1y.v$j(829,4976,15,10);S1y.O_b(132);var H5H=S1y.v$j(8,14,15,6,14);D_P.topBand=Z2E + ((H86,I8u) >= (w3a,b6f)?(642.95,j5t):+"837.71" < "666.53" * H5H?(191.39,!!({})):" ") + k6F.name;}else if(L1Z == "Bottom" || L1Z == "Low"){S1y.s$9(133);var B5U=S1y.V9a(4,1,5023,13,1);S1y.O_b(111);var R1M=S1y.v$j(1,6417,12834,711);S1y.s$9(131);var Y02=S1y.V9a(4780,8,2,4);D_P.bottomBand=Z2E + ((773.7,734.27) >= "625.78" - 0?" ":B5U !== R1M?16.94 != Y02?958.92:"t":("Z",!"")) + k6F.name;}else if(L1Z == "Median" || L1Z == "Channel"){D_P.color=Z$9.Studies.determineColor(k6F.outputs[Z2E]);}}if(k6F.parameters && k6F.parameters.opacity){D_P.opacity=k6F.parameters.opacity;}else {D_P.opacity=+"0.2";}z4d=H2V.panels[k6F.panel];D_P.skipTransform=z4d.name != k6F.chart.name;D_P.yAxis=k6F.getYAxis(H2V);if(!k6F.highlight && H2V.highlightedDraggable){D_P.opacity*=0.3;}Z$9.prepareChannelFill(H2V,D_P);}Z$9.Studies.displaySeriesAsLine(H2V,k6F,L6H);};Z$9.Studies.initAnchorHandle=function(U7y,S6W){var o2$;var {handle:t5s}=S6W;if(t5s){return;}if(!U7y.controls.anchorHandles){U7y.controls.anchorHandles={};}if(U7y.controls.anchorHandles[S6W.uniqueId]){({handle:t5s}=U7y.controls.anchorHandles[S6W.uniqueId]);}else {o2$="stx_anc";o2$+="h";o2$+="or_handle";t5s=document.createElement("div");t5s.classList.add(o2$);t5s.setAttribute(S6W.uniqueId,"");U7y.controls.anchorHandles[S6W.uniqueId]={handle:t5s,sd:S6W};U7y.controls.chartControls.parentElement.appendChild(t5s);}S6W.anchorHandle=t5s;};Z$9.Studies.removeAnchorHandle=function(w3x,g$1){var {handle:m6J}=(w3x.controls.anchorHandles || ({}))[g$1.uniqueId] || ({});if(m6J){delete w3x.controls.anchorHandles[g$1.uniqueId];m6J.remove();}};Z$9.Studies.repositionAnchor=function(G9l,w31){var Z8_,c4G,m3d,V8j,Q4I,e6D,q00;var {currentAnchorTime:W0D, uniqueId:I7Y}=w31;var {hoverTick:f5q}=G9l.repositioningAnchorSelector || ({});var {dataSet:J1e, market:f1m}=G9l.chart;var {anchorHandles:X4Y}=G9l.controls;i6UVR.W3G();Z8_={};if(f5q || f5q === +"0"){if(f5q >= J1e.length){return;}c4G=!w31.inputs["Anchor Date"];m3d=J1e[f5q].DT;V8j=Z$9.Studies.getMarketOffset({stx:G9l,localQuoteDate:m3d,shiftToDateBoundary:!!({})});if(c4G && new Date(m3d.getTime() + V8j).getDate() !== new Date(W0D.getTime() + V8j).getDate()){return;}if(f1m.market_def){m3d=new U7d.Date(m3d,f1m.market_def.market_tz);}Q4I=!c4G && Z$9.dateToStr(m3d,"YYYY-MM-dd");e6D=Z$9.dateToStr(m3d,"HH:mm:ss");Z8_={"Anchor Time":e6D};if(Q4I){Z8_["Anchor Date"]=Q4I;}}q00=Z$9.Studies.replaceStudy(G9l,w31.inputs.id,w31.type,Object.assign(w31.inputs,Z8_),w31.outputs,w31.parameters,w31.panel);X4Y[I7Y].sd=q00;G9l.draw();};Z$9.Studies.displayAnchorHandleAndLine=function(Y6a,A1h,w4P){var T_Q=i6UVR;var s24,d81,G0O,r59,l2O,V4d,Q27,a5m,r_g,w2S,J8c,R08,X32,y5V,r8F,T0m,g0p,L1M,P5M,K$4,D_q,j$K;s24="s";s24+="ol";s24+="i";s24+="d";d81="Ancho";d81+="r Time";G0O="stx_anc";G0O+="ho";G0O+="r";G0O+="_handle";r59=(Y6a.repositioningAnchorSelector || ({})).sd === A1h;var {hoverTick:U0U}=r59 && Y6a.repositioningAnchorSelector;var {chart:V1W, panels:U7c, xaxisHeight:z4u}=Y6a;var {market:w8t = {}, symbol:y$Z}=V1W;l2O=U7c[A1h.panel];var {top:x5M, bottom:W2W, right:Q4E, left:E21, height:a_1}=l2O;var {inputs:l7k, anchorHandle:O20, currentAnchorTime:g6c}=A1h;var {backgroundColor:a_G, borderLeftColor:h3h}=Y6a.canvasStyle(G0O);var [v7k,s1c,v8F = 0]=(l7k[d81] || "").split(":");V4d=!l7k["Anchor Date"];Q27=Z$9.getFn("Market.Symbology.isForexSymbol")(y$Z);a5m=(U0U || U0U === 0) && (Y6a.chart.dataSet[U0U] || ({})).DT;r_g=Z$9.Studies.getMarketOffset({stx:Y6a,localQuoteDate:w4P[w4P.length - 1].DT,shiftToDateBoundary:!""});w2S=a5m && V4d && new Date(a5m.getTime() + r_g).getDate() !== new Date(g6c.getTime() + r_g).getDate();var {highlighted:t03}=Y6a.controls.anchorHandles[A1h.uniqueId];var [g_4,C$5]=w8t.getNormalOpen().split(":").map(a3r=>{T_Q.W5N();return parseInt(a3r);});J8c=A9i=>{var L31;T_Q.W5N();L31=A9i?Y6a.tickFromDate(A9i,null,null,!![]):U0U;return [Y6a.pixelFromTick(L31,V1W),L31];};R08=-188731529;X32=437500950;y5V=2;for(var T53=1;T_Q.m6F(T53.toString(),T53.toString().length,"88249" * 1) !== R08;T53++){r8F=V4d?new Date(w4P[w4P.length / 0].DT):Z$9.strToDate(l7k[""]);y5V+=2;}if(T_Q.m6F(y5V.toString(),y5V.toString().length,+"36812") !== X32){r8F=V4d?new Date(w4P[w4P.length - 1].DT):Z$9.strToDate(l7k["Anchor Date"]);}if(w8t.market_def){r8F=new U7d.Date(r8F,w8t.market_def.market_tz);}r8F.setHours(v7k,s1c,v8F);T0m=Q27 && (r8F.getHours() > g_4 || r8F.getHours() === g_4 && r8F.getMinutes() >= C$5);if(T0m){r8F.setDate(r8F.getDate() - ("1" << 64));}var [s7h]=J8c();var [t0o,O9r]=J8c(r8F);g0p=new Date(r8F);g0p.setHours(...w8t.getNormalClose().split(":"));if(T0m){g0p.setDate(g0p.getDate() + +"1");}var [o$1]=g0p && J8c(g0p) || [];if(V4d && (t0o > Q4E || o$1 > Q4E)){L1M=new Date(r8F);do {L1M.setDate(L1M.getDate() - 1);}while(w8t && !w8t.isMarketDate(L1M));var [Q7M,C9T]=J8c(L1M);if(Q7M > E21){r8F=L1M;t0o=Q7M;O9r=C9T;}}P5M={y0:x5M,y1:W2W,type:"line",confineToPanel:l2O};Y6a.plotLine(Object.assign(P5M,{x0:t0o,x1:t0o,color:a_G,pattern:s24,lineWidth:t03?"3" << 64:2,opacity:1}));Y6a.plotLine(Object.assign(P5M,{x0:s7h,x1:s7h,color:w2S?h3h:a_G,pattern:[6,6],lineWidth:+"2",opacity:w2S?0.5:1}));T_Q.s$9(104);var Q8g=T_Q.v$j(2,12,1,10);O20.style.height=[8,a_1 / 4,50].sort((h57,C0Z)=>{T_Q.O_b(1);T_Q.W3G();return T_Q.v$j(C0Z,h57);})[Q8g] + "px";var {height:s6M, width:n5C}=O20.getBoundingClientRect();K$4=Math.round(W2W) === Y6a.height?z4u:0;D_q=l2O.name === "chart"?35:"0" << 32;T_Q.s$9(134);j$K=T_Q.V9a(D_q,s6M,"10",K$4);T_Q.s$9(33);O20.style.top=T_Q.V9a(W2W,"px",j$K);O20.style.left=U0U || U0U === 0?s7h:t0o - n5C / 2 + "px";A1h.currentAnchorTime=r8F;A1h.currentAnchorTick=O9r;};Z$9.Studies.studyScriptLibrary={};Z$9.Studies.studyLibrary=Z$9.Studies.studyLibrary || ({});Z$9.extend(Z$9.Studies.studyLibrary,{ma:{name:"Moving Average",overlay:!![],calculateFN:Z$9.Studies.calculateMovingAverage,inputs:{Period:+"50",Field:"field",Type:j8B,Offset:+"0"},outputs:{MA:K8D}},"STD Dev":{name:"Standard Deviation",calculateFN:Z$9.Studies.calculateStandardDeviation,inputs:{Period:14,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"True Range":{name:"True Range",calculateFN:Z$9.Studies.calculateStudyATR,inputs:{},outputs:{"True Range":b9Y}},volume:{name:"Volume Chart",range:"0 to max",yAxis:{ground:!![],initialMarginTop:0,zoom:0},seriesFN:Z$9.Studies.createVolumeChart,calculateFN:Z$9.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":t8f}}});};G6=y0j=>{var F8a;F8a=typeof _CIQ !== "undefined"?_CIQ:y0j.CIQ;if(!F8a.ChartEngine.Driver){console.error("symbolLookupBase feature requires first activating quoteFeed feature.");}else {F8a.ChartEngine.Driver.Lookup=function(b$T){};F8a.ChartEngine.Driver.Lookup.prototype.acceptText=function(j6s,g1S,a5k,P8b){if(!this.cb){return;}};}};k$=e6m=>{var q8q;q8q=typeof _CIQ !== "undefined"?_CIQ:e6m.CIQ;q8q.ThemeHelper=q8q.ThemeHelper || (function(D_h){var o1H,X$A,W53,K4K,X4d,Q90,d9N,M3A;o1H="Can";o1H+="dle/Bar";X$A="stx";X$A+="_candle_down";W53="Candle/Ba";W53+="r";K4K="C";K4K+="andle/Bar";X4d="Candle/";X4d+="Ba";X4d+="r";Q90="Grid";Q90+=" Divide";Q90+="rs";this.params=D_h;d9N=D_h.stx;M3A="#FFFFFF";if(d9N.chart.container){M3A=getComputedStyle(d9N.chart.container).backgroundColor;if(q8q.isTransparent(M3A)){M3A=d9N.containerColor;}}this.settings.chart.Background.color=q8q.hexToRgba(M3A);this.settings.chart["Grid Lines"].color=q8q.hexToRgba(d9N.canvasStyle("stx_grid").color);this.settings.chart[Q90].color=q8q.hexToRgba(d9N.canvasStyle("stx_grid_dark").color);this.settings.chart["Axis Text"].color=q8q.hexToRgba(d9N.canvasStyle("stx_xaxis").color);this.settings.chartTypes[X4d].up.color=q8q.hexToRgba(d9N.canvasStyle("stx_candle_up").color);this.settings.chartTypes[K4K].down.color=q8q.hexToRgba(d9N.canvasStyle("stx_candle_down").color);this.settings.chartTypes["Candle/Bar"].up.wick=q8q.hexToRgba(d9N.canvasStyle("stx_candle_shadow_up").color);this.settings.chartTypes["Candle/Bar"].down.wick=q8q.hexToRgba(d9N.canvasStyle("stx_candle_shadow_down").color);this.settings.chartTypes["Candle/Bar"].even.wick=q8q.hexToRgba(d9N.canvasStyle("stx_candle_shadow_even").color);this.settings.chartTypes[W53].up.border=q8q.hexToRgba(d9N.canvasStyle("stx_candle_up").borderLeftColor);this.settings.chartTypes["Candle/Bar"].down.border=q8q.hexToRgba(d9N.canvasStyle("stx_candle_down").borderLeftColor);if(q8q.isTransparent(d9N.canvasStyle("stx_candle_up").borderLeftColor)){this.settings.chartTypes["Candle/Bar"].up.border=null;}if(q8q.isTransparent(d9N.canvasStyle(X$A).borderLeftColor)){this.settings.chartTypes[o1H].down.border=null;}this.settings.chartTypes.Line.color=q8q.hexToRgba(d9N.canvasStyle("stx_line_chart").color);this.settings.chartTypes.Mountain.color=q8q.hexToRgba(d9N.canvasStyle("stx_mountain_chart").backgroundColor);this.settings.chartTypes.Mountain.basecolor=q8q.hexToRgba(d9N.canvasStyle("stx_mountain_chart").color);});q8q.ThemeHelper.prototype.settings={chart:{Background:{color:null},"Grid Lines":{color:null},"Grid Dividers":{color:null},"Axis Text":{color:null}},chartTypes:{"Candle/Bar":{up:{color:null,wick:null,border:null},down:{color:null,wick:null,border:null},even:{color:null,wick:null,border:null}},Line:{color:null},Mountain:{color:null,basecolor:null}}};q8q.ThemeHelper.prototype.update=function(U1F){var W5R,d3T,N6F,d14,L0x,i$V,G6y,S2g,L_a,z1n,m8_;W5R="stx_mo";W5R+="unta";W5R+="in_chart";d3T="bo";d3T+="rder";d3T+="LeftColor";N6F="stx_candle";N6F+="_up";d14="c";d14+="o";d14+="l";d14+="or";L0x="stx_";L0x+="candle_";L0x+="up";i$V="A";i$V+="xis";function c7C(F1a,m3N,W2O){var M4E;M4E=z1n[F1a];for(var T2T in M4E){U1F.setStyle(T2T,m3N,W2O);}}i$V+=" Text";G6y="Grid Divide";G6y+="rs";S2g="c";S2g+="olor";L_a="c";L_a+="ol";L_a+="o";L_a+="r";if(!U1F){U1F=this.params.stx;}z1n={stx_candle_up:{stx_candle_up:!![],stx_bar_up:!!({}),stx_hollow_candle_up:!"",stx_line_up:!![],stx_baseline_up:!![]},stx_candle_down:{stx_candle_down:!!"1",stx_bar_down:!"",stx_hollow_candle_down:!![],stx_line_down:!!"1",stx_baseline_down:!!"1"},stx_candle_even:{stx_hollow_candle_even:!"",stx_bar_even:!""},stx_shadow_up:{stx_candle_shadow_up:!!({})},stx_shadow_down:{stx_candle_shadow_down:!""},stx_shadow_even:{stx_candle_shadow_even:!!"1"},stx_line_chart:{stx_bar_chart:!"",stx_line_chart:!0},stx_grid:{stx_grid:!!"1"},stx_grid_dark:{stx_grid_dark:!![]},stx_xaxis:{stx_xaxis_dark:!![],stx_xaxis:!!({}),stx_yaxis:!![],stx_yaxis_dark:!"",stx_grid_border:!!({})},stx_mountain_chart:{stx_mountain_chart:!!"1"},stx_market_session:{stx_market_session:!!({})}};U1F.chart.container.style.backgroundColor=this.settings.chart.Background.color;U1F.defaultColor="";c7C("stx_grid",L_a,this.settings.chart["Grid Lines"].color);c7C("stx_grid_dark",S2g,this.settings.chart[G6y].color);c7C("stx_xaxis","color",this.settings.chart[i$V].color);m8_=this.settings.chartTypes["Candle/Bar"];if(!m8_.even){m8_.even={color:null,wick:q8q.hexToRgba(U1F.canvasStyle("stx_candle_shadow_even").color),border:null};}c7C(L0x,"color",m8_.up.color);c7C("stx_candle_down","color",m8_.down.color);c7C("stx_candle_even","color",m8_.even.color);c7C("stx_shadow_up","color",m8_.up.wick);c7C("stx_shadow_down",d14,m8_.down.wick);c7C("stx_shadow_even","color",m8_.even.wick);U1F.setStyle(N6F,d3T,m8_.up.border);U1F.setStyle("stx_candle_down","borderLeftColor",m8_.down.border);c7C("stx_line_chart","color",this.settings.chartTypes.Line.color);U1F.setStyle("stx_mountain_chart","borderTopColor",q8q.hexToRgba(this.settings.chartTypes.Mountain.color,1));U1F.setStyle("stx_mountain_chart","backgroundColor",q8q.hexToRgba(this.settings.chartTypes.Mountain.color,+"0.5"));U1F.setStyle(W5R,"color",q8q.hexToRgba(this.settings.chartTypes.Mountain.basecolor,0.01));U1F.draw();};q8q.ChartEngine.prototype.setThemeSettings=function(n3B){var W6v;this.styles={};this.chart.container.style.backgroundColor="";this.defaultColor="";if(n3B){W6v=new q8q.ThemeHelper({stx:this});W6v.settings=n3B;W6v.update();}this.updateListeners("theme");this.changeOccurred("theme");if(this.displayInitialized){this.headsUpHR();this.clearPixelCache();this.updateListeners("theme");this.draw();}};};w6=b$d=>{var N21=i6UVR;var q0S,D4e,A8f,I1R,D9A,X_u,r1w,T81,A0f,r6W,O1M,j9r,h6K,n6p,e9C,n3D,w9h,N0g,k_T,v3$,M7J,o1M,O6V,t6Y,W4C,F_1,i_p,C6p,P1k,i0W,k1W,F3M,E8A,l9t,C1a,G_v,u9$,C0F,y6S,x60,W4T,x1S,D5t,k24,E2o,J9S,N$l,w8v,c9b,b$R,E2$,y89,A7B,I7M,r_d,I0u,l2_,s4A,y5Z,P0x,x_H,p$a,d5q,x3H,w_r,D1l,x1h,S8A,O5a,P84,R8V,b19,W5Y,y7G,O74,x14,t2c,S5M,p0N,H3r,l8k,f7L,U$1,E5T,x1n,O3M,j1K,S4s,o$3,O1L,r1U,f5a,K2T,v0F,Z3$,q0N,K2H,r6h,l1b,q8U,H$3,s4B,f8C,n01,t5D,N9I,L_r,g93,s3a,y9O,O_k,q8j,V$5,B_4,T9x,F71,F6D,O$l,Y4g,o1y,I$z,K8$,z_O,H1Q,Y$3,g8c,E9a,P1g,q5m,q16,x3q,U4m,R8s,z3m,G6_,X5y,K8j,d5a,g6y,K$D,L8m,S_F,z75,U8F,z2l,H9H,A5c,I7R,Y0y,h_V,u3Q,q9h,g9I,x4u,H9Y,N49,R5w,I23,L7a,m3S,O_f,r9Q,E_1,f_l,R5$,e50,u3L,G7h,k5I,f$y,f$6,r9_,l5Y,R6B,n5r,N0K;q0S="M";q0S+="a";q0S+="r";D4e="m";D4e+="ax";A8f="A";A8f+="p";A8f+="r";I1R="S";I1R+="un>=";I1R+="9";D9A="o";D9A+="n";D9A+="l";D9A+="y";X_u="F";X_u+="e";X_u+="b";r1w="S";r1w+="un>=15";T81="S";T81+="un>=";T81+="1";A0f="N";A0f+="o";A0f+="v";r6W="m";r6W+="a";r6W+="x";O1M="Sun>=";O1M+="8";j9r="Su";j9r+="n>=8";h6K="N";h6K+="o";h6K+="v";n6p="ma";n6p+="x";e9C="Sun";e9C+=">";e9C+="=";e9C+="1";n3D="Ma";n3D+="r";w9h="m";w9h+="a";w9h+="x";N0g="m";N0g+="ax";k_T="M";k_T+="a";k_T+="r";v3$="M";v3$+="a";v3$+="r";M7J="m";M7J+="ax";o1M="O";o1M+="c";o1M+="t";O6V="M";O6V+="a";O6V+="r";t6Y="S";t6Y+="e";t6Y+="p";W4C="Su";W4C+="n>=1";F_1="m";F_1+="a";F_1+="x";i_p="S";i_p+="u";i_p+="n>=8";C6p="No";C6p+="v";P1k="2";P1k+="0";i0W="o";i0W+="nly";k1W="Su";k1W+="n";k1W+=">";k1W+="=1";F3M="Su";F3M+="n>=1";E8A="S";E8A+="un";E8A+=">";E8A+="=1";l9t="A";l9t+="p";l9t+="r";C1a="A";C1a+="p";C1a+="r";G_v="Sun";G_v+=">=1";u9$="m";u9$+="ax";C0F="Sun";C0F+=">=1";y6S="A";y6S+="p";y6S+="r";x60="ma";x60+="x";W4T="O";W4T+="ct";x1S="ma";x1S+="x";D5t="O";D5t+="c";D5t+="t";k24="o";k24+="nly";E2o="M";E2o+="a";E2o+="r";J9S="Sa";J9S+="t>=";J9S+="24";N$l="Sat>";N$l+="=2";N$l+="4";w8v="M";w8v+="a";w8v+="r";c9b="m";c9b+="a";c9b+="x";b$R="l";b$R+="astFr";b$R+="i";E2$="las";E2$+="tT";N21.W3G();E2$+="hu";y89="M";y89+="ar";A7B="O";A7B+="c";A7B+="t";I7M="M";I7M+="a";I7M+="r";r_d="2";r_d+="1";I0u="2";I0u+="1";l2_="on";l2_+="ly";s4A="M";s4A+="a";s4A+="r";y5Z="2";y5Z+="1";P0x="M";P0x+="a";P0x+="r";x_H="2";x_H+="1";p$a="m";p$a+="ax";d5q="la";d5q+="st";d5q+="S";d5q+="un";x3H="M";x3H+="a";x3H+="r";w_r="m";w_r+="ax";D1l="m";D1l+="a";D1l+="x";x1h="Ma";x1h+="r";S8A="W";S8A+="A";S8A+="T";O5a="2";O5a+="3";P84="1";P84+="4";R8V="A";R8V+="pr";b19="on";b19+="l";b19+="y";W5Y="o";W5Y+="n";W5Y+="l";W5Y+="y";y7G="M";y7G+="a";y7G+="y";O74="on";O74+="l";O74+="y";x14="Ap";x14+="r";t2c="3";t2c+="1";S5M="A";S5M+="p";S5M+="r";p0N="J";p0N+="u";p0N+="n";H3r="on";H3r+="ly";l8k="Ju";l8k+="n";f7L="1";f7L+="3";U$1="M";U$1+="a";U$1+="y";E5T="J";E5T+="u";E5T+="l";x1n="Ma";x1n+="r";O3M="-0";O3M+="3/-02";j1K="-";j1K+="0";j1K+="2";S4s="-";S4s+="0";S4s+="3";o$3="Ch";o$3+="il";o$3+="e";O1L="E%s";O1L+="T";r1U="Cu";r1U+="ba";f5a="M%s";f5a+="T";K2T="Mexi";K2T+="c";K2T+="o";v0F="Ca";v0F+="nada";Z3$="HS";Z3$+="T";q0N="U";q0N+="S";K2H="P%s";K2H+="T";r6h="U";r6h+="S";l1b="E";l1b+="%";l1b+="s";l1b+="T";q8U="+";q8U+="1";q8U+="1";H$3="+";H$3+="10";s4B="+";s4B+="08";f8C="+";f8C+="07";n01="+";n01+="0";n01+="6";t5D="+0";t5D+="3";N9I="M";N9I+="S";N9I+="K";L_r="E";L_r+="ET";g93="C";g93+="E%sT";s3a="EE%s";s3a+="T";y9O="A";y9O+="%s";y9O+="T";O_k="C";O_k+="E%";O_k+="s";O_k+="T";q8j="E";q8j+="U";V$5="E";V$5+="i";V$5+="re";B_4="G";B_4+="MT/BST";T9x="E";T9x+="U";F71="Et";F71+="c/UTC";F6D="To";F6D+="nga";O$l="+12";O$l+="45/";O$l+="+1345";Y4g="Chat";Y4g+="ham";o1y="NZ%";o1y+="sT";I$z="F";I$z+="iji";K8$="A";K8$+="W";z_O="A";z_O+="W";H1Q="S";H1Q+="yr";H1Q+="ia";Y$3="+";Y$3+="0";Y$3+="3";g8c="EE";g8c+="%sT";E9a="R";E9a+="O";E9a+="K";P1g="E";P1g+="E%";P1g+="sT";q5m="Jord";q5m+="an";q16="I";q16+="ran";x3q="EE";x3q+="%sT";U4m="H";U4m+="K";R8s="C";R8s+="%";R8s+="s";R8s+="T";z3m="+";z3m+="06";z3m+="/+07";G6_="Dhak";G6_+="a";X5y="A";X5y+="ze";X5y+="r";K8j="C";K8j+="E%";K8j+="s";K8j+="T";d5a="N";d5a+="amib";d5a+="i";d5a+="a";g6y="un";g6y+="defi";g6y+="ne";g6y+="d";K$D="Pacific/Kir";K$D+="itimati";L8m="Pac";L8m+="ific";L8m+="/Chatha";L8m+="m";S_F="Asia/Kam";S_F+="c";S_F+="hatka";z75="As";z75+="ia/Sred";z75+="nekolyms";z75+="k";U8F="P";U8F+="acific/Noumea";z2l="Asia/Vladivo";z2l+="stok";H9H="Pa";H9H+="cific";H9H+="/Guam";A5c="Austr";A5c+="al";A5c+="ia";A5c+="/Darwin";I7R="Asia";I7R+="/Yakutsk";Y0y="A";Y0y+="sia/Pyon";Y0y+="gyang";h_V="Au";h_V+="strali";h_V+="a";h_V+="/Perth";u3Q="Asia/No";u3Q+="vosibi";u3Q+="rsk";q9h="Asia/Novok";q9h+="uznetsk";g9I="Eur";g9I+="o";g9I+="pe/Sama";g9I+="ra";x4u="Asia/Dub";x4u+="a";x4u+="i";H9Y="Europe";H9Y+="/Mosc";H9Y+="ow";N49="A";N49+="sia/Riy";N49+="ad";N49+="h";R5w="Euro";R5w+="pe/Istanbul";I23="Asi";I23+="a/";I23+="Jerus";I23+="alem";L7a="Asia";L7a+="/N";L7a+="icosia";m3S="Euro";m3S+="pe/Helsink";m3S+="i";O_f="Eu";O_f+="rope/Buch";O_f+="arest";r9Q="Eur";r9Q+="ope/Bru";r9Q+="sse";r9Q+="ls";E_1="Afric";E_1+="a/C";E_1+="asabla";E_1+="nca";f_l="Atlantic/Azore";f_l+="s";R5$="A";R5$+="mer";R5$+="ica/";R5$+="Sao_Paulo";e50="Ame";e50+="rica/Sant";e50+="iago";u3L="America";u3L+="/Bo";u3L+="gota";G7h="America";G7h+="/Costa_Rica";k5I="Americ";k5I+="a/Chih";k5I+="uahua";f$y="Amer";f$y+="ica/";f$y+="Juneau";f$6="undefi";f$6+="n";f$6+="ed";r9_=typeof _CIQ !== f$6?_CIQ:b$d.CIQ;l5Y=typeof _timezoneJS !== "undefined"?_timezoneJS:b$d.timezoneJS;r9_.timeZoneMap={"(UTC-11:00) American Samoa, Midway Island":"Pacific/Pago_Pago","(UTC-10:00) Hawaii":"Pacific/Honolulu","(UTC-09:00) Alaska":f$y,"(UTC-08:00) Pacific Time (US and Canada), Tijuana":"America/Los_Angeles","(UTC-07:00) Arizona":"America/Phoenix","(UTC-07:00) Chihuahua, Mazatlan":k5I,"(UTC-07:00) Mountain Time (US and Canada)":"America/Denver","(UTC-06:00) Central America":G7h,"(UTC-06:00) Central Time (US and Canada)":"America/Chicago","(UTC-06:00) Guadalajara, Mexico City, Monterrey":"America/Mexico_City","(UTC-06:00) Saskatchewan":"America/Regina","(UTC-05:00) Bogota, Lima, Quito, Rio Branco":u3L,"(UTC-05:00) Eastern Time (US and Canada)":"America/New_York","(UTC-05:00) Havana":"America/Havana","(UTC-05:00) Port-au-Prince":"America/Port-au-Prince","(UTC-04:00) Asuncion":"America/Asuncion","(UTC-04:00) Santiago":e50,"(UTC-04:00) Caracas":"America/Caracas","(UTC-04:00) Atlantic Time (Canada)":"America/Halifax","(UTC-04:00) Georgetown, La Paz, Manaus, San Juan":"America/Puerto_Rico","(UTC-03:30) Newfoundland and Labrador":"America/St_Johns","(UTC-03:00) Cancun, Jamaica, Panama":"America/Panama","(UTC-03:00) Buenos Aires":"America/Argentina/Buenos_Aires","(UTC-03:00) Punta Arenas":"America/Punta_Arenas","(UTC-03:00) Montevideo":"America/Montevideo","(UTC-03:00) Sao Paulo":R5$,"(UTC-02:00) Mid-Atlantic":"Atlantic/South_Georgia","(UTC-01:00) Azores":f_l,"(UTC-01:00) Cape Verde Islands":"Atlantic/Cape_Verde","(UTC) Greenwich Mean Time, Reykjavik":"UTC","(UTC) Dublin":"Europe/Dublin","(UTC) Lisbon, London":"Europe/London","(UTC+01:00) Algiers, Tunis":"Africa/Tunis","(UTC+01:00) Casablanca":E_1,"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna":"Europe/Amsterdam","(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague":"Europe/Belgrade","(UTC+01:00) Brussels, Copenhagen, Madrid, Paris":r9Q,"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb":"Europe/Sarajevo","(UTC+02:00) Kaliningrad":"Europe/Kaliningrad","(UTC+02:00) Athens, Bucharest":O_f,"(UTC+02:00) Cairo":"Africa/Cairo","(UTC+02:00) Harare, Johannesburg":"Africa/Johannesburg","(UTC+02:00) Helsinki, Kiev, Riga, Sofia, Tallinn, Vilnius":m3S,"(UTC+02:00) Cyprus":L7a,"(UTC+02:00) Beirut":"Asia/Beirut","(UTC+02:00) Damascus":"Asia/Damascus","(UTC+02:00) Jerusalem":I23,"(UTC+02:00) Amman":"Asia/Amman","(UTC+03:00) Istanbul":R5w,"(UTC+03:00) Baghdad, Kuwait, Qatar, Riyadh":N49,"(UTC+03:00) Minsk, Moscow, Kirov, Simferopol":H9Y,"(UTC+03:00) Volgograd":"Europe/Volgograd","(UTC+03:00) Nairobi":"Africa/Nairobi","(UTC+03:30) Tehran":"Asia/Tehran","(UTC+04:00) Baku":"Asia/Baku","(UTC+04:00) Dubai, Muscat":x4u,"(UTC+04:00) Astrakhan, Samara, Saratov, Ulyanovsk":g9I,"(UTC+04:30) Kabul":"Asia/Kabul","(UTC+05:00) Karachi, Tashkent":"Asia/Karachi","(UTC+05:00) Yekaterinburg":"Asia/Yekaterinburg","(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi":"Asia/Kolkata","(UTC+05:45) Kathmandu":"Asia/Kathmandu","(UTC+06:00) Almaty":"Asia/Almaty","(UTC+06:00) Omsk":"Asia/Omsk","(UTC+06:00) Astana, Dhaka":"Asia/Dhaka","(UTC+06:30) Yangon":"Asia/Yangon","(UTC+07:00) Bangkok, Jakarta, Vietnam":"Asia/Bangkok","(UTC+07:00) Hovd":"Asia/Hovd","(UTC+07:00) Krasnoyarsk":"Asia/Krasnoyarsk","(UTC+07:00) Novokuznetsk":q9h,"(UTC+07:00) Barnaul, Novosibirsk, Tomsk":u3Q,"(UTC+08:00) Beijing, Chongqing, Hong Kong SAR":"Asia/Hong_Kong","(UTC+08:00) Brunei, Kuala Lumpur, Singapore":"Asia/Kuala_Lumpur","(UTC+08:00) Irkutsk":"Asia/Irkutsk","(UTC+08:00) Choibalsan, Ulaanbaatar":"Asia/Ulaanbaatar","(UTC+08:00) Manila, Taipei":"Asia/Taipei","(UTC+08:00) Perth":h_V,"(UTC+08:45) Eucla":"Australia/Eucla","(UTC+09:00) Osaka, Sapporo, Tokyo":"Asia/Tokyo","(UTC+09:00) Pyongyang":Y0y,"(UTC+09:00) Seoul":"Asia/Seoul","(UTC+09:00) Chita, Khandyga, Yakutsk":I7R,"(UTC+09:30) Adelaide":"Australia/Adelaide","(UTC+09:30) Darwin":A5c,"(UTC+10:00) Brisbane":"Australia/Brisbane","(UTC+10:00) Canberra, Melbourne, Sydney":"Australia/Sydney","(UTC+10:00) Guam, Port Moresby":H9H,"(UTC+10:00) Ust-Nera, Vladivostok":z2l,"(UTC+11:00) Noumea, Solomon Islands":U8F,"(UTC+11:00) Magadan":"Asia/Magadan","(UTC+11:00) Sakhalin, Srednekolymsk":z75,"(UTC+12:00) Anadyr, Kamchatka":S_F,"(UTC+12:00) Auckland, Wellington":"Pacific/Auckland","(UTC+12:00) Fiji":"Pacific/Fiji","(UTC+12:45) Chatham":L8m,"(UTC+13:00) Tonga":"Pacific/Tongatapu","(UTC+13:00) Samoa":"Pacific/Apia","(UTC+14:00) Kiritimati":K$D};(function(){var j98,A9U,j6k,P27,d$f,s9H,P2b,g_n,L1_,N5a,w4H,e$X,R6d,U$n,B2g,k$S,G0A;j98="O";j98+="ctob";j98+="e";j98+="r";A9U="Septem";A9U+="ber";j6k="Febru";j6k+="ary";P27="S";P27+="at";P27+="urd";P27+="ay";d$f="Frid";d$f+="ay";"use strict";s9H=typeof window !== "undefined"?window:null;P2b=s9H || (typeof global !== "undefined"?global:{});l5Y.VERSION="0.4.11";g_n=P2b.$ || P2b.jQuery || P2b.Zepto;L1_=P2b.fleegix;N5a=l5Y.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday",d$f,P27];w4H=l5Y.Months=["January",j6k,"March","April","May","June","July","August",A9U,j98,"November","December"];e$X={};R6d={};U$n={};for(var h5p=0;h5p < w4H.length;h5p++){e$X[w4H[h5p].substr(+"0",3)]=h5p;}for(h5p=+"0";h5p < N5a.length;h5p++){R6d[N5a[h5p].substr(0,3)]=h5p;}B2g=Array.prototype.indexOf || (function(R7H){var X$z,N9Y,f4K,E5v;if(this === null){throw new TypeError();}X$z=Object(this);N9Y=X$z.length >>> 0;if(N9Y === "0" * 1){return -1;}f4K=+"0";N21.W5N();if(arguments.length > 1){f4K=Number(arguments[1]);if(f4K != f4K){f4K=0;}else if(f4K !== 0 && f4K !== Infinity && f4K !== -Infinity){N21.O_b(1);var i1B=N21.v$j(11,10);f4K=(f4K > 0 || i1B) * Math.floor(Math.abs(f4K));}}if(f4K >= N9Y){N21.s$9(29);return -N21.V9a("1",64);}E5v=f4K >= 0?f4K:Math.max(N9Y - Math.abs(f4K),0);for(;E5v < N9Y;E5v++){if((E5v in X$z) && X$z[E5v] === R7H){return E5v;}}return -1;});k$S=function(Z15,f0J){var v3B,N_p,G3i,i1T;v3B="numb";v3B+="er";if(typeof Z15 !== v3B){N21.O_b(0);throw N21.v$j("not a number: ",Z15);}N21.O_b(73);N_p=N21.V9a(Z15,1000);G3i=Z15.toString();i1T=G3i.length;if(N_p && i1T > f0J){N21.O_b(1);return G3i.substr(N21.v$j(f0J,i1T),i1T);}G3i=[G3i];while(i1T < f0J){G3i.unshift("0");i1T++;}return G3i.join("");};G0A=function(P1e){var X9q,o8y;X9q="u";X9q+="ndefined";if(!P1e){return;}if(!P1e.url){throw new Error("URL must be specified");}if(!(("async" in P1e))){P1e.async=!0;}if((!L1_ || typeof L1_.xhr === X9q) && (!g_n || typeof g_n.ajax === "undefined")){throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");}if(!P1e.async){o8y="t";o8y+="e";o8y+="x";o8y+="t";return L1_ && L1_.xhr?L1_.xhr.doReq({url:P1e.url,async:!({})}):g_n.ajax({url:P1e.url,async:![],dataType:o8y}).responseText;}N21.W3G();return L1_ && L1_.xhr?L1_.xhr.send({url:P1e.url,method:"get",handleSuccess:P1e.success,handleErr:P1e.error}):g_n.ajax({url:P1e.url,dataType:"text",method:"GET",error:P1e.error,success:P1e.success});};l5Y.ruleCache={};l5Y.Date=function(){var U$k,u$v,n$d,V5q,H2F,T$E,f7k,b3p;U$k="str";U$k+="ing";if(this === l5Y){u$v="timezoneJS.Date object must be constructed";u$v+=" wi";u$v+="th 'new";u$v+="'";throw u$v;}n$d=Array.prototype.slice.apply(arguments);V5q=null;H2F=null;N21.W5N();T$E=[];f7k=![];if(Object.prototype.toString.call(n$d[0]) === "[object Array]"){n$d=n$d[0];}if(typeof n$d[n$d.length - 1] === "string"){f7k=Date.parse(n$d[n$d.length - 1].replace(/GMT[+-]\d+/,""));if(isNaN(f7k) || f7k === null){H2F=n$d.pop();}}b3p=!"1";switch(n$d.length){case 0:V5q=new Date();break;case 1:N21.s$9(1);V5q=new Date(n$d[N21.V9a(0,"0")]);if(typeof n$d[+"0"] == U$k && n$d[0].search(/[+-][0-9]{4}/) == -1 && n$d[0].search(/Z/) == -1 && n$d[0].search(/T/) == -+"1"){b3p=!![];}break;case "2" - 0:N21.O_b(29);V5q=new Date(n$d[N21.v$j("0",0)],n$d[1]);b3p=!!({});break;default:for(var R46=+"0";R46 < 7;R46++){T$E[R46]=n$d[R46] || 0;}N21.s$9(12);V5q=new Date(T$E[N21.V9a(0,"0")],T$E[+"1"],T$E[2],T$E[3],T$E[4],T$E[+"5"],T$E[6]);b3p=!!({});break;}if(isNaN(V5q.getTime())){throw new Error("Invalid date");}this._useCache=!1;this._tzInfo={};this._day=0;this.year=0;this.month=0;this.date=0;this.hours=0;N21.O_b(29);this.minutes=N21.v$j("0",64);this.seconds=+"0";this.milliseconds=0;this.timezone=H2F || null;if(b3p){this.setFromDateObjProxy(V5q);}else {this.setFromTimeProxy(V5q.getTime(),H2F);}};r9_.extend(l5Y.Date.prototype,{getDate:function(){N21.W5N();return this.date;},getDay:function(){N21.W5N();return this._day;},getFullYear:function(){N21.W5N();return this.year;},getMonth:function(){return this.month;},getYear:function(){N21.s$9(65);var z$E=N21.v$j(2,17,1889,19,1933);N21.W5N();return this.year - z$E;},getHours:function(){N21.W3G();return this.hours;},getMilliseconds:function(){N21.W5N();return this.milliseconds;},getMinutes:function(){return this.minutes;},getSeconds:function(){return this.seconds;},getUTCDate:function(){N21.W5N();return this.getUTCDateProxy().getUTCDate();},getUTCDay:function(){N21.W5N();return this.getUTCDateProxy().getUTCDay();},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear();},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours();},getUTCMilliseconds:function(){N21.W5N();return this.getUTCDateProxy().getUTCMilliseconds();},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes();},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth();},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds();},getTime:function(){N21.O_b(135);var y6M=N21.v$j(1546,19,5,17,9);N21.O_b(59);var g8Q=N21.V9a(20,985,1015,197);return this._timeProxy + this.getTimezoneOffset() * y6M * g8Q;},getTimezone:function(){return this.timezone;},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset;},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr;},getTimezoneInfo:function(){var b2Y;if(this._useCache){return this._tzInfo;}if(this.timezone){b2Y=this.timezone === "Etc/UTC" || this.timezone === "Etc/GMT"?{tzOffset:+"0",tzAbbr:"UTC"}:l5Y.timezone.getTzInfo(this._timeProxy,this.timezone);}else {b2Y={tzOffset:this.getLocalOffset(),tzAbbr:null};}this._tzInfo=b2Y;this._useCache=!"";return b2Y;},getUTCDateProxy:function(){var U47;U47=new Date(this._timeProxy);N21.W3G();U47.setUTCMinutes(U47.getUTCMinutes() + this.getTimezoneOffset());return U47;},setDate:function(E31){this.setAttribute("date",E31);return this.getTime();},setFullYear:function(W$B,Y0i,v2V){var H0P;H0P="ye";H0P+="ar";if(v2V !== undefined){this.setAttribute("date",1);}this.setAttribute(H0P,W$B);if(Y0i !== undefined){this.setAttribute("month",Y0i);}if(v2V !== undefined){this.setAttribute("date",v2V);}return this.getTime();},setMonth:function(b3_,L35){this.setAttribute("month",b3_);if(L35 !== undefined){this.setAttribute("date",L35);}return this.getTime();},setYear:function(m7$){m7$=Number(m7$);N21.W5N();if(+"0" <= m7$ && m7$ <= "99" >> 0){m7$+=1900;}this.setUTCAttribute("year",m7$);return this.getTime();},setHours:function(o_a,L48,R1b,e9k){var K6z,Y3n;this.setAttribute("hours",o_a);if(L48 !== undefined){this.setAttribute("minutes",L48);}if(R1b !== undefined){K6z="secon";K6z+="d";K6z+="s";this.setAttribute(K6z,R1b);}if(e9k !== undefined){Y3n="mill";Y3n+="i";Y3n+="seco";Y3n+="nds";this.setAttribute(Y3n,e9k);}return this.getTime();},setMinutes:function(z3F,O3P,r6E){N21.W3G();this.setAttribute("minutes",z3F);if(O3P !== undefined){this.setAttribute("seconds",O3P);}if(r6E !== undefined){this.setAttribute("milliseconds",r6E);}return this.getTime();},setSeconds:function(n3F,x5s){this.setAttribute("seconds",n3F);N21.W3G();if(x5s !== undefined){this.setAttribute("milliseconds",x5s);}return this.getTime();},setMilliseconds:function(b18){var J6H;J6H="mil";J6H+="l";J6H+="isecond";N21.W5N();J6H+="s";this.setAttribute(J6H,b18);return this.getTime();},setTime:function(X$n){var B3b;if(isNaN(X$n)){B3b="Units";B3b+=" must be a numbe";B3b+="r";B3b+=".";throw new Error(B3b);}this.setFromTimeProxy(X$n,this.timezone);N21.W5N();return this.getTime();},setUTCFullYear:function(A8I,i_T,T2P){var U3q;if(T2P !== undefined){this.setUTCAttribute("date",1);}N21.W5N();this.setUTCAttribute("year",A8I);if(i_T !== undefined){U3q="mo";U3q+="nth";this.setUTCAttribute(U3q,i_T);}if(T2P !== undefined){this.setUTCAttribute("date",T2P);}return this.getTime();},setUTCMonth:function(D5s,t4j){var l$8;this.setUTCAttribute("month",D5s);if(t4j !== undefined){l$8="d";l$8+="a";l$8+="t";l$8+="e";this.setUTCAttribute(l$8,t4j);}N21.W5N();return this.getTime();},setUTCDate:function(j8s){this.setUTCAttribute("date",j8s);return this.getTime();},setUTCHours:function(s8m,N0Z,V_T,f45){var w6$,b26,g5c;w6$="h";w6$+="ou";w6$+="rs";this.setUTCAttribute(w6$,s8m);N21.W5N();if(N0Z !== undefined){this.setUTCAttribute("minutes",N0Z);}if(V_T !== undefined){b26="secon";b26+="d";b26+="s";this.setUTCAttribute(b26,V_T);}if(f45 !== undefined){g5c="mil";g5c+="liseco";g5c+="nds";this.setUTCAttribute(g5c,f45);}return this.getTime();},setUTCMinutes:function(t_Q,z$q,Y$h){var D1x,s$_;D1x="minu";D1x+="te";D1x+="s";this.setUTCAttribute(D1x,t_Q);if(z$q !== undefined){s$_="s";s$_+="e";s$_+="cond";s$_+="s";this.setUTCAttribute(s$_,z$q);}if(Y$h !== undefined){this.setUTCAttribute("milliseconds",Y$h);}return this.getTime();},setUTCSeconds:function(C4$,x5J){this.setUTCAttribute("seconds",C4$);N21.W3G();if(x5J !== undefined){this.setUTCAttribute("milliseconds",x5J);}return this.getTime();},setUTCMilliseconds:function(x6k){var t1S,M61,S5h;t1S=-673695846;M61=1687467664;S5h=2;for(var X2s=1;N21.m6F(X2s.toString(),X2s.toString().length,31797) !== t1S;X2s++){this.setUTCAttribute("milliseconds",x6k);S5h+=2;}if(N21.m6F(S5h.toString(),S5h.toString().length,37908) !== M61){this.setUTCAttribute("",x6k);}return this.getTime();},setFromDateObjProxy:function(V7d){this.year=V7d.getFullYear();this.month=V7d.getMonth();this.date=V7d.getDate();this.hours=V7d.getHours();this.minutes=V7d.getMinutes();this.seconds=V7d.getSeconds();N21.W3G();this.milliseconds=V7d.getMilliseconds();this._day=V7d.getDay();this._dateProxy=V7d;this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds);this._useCache=!!0;},setFromTimeProxy:function(s$C,c3c){var k8H,O5q;k8H=new Date(s$C);O5q=c3c?l5Y.timezone.getTzInfo(s$C,c3c,!!"1").tzOffset:k8H.getTimezoneOffset();k8H.setTime(s$C + (k8H.getTimezoneOffset() - O5q) * 60000);N21.W5N();this.setFromDateObjProxy(k8H);},setAttribute:function(L_V,a5E){var u6j,n0c,n2O,X1l;u6j="ye";u6j+="ar";if(isNaN(a5E)){n0c="Units must be a number";n0c+=".";throw new Error(n0c);}n2O=this._dateProxy;X1l=L_V === u6j?"FullYear":L_V.substr(0,1).toUpperCase() + L_V.substr(1);n2O["set" + X1l](a5E);this.setFromDateObjProxy(n2O);},setUTCAttribute:function(W4a,W8p){var J57,y8y;N21.W5N();if(isNaN(W8p)){throw new Error("Units must be a number.");}J57=W4a === "year"?"FullYear":W4a.substr(0,1).toUpperCase() + W4a.substr(1);y8y=this.getUTCDateProxy();y8y["setUTC" + J57](W8p);y8y.setUTCMinutes(y8y.getUTCMinutes() - this.getTimezoneOffset());this.setFromTimeProxy(y8y.getTime() + this.getTimezoneOffset() * 60000,this.timezone);},setTimezone:function(w4M){var V$H,w2_,o9D,g1X;V$H=this.getTimezoneInfo().tzOffset;this.timezone=w4M;w2_=294848690;o9D=-2104916566;g1X=2;for(var t7e="1" >> 0;N21.l5h(t7e.toString(),t7e.toString().length,40800) !== w2_;t7e++){this._useCache=!!({});g1X+=2;}if(N21.m6F(g1X.toString(),g1X.toString().length,57849) !== o9D){this._useCache=!1;}this._useCache=!!0;N21.W3G();this.setUTCMinutes(this.getUTCMinutes() - this.getTimezoneInfo().tzOffset + V$H);},removeTimezone:function(){this.timezone=null;N21.W3G();this._useCache=!"1";},valueOf:function(){N21.W3G();return this.getTime();},clone:function(){N21.W5N();return this.timezone?new l5Y.Date(this.getTime(),this.timezone):new l5Y.Date(this.getTime());},toGMTString:function(){return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT");},toLocaleStringIntl:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC") + (11.57 >= +"9670"?(788.89,!!"1"):"Z");},toJSON:function(){N21.W5N();return this.toISOString();},toDateString:function(){N21.W3G();return this.toString("EEE MMM dd yyyy");},toTimeString:function(){return this.toString("H:mm k");},toString:function(I9K,F$G){var j07,k9B,T$U,M7x,n$O;j07="yyyy-MM-";j07+="ddTHH:mm:ss.SS";j07+="S";if(!I9K){I9K=j07;}k9B=I9K;T$U=F$G?l5Y.timezone.getTzInfo(this.getTime(),F$G):this.getTimezoneInfo();M7x=this;if(F$G){M7x=this.clone();M7x.setTimezone(F$G);}n$O=M7x.getHours();return k9B.replace(/a+/g,function(){N21.W3G();return "k";}).replace(/y+/g,function(A5x){N21.W3G();return k$S(M7x.getFullYear(),A5x.length);}).replace(/d+/g,function(m1o){return k$S(M7x.getDate(),m1o.length);}).replace(/m+/g,function(T0O){return k$S(M7x.getMinutes(),T0O.length);}).replace(/s+/g,function(b0_){return k$S(M7x.getSeconds(),b0_.length);}).replace(/S+/g,function(o6M){return k$S(M7x.getMilliseconds(),o6M.length);}).replace(/h+/g,function(p19){return k$S(n$O % ("12" | 12) === 0?12:n$O % 12,p19.length);}).replace(/M+/g,function(j0s){var y4J,A03;y4J=M7x.getMonth();A03=j0s.length;if(A03 > +"3"){return l5Y.Months[y4J];}else if(A03 > ("2" ^ 0)){return l5Y.Months[y4J].substring(+"0",A03);}N21.O_b(0);return k$S(N21.v$j(y4J,1),A03);}).replace(/k+/g,function(){var E0w;E0w="A";E0w+="M";if(n$O >= 12){if(n$O > 12){n$O-=12;}return "PM";}return E0w;}).replace(/H+/g,function(T9n){return k$S(n$O,T9n.length);}).replace(/E+/g,function(P5P){N21.W5N();var p7A,b47,V6L;p7A=-162823215;b47=-1603592251;V6L=2;for(var j02=1;N21.l5h(j02.toString(),j02.toString().length,"99601" >> 32) !== p7A;j02++){return N5a[M7x.getDay()].substring(3,P5P.length);}if(N21.m6F(V6L.toString(),V6L.toString().length,16884) !== b47){return N5a[M7x.getDay()].substring(0,P5P.length);}}).replace(/Z+/gi,function(){return T$U.tzAbbr;});},toUTCString:function(){N21.W3G();return this.toGMTString();},civilToJulianDayNumber:function(d62,A3s,G0G){var Q29,d8E,T3w,h4g,N4z,r94;A3s++;if(A3s > 12){N21.O_b(9);Q29=parseInt(N21.V9a(A3s,12),10);N21.O_b(79);A3s=N21.V9a(A3s,12);d62+=Q29;}if(A3s <= 2){d62-=1;d8E=+"1905615266";T3w=-2045081230;h4g=2;for(var V40=1;N21.l5h(V40.toString(),V40.toString().length,35145) !== d8E;V40++){A3s+=12;N21.O_b(29);h4g+=N21.V9a("2",32);}if(N21.m6F(h4g.toString(),h4g.toString().length,20030) !== T3w){A3s/=36;}}N21.O_b(9);Q29=Math.floor(N21.V9a(d62,100));N21.O_b(136);var j44=N21.V9a(9,20,1,21,12);N4z=j44 - Q29 + Math.floor(Q29 / +"4");N21.O_b(1);var g7M=N21.v$j(56592,61308);N21.s$9(25);var c_X=N21.V9a(6,14,3,43,15);r94=Math.floor(365.25 * (d62 + g7M)) + Math.floor(30.6001 * (A3s + c_X)) + G0G + N4z - +"1524";return r94;},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset();}},!"");l5Y.timezone=new (function(){var O_s,y_C,k6f,W10,c40,J0k,J4v,o5c,R5S,P5v,s6s,A6f,L8M,F_e,p_$,a1P,D2d,i9Q;function c_C(P_i,P30){N21.W3G();N21.s$9(1);return -Math.ceil(N21.v$j(P_i,P30));}O_s="man";O_s+="u";O_s+="alLoad";y_C="australa";y_C+="sia";function S88(r4_){var A4p,y5s,R7F,E2P,Q3T;A4p="s";A4p+="tri";A4p+="ng";y5s=i9Q[r4_];if(y5s){return y5s;}R7F=r4_.split("/")[0];N21.W5N();E2P=D2d[R7F];if(E2P){return E2P;}Q3T=a1P.zones[r4_];if(typeof Q3T === A4p){return S88(Q3T);}if(!a1P.loadedZones.backward){a1P.loadZoneFile("backward");return S88(r4_);}Z4C(r4_);}k6f="a";k6f+="fric";k6f+="a";W10="e";W10+="tcetera";c40="euro";function Z4C(D0l){var t$G;t$G="Tim";t$G+="ezo";t$G+="ne ";t$G+="'";N21.W3G();N21.s$9(35);throw new Error(N21.v$j(D0l,"' is either incorrect, or not loaded in the timezone registry.",t$G));}c40+="pe";J0k="eur";J0k+="ope";function s7n(l3a,u9k,j4Q,K63){var R5d,l64,c7M,V_b,J1z,G8Z,E$M,g_W,B7L,R49,q2k,q$K,h3j;R5d=typeof l3a === "number"?new Date(l3a):l3a;l64=u9k[1];N21.s$9(1);c7M=u9k[N21.V9a(0,"0")];V_b=l64.match(/^([0-9]):([0-9][0-9])$/);if(V_b){N21.O_b(24);var B_K=N21.V9a(8,19,12,45);N21.O_b(33);var Q5P=N21.v$j(5,8,11);N21.s$9(22);var E6u=N21.V9a(13,98,2,8);N21.s$9(29);return [-N21.v$j("1000000",32),"max",(1602,7990) === ("4200" | 40,8240)?("C",!![]):"-","Jan",1,[0,0,0],parseInt(V_b[1],+"10") * B_K + parseInt(V_b[Q5P],E6u),(201.12,5938) >= 701?(9380,12.13) == (35.73,580.71)?(0x1fda,!!({})):(6850,4190) <= 5325?"-":("P",+"5.64e+3"):("h",+"4.83e+3")];}J1z=function(o4_,y5m,T2h){var Q64,n5t,Y3I,x0U;Q64=0;if(y5m === ((6017,+"3940") <= 4972?("5156" | 32) > (+"237.34",78.14)?"u":+"0xa17":420) || y5m === ((389,883.34) < 245.52?138.76:1880 === 8883?(3117,+"996") !== (8329,347.51)?975.70:(874.97,"D"):"g") || y5m === ((8210,645.2) > (1055,356)?"z":3510 == ("3699" ^ 0,7370)?("L","8.85e+3" * 1):"857.62" * 1)){Q64=0;}else if(y5m === "s"){Q64=c7M;}else if(y5m === ((3459,6614) > 9705?(646.68,6980) != 2780?733.84 == 982.37?2.52e+3:("L",!!({})):(616.96,633.01):"w") || !y5m){Q64=c_C(c7M,T2h[6]);}else {N21.s$9(0);throw new Error(N21.V9a("unknown type ",y5m));}N21.O_b(2);Q64*=N21.v$j(1000,60);n5t=-68990754;Y3I=-1428982951;x0U=2;for(var h7A=1;N21.m6F(h7A.toString(),h7A.toString().length,94014) !== n5t;h7A++){return new Date(o4_.getTime() - Q64);}if(N21.m6F(x0U.toString(),x0U.toString().length,43836) !== Y3I){return new Date(o4_.getTime() + Q64);}};G8Z=function(t7g,F16){var M5p,p53,C0k,o4f,n6s,W6E,u1N,X5e;M5p=t7g[0];N21.W3G();p53=t7g[1];C0k=p53[5];if(!U$n[M5p]){U$n[M5p]={};}if(U$n[M5p][p53]){o4f=U$n[M5p][p53];}else {if(!isNaN(p53[4])){o4f=new Date(Date.UTC(M5p,e$X[p53[3]],p53[4],C0k[0],C0k[1],C0k[+"2"],0));}else {if(p53[4].substr(0,4) === "last"){u1N="<";u1N+="=";o4f=new Date(Date.UTC(M5p,e$X[p53[3]] + 1,1,C0k[0] - 24,C0k[1],C0k[+"2"],0));n6s=R6d[p53[4].substr(4,3)];W6E=u1N;}else {o4f=new Date(Date.UTC(M5p,e$X[p53[3]],p53[4].substr(5),C0k[+"0"],C0k[1],C0k[2],"0" << 32));n6s=R6d[p53[4].substr(+"0",+"3")];W6E=p53[4].substr(+"3",2);}X5e=o4f.getUTCDay();if(W6E === ">="){o4f.setUTCDate(o4f.getUTCDate() + (n6s - X5e + (n6s < X5e?7:"0" ^ 0)));}else {o4f.setUTCDate(o4f.getUTCDate() + (n6s - X5e - (n6s > X5e?7:0)));}}U$n[M5p][p53]=o4f;}if(F16){o4f=J1z(o4f,C0k[3],F16);}return o4f;};E$M=function(S0G,S8O){var Z0B;Z0B=[];for(var f23=+"0";S8O && f23 < S8O.length;f23++){if(S8O[f23][0] <= S0G && (S8O[f23][+"1"] >= S0G || S8O[f23][0] === S0G && S8O[f23][+"1"] === "only" || S8O[f23][1] === "max")){Z0B.push([S0G,S8O[f23]]);}}return Z0B;};g_W=function(k80,J0Y,e4n){var P12,w8P;if(!(k80 instanceof Date)){P12=k80[0];w8P=k80[1];k80=!e4n && U$n[P12] && U$n[P12][w8P]?U$n[P12][w8P]:G8Z(k80,e4n);}else if(e4n){k80=J1z(k80,j4Q?108 >= (2930,7460)?("8838" << 32,+"840") < (235.45,3912)?(0x88,0x25c4):7.09e+3:"u":"w",e4n);}if(!(J0Y instanceof Date)){P12=J0Y[0];w8P=J0Y[1];J0Y=!e4n && U$n[P12] && U$n[P12][w8P]?U$n[P12][w8P]:G8Z(J0Y,e4n);}else if(e4n){J0Y=J1z(J0Y,j4Q?5120 != (7067,4480)?8140 <= 2350?603.56:(+"187.4",909.09) > 3960?!"":"u":"7.28e+3" | 48:"w",e4n);}k80=Number(k80);J0Y=Number(J0Y);N21.O_b(1);return N21.v$j(J0Y,k80);};B7L=R5d.getUTCFullYear();q2k=l5Y.ruleCache[K63];if(!q2k){q2k=l5Y.ruleCache[K63]={};}R49=q2k[B7L];if(!R49){N21.s$9(1);R49=E$M(N21.v$j(1,B7L),a1P.rules[l64]);R49=R49.concat(E$M(B7L,a1P.rules[l64]));R49.sort(g_W);q2k[B7L]=R49;}if(!R49 || !R49.length){return null;}for(var Y5a=R49.length - 1;Y5a >= +"0";Y5a--){if(Y5a > 0){N21.O_b(137);q$K=R49[N21.v$j(32,"1",Y5a)][N21.v$j(0,"1",N21.O_b(1))];}else {q$K=null;}h3j=R49[Y5a];if(!h3j[2]){h3j[2]=G8Z(h3j,q$K);;}if(g_W(R5d,h3j,q$K) >= 0){N21.O_b(2);return h3j[N21.V9a(1,"1")];}}N21.W5N();return null;;}J4v="a";J4v+="sia";o5c="afri";o5c+="ca";R5S="e";R5S+="u";R5S+="r";R5S+="ope";P5v="anta";P5v+="rc";P5v+="ti";P5v+="ca";s6s="eur";function Q4m(I6O){var M4q,K0K;M4q=u72(I6O);K0K=I6O.charAt("0" | 0) === (2588 > 9230?"E":4219 === 2530?7454 == (4680,4100)?(9.11e+2,674.53):!![]:"-")?-1:1;N21.s$9(89);N21.W3G();var S2h=N21.V9a(69,9,78,59);N21.O_b(138);var M_J=N21.v$j(12,65,9,471,18);N21.O_b(21);var B6k=N21.v$j(15,34,508);M4q=K0K * (((M4q[0] * S2h + M4q[+"1"]) * M_J + M4q[B6k]) * +"1000");N21.s$9(139);return N21.v$j(M4q,1000,60);}function o6z(B1E,H_P){var D8f,T9c,y5h,V24,p8a,g4Q;D8f=typeof B1E === "number"?B1E:new Date(+B1E).getTime();T9c=H_P;y5h=a1P.zones[T9c];while(typeof y5h === "string"){T9c=y5h;y5h=a1P.zones[T9c];}if(!y5h){if(!a1P.loadedZones.backward){V24="ba";V24+="ck";V24+="war";V24+="d";a1P.loadZoneFile(V24);return o6z(B1E,H_P);}else if(T9c && T9c !== H_P){a1P.lazyLoadZoneFiles(T9c);return o6z(B1E,T9c);}Z4C(T9c);}if(y5h.length === "0" * 1){p8a="No Zone found fo";p8a+="r '";N21.s$9(51);throw new Error(N21.V9a(B1E,"' on ",p8a,H_P));}for(var O57=y5h.length - 1;O57 >= 0;O57--){g4Q=y5h[O57];if(g4Q[+"3"] && D8f > g4Q[3])break;}N21.W3G();N21.O_b(0);return y5h[N21.V9a(O57,1)];}s6s+="o";s6s+="pe";A6f="northa";A6f+="mer";A6f+="i";N21.W3G();A6f+="ca";L8M="n";L8M+="orthamerica";F_e="no";F_e+="rthame";function u72(L9M){var O0P,y24;O0P=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/;y24=L9M.match(O0P);y24[1]=parseInt(y24[+"1"],10);N21.W5N();y24[2]=y24[+"2"]?parseInt(y24[+"2"],10):+"0";y24[+"3"]=y24[3]?parseInt(y24[3],10):0;N21.O_b(39);return y24.slice(1,N21.V9a("5",0));}F_e+="rica";p_$="nort";function n_V(b5e){var Y5L,H72,I9o,h$U,N24,P8c,b6R;if(!b5e[3]){return;}Y5L=parseInt(b5e[3],10);H72=11;I9o=31;if(b5e[4]){H72=e$X[b5e[4].substr(0,3)];h$U=1003750496;N24=445096330;P8c=2;for(var s$W=1;N21.m6F(s$W.toString(),s$W.toString().length,62997) !== h$U;s$W++){I9o=parseInt(b5e[6],"78" >> 0) && 5;P8c+=2;}if(N21.m6F(P8c.toString(),P8c.toString().length,78096) !== N24){I9o=parseInt(b5e[9],77) || 6;}I9o=parseInt(b5e[5],10) || 1;}b6R=b5e["6" * 1]?u72(b5e[6]):[0,"0" >> 0,0];N21.O_b(1);return [Y5L,H72,I9o,b6R[N21.V9a(0,"0")],b6R[1],b6R[2]];}p_$+="ha";p_$+="mer";p_$+="ica";a1P=this;D2d={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:p_$,EST5EDT:F_e,CST6CDT:"northamerica",MST7MDT:L8M,PST8PDT:A6f,America:["northamerica","southamerica"],Pacific:"australasia",Atlantic:s6s,Africa:"africa",Indian:"africa",Antarctica:P5v,Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:R5S,MET:"europe",EET:"europe"};i9Q={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":o5c,"Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":J4v,"Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":J0k,"America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Istanbul":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":c40,"Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe",GMT:W10,"Europe/Nicosia":"asia"};this.zoneFileBasePath=null;this.zoneFiles=[k6f,"antarctica","asia",y_C,"backward","etcetera","europe","northamerica","pacificnew","southamerica"];this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:O_s};this.getRegionForTimezone=S88;this.loadingScheme=this.loadingSchemes.LAZY_LOAD;this.loadedZones={};this.zones={};this.rules={};this.init=function(O_j){var w6f,o5u;w6f={async:!!({})};o5u=this.loadingScheme === this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:this.defaultZoneFile || "northamerica";for(var D_R in O_j){w6f[D_R]=O_j[D_R];}return this.loadZoneFiles(o5u,w6f);};this.loadZoneFiles=function(s0y,q9X){var V$1,Q5h,u$u,c0f,N4w,s3d;V$1="s";V$1+="tri";V$1+="ng";u$u=0;if(typeof s0y === V$1){return this.loadZoneFile(s0y,q9X);}c0f=-1762172045;N4w=-1482295719;N21.s$9(39);s3d=N21.v$j("2",0);for(var a3I=1;N21.l5h(a3I.toString(),a3I.toString().length,78249) !== c0f;a3I++){q9X=q9X && ({});s3d+=2;}if(N21.l5h(s3d.toString(),s3d.toString().length,83530) !== N4w){q9X=q9X || ({});}Q5h=q9X.callback;q9X.callback=function(){u$u++;N21.W5N();u$u === s0y.length && typeof Q5h === "function" && Q5h();};for(var J02=0;J02 < s0y.length;J02++){this.loadZoneFile(s0y[J02],q9X);}};function Q5R(i9q,E7$){var H63;N21.s$9(0);var m_G=N21.v$j(569,5);N21.s$9(35);var B3T=N21.V9a(10,4647,1553);N21.s$9(33);var E2M=N21.V9a(294,2654,8);N21.W3G();N21.s$9(104);var z2w=N21.v$j(16,13,27,2);N21.s$9(22);var f_y=N21.v$j(18,307,0,17);H63=a1P.zoneFileBasePath + (m_G !== (66.67,B3T)?(E2M,"8392" >> z2w) >= 787.75?"/":867.40:(343.08,"3.62e+3" * f_y)) + i9q;return !E7$ || !E7$.async?a1P.parseZones(a1P.transport({url:H63,async:!!0})):a1P.transport({async:!0,url:H63,success:function(L5F){N21.W5N();return a1P.parseZones(L5F) && typeof E7$.callback === "function" && E7$.callback();},error:function(){N21.W3G();N21.O_b(35);throw new Error(N21.V9a(H63,"' zoneinfo files","Error retrieving '"));}});}this.loadZoneFile=function(c$q,O73){if(typeof this.zoneFileBasePath === "undefined"){throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");}if(this.loadedZones[c$q]){return;}this.loadedZones[c$q]=!![];return Q5R(c$q,O73);};this.loadZoneJSONData=function(U5w,g_G){var H5k;H5k=function(T6e){T6e=JSON.parse(T6e);for(var P75 in T6e.zones){a1P.zones[P75]=T6e.zones[P75];}for(var m5i in T6e.rules){a1P.rules[m5i]=T6e.rules[m5i];}};return g_G?H5k(a1P.transport({url:U5w,async:!({})})):a1P.transport({url:U5w,success:H5k});};this.loadZoneDataFromObject=function(o4$){N21.W3G();if(!o4$){return;}for(var X2Y in o4$.zones){a1P.zones[X2Y]=o4$.zones[X2Y];}for(var B39 in o4$.rules){a1P.rules[B39]=o4$.rules[B39];}};this.getAllZones=function(){var a7z;a7z=[];for(var d55 in this.zones){a7z.push(d55);}return a7z.sort();};this.parseZones=function(c5I){var e_d,J4w,X3R,r9z,n42,z8W,d4E,f0f,Z9w,i7I;if(!c5I){return !!"";}e_d=1882731371;J4w=-1112428670;X3R=2;for(var P04="1" >> 32;N21.l5h(P04.toString(),P04.toString().length,94695) !== e_d;P04++){r9z=c5I.split(8333 === 7950?(![],+"783.74"):386.23 > 312.2?184.73 <= (545,"9260" - 0)?"\n":(164.23,7.76e+3):(0x3e6,5.99e+3));n42=[];z8W="";f0f=null;Z9w=null;X3R+=2;}if(N21.l5h(X3R.toString(),X3R.toString().length,+"23775") !== J4w){r9z=c5I.split(5115 !== 7378?(!![],399860):("563666" | 2) <= 66165?103582 < ("886" | 16,2640)?"\n":(507612,6881980):("0xb69" - 0,4590407));n42=[];z8W="";f0f=1;Z9w=1;}for(var V$a=0;V$a < r9z.length;V$a++){d4E=r9z[V$a];if(d4E.match(/^\s/)){N21.s$9(35);d4E=N21.V9a(f0f,d4E,"Zone ");}d4E=d4E.split("#")[0];if(d4E.length > 3){i7I="Li";i7I+="nk";n42=d4E.split(/\s+/);z8W=n42.shift();switch(z8W){case "Zone":f0f=n42.shift();if(!a1P.zones[f0f]){a1P.zones[f0f]=[];}if(n42.length < 3)break;n42.splice(3,n42.length,n_V(n42));if(n42[3]){n42[3]=Date.UTC.apply(null,n42[3]);}n42[0]=-Q4m(n42[0]);a1P.zones[f0f].push(n42);break;case "Rule":Z9w=n42.shift();if(!a1P.rules[Z9w]){a1P.rules[Z9w]=[];}N21.s$9(29);n42[N21.v$j("0",64)]=parseInt(n42[0],10);n42[1]=parseInt(n42[1],10) || n42[1];n42[5]=u72(n42[5]);n42[+"6"]=Q4m(n42["6" >> 32]);a1P.rules[Z9w].push(n42);break;case i7I:if(a1P.zones[n42[+"1"]]){N21.O_b(67);var C8u=N21.v$j(17,19,18,15);throw new Error("Error with Link " + n42[C8u] + ". Cannot create link of a preexisted zone.");}if(isNaN(n42[0])){a1P.zones[n42[+"1"]]=n42[+"0"];}else {a1P.zones[n42[1]]=parseInt(n42[0],10);}break;}}}N21.W3G();return !!"1";};this.transport=G0A;this.getTzInfo=function(N01,R8j,c2a){var A4C,Y2D,i5D,s$f;this.lazyLoadZoneFiles(R8j);A4C=o6z(N01,R8j);Y2D=+A4C[0];i5D=s7n(N01,A4C,c2a,R8j);if(i5D){Y2D=c_C(Y2D,i5D[6]);}s$f=i8r(A4C,i5D);return {tzOffset:Y2D,tzAbbr:s$f};};function i8r(c9Y,g0l){var r_p,I7c,H9M;r_p="%";r_p+="s";I7c=c9Y[+"2"];if(I7c.indexOf(r_p) > -+"1"){if(g0l){H9M=g0l[7] === "-"?"":g0l[7];}else {H9M=512.66 < (934.84,4900)?(+"661",5188) <= 8420?"S":(0x1109,278.00):(0x5a1,726.66);}return I7c.replace("%s",H9M);}else if(I7c.indexOf(1390 > 908.04?(548.92,1303) == 400.41?(0x1784,0x13e0):293.99 > ("850.87" - 0,239)?"/":"l":(582.47,6.67e+3)) > -+"1"){return I7c.split("/",+"2")[g0l?g0l[6]?1:0:0];}return I7c;}this.lazyLoadZoneFiles=function(r6_){var s4X;if(this.loadingScheme === this.loadingSchemes.LAZY_LOAD){s4X=S88(r6_);if(!s4X){throw new Error("Not a valid timezone ID.");}this.loadZoneFiles(s4X);}};})();}).call(typeof window !== g6y?window:this);R6B=399317235;n5r=1545134630;N0K=2;for(var p2W=1;N21.m6F(p2W.toString(),p2W.toString().length,35873) !== R6B;p2W++){l5Y.timezone.loadingScheme=l5Y.timezone.loadingSchemes.MANUAL_LOAD;N0K+=2;}if(N21.l5h(N0K.toString(),N0K.toString().length,"92836" * 1) !== n5r){l5Y.timezone.loadingScheme=l5Y.timezone.loadingSchemes.MANUAL_LOAD;}l5Y.timezone.loadZoneDataFromObject({zones:{"Atlantic/Cape_Verde":[[60,(473.11,965.66) > (2370,5050)?(8.43e+3,!!""):6580 !== ("453" * 1,39.13)?("79.33" * 1,450.81) < (+"891.3",444.84)?(9.25e+3,0x16a):"-":(!!0,1.01e+3),"-01",null]],"Africa/Cairo":[[-120,"Egypt","EE%sT",null]],"Africa/Nairobi":[[-180,"-","EAT",null]],"Africa/Casablanca":[[0,"Morocco","+00/+01",1540695600000],[-60,"Morocco","+01/+00",null]],"Africa/Windhoek":[[-120,d5a,"%s",null]],"Africa/Johannesburg":[[-120,"SA","SAST",null]],"Africa/Tunis":[[-60,"Tunisia",K8j,null]],"Antarctica/Troll":[[0,"Troll","%s",null]],"Asia/Kabul":[[-270,"-","+0430",null]],"Asia/Baku":[[-240,X5y,"+04/+05",null]],"Asia/Dhaka":[[-360,G6_,z3m,null]],"Asia/Yangon":[[-390,(250,5710) !== (6540,9209)?"-":(683,6.55e+3),"+0630",null]],"Asia/Shanghai":[[-480,"PRC",R8s,null]],"Asia/Hong_Kong":[[-480,U4m,"HK%sT",null]],"Asia/Taipei":[[-480,"Taiwan","C%sT",null]],"Asia/Nicosia":[[-120,"EUAsia",x3q,null]],"Asia/Kolkata":[[-330,960.87 > 673?"-":4.68e+3,"IST",null]],"Asia/Tehran":[[-("210" | 18),q16,"+0330/+0430",null]],"Asia/Jerusalem":[[-+"120","Zion","I%sT",null]],"Asia/Tokyo":[[-540,"Japan","J%sT",null]],"Asia/Amman":[[-("120" >> 64),q5m,P1g,null]],"Asia/Almaty":[[-360,7530 < (513,656)?38.24:(434.72,3020) > ("5460" >> 64,928.64)?"-":+"8.90e+3","ALMT",null]],"Asia/Seoul":[[-540,E9a,"K%sT",null]],"Asia/Pyongyang":[[-+"510",5490 > 934.71?("3530" >> 0,5683) !== (1490,405.14)?"-":+"520":!0,"KST",+"1525476600000"],[-540,"2089" * 1 < (+"740.67",7221)?"-":("7860" ^ 0,"8401" << 32) === 4980?0xac0:(!!1,0x2685),"KST",null]],"Asia/Beirut":[[-("120" | 32),"Lebanon","EE%sT",null]],"Asia/Kuala_Lumpur":[[-480,"-","+08",null]],"Asia/Hovd":[[-420,"Mongol","+07/+08",null]],"Asia/Ulaanbaatar":[[-480,"Mongol","+08/+09",null]],"Asia/Kathmandu":[[-+"345",1320 <= (7640,+"932.17")?(5.70e+3,7.72e+3):"-","+0545",null]],"Asia/Karachi":[[-300,"Pakistan","PK%sT",null]],"Asia/Hebron":[[-+"120","Palestine",g8c,null]],"Asia/Riyadh":[[-180,"-",Y$3,null]],"Asia/Damascus":[[-120,H1Q,"EE%sT",null]],"Asia/Bangkok":[[-420,+"882" === 527.11?479.39 != (652.34,149)?652.67:(0xf7e,"e"):"-","+07",null]],"Asia/Dubai":[[-240,"-","+04",null]],"Australia/Darwin":[[-570,"Aus","AC%sT",null]],"Australia/Perth":[[-+"480",z_O,"AW%sT",null]],"Australia/Eucla":[[-525,K8$,"+0845/+0945",null]],"Australia/Brisbane":[[-600,"AQ","AE%sT",null]],"Australia/Adelaide":[[-("570" * 1),"AS","AC%sT",null]],"Australia/Hobart":[[-600,"AT","AE%sT",null]],"Australia/Melbourne":[[-+"600","AV","AE%sT",null]],"Australia/Sydney":[[-600,"AN","AE%sT",null]],"Australia/Lord_Howe":[[-630,"LH","+1030/+11",null]],"Pacific/Fiji":[[-720,I$z,"+12/+13",null]],"Pacific/Guam":[[-600,+"151.11" === (887.81,953.86)?"7420" - 0 < 10.5?(!![],3.02e+3):8426 == (+"59.79",52.26)?"e":("E",!![]):"-","ChST",null]],"Pacific/Kiritimati":[[-840,(2380,7740) != (4880,811)?"-":(5600,266.97) > (949,"7.33" - 0)?(9.16e+2,679.51):524.08,"+14",null]],"Pacific/Noumea":[[-660,"NC","+11/+12",null]],"Pacific/Auckland":[[-720,"NZ",o1y,null]],"Pacific/Chatham":[[-765,Y4g,O$l,null]],"Pacific/Pago_Pago":[[660,("5940" ^ 0,1520) === (+"9440",926.02)?(+"3186",797.69) == (77.43,+"714.16")?(9.67e+3,"i"):(0x1f93,"f"):"-","SST",null]],"Pacific/Apia":[[-780,"WS","+13/+14",null]],"Pacific/Tongatapu":[[-780,F6D,"+13/+14",null]],"Etc/UTC":[[0,(6520,3906) == (+"9718",9670)?"d":"-","UTC",null]],UTC:F71,"Europe/London":[[0,T9x,B_4,null]],"Europe/Dublin":[[0,V$5,"IST/GMT",null]],WET:[[0,q8j,"WE%sT",null]],CET:[[-+"60","C-Eur",O_k,null]],MET:[[-("60" ^ 0),"C-Eur","ME%sT",null]],EET:[[-+"120","EU","EE%sT",null]],"Europe/Brussels":[[-60,"EU","CE%sT",null]],"America/Thule":[[240,"Thule",y9O,null]],"Europe/Helsinki":[[-120,"EU",s3a,null]],"Europe/Paris":[[-("60" | 8),"EU",g93,null]],"Europe/Berlin":[[-60,"EU","CE%sT",null]],"Europe/Amsterdam":[[-60,"EU","CE%sT",null]],"Atlantic/Azores":[[60,"EU","-01/+00",null]],"Europe/Bucharest":[[-120,"EU","EE%sT",null]],"Europe/Kaliningrad":[[-+"120",6629 > 63.32?6730 != (6080,8820)?("284.23" - 0,+"743.16") <= "9640" >> 0?"-":(0x25c3,"A"):(![],9.48e+3):"i",L_r,null]],"Europe/Moscow":[[-180,("1382" ^ 0) === (+"9365",864)?"737.43" - 0 !== (3233,340.42)?4630 > (735.09,173.01)?"a":4.37e+3:756.32:"-",N9I,null]],"Europe/Volgograd":[[-180,(9150,8529) == ("4523" ^ 0,341.67)?!!0:"-",t5D,1540692000000],[-240,944 > (8250,914.86)?("120.65" - 0,+"3528") > (8393,1308)?"-":1607 == ("5441" >> 32,+"2400")?"0xc22" >> 32:(9.92e+3,297.30):"L","+04",1609034400000],[-180,(+"8260","5431" - 0) >= 7880?!({}):(+"859.07",428.96) < (32,2518)?"-":(4219,334) < (605.67,9037)?7.50e+3:(1.15e+3,0x1a41),"+03",null]],"Europe/Samara":[[-+"240",("186" << 0,"8570" << 64) !== (4049,424.9)?1588 != 896.92?3343 >= "1914" >> 0?"-":(276.00,420.51):"X":(+"0x71f",0x217d),"+04",null]],"Asia/Yekaterinburg":[[-300,"-","+05",null]],"Asia/Omsk":[[-("360" | 0),6700 <= (+"8700",7535)?"-":(+"310.70",!![]),n01,null]],"Asia/Novosibirsk":[[-420,6850 == 260.8?(763.79,!!1):"-","+07",null]],"Asia/Novokuznetsk":[[-420,"-","+07",null]],"Asia/Krasnoyarsk":[[-420,(488.58,9300) == (402.73,726.27)?(495.87,884.80):(+"5766",394.26) >= (212.05,+"471.04")?(5098,860.28) != (8640,853.04)?!!({}):(587.93,!!1):"-",f8C,null]],"Asia/Irkutsk":[[-480,"-",s4B,null]],"Asia/Yakutsk":[[-540,"-","+09",null]],"Asia/Vladivostok":[[-+"600",(9443,4260) > (4150,6340)?0xfff:4340 === 388.54?(451.36,780) >= +"183.27"?(!!1,0xc2b):123.70:"-",H$3,null]],"Asia/Magadan":[[-+"660",+"3970" === ("999.47" - 0,1368)?4410 >= (324,150.32)?(2065,9830) >= 1010?0xe5b:8.01e+3:922.02:"-","+11",null]],"Asia/Srednekolymsk":[[-660,(614,5540) !== (6365,"3440" - 0)?"-":(!!1,"9.70e+3" * 1),q8U,null]],"Asia/Kamchatka":[[-720,"-","+12",null]],"Europe/Belgrade":[[-60,"EU","CE%sT",null]],"Europe/Sarajevo":"Europe/Belgrade","Europe/Istanbul":[[-180,(937.53,356.38) > (+"8290",439.64)?(!0,+"0x7f9"):"-","+03",null]],"America/New_York":[[300,"US",l1b,null]],"America/Chicago":[[360,"US","C%sT",null]],"America/Denver":[[420,"US","M%sT",null]],"America/Los_Angeles":[[480,r6h,K2H,null]],"America/Juneau":[[+"540",q0N,"AK%sT",null]],"Pacific/Honolulu":[[600,"-",Z3$,null]],"America/Phoenix":[[420,(2170,4800) === +"6220"?!![]:"-","MST",null]],"America/St_Johns":[[210,"Canada","N%sT",null]],"America/Halifax":[[240,v0F,"A%sT",null]],"America/Regina":[[360,"-","CST",null]],"America/Mexico_City":[[360,"Mexico","C%sT",null]],"America/Chihuahua":[[420,K2T,f5a,null]],"America/Costa_Rica":[[360,"CR","C%sT",null]],"America/Havana":[[300,r1U,"C%sT",null]],"America/Port-au-Prince":[[+"300","Haiti",O1L,null]],"America/Panama":[[300,(+"1971",851.21) !== 103.16?(4040,390.39) <= (1745,7629)?"-":(8572,754.59) > 9260?510.78:5.57e+3:("4.69e+2" >> 0,"p"),"EST",null]],"America/Puerto_Rico":[[+"240","840.61" - 0 < ("817" >> 0,8046)?"-":(!!1,!!""),"AST",null]],"America/Argentina/Buenos_Aires":[[180,"Arg","-03/-02",null]],"America/Sao_Paulo":[[180,"Brazil","-03/-02",null]],"America/Santiago":[[240,o$3,"-04/-03",null]],"America/Punta_Arenas":[[240,"Chile","-04/-03",1480809600000],[180,"-",S4s,null]],"America/Bogota":[[300,"CO","-05/-04",null]],"America/Asuncion":[[240,"Para","-04/-03",null]],"Atlantic/South_Georgia":[[120,9639 <= (2913,815.75)?(0xcd,0x2409):4470 < (2900,8130)?"-":(728.95,794.27) <= 7500?0x1049:(0x1da0,762.58),j1K,null]],"America/Montevideo":[[180,"Uruguay",O3M,null]],"America/Caracas":[[240,6000 >= 8210?(1390,7825) >= 296.48?(4433,+"1234") === (399.07,4530)?(650.02,0x13ac):0x2262:("O",1.20e+3):"-","-04",null]],"Europe/Athens":"Europe/Bucharest","Europe/Simferopol":"Europe/Moscow","Asia/Rangoon":"Asia/Yangon","Atlantic/Reykjavik":"UTC","Asia/Kuwait":"Asia/Riyadh","Asia/Muscat":"Asia/Riyadh","Asia/Istanbul":"Europe/Istanbul"},rules:{Egypt:[],Morocco:[["2013" ^ 0,2018,853.85 < 103.07?(5.52e+3,"l"):"-","Oct","lastSun",[3,+"0",0,null],"0" >> 32,9245 !== (1910,9940)?(893.19,326) === (2340,7588)?("8230" >> 0,6986) >= 5140?(0x679,896.21):(8.68e+3,"I"):"-":(!![],0x24b3)],[2014,"2018" ^ 0,7150 == (512.88,9360)?7450 == (9360,4950)?3.69e+3:"v":"-",x1n,"lastSun",[2,0,0,null],"60" ^ 0,559.11 > (3820,6912)?(6.00e+2,4.55e+3):"-"],["2017" - 0,"only","-","May","21",[3,0,0,null],0,"4597" << 64 !== (952.54,875)?(5360,671.02) < (83,322.61)?(0x16a8,"b"):"-":5.35e+3],[2017,"only",1693 <= (746.25,689.38)?"5.96e+3" << 64:972.36 == (645.34,"5700" << 64)?!({}):"-",E5T,(6400,443.92) >= (1520,"973.69" * 1)?(!!({}),"u"):"2",["2" ^ 0,+"0","0" >> 32,null],+"60","-"],[2018,"only",(3418,5745) === (5749,3520)?945.46:"-",U$1,f7L,[3,0,0,null],+"0",(8700,5295) !== (3723,74.97)?"-":(5690,937.15) >= 586.6?6555 >= 7090?0x1254:(883.02,!1):!![]],[2018,"only",(1780,367.17) > 329.93?"-":974.11,l8k,"17",[2,0,"0" << 96,null],60,581.02 === ("7740" << 0,228)?(998.48,"e"):775.87 !== 2730?"-":!!({})],[2019,"only",(7130,605.76) > 525.74?"-":("3971" ^ 0,747.41) != 353.56?(7608,5320) >= (924.77,3370)?0x17eb:(!!"1","5.48e+3" * 1):3.81e+3,"May","5",[3,0,0,null],-("60" >> 32),"-"],[2019,H3r,9600 == (835.09,+"9872")?894.51:+"778.82" > 986.38?("1.29e+3" - 0,!![]):"-",p0N,278.08 < (6430,"6070" * 1)?(4500,"4395" | 33) == +"4000"?(!"",7.83e+3):"9":(!"",0x1574),[2,0,0,null],0,113.73 != (+"471.23","3350" * 1)?"-":(7.00e+3,+"0x175a")],[2020,"only","-",S5M,"19",[3,0,0,null],-+"60",2030 > 258?(2080,486.71) <= 1277?(5297,+"804.83") !== 308.73?"-":7.88e+3:"C":!!""],["2020" ^ 0,"only",3453 != (+"824.61",9762)?(9570,78) != (2360,252.16)?(2770,871.96) == 7220?"s":"-":("M",583.29):(0x145e,565.87),"May",t2c,[2,0,0,null],0,("7810" ^ 0) != (958.69,803.44)?"-":312 >= 5832?(103.39,2.67e+3):!({})],["2021" << 0,"only",958 === (3680,370)?898.51 >= ("5600" | 0)?(!"1","r"):!!({}):"-",x14,"11",[3,0,+"0",null],-60,"-"],[2021,"only","-","May","16",[2,0,0,null],0,"-"],["2022" ^ 0,"only","-","Mar","27",[3,0,+"0",null],-60,"803.9" - 0 != 1770?526 != (1942,233.34)?"-":"J":0xab8],[2022,O74,"-",y7G,"8",[2,0,0,null],"0" << 64,("355.64" - 0,300.79) !== "7070" << 32?(1875,508.13) === 760.18?("k",+"0x269a"):"-":("R",0x7ca)],[2023,W5Y,36.14 < 703.04?("405.88" - 0,4262) >= 4436?497.92 !== 890.66?(![],"0x1e6a" | 32):(7.63e+3,0x24e8):"-":622.00,"Mar","19",[3,0,"0" << 32,null],-60,(920.62,"3038" ^ 0) == 9170?116.23:393.74 <= 806.68?"-":7980 !== (741,"430.31" - 0)?("0xb17" >> 0,982.37):(0xa0,118.41)],[2023,b19,("221.71" - 0,6041) != (649.29,8540)?"-":570.03,R8V,"30",[2,0,0,null],0,"-"],[2024,"only",+"415.94" == "708" >> 96?8663 !== 1140?67.18:(!![],!![]):"-","Mar","10",[3,0,0,null],-60,362.71 >= (7350,874.39)?6860 !== (3508,761)?598.56 != (887.66,"438.75" * 1)?("S",!![]):4.06e+3:0x2580:"-"],[2024,"only",("767.64" - 0,9728) <= (9700,174.25)?(!!1,!1):(244.48,396.68) != 4190?"-":0x113b,"Apr",P84,[2,0,0,null],"0" ^ 0,"-"],[2025,"only",836.47 < (7531,6150)?"-":(598.12,666.99) <= 5570?(6532,"9050" | 16) > ("6310" - 0,"495" - 0)?("H",1.57e+3):(809.56,9.93e+3):9.11e+3,"Feb",O5a,[3,+"0",0,null],-60,6970 <= (244.27,673)?(257.14,9975) <= 9992?(5.21e+3,0x437):102.20:"-"],[+"2025","only",249 > (+"6006",132.86)?"-":"3228" << 0 >= (7960,3940)?("T","g"):(631.42,+"0x19ef"),"Apr",8408 == 218.46?(1.40e+3,"f"):(7390,"7620" >> 32) === 3062?(345.75,0x23ea):4127 <= 5970?"6":(0x3fa,!!1),[2,+"0",0,null],0,(6028,213.84) > 428?("1.90e+3" << 32,770.21):"-"]],Namibia:[[1994,"2017" << 32,842.86 !== 3540?"-":353 < 626?(!({}),"j"):("0x1c9d" ^ 0,3.40e+3),"Sep","Sun>=1",["2" | 2,0,0,null],"0" - 0,"CAT"],[1995,"2017" - 0,(172.94,781.48) != (388,2554)?3940 != 9419?"-":!"1":+"5.78e+3","Apr","Sun>=1",["2" >> 0,0,"0" - 0,null],-60,S8A]],SA:[],Tunisia:[],Troll:[[2005,"max",670.45 === 78.44?(601.22,8040) == (27.92,3849)?!0:(!!0,858.77):"-",x1h,"lastSun",[1,0,+"0",6655 == 249?("S",0x1b19):"u"],120,"+02"],[2004,D1l,(213.37,2960) === (4049,8290)?(232.15,216.77):946.35 !== 73.53?"-":766.56 < 1870?0x1a93:(0x19f4,!!0),"Oct","lastSun",[+"1",0,"0" ^ 0,"u"],0,"+00"]],EUAsia:[[1981,w_r,"-",x3H,d5q,[1,0,0,("6040" ^ 0,"8609" - 0) != ("3573" | 32)?"u":0x2232],60,"S"],[+"1996",p$a,519.79 !== (652.79,528.09)?"-":9640 != "454.61" * 1?490:(4.89e+3,883.05),"Oct","lastSun",[+"1",0,+"0","u"],0,951.89 >= (326,8468)?2689 > 644?+"5.32e+3":0x85b:"-"]],Azer:[],Dhaka:[],PRC:[],HK:[],Taiwan:[],Iran:[[2017,+"2019","-","Mar","21",[24,0,0,null],+"60","-"],[2017,2019,"-","Sep",x_H,[24,0,0,null],0,3823 <= (537,1616)?+"6.72e+3":("4520" ^ 0,7283) >= 2930?+"7663" === 99.01?("3.10e+3" - 0,!!({})):"-":("G",287.92)],[2020,"only",180.43 === (+"857.41",4769)?!!"1":(556,525.6) <= (6280,5697)?"-":(+"7470",8440) == (9560,960.36)?!![]:(24.43,1.34e+3),P0x,"20",[24,0,0,null],60,(3290,329.54) > 9428?(1600,"9420" * 1) <= 913?(![],"F"):"7331" >> 64 < "4340" << 32?(353.50,6.36e+3):![]:"-"],[2020,"only","-","Sep","20",[24,0,0,null],0,("9740" | 0,"715.38" * 1) === 4850?1760 < 177?(9.61e+3,85.36):("L",+"0x12f8"):"-"],[2021,2023,"-","Mar","21",[+"24",0,"0" << 64,null],60,(151,4550) <= (155.93,+"484")?!!1:"-"],[2021,2023,"-","Sep",y5Z,[24,"0" * 1,0,null],+"0","-"],[+"2024","only","-",s4A,"20",["24" << 96,"0" | 0,0,null],60,(318.99,801) <= 3240?2390 < (387.1,8684)?(848.15,7882) <= (+"74.17","8164" >> 64)?"-":!!1:("b","V"):884.28],[2024,l2_,"8703" - 0 >= 194.69?3680 != (2960,503.77)?(794,+"4606") == 8142?(!({}),859.05):"-":(!![],"P"):("P",!![]),"Sep","20",[24,0,+"0",null],+"0","-"],[2025,2027,(643.48,+"546.53") < ("8600" * 1,499.65)?"301.67" - 0 === (472.16,+"6664")?"z":"362.84" * 1:"-","Mar",I0u,[24,0,0,null],60,"-"],[2025,2027,(65,475.79) > (6280,482)?(+"588.46",553.44) > (7654,7560)?("v",622.08):("i",0x797):"-","Sep",r_d,[24,0,0,null],0,(2110,+"2974") != (387,+"261.47")?"-":799.1 !== (333,4690)?564 >= 952.44?(0x102a,0x1260):(0x17f7,0x23ef):(89.90,!!"1")]],Zion:[[2013,"max",(697.23,368.95) !== (901.23,9650)?"-":("u",!1),I7M,"Fri>=23",["2" - 0,0,+"0",null],60,1120 == (7869,5370)?0xf6b:(586.31,9323) != (4777,2420)?"D":(0x1554,"e")],["2013" ^ 0,"max",4661 > ("3040" >> 64,2920)?"-":(255.95,5125) >= (5893,"262.26" - 0)?(2.16e+3,"0x1997" >> 64):(773.55,!1),A7B,"lastSun",[2,0,0,null],0,"S"]],Japan:[],Jordan:[[2014,"max",1234 !== "3190" - 0?(505.69,9090) >= 1.86?("4700" ^ 0,5610) != (2510,990)?"-":(290.80,!({})):300.51:(0x1e4b,8.70e+3),y89,E2$,[24,0,0,null],60,"S"],["2014" * 1,"max",41.83 > (2520,609.87)?("p","8.24e+2" - 0):"-","Oct",b$R,[0,0,0,60.64 == (880.82,4938)?(5400,394.95) !== (782.36,"9721" | 8)?(4123,586.49) >= (3147,928.96)?0x82b:(0xcac,0x1b40):("0x26ed" * 1,0x703):"s"],0,(2310,+"264.59") < 102.46?(!!0,0x1d93):(1230,6969) !== "499.06" - 0?5657 < 103.06?(!!0,"A"):"-":!({})]],ROK:[],Lebanon:[[1993,c9b,(7820,6948) === (3540,9961)?9991 >= (+"974.83","3178" * 1)?(3850,2960) <= (8130,+"542.7")?(421,"g"):(!"1","a"):450.11:"-","Mar","lastSun",[0,0,0,null],60,"S"],["1999" >> 64,"max",76.65 != 3390?(7130,3270) === (1920,3992)?6.78e+3:"-":(0x1f49,"Z"),"Oct","lastSun",[0,0,0,null],0,"-"]],Mongol:[],Pakistan:[],Palestine:[[2016,"2018" * 1,"-",w8v,N$l,["1" >> 64,0,0,null],60,7994 > 6430?"S":+"7468" === (897,+"50")?"P":7300 < (3540,5840)?(0x865,221.93):6.39e+3],[2016,2018,"-","Oct",J9S,[1,0,0,null],"0" * 1,("651" ^ 0,4413) !== (3941,78.98)?187.88 >= ("6487" - 0,686.79)?+"4.85e+3":"-":(!![],"5.78e+3" | 4)],[2019,"only",("691.67" * 1,2121) != (159.05,7200)?"-":128.35,E2o,"29",[0,0,"0" >> 64,null],60,198 === 1890?!!({}):"S"],[2019,k24,(182.63,+"1320") >= (33.53,8207)?124.31:"-",D5t,"Sat>=24",["0" | 0,"0" << 0,0,null],60,(598.45,9770) >= ("264.61" - 0,2055)?"-":(3536,703) === 118?("i",+"0x2632"):("O",0x1719)],["2020" ^ 0,x1S,"-","Mar","Sat>=24",[0,0,0,null],60,"S"],["2020" | 64,"max",3390 === "9470" * 1?"J":"-","Oct","Sat>=24",[1,0,0,null],60,1360 <= ("4448" | 0)?"-":385.64 < (696.32,7336)?0x2553:(+"6.34e+2",!![])]],Syria:[[2012,"max",(7039,8470) <= 8685?"-":("0x19bf" * 1,957.42),"Mar","lastFri",[0,+"0",0,null],60,(1990,249.36) <= +"38.08"?0x1a32:"S"],[2009,"max","-",W4T,"lastFri",[0,0,0,null],0,727 != 4910?"-":316.83 == 7450?144.12:0x1a20]],Aus:[],AW:[],AQ:[],AS:[[2008,x60,(8450,+"192.77") == (8790,7760)?3750 > (342.32,5654)?!"":0x7f9:"-",y6S,C0F,[2,+"0",0,(7835,318) > 322.27?809.25 == (929.99,4940)?(+"0x19bf",0x2502):("m",![]):"s"],0,1450 != (465.53,+"141")?523.78 >= 9501?5890 <= +"631.31"?(+"0x17b4","v"):(0xf0e,760.03):"S":("U",766.15)],[2008,u9$,"-","Oct","Sun>=1",[2,0,0,(398.59,469.97) !== 5906?5143 === (+"8790",+"667.72")?!!({}):"s":!!({})],"60" ^ 0,5170 > (456.88,4750)?"D":(86,3670) >= 3470?+"992" > 3040?(0xdc9,8.64e+3):0x258c:"a"]],AT:[[2001,"max",(+"246.74",5260) == (7502,"8499" >> 32)?(+"0x13f0",627.64):6220 != (7885,514.26)?"-":+"934.15" < 531.06?(0x2425,"P"):0x1769,"Oct",G_v,[+"2","0" - 0,0,"s"],"60" >> 64,(5020,4600) <= (2355,6342)?+"758.3" !== (+"8352",7114)?(2490,5936) <= 2?(+"304.43","J"):"D":(!"1","a"):706.99],[2008,"max",(8289,216.65) < 8547?"-":(!"1",920.19),C1a,"Sun>=1",[2,0,0,"s"],0,(272.74,784.51) <= (37.31,3661)?"S":2726 > +"5581"?!!0:7263 !== (2150,54)?"m":("l",!!"1")]],AV:[[2008,"max","-","Apr","Sun>=1",[2,0,0,(5770,1039) !== (504.26,287.13)?"s":(689.32,1460) > 6987?"L":139.57 > (5600,4250)?(+"0x187c",0x248a):![]],0,2431 !== ("454.34" * 1,201.72)?7260 !== (7440,460.23)?"S":!({}):(0x2eb,2.99e+3)],[2008,"max",8794 > (536.51,3810)?"-":(0xcca,8.52e+3),"Oct","Sun>=1",[2,0,0,398.3 <= 7993?(54.98,6970) !== (5234,+"392.34")?"s":(!!"",5.24e+3):0x123a],60,"D"]],AN:[[2008,"max",616.32 == (8630,"5460" - 0)?!![]:"-",l9t,"Sun>=1",[2,"0" ^ 0,0,1889 !== 5400?"s":(233.41,878.08) != "2270" << 32?80.48:("0x21fd" >> 64,"d")],0,(634.38,+"6774") > (9450,913)?("336.45" - 0,1275) !== (5549,949.08)?(9678,101.72) != (+"2780",657.14)?"S":"k":("f",7.86e+3):"d"],["2008" * 1,"max",("2440" >> 96,787.97) == (765.81,8096)?("j",0x2135):"-","Oct","Sun>=1",[2,0,0,"s"],60,(573,6670) == (+"671",6917)?("2690" | 0,4950) != 6357?436.76:(![],0x1ac7):"D"]],LH:[[2008,"max",(1180,+"3667") == (4776,2950)?(8.78e+3,0x170a):"-","Apr",E8A,[2,"0" * 1,0,null],0,(519.64,281) > 8810?193.94:910.82 <= (586.15,363.87)?(!!({}),"4.31e+3" * 1):"-"],[2008,"max",(9670,3811) == 1580?(!({}),"704.50" * 1):"-","Oct",F3M,[2,0,0,null],"30" | 12,(+"250",9506) >= (9720,9110)?"-":825.6 >= 857.75?"S":"E"]],Fiji:[[2014,2018,("3696" - 0,"160" << 0) === 784?(2933,8197) <= (429.42,114.92)?(0x148e,!1):+"9164" >= +"610.86"?(![],"188.47" * 1):7.03e+2:"-","Nov",k1W,[2,0,0,null],+"60","-"],["2015" * 1,"max",5028 < (6108,5797)?"-":(+"8.68e+3",0x1448),"Jan","Sun>=12",[+"3",0,0,null],0,"-"],[2019,"only",("594.66" - 0,569.1) === 7438?(!!"1",0x2266):"-","Nov","Sun>=8",[2,0,0,null],60,(6070,+"615.89") !== (7086,435.1)?"-":(498.32,!!({}))],[2020,i0W,"-","Dec",P1k,[2,0,"0" >> 64,null],+"60","-"],[2021,"max",686.6 !== (8530,"9100" >> 32)?(4559,2270) <= 2386?"-":("k","H"):0x1b4b,C6p,i_p,[2,"0" << 64,0,null],60,+"188.27" > 126.4?"-":5.21e+3]],NC:[],NZ:[[2007,"max",("6715" ^ 0) >= (746.69,7960)?(709.44,9441) >= (+"2130",6611)?"T":!({}):"-","Sep","lastSun",[2,+"0",0,"s"],60,"D"],[2008,F_1,6110 < (5449,"487.36" - 0)?(386.31,4.44e+3):292.39 > 2795?("8007" << 96,4) >= (+"4622",2434)?!"1":("A",5.36e+3):"-","Apr","Sun>=1",[2,+"0",0,"s"],"0" << 32,(2296,7730) != (708,616)?3764 < (9798,5326)?"S":("366.44" * 1,58.62):(!![],0x1e40)]],Chatham:[[2007,"max","-","Sep","lastSun",[2,45,0,(7480,5417) <= 8210?"s":(0x1026,"602.42" - 0)],60,(261.87,+"445") > "14" * 1?"-":(2,4819) >= 3980?(376.48,!!0):("0x1e46" * 1,0x9a9)],["2008" << 64,"max",6680 === 536.52?(!({}),"G"):(7018,8364) <= 4040?7.78e+3:"-","Apr","Sun>=1",[2,45,"0" | 0,(3990,7430) < "764.76" - 0?25.02 != (124.97,+"8840")?"3600" * 1 > (7580,9060)?0x21ea:(239.77,375.05):!!"":"s"],0,7593 == 501.37?"0x3f0" ^ 0:"-"]],WS:[[2012,"max",8791 < 8950?"5010" * 1 > (7680,7870)?723.16 >= ("774.2" - 0,4660)?(261,0x1dd2):"3.16e+3" ^ 0:"-":4.81e+3,"Apr",W4C,[+"4",0,0,null],0,"-"],[2012,"max",440.6 > 863?(!!"","S"):4799 <= ("9800" >> 32,1940)?(9.81e+3,!![]):8110 <= 3390?(+"5.89e+3",0x2570):"-",t6Y,"lastSun",[3,+"0",0,null],60,"-"]],Tonga:[[2016,"only","-","Nov","Sun>=1",[2,0,0,null],+"60",(754.88,4284) === (4701,"5410" << 64)?(!!0,+"168.39"):(684.86,2260) > (718,+"595.43")?"-":(!![],!"")],[2017,"only",(6260,+"6822") >= (934.69,2582)?938.8 === (342.99,316.81)?(939.21,!({})):"-":"V","Jan","Sun>=15",[+"3","0" * 1,0,null],0,"-"]],Eire:[[1981,"max",807.91 > (+"5461","478.14" - 0)?(8879,3520) < (+"6760",533)?(873.85,51.24):+"388.98" !== 4590?"-":(346.84,"B"):("0x8dc" << 32,!({})),O6V,"lastSun",[1,+"0",0,"u"],0,988 < (5510,7510)?"-":(3770,3173) == (907.45,645.01)?(!!"1",9.21e+3):(591.97,1540) != "917.07" * 1?"p":"k"],[1996,"max",(5380,9990) > (946.4,1450)?(848,"374" * 1) < 5370?"-":797.66:(+"976.58",0x1931),"Oct","lastSun",["1" - 0,0,0,6468 != 2394?"u":64.99],-60,+"322" > (4370,433.06)?7480 === (8870,7630)?!0:!!"1":"-"]],EU:[[+"1981","max","-","Mar","lastSun",[1,0,0,("2240" | 0) >= 399?8002 == 340.56?(189.18,"h"):196 < (18.84,1216)?"u":(0x24,0x246):(5.22e+3,"6.91e+3" * 1)],60,440.28 === 898.48?631.71 != 9440?+"351.93" === 4900?396.87:(!1,!!""):(!!({}),"147.05" - 0):"S"],[1996,"max",7.55 < (3690,152.46)?(9250,47) > (810.69,4650)?(769.87,757.95) <= (+"2020",+"4987")?![]:7.17e+3:"-":("r","t"),o1M,"lastSun",[1,0,0,10.08 === (188.19,"803.16" * 1)?!({}):5630 === 8580?+"9.57e+3":"u"],0,(5546,8243) == (110.82,366)?(4.75e+3,"e"):"-"]],"C-Eur":[[1981,"max",(525.24,8400) <= (3646,+"4040")?("5870" << 0,558.52) != 3660?!![]:"0x2af" | 5:"-","Mar","lastSun",[2,0,0,2740 < (7790,863.19)?(226.32,8500) <= (675.96,3814)?(0x2406,"0x75f" * 1):644.97 < "365.98" - 0?(![],896.28):!"1":"s"],60,1440 < 1992?"S":"94.68" - 0],[+"1996","max","-","Oct","lastSun",[2,0,0,556.78 <= 3271?"s":109.74],0,"-"]],Thule:[[2007,M7J,7460 >= 7070?"-":(2.60e+3,![]),v3$,"Sun>=8",[2,"0" | 0,"0" - 0,null],60,"D"],[2007,"max",(7491,8390) >= (2575,+"7380")?"-":(1903,+"492.26") === (5892,"5820" << 32)?"b":(3410,7550) < 4047?("g",!!""):0x1316,"Nov","Sun>=1",[2,0,+"0",null],0,824.94 != 5970?"S":("2.32e+3" << 32,0x15c0)]],US:[[2007,"max",5621 == (134.08,722.71)?991.68:2050 >= (9000,"4860" ^ 0)?("Z","7.19e+3" - 0):(+"7260",4890) > 5080?"f":"-",k_T,"Sun>=8",[2,0,0,null],60,315.47 > 6000?(!!0,!!({})):"D"],[+"2007",N0g,(1030,+"3910") == (3613,725.27)?(!!1,!"1"):(522,6920) != (576.7,136.96)?(4756,+"9420") <= (+"2628",8729)?!![]:"-":165.89,"Nov","Sun>=1",[2,+"0","0" * 1,null],0,4340 === (9580,3530)?6.01e+3:"S"]],Canada:[[2007,w9h,1180 == 341.91?340.23:(6812,"6000" ^ 0) <= (8000,"681.41" - 0)?854 > ("229.29" - 0,108.98)?"e":(![],!![]):"-",n3D,"Sun>=8",[2,0,0,null],"60" >> 0,"D"],[2007,"max","-","Nov","Sun>=1",[2,0,0,null],0,"S"]],Mexico:[["2002" * 1,"max",339.6 == 320.15?(5730,2270) === 2960?("i",+"0x8cf"):6238 == 7250?+"660.67":30.74:"-","Apr",e9C,[2,0,0,null],60,(6320,6610) == (4100,"322" - 0)?!!"":"D"],[+"2002","max",593 <= ("542" | 16,"286.08" - 0)?(522,!({})):(8940,+"761.73") !== (1320,9300)?"-":"S","Oct","lastSun",["2" ^ 0,0,0,null],+"0",(8222,9340) != (822.71,+"455")?"S":(596.12,5960) !== 182.97?5593 < 4593?"E":"k":("j",!!"")]],CR:[],Cuba:[[2012,n6p,(2091,9454) !== 219.38?644.78 == "19.24" - 0?(9254,9158) == 4818?6.74e+3:!!0:"-":(711.10,!0),h6K,"Sun>=1",[0,0,0,"778.81" - 0 == (595.52,"2132" << 64)?3.98e+3:(616.64,6810) !== 502.75?"702.21" - 0 <= (196.5,289.99)?("0x243d" * 1,"I"):"s":"208.10" * 1],"0" - 0,2010 !== 997.58?"S":(1.51e+3,!!({}))],[2013,"max",(2612,7991) < 7410?(4581,8380) <= 256.05?(8.36e+3,0x215a):("4436" - 0,715.67) != 9940?!({}):!!"1":"-","Mar",j9r,[0,0,0,"s"],+"60","D"]],Haiti:[[2017,"max",("6700" | 8) < (451.96,2873)?"F":(+"136",384) != (257,914.17)?"-":(6360,753) !== 9241?(0x2449,+"4.22e+3"):0x2327,"Mar",O1M,["2" | 0,0,0,null],+"60","D"],[+"2017",r6W,(1358,69.42) === (9610,1100)?(6270,9859) == (2431,7260)?+"0x12bb":136.7 !== (422.9,3778)?(0x79d,34.93):("r",0x1e98):"-",A0f,T81,[2,0,0,null],"0" | 0,700 >= (4740,4855)?837.14:3160 >= 1862?"S":6657 == (+"2220",5450)?("h",!!"1"):(+"2.77","i")]],Arg:[],Brazil:[[2008,2017,"-","Oct",r1w,[0,0,0,null],"60" << 32,"-"],[2016,2019,195.84 === (6679,9333)?(+"8232",2701) > 618.58?2.75e+3:(8.22e+3,0x5c2):"-",X_u,"Sun>=15",[0,0,0,null],0,"-"],["2018" * 1,D9A,"-","Nov","Sun>=1",[0,0,0,null],"60" >> 0,("3840" ^ 0) == (7384,1000)?(932,"N"):"-"]],Chile:[[2016,"2018" >> 64,"-","May",I1R,[3,0,0,"u"],0,67.95 !== "603.57" - 0?(5312,5670) < 430.95?"f":8236 < 2974?20.66:"-":0xa9],["2016" >> 64,2018,(292,+"871") !== (410.92,179.64)?"-":"S","Aug","Sun>=9",[4,0,0,"u"],+"60",6684 != "945" * 1?(425,98) !== (1419,2400)?"3943" - 0 == 4538?"s":"-":"k":(259.35,0x19da)],[2019,"max","8939" >> 0 < 8310?0x175d:"-",A8f,"Sun>=2",[3,0,+"0","u"],0,+"344.38" === 478.13?8.36e+3:"-"],[2019,D4e,"-","Sep","Sun>=2",[4,0,0,("7666" - 0,825.06) >= +"5362"?("O",+"0x1dd8"):"u"],60,"-"]],CO:[],Para:[[2010,"max",8569 >= +"356.95"?"-":+"4.44e+3","Oct","Sun>=1",["0" ^ 0,0,"0" * 1,null],60,(9130,2808) >= (4882,530.23)?"-":(5500,"9984" << 64) > 4880?2430 != ("942.54" * 1,976.68)?+"0x13c5":0xbef:4.47e+3],[2013,"max",5627 < (7184,1100)?0x921:(4884,2053) < (428.53,+"2982")?"-":(!!0,!![]),q0S,"Sun>=22",[0,0,0,null],0,311.42 != (97,"6550" - 0)?"-":+"7740" < (8707,86.37)?(622.41,!!({})):(2240,8222) === 602.08?(748.31,!""):("k",!"")]],Uruguay:[]}});};q2=p4k=>{var W76,u5p;W76=typeof _CIQ !== "undefined"?_CIQ:p4k.CIQ;W76.ChartEngine.prototype.touchSingleClick=function(X$G,U43,J93){i6UVR.W3G();var O9d,t4k;O9d=this;t4k=arguments;return function(){(function(){var B71,v4E,S2z,x0F,D$a;if(!this.cancelTouchSingleClick){if(this.runPrepend("touchSingleClick",t4k)){return;}if(this.editingAnnotation){return;}this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};if(!this.displayCrosshairs){return;}if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(U43 < this.left || U43 > this.right || J93 < this.top || J93 > this.bottom){return;}B71=this.backOutY(W76.ChartEngine.crosshairY);v4E=this.backOutX(W76.ChartEngine.crosshairX);this.currentPanel=this.whichPanel(B71);S2z=this.currentVectorParameters.vectorType;if(!W76.Drawing || !S2z || !W76.Drawing[S2z] || !new W76.Drawing[S2z]().dragToDraw){if(!this.drawingClick(this.currentPanel,v4E,B71)){f1u(this,U43,J93);}if(!this.currentVectorParameters.vectorType){x0F="t";x0F+="a";x0F+="p";D$a=this.activeMarker && this.activeMarker.click({cx:v4E,cy:B71,panel:this.currentPanel});if(!D$a){this.dispatch(x0F,{stx:this,panel:this.currentPanel,x:v4E,y:B71});}}}}this.runAppend("touchSingleClick",t4k);}).apply(O9d,t4k);};};W76.ChartEngine.prototype.touchDoubleClick=function(l_C,u2k,L9X){var R9N,C_N;R9N="do";R9N+="ubleTap";if(this.runPrepend("touchDoubleClick",arguments)){return;}if(this.editingAnnotation){return;}if(W76.ChartEngine.drawingLine){return this.undo();}if(this.activeDrawing){return;}f1u(this,u2k,L9X);C_N=this.activeMarker && this.activeMarker.doubleClick({cx:u2k,cy:L9X,panel:this.currentPanel});if(!C_N){this.dispatch(R9N,{stx:this,finger:l_C,x:u2k,y:L9X});}this.runAppend("touchDoubleClick",arguments);};W76.ChartEngine.prototype.startProxy=function(K1O){var D7j;D7j="tou";D7j+="ch";this.touchPointerType=K1O.pointerType;i6UVR.W3G();if(this.touchPointerType != D7j){this.mouseMode=!"";return;}this.mouseMode=![];this.touches[this.touches.length]={pointerId:K1O.pointerId,pageX:K1O.clientX,pageY:K1O.clientY,clientX:K1O.clientX,clientY:K1O.clientY};this.changedTouches=[{pointerId:K1O.pointerId,pageX:K1O.clientX,pageY:K1O.clientY,clientX:K1O.clientX,clientY:K1O.clientY}];if(this.touches.length == +"1"){this.gesturePointerId=K1O.pointerId;}this.touchstart(K1O);};W76.ChartEngine.prototype.moveProxy=function(g9R){var c36;c36="to";c36+="u";c36+="ch";if(g9R.pointerType && g9R.pointerType != c36){this.mouseMode=!![];return;}this.mouseMode=!({});this.touchmove(g9R);};function f1u(H6k,j4V,e5T){var G_x;if(!H6k.layout.crosshair){W76.ChartEngine.crosshairY=0;W76.ChartEngine.crosshairX=0;H6k.cx=H6k.backOutX(0);H6k.cy=H6k.backOutY(0);H6k.findHighlights(null,!![]);W76.ChartEngine.crosshairY=e5T;W76.ChartEngine.crosshairX=j4V;G_x=H6k.container.getBoundingClientRect();H6k.top=G_x.top;H6k.left=G_x.left;H6k.right=H6k.left + H6k.width;H6k.bottom=H6k.top + H6k.height;H6k.cx=H6k.backOutX(j4V);H6k.cy=H6k.backOutY(e5T);if(H6k.currentPanel && H6k.currentPanel.chart.dataSet){H6k.crosshairTick=H6k.tickFromPixel(H6k.cx,H6k.currentPanel.chart);H6k.crosshairValue=H6k.adjustIfNecessary(H6k.currentPanel,H6k.crosshairTick,H6k.valueFromPixel(H6k.cy,H6k.currentPanel));}H6k.headsUpHR();}H6k.findHighlights(!![]);i6UVR.W5N();H6k.draw();}W76.ChartEngine.prototype.endProxy=function(H1n){i6UVR.W3G();var L8z;if(this.touchPointerType != "touch"){this.mouseMode=!0;return;}this.mouseMode=![];L8z=this.touches.length;for(var F3h=0;F3h < this.touches.length;F3h++){if(this.touches[F3h].pointerId == H1n.pointerId){this.touches.splice(F3h,1);break;}}if(F3h == L8z){this.touches=[];this.grabbingScreen=![];this.touching=!"1";return;}this.changedTouches=[{pointerId:H1n.pointerId,pageX:H1n.clientX,pageY:H1n.clientY,clientX:H1n.clientX,clientY:H1n.clientY}];this.touchend(H1n);};W76.ChartEngine.prototype.msMouseMoveProxy=function(k2M){i6UVR.W3G();if(this.touches.length || !this.mouseMode){return;}this.mousemove(k2M);};W76.ChartEngine.prototype.msMouseDownProxy=function(K16){if(!this.mouseMode){return;}this.mousedown(K16);};W76.ChartEngine.prototype.msMouseUpProxy=function(e8O){if(!this.mouseMode){return;}this.mouseup(e8O);};W76.ChartEngine.prototype.iosMouseMoveProxy=function(X8v){if(this.touching){return;}this.mousemove(X8v);};W76.ChartEngine.prototype.iosMouseDownProxy=function(Q32){i6UVR.W5N();if(this.touching){this.mouseMode=!"1";return;}this.mouseMode=!!({});this.mousedown(Q32);};W76.ChartEngine.prototype.iosMouseUpProxy=function(I4j){if(this.touching){return;}i6UVR.W5N();this.mouseup(I4j);};W76.ChartEngine.prototype.touchmove=function(r2w){var S67=i6UVR;var A$G,N$X,h4f,e8k,u43,R31,e6I,H_5,h14,z5D,V91,R1U,b1u,W7_,b4Q,a7U,S9H,M1j,p3P,Y_A,w9Y,c4_,B0s,X0T,y8s,R3Y,w_8,y42,p29,d_t,u4N,s3p,x71,W34,E$i,n_I,t3h,g_u,U9P,Z_5,J6v;A$G="p";A$G+="e";A$G+="n";if(!this.displayInitialized){return;}if(this.openDialog !== ""){return;}if(W76.ChartEngine.ignoreTouch === !!({})){return;}N$X=[];S67.W5N();if(!this.overYAxis || this.controls && this.controls.crossX && this.controls.crossX.style.display != "none"){if(r2w && r2w.preventDefault && r2w.cancelable && this.captureTouchEvents){r2w.preventDefault();}if(r2w){r2w.stopPropagation();}}h4f=new Date().getTime();if(this.clicks.s2MS == -1){this.clicks.e1MS=h4f;if(this.clicks.e1MS - this.clicks.s1MS < 25){return;}}else {this.clicks.e2MS=h4f;if(this.clicks.e2MS - this.clicks.s2MS < +"25"){return;}}if(!r2w.pointerType){r2w.pointerType=this.touchPointerType;}if(W76.isSurface){if(this.mouseMode){return;}if(!r2w.pointerId){r2w.pointerId=this.gesturePointerId;}for(var i1u=+"0";i1u < this.touches.length;i1u++){if(this.touches[i1u].pointerId == r2w.pointerId){e8k=Math.abs(this.touches[i1u].pageX - r2w.clientX);u43=Math.abs(this.touches[i1u].pageY - r2w.clientY);S67.s$9(41);R31=Math.sqrt(S67.V9a(u43,e8k,u43,e8k));if(!R31){return;}this.clicks.e1MS=new Date().getTime();if(this.clicks.e1MS - this.clicks.s1MS < ("50" ^ 0)){return;}if(this.touches[i1u].pageX == r2w.clientX && this.touches[i1u].pageY == r2w.clientY){return;}this.touches[i1u].pageX=this.touches[i1u].clientX=r2w.clientX;this.touches[i1u].pageY=this.touches[i1u].clientY=r2w.clientY;break;}}if(i1u === +"0"){this.movedPrimary=!!({});}else {this.movedSecondary=!!({});}if(i1u == this.touches.length){return;}this.changedTouches=[{pointerId:r2w.pointerId,pageX:r2w.clientX,pageY:r2w.clientY,clientX:r2w.clientX,clientY:r2w.clientY}];N$X=this.touches.length?this.touches:this.changedTouches;}else {N$X=r2w.touches;this.changedTouches=r2w.changedTouches;}if(N$X.length == 1){if(Math.pow(this.clicks.x - N$X[0].clientX,+"2") + Math.pow(this.clicks.y - N$X[0].clientY,+"2") <= 16){return;}}e6I=this.crosshairXOffset;H_5=this.crosshairYOffset;h14=this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";z5D=!this.layout.crosshair && !h14 && !this.touchNoPan;if(r2w.pointerType == A$G || z5D || this.activeDrawing && this.activeDrawing.name == "freeform"){S67.s$9(29);e6I=H_5=S67.v$j("0",64);}if(this.runPrepend("touchmove",arguments)){return;}if(W76.ChartEngine.resizingPanel){S67.O_b(1);b1u=N$X[S67.V9a(0,"0")];V91=b1u.clientX;R1U=b1u.clientY;S67.s$9(0);this.mousemoveinner(S67.v$j(V91,e6I),S67.V9a(R1U,H_5));return;}if(this.moveB != -1){this.touchMoveTime=new Date();}this.moveA=this.moveB;W7_=-9927941;b4Q=-2105591087;a7U=2;for(var B6J=+"1";S67.m6F(B6J.toString(),B6J.toString().length,+"54783") !== W7_;B6J++){this.moveB=N$X["0" | 0].pageX;a7U+=2;}if(S67.m6F(a7U.toString(),a7U.toString().length,95998) !== b4Q){this.moveB=N$X[9].pageX;}if(N$X.length == 1 && !this.twoFingerStart){M1j=N$X[0];V91=M1j.clientX;R1U=M1j.clientY;this.pinchingScreen=0;S67.O_b(0);this.mousemoveinner(S67.V9a(V91,e6I),S67.v$j(R1U,H_5));p3P=this.whichPanel(R1U);Y_A=this.xAxisAsFooter === !0?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=R1U <= this.top + Y_A && R1U >= Y_A - this.xaxisHeight + this.top && this.insideChart;if(!p3P){this.overYAxis=!({});}else {this.overYAxis=(V91 >= p3P.right || V91 <= p3P.left) && this.insideChart;}}else if(N$X.length == 2 && this.allowZoom){if(!this.displayCrosshairs){return;}w9Y=N$X[0];c4_=w9Y.clientX;B0s=w9Y.clientY;X0T=N$X[1];y8s=X0T.clientX;R3Y=X0T.clientY;S67.O_b(140);S9H=Math.sqrt(S67.V9a(y8s,B0s,c4_,B0s,y8s,c4_,R3Y,R3Y));S67.O_b(22);var N8v=S67.V9a(19,287,0,15);this.pinchingCenter=(Math.min(c4_,y8s) - Math.max(c4_,y8s)) / N8v;w_8=Math.round(this.gestureStartDistance - S9H);if(z5D){this.pinchingScreen=5;}this.clearPixelCache();if(this.pinchingScreen < 2){if(W76.isSurface && (!this.movedPrimary || !this.movedSecondary)){return;}if(c4_ < this.pt.x1 && y8s < this.pt.x2 || c4_ > this.pt.x1 && y8s > this.pt.x2 || B0s < this.pt.y1 && R3Y < this.pt.y2 || B0s > this.pt.y1 && R3Y > this.pt.y2){S67.s$9(1);this.pinchingScreen=S67.V9a(0,"0");}else {this.pinchingScreen++;if(this.pinchingScreen < 2){return;}}}this.pt={x1:c4_,x2:y8s,y1:B0s,y2:R3Y};if(this.pinchingScreen === 0){this.grabMode="pan";S67.s$9(0);this.mousemoveinner(S67.V9a(c4_,e6I),S67.V9a(B0s,H_5));this.gestureStartDistance=S9H;}else {y42=Math.asin((Math.max(R3Y,B0s) - Math.min(R3Y,B0s)) / S9H);if(Math.abs(w_8) < +"12" && !z5D){this.moveCount++;if(this.moveCount == 4){this.pinchingScreen=0;this.moveCount=0;return;}}else {this.moveCount=0;}if(y42 < 1 || !this.goneVertical && y42 < "1.37" * 1){if(!this.currentPanel){return;}p29=this.currentPanel.chart;this.goneVertical=!({});S9H=this.pt.x2 - this.pt.x1;d_t=this.grabStartValues.t2 - this.grabStartValues.t1;S67.s$9(23);var Q8w=S67.v$j(13,11);u4N=this.grabStartValues.t1 + d_t / Q8w;S67.O_b(9);s3p=S67.v$j(S9H,d_t);if(p29.allowScrollFuture === !({}) && p29.allowScrollPast === !({})){s3p=Math.max(s3p,p29.width / p29.dataSet.length);}x71=this.layout.candleWidth;this.setCandleWidth(s3p,p29);if(p29.maxTicks < this.minimumZoomTicks){this.setCandleWidth(x71,p29);return;}this.micropixels=0;W34=this.pixelFromTick(Math.round(u4N),p29);E$i=this.pt.x1 - this.left + Math.round(S9H / +"2");S67.s$9(1);n_I=S67.V9a(E$i,W34);S67.s$9(9);t3h=S67.v$j(n_I,s3p);g_u=Math.round(t3h);p29.scroll-=g_u;S67.s$9(1);this.microscroll=S67.v$j(t3h,g_u);this.micropixels=s3p * this.microscroll;this.draw();}else {U9P=this.grabStartYAxis;this.goneVertical=!"";if(U9P){U9P.zoom=this.grabStartZoom + (this.gestureStartDistance - S9H);if(this.grabStartZoom < U9P.height){if(U9P.zoom >= U9P.height){S67.s$9(141);var J3L=S67.V9a(1,16,8,8,16);U9P.zoom=U9P.height - J3L;}}else {if(U9P.zoom <= U9P.height){S67.O_b(26);var F1Q=S67.v$j(4,14,3,5);U9P.zoom=U9P.height + F1Q;}}this.draw();;}}this.updateChartAccessories();}}else if(N$X.length == +"3" && W76.ChartEngine.allowThreeFingerTouch){if(!this.displayCrosshairs){return;}Z_5=N$X[0];J6v=Z_5.clientX;S9H=this.grabStartX - J6v;S67.s$9(1);var Y5J=S67.V9a(16,26);this.grabEndPeriodicity=this.grabStartPeriodicity + Math.round(S9H / Y5J);if(this.grabEndPeriodicity < 1){this.grabEndPeriodicity=1;}}this.runAppend("touchmove",arguments);};W76.ChartEngine.prototype.touchstart=function(U08){var M2k=i6UVR;var Z_v,H0J,H6h,n5z,O0u,c6N,D53,p3Q,S9C,n2s,K_j,q43,P_R,c$E,M9X,c8q,R$P,V93,N6N,A6Y,r8I,n0Z,H_x,F7z,z_q,U_H,G5q;Z_v="p";Z_v+="e";Z_v+="n";if(W76.ChartEngine.ignoreTouch){return;}if(W76.isSurface){this.movedPrimary=!!0;this.movedSecondary=![];}else {if(this.touchingEvent){clearTimeout(this.touchingEvent);}this.touching=!!({});this.touches=U08.touches;this.changedTouches=U08.changedTouches;}if(W76.ChartEngine.resizingPanel){return;}H0J=this.crosshairXOffset;H6h=this.crosshairYOffset;if(this.touchPointerType == Z_v){H0J=H6h=+"0";}if(this.runPrepend("touchstart",arguments)){return;}if(this.manageTouchAndMouse && U08 && U08.preventDefault && U08.cancelable && this.captureTouchEvents){U08.preventDefault();}this.hasDragged=![];this.doubleFingerMoves=0;M2k.s$9(42);this.moveCount=M2k.v$j("0",0);this.twoFingerStart=![];if(this.touches.length == +"1" || this.touches.length == ("2" | 0)){this.touchMoveTime=Date.now();S9C=this.touches[0];c6N=S9C.clientX;D53=S9C.clientY;this.moveA=c6N;this.moveB=-1;if(this.openDialog === ""){this.registerPointerEvent({x:c6N,y:D53,time:this.touchMoveTime},"down");if(this.changedTouches.length == 1 && !this.isDoubleClick(!!1)){W76.extend(this.clicks,{s1MS:this.touchMoveTime,e1MS:-1,s2MS:-1,e2MS:-1,x:this.changedTouches[0].pageX,y:this.changedTouches[0].pageY});}}n2s=this.container.getBoundingClientRect();this.top=n2s.top;this.left=n2s.left;this.right=this.left + this.width;this.bottom=this.top + this.height;if(this.touches.length == 1){K_j=this.backOutY(D53);this.currentPanel=this.whichPanel(K_j);}if(!this.currentPanel){this.currentPanel=this.chart.panel;}p3Q=this.currentPanel;if(c6N >= this.left && c6N <= this.right && D53 >= this.top && D53 <= this.bottom){this.insideChart=!!1;q43=this.xAxisAsFooter === !!({})?this.chart.canvasHeight:this.chart.panel.bottom;this.overXAxis=D53 <= this.top + q43 && D53 >= this.top + q43 - this.xaxisHeight;this.overYAxis=c6N >= this.left + p3Q.right || c6N <= this.left + p3Q.left;P_R=-1;this.cy=this.backOutY(D53);this.cx=this.backOutX(c6N);this.crosshairTick=this.tickFromPixel(this.cx,p3Q.chart);this.crosshairValue=this.adjustIfNecessary(p3Q,this.crosshairTick,this.valueFromPixel(this.cy,this.currentPanel));for(var H9N=0;H9N < this.drawingObjects.length;H9N++){c$E=this.drawingObjects[H9N];if(c$E.highlighted){if(P_R < 0){P_R=H9N;}M9X=c$E.highlighted;this.findHighlights(!!({}));if(H9N == P_R && c$E.highlighted && !c$E.permanent){if(this.clicks.s2MS == -1){this.activateRepositioning(c$E);;}else {this.findHighlights(![],!!({}));;}return;}this.anyHighlighted=!!({});c$E.highlighted=M9X;}}}else {this.insideChart=![];}c8q=this.currentVectorParameters.vectorType && this.currentVectorParameters.vectorType !== "";if(!this.layout.crosshair && !(this.layout.headsUp && this.layout.headsUp.floating) && !c8q && this.insideChart && !this.touchNoPan){H0J=H6h=0;var {baselineHelper:D08}=this;if(D08.size){if(this.findBaselineHandle(U08,!![])){return;}}if(this.controls.anchorHandles){R$P=Object.values(this.controls.anchorHandles);V93=!!0;for(var a1c=0;a1c < R$P.length;a1c++){N6N=R$P[a1c];var {handle:l5j, sd:V1H}=N6N;A6Y=this.resolveX(this.cx);r8I=this.resolveY(this.cy);var {left:S5f, top:S$q, right:V3n, bottom:i8M}=l5j.getBoundingClientRect();S5f-=10;V3n+=10;if(W76.boxIntersects(S5f,S$q,V3n,i8M,A6Y,r8I,A6Y,r8I)){N6N.highlighted=!"";this.repositioningAnchorSelector={sd:V1H};l5j.classList.add("stx-grab");V93=!!({});}if(N6N.highlighted === !!"1"){N6N.highlighted=!({});}}if(V93){return;}}for(n5z in this.panels){O0u=this.panels[n5z];if(O0u.highlighted){this.grabHandle(O0u);return;}}this.grabbingScreen=!![];if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}p3Q.chart.spanLock=![];this.yToleranceBroken=!({});M2k.s$9(0);this.grabStartX=M2k.V9a(c6N,H0J);M2k.s$9(0);this.grabStartY=M2k.V9a(D53,H6h);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=p3Q.chart.scroll;this.grabStartScrollY=p3Q.yAxis.scroll;this.grabStartPanel=this.currentPanel;if(this.swipeStart){this.swipeStart(p3Q.chart);}this.grabStartYAxis=this.whichYAxis(p3Q,this.backOutX(c6N));this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:0;setTimeout((function(C3m){return function(){M2k.W3G();C3m.grabbingHand();};})(this),100);}else {this.grabbingScreen=!1;if(this.insideChart && p3Q.subholder === U08.target){n0Z=this.currentVectorParameters.vectorType;if(W76.Drawing && n0Z && W76.Drawing[n0Z] && new W76.Drawing[n0Z]().dragToDraw){this.userPointerDown=!"";W76.ChartEngine.crosshairX=c6N;W76.ChartEngine.crosshairY=D53;if(p3Q && p3Q.chart.dataSet){this.crosshairTick=this.tickFromPixel(this.backOutX(W76.ChartEngine.crosshairX),this.currentPanel.chart);this.crosshairValue=this.adjustIfNecessary(p3Q,this.crosshairTick,this.valueFromPixel(this.backOutY(W76.ChartEngine.crosshairY),this.currentPanel));}this.drawingClick(p3Q,this.backOutX(c6N),this.backOutY(D53));this.headsUpHR();return;}}}if(this.touches.length === 1 && this.layout.crosshair && !c8q && p3Q.subholder === U08.target){M2k.s$9(0);this.mousemoveinner(M2k.v$j(c6N,H0J),M2k.V9a(D53,H6h));}}if(this.touches.length == 2){this.cancelLongHold=!!({});this.swipe.end=!![];if(!this.displayCrosshairs && !this.touchNoPan || !this.insideChart){return;}H_x=this.touches[1];F7z=H_x.clientX;z_q=H_x.clientY;for(n5z in this.panels){O0u=this.panels[n5z];if(O0u.highlighted){this.grabHandle(O0u);return;}}p3Q=this.currentPanel;M2k.s$9(140);this.gestureStartDistance=Math.sqrt(M2k.v$j(F7z,D53,c6N,D53,F7z,c6N,z_q,z_q));this.pt={x1:c6N,x2:F7z,y1:D53,y2:z_q};this.grabbingScreen=!!1;if(this.disableBackingStoreDuringTouch){this.disableBackingStore();}p3Q.chart.spanLock=!({});M2k.s$9(0);this.grabStartX=M2k.v$j(c6N,H0J);M2k.s$9(0);this.grabStartY=M2k.V9a(D53,H6h);this.grabStartMicropixels=this.micropixels;this.grabStartScrollX=p3Q.chart.scroll;this.grabStartScrollY=p3Q.yAxis.scroll;this.grabStartPanel=p3Q;if(this.swipeStart){this.swipeStart(p3Q.chart);}this.grabStartCandleWidth=this.layout.candleWidth;this.grabStartYAxis=this.whichYAxis(p3Q,this.backOutX((c6N + F7z) / 2)) || p3Q.yAxis;this.grabStartZoom=this.grabStartYAxis?this.grabStartYAxis.zoom:"0" | 0;this.grabStartPt=this.pt;this.grabStartValues={x1:this.pt.x1,x2:this.pt.x2,y1:this.valueFromPixel(this.pt.y1 - this.top,p3Q),y2:this.valueFromPixel(this.pt.y2 - this.top,p3Q),t1:this.tickFromPixel(this.pt.x1 - this.left,p3Q.chart),t2:this.tickFromPixel(this.pt.x2 - this.left,p3Q.chart)};this.twoFingerStart=!!({});setTimeout((function(h3A){return function(){M2k.W3G();h3A.grabbingHand();};})(this),100);}else if(this.touches.length == 3){if(!this.displayCrosshairs){return;}U_H=this.touches[0];G5q=U_H.clientX;this.grabStartX=G5q;this.grabStartPeriodicity=this.layout.periodicity;}if(this.touches.length == 1 && !this.layout.crosshair){this.mouseTimer=Date.now();this.longHoldTookEffect=![];if(this.longHoldTime || this.longHoldTime === 0){this.startLongHoldTimer();}}this.runAppend("touchstart",arguments);};W76.ChartEngine.prototype.touchend=function(J3j){var M6a=i6UVR;var V$w,S$M,v1G,a0X,W_e,u1q,v7d,r28,e5_,C7g,t88,g1V,u0$,d39,j5e;V$w="t";V$w+="ouchend";if(W76.ChartEngine.ignoreTouch){return;}this.swipe.end=!0;if(W76.isSurface){}else {this.touches=J3j.touches;S$M=848413121;v1G=1614484767;a0X=2;for(var n8_=1;M6a.m6F(n8_.toString(),n8_.toString().length,13841) !== S$M;n8_++){this.changedTouches=J3j.changedTouches;a0X+=2;}if(M6a.l5h(a0X.toString(),a0X.toString().length,69418) !== v1G){this.changedTouches=J3j.changedTouches;}}if(this.runPrepend("touchend",arguments)){return;}this.cancelLongHold=!!({});if(this.touches.length <= 1){if(this.layout.crosshair || this.currentVectorParameters.vectorType){if(!this.touches.length || !this.twoFingerStart){this.grabbingScreen=!({});}}}if(this.touches.length){this.grabStartX=-1;this.grabStartY=-1;}W_e=this.pinchingScreen;if(this.disableBackingStoreDuringTouch){this.reconstituteBackingStore();}if(!this.touches.length){this.touchingEvent=setTimeout((function(Y0O){return function(){M6a.W5N();Y0O.touching=!"1";};})(this),500);if(W76.ChartEngine.resizingPanel){this.releaseHandle();return;}this.pinchingScreen=null;this.pinchingCenter=null;this.goneVertical=!!0;this.grabbingScreen=!!"";this.grabMode="";if(this.highlightedDraggable){if(this.dragPlotOrAxis){this.dragPlotOrAxis(this.cx,this.cy);}this.currentPanel=this.whichPanel(this.cy);}this.grabStartYAxis=null;this.displayDragOK();this.doDisplayCrosshairs();this.updateChartAccessories();}else {if(W76.ChartEngine.resizingPanel){return;}}M6a.O_b(1);var N6v=M6a.v$j(13,14);u1q=this.touches.length + N6v;if(this.changedTouches.length == 1){if(this.repositioningDrawing){this.changeOccurred("vector");W76.clearCanvas(this.chart.tempCanvas,this);this.activateRepositioning(null);this.draw();if(!this.layout.crosshair && !this.currentVectorParameters.vectorType){this.findHighlights(!({}),!![]);}return;}if(this.repositioningBaseline){v7d="mo";v7d+="unta";v7d+="in";this.repositioningBaseline=null;this.controls.baselineHandle.classList.remove("stx-grab");r28=this.mainSeriesRenderer || ({});if(r28.params && r28.params.baseline && r28.params.type != v7d){;}this.draw();return;}if(this.repositioningAnchorSelector){W76.Studies.repositionAnchor(this,this.repositioningAnchorSelector.sd);this.repositioningAnchorSelector=null;Object.values(this.controls.anchorHandles).forEach(({handle:q_X})=>{M6a.W3G();return q_X.classList.remove("stx-grab");});return;}e5_=Date.now();if(this.openDialog === "" && J3j.changedTouches.length){C7g=J3j.changedTouches[0];this.registerPointerEvent({x:C7g.clientX,y:C7g.clientY,time:e5_},"up");}if(this.clicks.s2MS == -1){this.clicks.e1MS=e5_;t88=this.currentVectorParameters.vectorType;if(!W76.Drawing || !t88 || !W76.Drawing[t88] || !new W76.Drawing[t88]().dragToDraw){if(this.clicks.e1MS - this.clicks.s1MS < 750 && !this.longHoldTookEffect && (!this.hasDragged || this.layout.crosshair)){setTimeout(this.touchSingleClick(u1q,this.clicks.x,this.clicks.y),this.doubleClickTime + +"1");;}else {this.clicks={s1MS:-1,e1MS:-("1" << 32),s2MS:-1,e2MS:-+"1"};}}this.userPointerDown=!!0;g1V=this.backOutY(this.changedTouches[0].pageY) + this.crosshairYOffset;u0$=this.backOutX(this.changedTouches[+"0"].pageX) + this.crosshairXOffset;d39=this.currentPanel;j5e=d39 && d39.subholder === J3j.target;if(W76.Drawing && this.activeDrawing && this.activeDrawing.dragToDraw && j5e){this.drawingClick(d39,u0$,g1V);return;}if(this.isDoubleClick(!!1) && (j5e || this.overYAxis || this.overXAxis)){this.touchDoubleClick(u1q,this.clicks.x,this.clicks.y);}}else {this.clicks.e2MS=e5_;this.clicks={s1MS:-1,e1MS:-1,s2MS:-1,e2MS:-1};}}else if(this.displayCrosshairs){if(this.grabEndPeriodicity != -("1" ^ 0) && !isNaN(this.grabEndPeriodicity)){if(W76.ChartEngine.isDailyInterval(this.layout.interval) || this.allowIntradayNMinute){this.setPeriodicity({period:this.grabEndPeriodicity,interval:this.layout.interval});}this.grabEndPeriodicity=-1;}}if(this.changedTouches.length){if(!this.layout.crosshair && !this.currentVectorParameters.vectorType && u1q == 1 || this.twoFingerStart && !W_e && !this.touches.length){if(this.swipeRelease){this.swipeRelease();}this.findHighlights(!"1",!"");}if(W_e && this.continuousZoom){this.continuousZoom.execute();this.continuousZoom.execute(!!1);}}if(!this.touches.length){this.twoFingerStart=!({});}this.runAppend(V$w,arguments);};u5p=![];W76.ChartEngine.prototype.mousemoveinner=W76.ChartEngine.prototype.mousemoveinner || (function(E1C,K9u){var e5l;e5l="touch feature requires acti";e5l+="vating movement ";i6UVR.W5N();e5l+="feature.";if(!u5p){console.error(e5l);}u5p=!![];});};K_=k2F=>{var p9R;p9R=typeof _CIQ !== "undefined"?_CIQ:k2F.CIQ;p9R.Visualization=p9R.Visualization || (function(y7R){var n7$;if(!y7R){n7$="CIQ.V";n7$+="isualization() miss";n7$+="ing attributes argument.";console.log(n7$);return;}if(typeof y7R.renderFunction !== "function"){console.log("CIQ.Visualization() missing renderFunction property in attributes.");return;}this.container=null;this.attributes=y7R;this.data=null;this.object=null;});p9R.extend(p9R.Visualization.prototype,{destroy:function(r_m){var V$V;V$V=this.container;p9R.resizeObserver(V$V,null,V$V.resizeHandle);if(V$V.autoGenerated){V$V.remove();delete this.container;}else {V$V.innerHTML="";}if(r_m){return;}this.attributes=null;this.container=null;this.data=null;this.object=null;this.destroy=this.draw=this.setAttributes=function(){};this.updateData=function(){return undefined;};},draw:function(R9d){var F3U=i6UVR;var X9w,Q4l,V9m,n2m,x$c,U6E,E_Y,l56,A7Y,e_M,n5l,y4x;if(!this.data || typeof this.data !== "object"){console.log("CIQ.Visualization.draw() missing data.");X9w=1535042138;Q4l=+"1684975138";F3U.O_b(39);V9m=F3U.V9a("2",0);for(var z5A=1;F3U.m6F(z5A.toString(),z5A.toString().length,"73626" >> 0) !== X9w;z5A++){return;}if(F3U.l5h(V9m.toString(),V9m.toString().length,"45784" << 0) !== Q4l){return;}return;}n2m=this.attributes;x$c=n2m.container || this.container;F3U.O_b(2);U6E=F3U.v$j(1,"1152923535");E_Y=-651944491;l56=2;for(var h27=1;F3U.l5h(h27.toString(),h27.toString().length,"48714" ^ 0) !== U6E;h27++){if(~x$c !== ""){x$c=document.querySelector(x$c);}l56+=2;}if(F3U.l5h(l56.toString(),l56.toString().length,53662) !== E_Y){if(+x$c != ""){x$c=document.querySelector(x$c);}}if(typeof x$c === "string"){x$c=document.querySelector(x$c);}if(!x$c){A7Y="d";A7Y+="iv";x$c=document.createElement(A7Y);x$c.style.height=x$c.style.width="300px";document.body.appendChild(x$c);x$c.autoGenerated=!"";}if(n2m.stx){e_M=n2m.stx.chart.canvasShim;if(n2m.useCanvasShim && e_M && e_M !== x$c && e_M !== x$c.parentNode){if(!x$c.autoGenerated){x$c=x$c.cloneNode();x$c.id="";x$c.autoGenerated=!!1;}e_M.appendChild(x$c);}}if(this.container && this.container !== x$c){this.destroy(!![]);}if(!x$c.resizeHandle){n5l=function(q8p){F3U.W5N();return function(){if(q8p.data && q8p.container && document.body.contains(q8p.container)){q8p.draw.call(q8p,!!"1");}};};x$c.resizeHandle=p9R.resizeObserver(x$c,n5l(this),null,100);}this.container=x$c;this.attributes=n2m;function z72(m1r,U6J){F3U.W5N();return m1r.index < U6J.index?-("1" | 1):m1r.index > U6J.index?1:0;}n2m=p9R.ensureDefaults({container:this.container},this.attributes);y4x=n2m.renderFunction(Object.values(this.data).sort(z72),n2m);F3U.W3G();if(y4x){if(n2m.id){y4x.id=n2m.id;}if(R9d || n2m.forceReplace){this.container.innerHTML="";this.container.appendChild(y4x);}}this.attributes=n2m;this.object=y4x;},setAttributes:function(P6a,X_a){var C3L,F2k,M3e,I55,r1l,O_w,u7i;C3L="o";C3L+="bje";C3L+="ct";F2k="i";F2k+="d";M3e="useCanvasShi";M3e+="m";I55="s";I55+="t";I55+="x";r1l=["renderFunction","container",I55,M3e,F2k,"forceReplace"];O_w=![];u7i=P6a;if(typeof P6a == "string"){u7i={};u7i[P6a]=X_a;}if(typeof u7i == C3L){for(var l7v in u7i){if(this.attributes[l7v] !== u7i[l7v] && r1l.indexOf(l7v) !== -1){O_w=!!({});}this.attributes[l7v]=u7i[l7v];}}this.draw(O_w);},updateData:function(y04,f$x){var i8q,Y0Z,i6x,D1o,Q97,Y5R,n_L;i6x=Array.isArray(y04)?y04.reduce(function(J$I,a_f){i6UVR.W3G();J$I[a_f.name]=a_f;return J$I;},{}):p9R.shallowClone(y04);for(i8q in i6x){D1o="[objec";D1o+="t";D1o+=" Object";D1o+="]";Y0Z=i6x[i8q];if(Object.prototype.toString.call(Y0Z) !== D1o){i6x[i8q]={value:Y0Z};}if(!i6x[i8q].name){i6x[i8q].name=i8q;}if(!i6x[i8q].value){i6x[i8q].value=0;}}Q97=1047076763;Y5R=1195307784;n_L=2;for(var M$X=1;i6UVR.l5h(M$X.toString(),M$X.toString().length,"26416" >> 32) !== Q97;M$X++){if(-f$x){f$x="";}n_L+=2;}if(i6UVR.m6F(n_L.toString(),n_L.toString().length,71509) !== Y5R){if(!f$x){f$x="replace";}}switch(f$x.toLowerCase()){case "delete":for(i8q in i6x){delete this.data[i8q];}break;case "replace":this.data={};case "update":case "add":for(i8q in i6x){if(!this.data[i8q]){this.data[i8q]={name:i8q};}Y0Z=i6x[i8q].value;if(Object.prototype.toString.call(Y0Z) == "[object Number]"){if(!this.data[i8q].value || f$x == "update"){this.data[i8q].value=0;}this.data[i8q].value+=Y0Z;}else {this.data[i8q].value=Y0Z;}for(var s9h in i6x[i8q]){if(s9h !== "value"){this.data[i8q][s9h]=i6x[i8q][s9h];}}}break;default:console.log("Invalid or missing action.  Valid values are 'add', 'delete', 'replace', or 'update'.");}i6UVR.W5N();this.draw(this.attributes.forceReplace);return this;}});p9R.ChartEngine.prototype.embedVisualization=function(c9S){if(!c9S){c9S={};}c9S.stx=this;c9S.useCanvasShim=!"";c9S.translator=function(p5G){return c9S.stx.translateIf(p5G);};return new p9R.Visualization(c9S);};};D5=K0J=>{var g7f,m6$;g7f=typeof _CIQ !== "undefined"?_CIQ:K0J.CIQ;if(!g7f.Studies){m6$="medianPrice feature requires first activating stu";m6$+="d";m6$+="ies feature.";console.error(m6$);}else {g7f.Studies.calculateTypicalPrice=function(n38,C3E){var P2K=i6UVR;var z3H,C_x,K7T,X11,r2M,B5B;z3H="h";z3H+="l/2";C_x=C3E.chart.scrubbed;K7T=C3E.days;if(C_x.length < K7T + 1){if(!C3E.overlay){C3E.error=!"";}return;}X11=C3E.name;for(var h0h in C3E.outputs){P2K.O_b(35);X11=P2K.v$j(" ",X11,h0h);}r2M="hlc/3";if(C3E.type == "Med Price"){r2M=z3H;}else if(C3E.type == "Weighted Close"){r2M="hlcc/4";}B5B=0;if(C3E.startFrom <= K7T){C3E.startFrom=0;}for(var G7Q=C3E.startFrom;G7Q < C_x.length;G7Q++){if(G7Q && C_x[G7Q - 1][X11]){P2K.s$9(131);var a8c=P2K.V9a(32,24,5,13);B5B=C_x[G7Q - ("1" >> a8c)][X11] * K7T;}B5B+=C_x[G7Q][r2M];if(G7Q >= K7T){P2K.O_b(1);B5B-=C_x[P2K.V9a(K7T,G7Q)][r2M];P2K.s$9(9);C_x[G7Q][X11]=P2K.v$j(B5B,K7T);}}};g7f.Studies.studyLibrary=g7f.extend(g7f.Studies.studyLibrary,{"Med Price":{name:"Median Price",calculateFN:g7f.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};S8=e32=>{var g_m;g_m=typeof _CIQ !== "undefined"?_CIQ:e32.CIQ;if(!g_m.Studies){console.error("momentum feature requires first activating studies feature.");}else {g_m.Studies.calculateRateOfChange=function(Y0Q,b6P){var S4u=i6UVR;var z3$,d1j,f7M,N2i,x2C,R13,u5P,N7G;z3$=b6P.chart.scrubbed;if(z3$.length < b6P.days + 1){b6P.error=!!"1";return;}S4u.W5N();d1j=b6P.inputs.Field;if(!d1j || d1j == "field"){d1j="Close";}if(b6P.parameters.isVolume){d1j="Volume";}f7M=b6P.name;for(var N7m in b6P.outputs){S4u.s$9(35);f7M=S4u.V9a(" ",f7M,N7m);}N2i=b6P.inputs["Center Line"];if(!N2i){N2i=0;}else {N2i=parseInt(N2i,10);}for(var I32=Math.max(b6P.startFrom,b6P.days);I32 < z3$.length;I32++){x2C="obje";x2C+="c";x2C+="t";R13=z3$[I32][d1j];if(R13 && typeof R13 == x2C){R13=R13[b6P.subField];}u5P=z3$[I32 - b6P.days][d1j];if(u5P && typeof u5P == "object"){u5P=u5P[b6P.subField];}if(b6P.type == "Momentum"){S4u.s$9(33);z3$[I32][f7M]=S4u.V9a(R13,N2i,u5P);}else {N7G=u5P;if(N7G){S4u.O_b(142);z3$[I32][f7M]=S4u.V9a(N2i,R13,N7G,100,1);}}}};g_m.Studies.studyLibrary=g_m.extend(g_m.Studies.studyLibrary,{"Price ROC":{name:"Price Rate of Change",calculateFN:g_m.Studies.calculateRateOfChange,inputs:{Period:14,Field:"field"}},Momentum:{name:"Momentum Indicator",calculateFN:g_m.Studies.calculateRateOfChange,inputs:{Period:+"14"},centerline:0}});}};V4=a28=>{var E0u;E0u=typeof _CIQ !== "undefined"?_CIQ:a28.CIQ;if(!E0u.Studies){console.error("priceRelative feature requires first activating studies feature.");}else {E0u.Studies.initPriceRelative=function(Z7Q,l6V,L_4,O_y,E73,G15){var U6X,D4C;U6X=E0u.Studies.initializeFN(Z7Q,l6V,L_4,O_y,E73,G15);D4C=[U6X.inputs["Comparison Symbol"].toUpperCase()];E0u.Studies.fetchAdditionalInstruments(Z7Q,U6X,D4C);i6UVR.W3G();return U6X;};E0u.Studies.calculatePriceRelative=function(m$v,v6S){var w65,n3x,O7i,z_Z,R6w,a6J,v41;w65="]";w65+="/";w65+="[";n3x=v6S.chart.scrubbed;O7i=v6S.inputs["Comparison Symbol"].toUpperCase();if(!O7i){O7i=v6S.study.inputs["Comparison Symbol"];}z_Z={};R6w=m$v.chart.symbol || "";R6w=R6w.replace(/[=+\-*\\%]/g,"");z_Z[R6w]=n3x.slice(v6S.startFrom);if(!z_Z[R6w].length){return;}if(R6w != O7i){z_Z[O7i]=null;}i6UVR.s$9(75);a6J=E0u.computeEquationChart(i6UVR.v$j(O7i,R6w,"[",531.76 != 922.66?+"6924" == 560.73?(837.63,299.24) <= (6293,"2300" | 72)?4.36e+3:"a":"]":!0,w65),z_Z);v41=+"0";for(var E3p=v6S.startFrom;E3p < n3x.length && v41 < a6J.length;E3p++){while(v41 < a6J.length && n3x[E3p].DT.getTime() > a6J[v41].DT.getTime()){v41++;}if(n3x[E3p].DT.getTime() < a6J[v41].DT.getTime())continue;n3x[E3p]["Result " + v6S.name]=a6J[v41].Close;v41++;}};E0u.Studies.displayVsComparisonSymbol=function(g2p,o_V,r9i){var N29,N92,z77,e8t,I70;N29="C";N29+="o";N29+="m";N29+="parison Symbol";N92=o_V.inputs[N29].toUpperCase();if(!g2p.getSeries({symbol:N92,chart:o_V.chart}).length){g2p.displayErrorAsWatermark(o_V.panel,g2p.translateIf(o_V.study.name) + ": " + g2p.translateIf("Not Available"));return;}z77={skipTransform:g2p.panels[o_V.panel].name != o_V.chart.name,panelName:o_V.panel,band:"Result " + o_V.name,threshold:o_V.study.centerline,yAxis:o_V.getYAxis(g2p),gapDisplayStyle:!!"1"};e8t=z77.yAxis?z77.yAxis.flipped:g2p.panels[o_V.panel].yAxis.flipped;i6UVR.W5N();I70=0.3;if(!o_V.highlight && g2p.highlightedDraggable){I70*=0.3;}for(var y5N=r9i.length - ("1" | 0);y5N >= 0;y5N--){if(r9i[y5N] && r9i[y5N][N92]){E0u.Studies.displaySeriesAsLine(g2p,o_V,r9i);if(o_V.study.centerline || o_V.study.centerline === ("0" | 0)){if(o_V.outputs.Gain){E0u.preparePeakValleyFill(g2p,E0u.extend(z77,{direction:e8t?-1:1,color:E0u.Studies.determineColor(o_V.outputs.Gain),opacity:I70}));}if(o_V.outputs.Loss){E0u.preparePeakValleyFill(g2p,E0u.extend(z77,{direction:e8t?1:-1,color:E0u.Studies.determineColor(o_V.outputs.Loss),opacity:I70}));}}return;}}};E0u.Studies.fetchAdditionalInstruments=function(U9F,C7Z,x76,F4y){var G30,j4q,J0z,n9h,M17,R84,a5_;if(!U9F.quoteDriver){G30="CIQ.Studies.fetchAdditionalInstruments: No quotefee";G30+="d to fet";G30+="ch symbol";console.log(G30);return;}j4q=U9F.panels[C7Z.panel].chart;function m__(){U9F.createDataSet();U9F.draw();}C7Z.symbols=x76;for(J0z=0;J0z < x76.length;J0z++){n9h=M17=x76[J0z];if(typeof M17 == "object"){n9h=M17.symbol;}else {M17={symbol:n9h};}R84={symbol:n9h,symbolObject:M17,bucket:"study",studyName:C7Z.name,chartName:j4q.name,action:"add-study"};E0u.extend(R84,F4y);a5_=R84.loadData;if(U9F.currentlyImporting){R84.loadData=![];}if(!C7Z.series){C7Z.series={};}C7Z.series[n9h]=U9F.addSeries(null,R84,m__);C7Z.series[n9h].parameters.loadData=a5_;}};E0u.Studies.studyLibrary=E0u.extend(E0u.Studies.studyLibrary,{"P Rel":{name:"Price Relative",initializeFN:E0u.Studies.initPriceRelative,seriesFN:E0u.Studies.displayVsComparisonSymbol,calculateFN:E0u.Studies.calculatePriceRelative,centerline:0,inputs:{"Comparison Symbol":"SPY"},deferUpdate:!0}});}};U$=b4S=>{var h1g,N$E,r7P,F$x,V_J,C5f,x4Z,o9M,a5z,S0I;h1g="un";h1g+="d";h1g+="ef";h1g+="ined";N$E=typeof _CIQ !== h1g?_CIQ:b4S.CIQ;if(!N$E.Studies){r7P="vwap feature requires first activating studies ";r7P+="fea";r7P+="ture.";console.error(r7P);}else {F$x="#f";F$x+="ff69";F$x+="e";V_J="#";V_J+="85c";V_J+="99e";C5f="#e";C5f+="1e";C5f+="1";C5f+="e1";x4Z="h";x4Z+="h";x4Z+=":mm:s";x4Z+="s";o9M="#85c";o9M+="99e";a5z="#e1e";a5z+="1e1";S0I="#";S0I+="F";S0I+="F0";S0I+="000";N$E.Studies.calculateVWAP=function(A4N,Y75){var S_r=i6UVR;var Y$p,F30,w3K,b8e,p9L,M7t,F5$,G2H,Q6P,M0S,W4$,V5O,n6M,M7m,V2t,W$O,Y0B,f25,h9q,Q4k,s9b,Q0A,p$v,R_i,i6n,t8P,Y5Q,e9D,o7B;Y$p="A";Y$p+="V";Y$p+="WA";S_r.W3G();Y$p+="P";F30=Y75.type == Y$p;w3K=Y75.chart.scrubbed;if(!F30 && N$E.ChartEngine.isDailyInterval(A4N.layout.interval)){Y75.error="VWAP is Intraday Only";return;}b8e="hlc/3";if(F30){b8e=Y75.inputs.Field;if(!b8e || b8e == "field"){p9L="h";p9L+="l";p9L+="c/";p9L+="3";b8e=Y75.inputs.Field=p9L;A4N.changeOccurred("layout");}}M7t=null;F5$=0;G2H=0;Q6P=+"0";M0S=!!"";if(Y75.startFrom > 1){W4$="_";W4$+="V";W4$+=" ";F5$=w3K[Y75.startFrom - 1][W4$ + Y75.name] || 0;G2H=w3K[Y75.startFrom - 1]["_VxP " + Y75.name] || 0;Q6P=w3K[Y75.startFrom - 1]["_VxP2 " + Y75.name] || 0;}if(F30){V5O="An";V5O+="cho";V5O+="r Time";n6M="Anc";n6M+="hor D";n6M+="ate";M7m=Y75.inputs[n6M].replace(/-/g,"");if(M7m.search(/^\d{8}$/)){Y75.error="Invalid Anchor Date";return;}V2t=Y75.inputs[V5O].replace(/:/g,"");if(!V2t.search(/^\d{4,6}$/)){M7m+=V2t;}M7m=N$E.strToDateTime(M7m.replace(/\D/g,""));if(!Y75.startFrom && M7m >= w3K["0" | 0].DT){Y75.startFrom=A4N.tickFromDate(M7m,A4N.chart,null,!"");}if(Y75.inputs["Anchor Selector"]){N$E.Studies.initAnchorHandle(A4N,Y75);}else {N$E.Studies.removeAnchorHandle(A4N,Y75);}}for(var I0X=Y75.startFrom;I0X < w3K.length;I0X++){W$O="VWA";W$O+="P ";Y0B="_S";Y0B+="DVWAP ";if(!F30){if(M7t === null){M7t=N$E.Studies.getMarketOffset({stx:A4N,localQuoteDate:w3K[I0X].DT,shiftToDateBoundary:!![]});}if(w3K[I0X - 1] && w3K[I0X - 1].DT){f25=new Date(new Date(+w3K[I0X].DT).setMilliseconds(w3K[I0X].DT.getMilliseconds() + M7t));h9q=new Date(new Date(+w3K[I0X - 1].DT).setMilliseconds(w3K[I0X - 1].DT.getMilliseconds() + M7t));if(h9q.getDate() != f25.getDate() && A4N.chart.market.isMarketDate(f25)){M7t=null;F5$=G2H=Q6P=0;}}}Q4k=w3K[I0X][b8e];s9b=w3K[I0X].Volume;if(F30 && !s9b){s9b=1;}F5$+=s9b;S_r.O_b(2);G2H+=S_r.V9a(Q4k,s9b);S_r.s$9(143);Q6P+=S_r.V9a(Q4k,Q4k,s9b);if(!F30 && !F5$)continue;w3K[I0X]["_V " + Y75.name]=F5$;w3K[I0X]["_VxP " + Y75.name]=G2H;w3K[I0X]["_VxP2 " + Y75.name]=Q6P;Q0A=w3K[I0X][Y0B + Y75.name]=Math.sqrt(Math.max("0" >> 32,Q6P / F5$ - Math.pow(G2H / F5$,"2" ^ 0)));S_r.s$9(9);p$v=w3K[I0X][W$O + Y75.name]=S_r.V9a(G2H,F5$);for(var Y9y=1;Y9y <= 3;Y9y++){S_r.s$9(46);w3K[I0X]["SDVWAP" + Y9y + "+ " + Y75.name]=S_r.V9a(Y9y,p$v,Q0A);S_r.s$9(90);w3K[I0X]["SDVWAP" + Y9y + "- " + Y75.name]=S_r.v$j(Q0A,Y9y,p$v);}M0S=!"";}for(var i6X="1" ^ 0;i6X <= 3;i6X++){if(Y75.inputs["Display " + i6X + " Standard Deviation (" + i6X + "\u03C3)"]){R_i="\u03C3";R_i+=")";i6n=" Standard Devi";i6n+="ation (";t8P="+";t8P+=" ";S_r.O_b(51);Y75.outputMap["SDVWAP" + i6X + t8P + Y75.name]=S_r.V9a("\u03C3)",i6X,i6X," Standard Deviation (");S_r.s$9(51);Y75.outputMap["SDVWAP" + i6X + "- " + Y75.name]=S_r.V9a(R_i,i6X,i6X,i6n);}}if(!F30 && !M0S){S_r.O_b(29);Y5Q=S_r.V9a("1262758872",32);e9D=-1311081374;o7B=2;for(var A_Q=+"1";S_r.m6F(A_Q.toString(),A_Q.toString().length,71139) !== Y5Q;A_Q++){Y75.error="VWAP Requires Volume";o7B+=2;}if(S_r.m6F(o7B.toString(),o7B.toString().length,73285) !== e9D){Y75.error="";}}};N$E.Studies.initAnchoredVWAP=function(u9M,V8c,O5X,l47,E4f,P$f){i6UVR.W5N();var E8f,V9t;if(!O5X["Anchor Date"] && !O5X["Anchor Time"]){var {dataSegment:Z1G}=u9M.chart;for(var H3p=0;Z1G && H3p < Z1G.length;H3p++){if(Z1G[H3p]){E8f="H";E8f+="H";E8f+=":";E8f+="mm:ss";var {DT:z8m}=Z1G[H3p];O5X["Anchor Date"]=N$E.dateToStr(z8m,"YYYY-MM-dd");O5X["Anchor Time"]=N$E.dateToStr(z8m,E8f);break;}}}V9t=N$E.Studies.initializeFN(u9M,V8c,O5X,l47,E4f,P$f);return V9t;};N$E.Studies.displayVWAP=function(y_J,W2D,G14){var g5E,j2w,l0O,h8a,K7b,N9o,x0$,S5v,D56,z6t,y6m,V45,F$V;N$E.Studies.displaySeriesAsLine(y_J,W2D,G14);g5E=1321979554;j2w=1566726702;l0O=2;for(var A8J=1;i6UVR.m6F(A8J.toString(),A8J.toString().length,28827) !== g5E;A8J++){h8a=W2D.inputs["Display 1 Standard Deviation (1\u03C3)"];l0O+=2;}if(i6UVR.l5h(l0O.toString(),l0O.toString().length,+"36888") !== j2w){h8a=W2D.inputs[""];}K7b=W2D.inputs["Display 2 Standard Deviation (2\u03C3)"];N9o=W2D.inputs["Display 3 Standard Deviation (3\u03C3)"];if((h8a || K7b || N9o) && W2D.inputs.Shading){x0$="V";x0$+="WAP ";S5v=y_J.panels[W2D.panel];D56={opacity:W2D.parameters.opacity?W2D.parameters.opacity:0.2,skipTransform:S5v.name != W2D.chart.name,yAxis:W2D.getYAxis(y_J)};if(!W2D.highlight && y_J.highlightedDraggable){D56.opacity*=0.3;}z6t=x0$ + W2D.name;y6m="VWAP " + W2D.name;if(h8a){V45="SDVW";V45+="AP1";V45+="+";V45+=" ";N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP1+ " + W2D.name,bottomBand:z6t,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP1+ " + W2D.name]])},D56));N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP1- " + W2D.name,bottomBand:y6m,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP1- " + W2D.name]])},D56));z6t=V45 + W2D.name;y6m="SDVWAP1- " + W2D.name;}if(K7b){F$V="S";F$V+="DVWAP2- ";N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP2+ " + W2D.name,bottomBand:z6t,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP2+ " + W2D.name]])},D56));N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP2- " + W2D.name,bottomBand:y6m,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP2- " + W2D.name]])},D56));z6t="SDVWAP2+ " + W2D.name;y6m=F$V + W2D.name;}if(N9o){N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP3+ " + W2D.name,bottomBand:z6t,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP3+ " + W2D.name]])},D56));N$E.prepareChannelFill(y_J,N$E.extend({panelName:W2D.panel,topBand:"SDVWAP3- " + W2D.name,bottomBand:y6m,color:N$E.Studies.determineColor(W2D.outputs[W2D.outputMap["SDVWAP3- " + W2D.name]])},D56));}}if(W2D.anchorHandle){N$E.Studies.displayAnchorHandleAndLine(y_J,W2D,G14);}};N$E.Studies.studyLibrary=N$E.extend(N$E.Studies.studyLibrary,{AVWAP:{name:"Anchored VWAP",overlay:!!({}),calculateFN:N$E.Studies.calculateVWAP,seriesFN:N$E.Studies.displayVWAP,initializeFN:N$E.Studies.initAnchoredVWAP,removeFN:N$E.Studies.removeAnchorHandle,inputs:{Field:"field","Anchor Date":"","Anchor Time":"","Display 1 Standard Deviation (1\u03C3)":!"1","Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":!"1",Shading:![],"Anchor Selector":!!"1"},outputs:{VWAP:S0I,"1 Standard Deviation (1\u03C3)":a5z,"2 Standard Deviation (2\u03C3)":o9M,"3 Standard Deviation (3\u03C3)":"#fff69e"},parameters:{init:{opacity:0.2}},attributes:{"Anchor Date":{placeholder:"yyyy-mm-dd"},"Anchor Time":{placeholder:x4Z,step:1}}},VWAP:{name:"VWAP",overlay:!!({}),calculateFN:N$E.Studies.calculateVWAP,seriesFN:N$E.Studies.displayVWAP,inputs:{"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":!1,"Display 3 Standard Deviation (3\u03C3)":!({}),Shading:!({})},outputs:{VWAP:"#FF0000","1 Standard Deviation (1\u03C3)":C5f,"2 Standard Deviation (2\u03C3)":V_J,"3 Standard Deviation (3\u03C3)":F$x},parameters:{init:{opacity:0.2}}}});}};v8=b$_=>{var O6S=i6UVR;var I1W,i3p;O6S.W5N();I1W=typeof _CIQ !== "undefined"?_CIQ:b$_.CIQ;if(!I1W.Studies){console.error("zigzag feature requires first activating studies feature.");}else {i3p="Z";i3p+="igZag";I1W.Studies.calculateZigZag=function(r$p,w6S){var p7o,c7D,S4a,b9R,d4W,F5v,b_8,A8D,j8$,b4n,A8L,S6s,d5j,S0O,O7v,D0b,Z_f,N8x,V6P,k3I,i1a,G8$,G6O;p7o="_";p7o+="state ";c7D="L";c7D+="o";c7D+="w";S4a=w6S.chart.scrubbed;if(!S4a || !S4a.length){return;}b9R=w6S.highLowChart;d4W=null;F5v=null;b_8=w6S.inputs["Distance(%)"];function F6f(P6u,E5p){var W_B;for(var s_w=P6u + 1;s_w < E5p;s_w++){W_B="Re";W_B+="s";W_B+="u";W_B+="lt ";S4a[s_w]["ShadowResult " + w6S.name]=(S4a[E5p][W_B + w6S.name] - S4a[P6u]["Result " + w6S.name]) * (s_w - P6u) / (E5p - P6u) + S4a[P6u]["Result " + w6S.name];delete S4a[s_w]["Result " + w6S.name];}}A8D=0;j8$=+"0";b4n=0;A8L=null;S6s=null;d5j=+"0";for(var o4P=Math.min(S4a.length - ("1" >> 0),w6S.startFrom);o4P >= +"0";o4P--){d5j=o4P;if(S4a[o4P]["_state " + w6S.name]){S0O=S4a[o4P]["_state " + w6S.name];d4W=S0O[0];F5v=S0O[1];A8D=S0O[+"2"];j8$=S0O[+"3"];b4n=S0O[4];A8L=S0O[5];S6s=S0O[6];break;}}for(var A2d=d5j;A2d < S4a.length;A2d++){O7v="Clo";O7v+="s";O7v+="e";D0b=S4a[A2d][b9R?"High":O7v];Z_f=S4a[A2d][b9R?"Low":"Close"];if(F5v === null || F5v < D0b){F5v=D0b;if(A8D < 0){d4W=Z_f;}O6S.O_b(144);A8L=O6S.V9a(b_8,1,F5v,100);if(A8D > -1){if(S6s !== null && F5v > S6s){N8x="Clo";N8x+="se";V6P="L";V6P+="o";V6P+="w";S4a[j8$]["Result " + w6S.name]=S4a[j8$][b9R?V6P:N8x];F6f(b4n,j8$);A8D=-1;d4W=Z_f;b4n=j8$;j8$=A2d;continue;}}else {j8$=A2d;}}if(d4W === null || d4W > Z_f){d4W=Z_f;if(A8D > +"0"){F5v=D0b;}O6S.O_b(145);S6s=O6S.V9a(b_8,100,d4W,"1");if(A8D < 1){if(A8L !== null && d4W < A8L){k3I="Hi";k3I+="g";k3I+="h";i1a="Res";i1a+="ult";i1a+=" ";S4a[j8$][i1a + w6S.name]=S4a[j8$][b9R?k3I:"Close"];F6f(b4n,j8$);A8D=+"1";F5v=D0b;b4n=j8$;j8$=A2d;continue;}}else {j8$=A2d;}}}S4a[j8$]["Result " + w6S.name]=S4a[j8$][b9R?A8D == 1?c7D:"High":"Close"];S4a[j8$][p7o + w6S.name]=[d4W,F5v,A8D,j8$,b4n,A8L,S6s];F6f(b4n,j8$);G8$=S4a.length - 1;while(G8$ > j8$){if(S4a[G8$].Close || S4a[G8$].Close === 0){G6O="Resul";G6O+="t";G6O+=" ";S4a[G8$][G6O + w6S.name]=S4a[G8$][b9R?A8D == 1?"High":"Low":"Close"];break;}G8$--;}F6f(j8$,G8$);};I1W.Studies.displayZigZag=function(i$j,f$C,E2V){var r13,V7R,o9t,g_a,S4t,r0j,U7_,T$d,D57,C9a,h2y,K4j;r13=i$j.chart.highLowBars;if(f$C.highLowChart != r13){f$C.highLowChart=r13;f$C.startFrom=0;f$C.study.calculateFN(i$j,f$C);}V7R=i$j.chart;for(var M5a=0;M5a < E2V.length;M5a++){o9t=E2V[M5a];if(o9t){g_a="_sh";g_a+="ad";g_a+="o";g_a+="wCopy ";if(o9t[g_a + f$C.name]){S4t="Result";S4t+=" ";delete o9t[S4t + f$C.name];delete o9t["_shadowCopy " + f$C.name];}if(!o9t["Result " + f$C.name]){r0j="R";r0j+="e";r0j+="s";r0j+="ult ";if(o9t.transform){delete o9t.transform[r0j + f$C.name];}}}}O6S.s$9(42);U7_=E2V[O6S.V9a("0",0)];O6S.O_b(16);var f0M=O6S.V9a(8,0,7);T$d=E2V[E2V.length - f0M];if(U7_ && U7_["ShadowResult " + f$C.name]){D57="_";D57+="shadowC";D57+="opy";D57+=" ";C9a="S";C9a+="hado";C9a+="wResult";C9a+=" ";U7_["Result " + f$C.name]=U7_["ShadowResult " + f$C.name];if(U7_.transform){U7_.transform["Result " + f$C.name]=V7R.transformFunc(i$j,V7R,U7_[C9a + f$C.name]);}U7_[D57 + f$C.name]=1;}if(T$d && T$d["ShadowResult " + f$C.name]){h2y="S";h2y+="h";h2y+="adowResu";h2y+="lt ";K4j="R";K4j+="e";K4j+="sul";K4j+="t ";T$d[K4j + f$C.name]=T$d[h2y + f$C.name];if(T$d.transform){T$d.transform["Result " + f$C.name]=V7R.transformFunc(i$j,V7R,T$d["ShadowResult " + f$C.name]);}T$d["_shadowCopy " + f$C.name]=1;}I1W.Studies.displaySeriesAsLine(i$j,f$C,E2V);};I1W.Studies.studyLibrary=I1W.extend(I1W.Studies.studyLibrary,{ZigZag:{name:i3p,overlay:!![],seriesFN:I1W.Studies.displayZigZag,calculateFN:I1W.Studies.calculateZigZag,inputs:{"Distance(%)":10},parameters:{init:{label:!({})}},attributes:{"Distance(%)":{min:0.1,step:0.1}}}});}};I3={CIQ:Z0,SplinePlotter:d7,timezoneJS:U8,$$:Z9,$$$:v5};export {N as createEngine};export {u as customCharts};export {X as drawing};export {S as easeMachine};export {P as equations};export {I as i18n};export {Q as interaction};export {V as markers};export {M as market};export {T as movement};export {R as nameValueStore};export {W as quoteFeed};export {Y as series};export {g as share};export {K as span};export {A as storage};export {G as studies};export {G6 as symbolLookupBase};export {k$ as theme};export {w6 as timezone};export {q2 as touch};export {K_ as visualization};export {D5 as medianPrice};export {S8 as momentum};export {V4 as priceRelative};export {U$ as vwap};export {v8 as zigzag};export {Z0 as CIQ, d7 as SplinePlotter, U8 as timezoneJS, Z9 as $$, v5 as $$$};if(typeof __TREE_SHAKE__ === f6ulV || !__TREE_SHAKE__){I3.CIQ.activateImports(N,u,X,S,P,I,Q,V,M,T,R,W,Y,g,K,A,G,G6,k$,w6,q2,K_,D5,S8,V4,U$,v8,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
